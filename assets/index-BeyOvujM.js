var P_=Object.defineProperty;var R_=(o,_,$)=>_ in o?P_(o,_,{enumerable:!0,configurable:!0,writable:!0,value:$}):o[_]=$;var Gm=(o,_,$)=>R_(o,typeof _!="symbol"?_+"":_,$);function _mergeNamespaces(o,_){for(var $=0;$<_.length;$++){const j=_[$];if(typeof j!="string"&&!Array.isArray(j)){for(const _e in j)if(_e!=="default"&&!(_e in o)){const et=Object.getOwnPropertyDescriptor(j,_e);et&&Object.defineProperty(o,_e,et.get?et:{enumerable:!0,get:()=>j[_e]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const _e of document.querySelectorAll('link[rel="modulepreload"]'))j(_e);new MutationObserver(_e=>{for(const et of _e)if(et.type==="childList")for(const tt of et.addedNodes)tt.tagName==="LINK"&&tt.rel==="modulepreload"&&j(tt)}).observe(document,{childList:!0,subtree:!0});function $(_e){const et={};return _e.integrity&&(et.integrity=_e.integrity),_e.referrerPolicy&&(et.referrerPolicy=_e.referrerPolicy),_e.crossOrigin==="use-credentials"?et.credentials="include":_e.crossOrigin==="anonymous"?et.credentials="omit":et.credentials="same-origin",et}function j(_e){if(_e.ep)return;_e.ep=!0;const et=$(_e);fetch(_e.href,et)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function getAugmentedNamespace(o){if(o.__esModule)return o;var _=o.default;if(typeof _=="function"){var $=function j(){return this instanceof j?Reflect.construct(_,arguments,this.constructor):_.apply(this,arguments)};$.prototype=_.prototype}else $={};return Object.defineProperty($,"__esModule",{value:!0}),Object.keys(o).forEach(function(j){var _e=Object.getOwnPropertyDescriptor(o,j);Object.defineProperty($,j,_e.get?_e:{enumerable:!0,get:function(){return o[j]}})}),$}var jsxRuntime$1={exports:{}},reactJsxRuntime_production_min$1={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$5=Symbol.for("react.element"),n$6=Symbol.for("react.portal"),p$7=Symbol.for("react.fragment"),q$6=Symbol.for("react.strict_mode"),r$6=Symbol.for("react.profiler"),t$5=Symbol.for("react.provider"),u$3=Symbol.for("react.context"),v$5=Symbol.for("react.forward_ref"),w$3=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$3=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$3(o){return o===null||typeof o!="object"?null:(o=z$3&&o[z$3]||o["@@iterator"],typeof o=="function"?o:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(o,_,$){this.props=o,this.context=_,this.refs=D$1,this.updater=$||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(o,_){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,_,"setState")};E$1.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(o,_,$){this.props=o,this.context=_,this.refs=D$1,this.updater=$||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$2=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(o,_,$){var j,_e={},et=null,tt=null;if(_!=null)for(j in _.ref!==void 0&&(tt=_.ref),_.key!==void 0&&(et=""+_.key),_)J.call(_,j)&&!L$1.hasOwnProperty(j)&&(_e[j]=_[j]);var nt=arguments.length-2;if(nt===1)_e.children=$;else if(1<nt){for(var it=Array(nt),lt=0;lt<nt;lt++)it[lt]=arguments[lt+2];_e.children=it}if(o&&o.defaultProps)for(j in nt=o.defaultProps,nt)_e[j]===void 0&&(_e[j]=nt[j]);return{$$typeof:l$5,type:o,key:et,ref:tt,props:_e,_owner:K$1.current}}function N$1(o,_){return{$$typeof:l$5,type:o.type,key:_,ref:o.ref,props:o.props,_owner:o._owner}}function O$1(o){return typeof o=="object"&&o!==null&&o.$$typeof===l$5}function escape(o){var _={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function($){return _[$]})}var P$2=/\/+/g;function Q$1(o,_){return typeof o=="object"&&o!==null&&o.key!=null?escape(""+o.key):_.toString(36)}function R$1(o,_,$,j,_e){var et=typeof o;(et==="undefined"||et==="boolean")&&(o=null);var tt=!1;if(o===null)tt=!0;else switch(et){case"string":case"number":tt=!0;break;case"object":switch(o.$$typeof){case l$5:case n$6:tt=!0}}if(tt)return tt=o,_e=_e(tt),o=j===""?"."+Q$1(tt,0):j,I$2(_e)?($="",o!=null&&($=o.replace(P$2,"$&/")+"/"),R$1(_e,_,$,"",function(lt){return lt})):_e!=null&&(O$1(_e)&&(_e=N$1(_e,$+(!_e.key||tt&&tt.key===_e.key?"":(""+_e.key).replace(P$2,"$&/")+"/")+o)),_.push(_e)),1;if(tt=0,j=j===""?".":j+":",I$2(o))for(var nt=0;nt<o.length;nt++){et=o[nt];var it=j+Q$1(et,nt);tt+=R$1(et,_,$,it,_e)}else if(it=A$3(o),typeof it=="function")for(o=it.call(o),nt=0;!(et=o.next()).done;)et=et.value,it=j+Q$1(et,nt++),tt+=R$1(et,_,$,it,_e);else if(et==="object")throw _=String(o),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return tt}function S$1(o,_,$){if(o==null)return o;var j=[],_e=0;return R$1(o,j,"","",function(et){return _.call($,et,_e++)}),j}function T$1(o){if(o._status===-1){var _=o._result;_=_(),_.then(function($){(o._status===0||o._status===-1)&&(o._status=1,o._result=$)},function($){(o._status===0||o._status===-1)&&(o._status=2,o._result=$)}),o._status===-1&&(o._status=0,o._result=_)}if(o._status===1)return o._result.default;throw o._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(o,_,$){S$1(o,function(){_.apply(this,arguments)},$)},count:function(o){var _=0;return S$1(o,function(){_++}),_},toArray:function(o){return S$1(o,function(_){return _})||[]},only:function(o){if(!O$1(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};react_production_min.Component=E$1;react_production_min.Fragment=p$7;react_production_min.Profiler=r$6;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$6;react_production_min.Suspense=w$3;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(o,_,$){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var j=C$1({},o.props),_e=o.key,et=o.ref,tt=o._owner;if(_!=null){if(_.ref!==void 0&&(et=_.ref,tt=K$1.current),_.key!==void 0&&(_e=""+_.key),o.type&&o.type.defaultProps)var nt=o.type.defaultProps;for(it in _)J.call(_,it)&&!L$1.hasOwnProperty(it)&&(j[it]=_[it]===void 0&&nt!==void 0?nt[it]:_[it])}var it=arguments.length-2;if(it===1)j.children=$;else if(1<it){nt=Array(it);for(var lt=0;lt<it;lt++)nt[lt]=arguments[lt+2];j.children=nt}return{$$typeof:l$5,type:o.type,key:_e,ref:et,props:j,_owner:tt}};react_production_min.createContext=function(o){return o={$$typeof:u$3,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:t$5,_context:o},o.Consumer=o};react_production_min.createElement=M$1;react_production_min.createFactory=function(o){var _=M$1.bind(null,o);return _.type=o,_};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(o){return{$$typeof:v$5,render:o}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(o){return{$$typeof:y$3,_payload:{_status:-1,_result:o},_init:T$1}};react_production_min.memo=function(o,_){return{$$typeof:x$3,type:o,compare:_===void 0?null:_}};react_production_min.startTransition=function(o){var _=V$1.transition;V$1.transition={};try{o()}finally{V$1.transition=_}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(o,_){return U$1.current.useCallback(o,_)};react_production_min.useContext=function(o){return U$1.current.useContext(o)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(o){return U$1.current.useDeferredValue(o)};react_production_min.useEffect=function(o,_){return U$1.current.useEffect(o,_)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(o,_,$){return U$1.current.useImperativeHandle(o,_,$)};react_production_min.useInsertionEffect=function(o,_){return U$1.current.useInsertionEffect(o,_)};react_production_min.useLayoutEffect=function(o,_){return U$1.current.useLayoutEffect(o,_)};react_production_min.useMemo=function(o,_){return U$1.current.useMemo(o,_)};react_production_min.useReducer=function(o,_,$){return U$1.current.useReducer(o,_,$)};react_production_min.useRef=function(o){return U$1.current.useRef(o)};react_production_min.useState=function(o){return U$1.current.useState(o)};react_production_min.useSyncExternalStore=function(o,_,$){return U$1.current.useSyncExternalStore(o,_,$)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$3=reactExports,k$5=Symbol.for("react.element"),l$4=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$5=f$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$6={key:!0,ref:!0,__self:!0,__source:!0};function q$5(o,_,$){var j,_e={},et=null,tt=null;$!==void 0&&(et=""+$),_.key!==void 0&&(et=""+_.key),_.ref!==void 0&&(tt=_.ref);for(j in _)m$5.call(_,j)&&!p$6.hasOwnProperty(j)&&(_e[j]=_[j]);if(o&&o.defaultProps)for(j in _=o.defaultProps,_)_e[j]===void 0&&(_e[j]=_[j]);return{$$typeof:k$5,type:o,key:et,ref:tt,props:_e,_owner:n$5.current}}reactJsxRuntime_production_min$1.Fragment=l$4;reactJsxRuntime_production_min$1.jsx=q$5;reactJsxRuntime_production_min$1.jsxs=q$5;jsxRuntime$1.exports=reactJsxRuntime_production_min$1;var jsxRuntimeExports$1=jsxRuntime$1.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function _(Ep,Cp){var Ap=Ep.length;Ep.push(Cp);e:for(;0<Ap;){var Mp=Ap-1>>>1,Pp=Ep[Mp];if(0<_e(Pp,Cp))Ep[Mp]=Cp,Ep[Ap]=Pp,Ap=Mp;else break e}}function $(Ep){return Ep.length===0?null:Ep[0]}function j(Ep){if(Ep.length===0)return null;var Cp=Ep[0],Ap=Ep.pop();if(Ap!==Cp){Ep[0]=Ap;e:for(var Mp=0,Pp=Ep.length,Ip=Pp>>>1;Mp<Ip;){var Op=2*(Mp+1)-1,Wp=Ep[Op],Yp=Op+1,Zp=Ep[Yp];if(0>_e(Wp,Ap))Yp<Pp&&0>_e(Zp,Wp)?(Ep[Mp]=Zp,Ep[Yp]=Ap,Mp=Yp):(Ep[Mp]=Wp,Ep[Op]=Ap,Mp=Op);else if(Yp<Pp&&0>_e(Zp,Ap))Ep[Mp]=Zp,Ep[Yp]=Ap,Mp=Yp;else break e}}return Cp}function _e(Ep,Cp){var Ap=Ep.sortIndex-Cp.sortIndex;return Ap!==0?Ap:Ep.id-Cp.id}if(typeof performance=="object"&&typeof performance.now=="function"){var et=performance;o.unstable_now=function(){return et.now()}}else{var tt=Date,nt=tt.now();o.unstable_now=function(){return tt.now()-nt}}var it=[],lt=[],dt=1,bt=null,Ht=3,pr=!1,_n=!1,ft=!1,Ct=typeof setTimeout=="function"?setTimeout:null,mr=typeof clearTimeout=="function"?clearTimeout:null,_r=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function mn(Ep){for(var Cp=$(lt);Cp!==null;){if(Cp.callback===null)j(lt);else if(Cp.startTime<=Ep)j(lt),Cp.sortIndex=Cp.expirationTime,_(it,Cp);else break;Cp=$(lt)}}function dr(Ep){if(ft=!1,mn(Ep),!_n)if($(it)!==null)_n=!0,wp(pn);else{var Cp=$(lt);Cp!==null&&bp(dr,Cp.startTime-Ep)}}function pn(Ep,Cp){_n=!1,ft&&(ft=!1,mr(Lo),Lo=-1),pr=!0;var Ap=Ht;try{for(mn(Cp),bt=$(it);bt!==null&&(!(bt.expirationTime>Cp)||Ep&&!_s());){var Mp=bt.callback;if(typeof Mp=="function"){bt.callback=null,Ht=bt.priorityLevel;var Pp=Mp(bt.expirationTime<=Cp);Cp=o.unstable_now(),typeof Pp=="function"?bt.callback=Pp:bt===$(it)&&j(it),mn(Cp)}else j(it);bt=$(it)}if(bt!==null)var Ip=!0;else{var Op=$(lt);Op!==null&&bp(dr,Op.startTime-Cp),Ip=!1}return Ip}finally{bt=null,Ht=Ap,pr=!1}}var Do=!1,Io=null,Lo=-1,ms=5,Uo=-1;function _s(){return!(o.unstable_now()-Uo<ms)}function yp(){if(Io!==null){var Ep=o.unstable_now();Uo=Ep;var Cp=!0;try{Cp=Io(!0,Ep)}finally{Cp?xs():(Do=!1,Io=null)}}else Do=!1}var xs;if(typeof _r=="function")xs=function(){_r(yp)};else if(typeof MessageChannel<"u"){var vs=new MessageChannel,Sp=vs.port2;vs.port1.onmessage=yp,xs=function(){Sp.postMessage(null)}}else xs=function(){Ct(yp,0)};function wp(Ep){Io=Ep,Do||(Do=!0,xs())}function bp(Ep,Cp){Lo=Ct(function(){Ep(o.unstable_now())},Cp)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(Ep){Ep.callback=null},o.unstable_continueExecution=function(){_n||pr||(_n=!0,wp(pn))},o.unstable_forceFrameRate=function(Ep){0>Ep||125<Ep?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ms=0<Ep?Math.floor(1e3/Ep):5},o.unstable_getCurrentPriorityLevel=function(){return Ht},o.unstable_getFirstCallbackNode=function(){return $(it)},o.unstable_next=function(Ep){switch(Ht){case 1:case 2:case 3:var Cp=3;break;default:Cp=Ht}var Ap=Ht;Ht=Cp;try{return Ep()}finally{Ht=Ap}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(Ep,Cp){switch(Ep){case 1:case 2:case 3:case 4:case 5:break;default:Ep=3}var Ap=Ht;Ht=Ep;try{return Cp()}finally{Ht=Ap}},o.unstable_scheduleCallback=function(Ep,Cp,Ap){var Mp=o.unstable_now();switch(typeof Ap=="object"&&Ap!==null?(Ap=Ap.delay,Ap=typeof Ap=="number"&&0<Ap?Mp+Ap:Mp):Ap=Mp,Ep){case 1:var Pp=-1;break;case 2:Pp=250;break;case 5:Pp=1073741823;break;case 4:Pp=1e4;break;default:Pp=5e3}return Pp=Ap+Pp,Ep={id:dt++,callback:Cp,priorityLevel:Ep,startTime:Ap,expirationTime:Pp,sortIndex:-1},Ap>Mp?(Ep.sortIndex=Ap,_(lt,Ep),$(it)===null&&Ep===$(lt)&&(ft?(mr(Lo),Lo=-1):ft=!0,bp(dr,Ap-Mp))):(Ep.sortIndex=Pp,_(it,Ep),_n||pr||(_n=!0,wp(pn))),Ep},o.unstable_shouldYield=_s,o.unstable_wrapCallback=function(Ep){var Cp=Ht;return function(){var Ap=Ht;Ht=Cp;try{return Ep.apply(this,arguments)}finally{Ht=Ap}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$1=reactExports,ca$1=schedulerExports;function p$5(o){for(var _="https://reactjs.org/docs/error-decoder.html?invariant="+o,$=1;$<arguments.length;$++)_+="&args[]="+encodeURIComponent(arguments[$]);return"Minified React error #"+o+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da$1=new Set,ea$1={};function fa$1(o,_){ha$1(o,_),ha$1(o+"Capture",_)}function ha$1(o,_){for(ea$1[o]=_,o=0;o<_.length;o++)da$1.add(_[o])}var ia$1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja$1=Object.prototype.hasOwnProperty,ka$2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la$1={},ma$1={};function oa$1(o){return ja$1.call(ma$1,o)?!0:ja$1.call(la$1,o)?!1:ka$2.test(o)?ma$1[o]=!0:(la$1[o]=!0,!1)}function pa$1(o,_,$,j){if($!==null&&$.type===0)return!1;switch(typeof _){case"function":case"symbol":return!0;case"boolean":return j?!1:$!==null?!$.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function qa$1(o,_,$,j){if(_===null||typeof _>"u"||pa$1(o,_,$,j))return!0;if(j)return!1;if($!==null)switch($.type){case 3:return!_;case 4:return _===!1;case 5:return isNaN(_);case 6:return isNaN(_)||1>_}return!1}function v$4(o,_,$,j,_e,et,tt){this.acceptsBooleans=_===2||_===3||_===4,this.attributeName=j,this.attributeNamespace=_e,this.mustUseProperty=$,this.propertyName=o,this.type=_,this.sanitizeURL=et,this.removeEmptyString=tt}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){z$2[o]=new v$4(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var _=o[0];z$2[_]=new v$4(_,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){z$2[o]=new v$4(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){z$2[o]=new v$4(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){z$2[o]=new v$4(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){z$2[o]=new v$4(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){z$2[o]=new v$4(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){z$2[o]=new v$4(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){z$2[o]=new v$4(o,5,!1,o.toLowerCase(),null,!1,!1)});var ra$1=/[\-:]([a-z])/g;function sa$1(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var _=o.replace(ra$1,sa$1);z$2[_]=new v$4(_,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var _=o.replace(ra$1,sa$1);z$2[_]=new v$4(_,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var _=o.replace(ra$1,sa$1);z$2[_]=new v$4(_,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){z$2[o]=new v$4(o,1,!1,o.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$4("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){z$2[o]=new v$4(o,1,!1,o.toLowerCase(),null,!0,!0)});function ta$1(o,_,$,j){var _e=z$2.hasOwnProperty(_)?z$2[_]:null;(_e!==null?_e.type!==0:j||!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(qa$1(_,$,_e,j)&&($=null),j||_e===null?oa$1(_)&&($===null?o.removeAttribute(_):o.setAttribute(_,""+$)):_e.mustUseProperty?o[_e.propertyName]=$===null?_e.type===3?!1:"":$:(_=_e.attributeName,j=_e.attributeNamespace,$===null?o.removeAttribute(_):(_e=_e.type,$=_e===3||_e===4&&$===!0?"":""+$,j?o.setAttributeNS(j,_,$):o.setAttribute(_,$))))}var ua$1=aa$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va$1=Symbol.for("react.element"),wa$1=Symbol.for("react.portal"),ya$1=Symbol.for("react.fragment"),za$1=Symbol.for("react.strict_mode"),Aa$1=Symbol.for("react.profiler"),Ba$1=Symbol.for("react.provider"),Ca$1=Symbol.for("react.context"),Da$1=Symbol.for("react.forward_ref"),Ea$1=Symbol.for("react.suspense"),Fa$1=Symbol.for("react.suspense_list"),Ga$1=Symbol.for("react.memo"),Ha$1=Symbol.for("react.lazy"),Ia$1=Symbol.for("react.offscreen"),Ja$1=Symbol.iterator;function Ka$1(o){return o===null||typeof o!="object"?null:(o=Ja$1&&o[Ja$1]||o["@@iterator"],typeof o=="function"?o:null)}var A$2=Object.assign,La$1;function Ma$1(o){if(La$1===void 0)try{throw Error()}catch($){var _=$.stack.trim().match(/\n( *(at )?)/);La$1=_&&_[1]||""}return`
`+La$1+o}var Na$1=!1;function Oa$1(o,_){if(!o||Na$1)return"";Na$1=!0;var $=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_)if(_=function(){throw Error()},Object.defineProperty(_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_,[])}catch(lt){var j=lt}Reflect.construct(o,[],_)}else{try{_.call()}catch(lt){j=lt}o.call(_.prototype)}else{try{throw Error()}catch(lt){j=lt}o()}}catch(lt){if(lt&&j&&typeof lt.stack=="string"){for(var _e=lt.stack.split(`
`),et=j.stack.split(`
`),tt=_e.length-1,nt=et.length-1;1<=tt&&0<=nt&&_e[tt]!==et[nt];)nt--;for(;1<=tt&&0<=nt;tt--,nt--)if(_e[tt]!==et[nt]){if(tt!==1||nt!==1)do if(tt--,nt--,0>nt||_e[tt]!==et[nt]){var it=`
`+_e[tt].replace(" at new "," at ");return o.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",o.displayName)),it}while(1<=tt&&0<=nt);break}}}finally{Na$1=!1,Error.prepareStackTrace=$}return(o=o?o.displayName||o.name:"")?Ma$1(o):""}function Pa$1(o){switch(o.tag){case 5:return Ma$1(o.type);case 16:return Ma$1("Lazy");case 13:return Ma$1("Suspense");case 19:return Ma$1("SuspenseList");case 0:case 2:case 15:return o=Oa$1(o.type,!1),o;case 11:return o=Oa$1(o.type.render,!1),o;case 1:return o=Oa$1(o.type,!0),o;default:return""}}function Qa$1(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case ya$1:return"Fragment";case wa$1:return"Portal";case Aa$1:return"Profiler";case za$1:return"StrictMode";case Ea$1:return"Suspense";case Fa$1:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Ca$1:return(o.displayName||"Context")+".Consumer";case Ba$1:return(o._context.displayName||"Context")+".Provider";case Da$1:var _=o.render;return o=o.displayName,o||(o=_.displayName||_.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ga$1:return _=o.displayName||null,_!==null?_:Qa$1(o.type)||"Memo";case Ha$1:_=o._payload,o=o._init;try{return Qa$1(o(_))}catch{}}return null}function Ra$1(o){var _=o.type;switch(o.tag){case 24:return"Cache";case 9:return(_.displayName||"Context")+".Consumer";case 10:return(_._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=_.render,o=o.displayName||o.name||"",_.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return _;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa$1(_);case 8:return _===za$1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _}return null}function Sa$1(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ta$1(o){var _=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(_==="checkbox"||_==="radio")}function Ua$1(o){var _=Ta$1(o)?"checked":"value",$=Object.getOwnPropertyDescriptor(o.constructor.prototype,_),j=""+o[_];if(!o.hasOwnProperty(_)&&typeof $<"u"&&typeof $.get=="function"&&typeof $.set=="function"){var _e=$.get,et=$.set;return Object.defineProperty(o,_,{configurable:!0,get:function(){return _e.call(this)},set:function(tt){j=""+tt,et.call(this,tt)}}),Object.defineProperty(o,_,{enumerable:$.enumerable}),{getValue:function(){return j},setValue:function(tt){j=""+tt},stopTracking:function(){o._valueTracker=null,delete o[_]}}}}function Va$1(o){o._valueTracker||(o._valueTracker=Ua$1(o))}function Wa$1(o){if(!o)return!1;var _=o._valueTracker;if(!_)return!0;var $=_.getValue(),j="";return o&&(j=Ta$1(o)?o.checked?"true":"false":o.value),o=j,o!==$?(_.setValue(o),!0):!1}function Xa$1(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ya$1(o,_){var $=_.checked;return A$2({},_,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:$??o._wrapperState.initialChecked})}function Za$1(o,_){var $=_.defaultValue==null?"":_.defaultValue,j=_.checked!=null?_.checked:_.defaultChecked;$=Sa$1(_.value!=null?_.value:$),o._wrapperState={initialChecked:j,initialValue:$,controlled:_.type==="checkbox"||_.type==="radio"?_.checked!=null:_.value!=null}}function ab(o,_){_=_.checked,_!=null&&ta$1(o,"checked",_,!1)}function bb(o,_){ab(o,_);var $=Sa$1(_.value),j=_.type;if($!=null)j==="number"?($===0&&o.value===""||o.value!=$)&&(o.value=""+$):o.value!==""+$&&(o.value=""+$);else if(j==="submit"||j==="reset"){o.removeAttribute("value");return}_.hasOwnProperty("value")?cb(o,_.type,$):_.hasOwnProperty("defaultValue")&&cb(o,_.type,Sa$1(_.defaultValue)),_.checked==null&&_.defaultChecked!=null&&(o.defaultChecked=!!_.defaultChecked)}function db(o,_,$){if(_.hasOwnProperty("value")||_.hasOwnProperty("defaultValue")){var j=_.type;if(!(j!=="submit"&&j!=="reset"||_.value!==void 0&&_.value!==null))return;_=""+o._wrapperState.initialValue,$||_===o.value||(o.value=_),o.defaultValue=_}$=o.name,$!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,$!==""&&(o.name=$)}function cb(o,_,$){(_!=="number"||Xa$1(o.ownerDocument)!==o)&&($==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+$&&(o.defaultValue=""+$))}var eb=Array.isArray;function fb(o,_,$,j){if(o=o.options,_){_={};for(var _e=0;_e<$.length;_e++)_["$"+$[_e]]=!0;for($=0;$<o.length;$++)_e=_.hasOwnProperty("$"+o[$].value),o[$].selected!==_e&&(o[$].selected=_e),_e&&j&&(o[$].defaultSelected=!0)}else{for($=""+Sa$1($),_=null,_e=0;_e<o.length;_e++){if(o[_e].value===$){o[_e].selected=!0,j&&(o[_e].defaultSelected=!0);return}_!==null||o[_e].disabled||(_=o[_e])}_!==null&&(_.selected=!0)}}function gb(o,_){if(_.dangerouslySetInnerHTML!=null)throw Error(p$5(91));return A$2({},_,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function hb(o,_){var $=_.value;if($==null){if($=_.children,_=_.defaultValue,$!=null){if(_!=null)throw Error(p$5(92));if(eb($)){if(1<$.length)throw Error(p$5(93));$=$[0]}_=$}_==null&&(_=""),$=_}o._wrapperState={initialValue:Sa$1($)}}function ib(o,_){var $=Sa$1(_.value),j=Sa$1(_.defaultValue);$!=null&&($=""+$,$!==o.value&&(o.value=$),_.defaultValue==null&&o.defaultValue!==$&&(o.defaultValue=$)),j!=null&&(o.defaultValue=""+j)}function jb(o){var _=o.textContent;_===o._wrapperState.initialValue&&_!==""&&_!==null&&(o.value=_)}function kb(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb$1(o,_){return o==null||o==="http://www.w3.org/1999/xhtml"?kb(_):o==="http://www.w3.org/2000/svg"&&_==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mb,nb=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_,$,j,_e){MSApp.execUnsafeLocalFunction(function(){return o(_,$,j,_e)})}:o}(function(o,_){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=_;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+_.valueOf().toString()+"</svg>",_=mb.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;_.firstChild;)o.appendChild(_.firstChild)}});function ob(o,_){if(_){var $=o.firstChild;if($&&$===o.lastChild&&$.nodeType===3){$.nodeValue=_;return}}o.textContent=_}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(o){qb.forEach(function(_){_=_+o.charAt(0).toUpperCase()+o.substring(1),pb[_]=pb[o]})});function rb$1(o,_,$){return _==null||typeof _=="boolean"||_===""?"":$||typeof _!="number"||_===0||pb.hasOwnProperty(o)&&pb[o]?(""+_).trim():_+"px"}function sb(o,_){o=o.style;for(var $ in _)if(_.hasOwnProperty($)){var j=$.indexOf("--")===0,_e=rb$1($,_[$],j);$==="float"&&($="cssFloat"),j?o.setProperty($,_e):o[$]=_e}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(o,_){if(_){if(tb[o]&&(_.children!=null||_.dangerouslySetInnerHTML!=null))throw Error(p$5(137,o));if(_.dangerouslySetInnerHTML!=null){if(_.children!=null)throw Error(p$5(60));if(typeof _.dangerouslySetInnerHTML!="object"||!("__html"in _.dangerouslySetInnerHTML))throw Error(p$5(61))}if(_.style!=null&&typeof _.style!="object")throw Error(p$5(62))}}function vb(o,_){if(o.indexOf("-")===-1)return typeof _.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yb=null,zb=null,Ab=null;function Bb(o){if(o=Cb(o)){if(typeof yb!="function")throw Error(p$5(280));var _=o.stateNode;_&&(_=Db(_),yb(o.stateNode,o.type,_))}}function Eb(o){zb?Ab?Ab.push(o):Ab=[o]:zb=o}function Fb(){if(zb){var o=zb,_=Ab;if(Ab=zb=null,Bb(o),_)for(o=0;o<_.length;o++)Bb(_[o])}}function Gb(o,_){return o(_)}function Hb(){}var Ib=!1;function Jb(o,_,$){if(Ib)return o(_,$);Ib=!0;try{return Gb(o,_,$)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(o,_){var $=o.stateNode;if($===null)return null;var j=Db($);if(j===null)return null;$=j[_];e:switch(_){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(o=o.type,j=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!j;break e;default:o=!1}if(o)return null;if($&&typeof $!="function")throw Error(p$5(231,_,typeof $));return $}var Lb=!1;if(ia$1)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(o,_,$,j,_e,et,tt,nt,it){var lt=Array.prototype.slice.call(arguments,3);try{_.apply($,lt)}catch(dt){this.onError(dt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(o){Ob=!0,Pb=o}};function Tb(o,_,$,j,_e,et,tt,nt,it){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(o,_,$,j,_e,et,tt,nt,it){if(Tb.apply(this,arguments),Ob){if(Ob){var lt=Pb;Ob=!1,Pb=null}else throw Error(p$5(198));Qb||(Qb=!0,Rb=lt)}}function Vb(o){var _=o,$=o;if(o.alternate)for(;_.return;)_=_.return;else{o=_;do _=o,_.flags&4098&&($=_.return),o=_.return;while(o)}return _.tag===3?$:null}function Wb(o){if(o.tag===13){var _=o.memoizedState;if(_===null&&(o=o.alternate,o!==null&&(_=o.memoizedState)),_!==null)return _.dehydrated}return null}function Xb(o){if(Vb(o)!==o)throw Error(p$5(188))}function Yb(o){var _=o.alternate;if(!_){if(_=Vb(o),_===null)throw Error(p$5(188));return _!==o?null:o}for(var $=o,j=_;;){var _e=$.return;if(_e===null)break;var et=_e.alternate;if(et===null){if(j=_e.return,j!==null){$=j;continue}break}if(_e.child===et.child){for(et=_e.child;et;){if(et===$)return Xb(_e),o;if(et===j)return Xb(_e),_;et=et.sibling}throw Error(p$5(188))}if($.return!==j.return)$=_e,j=et;else{for(var tt=!1,nt=_e.child;nt;){if(nt===$){tt=!0,$=_e,j=et;break}if(nt===j){tt=!0,j=_e,$=et;break}nt=nt.sibling}if(!tt){for(nt=et.child;nt;){if(nt===$){tt=!0,$=et,j=_e;break}if(nt===j){tt=!0,j=et,$=_e;break}nt=nt.sibling}if(!tt)throw Error(p$5(189))}}if($.alternate!==j)throw Error(p$5(190))}if($.tag!==3)throw Error(p$5(188));return $.stateNode.current===$?o:_}function Zb(o){return o=Yb(o),o!==null?$b(o):null}function $b(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var _=$b(o);if(_!==null)return _;o=o.sibling}return null}var ac$1=ca$1.unstable_scheduleCallback,bc$1=ca$1.unstable_cancelCallback,cc$2=ca$1.unstable_shouldYield,dc$1=ca$1.unstable_requestPaint,B=ca$1.unstable_now,ec$1=ca$1.unstable_getCurrentPriorityLevel,fc$1=ca$1.unstable_ImmediatePriority,gc$1=ca$1.unstable_UserBlockingPriority,hc$1=ca$1.unstable_NormalPriority,ic$1=ca$1.unstable_LowPriority,jc$1=ca$1.unstable_IdlePriority,kc$1=null,lc$1=null;function mc$1(o){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc$1,o,void 0,(o.current.flags&128)===128)}catch{}}var oc$1=Math.clz32?Math.clz32:nc$1,pc$1=Math.log,qc$1=Math.LN2;function nc$1(o){return o>>>=0,o===0?32:31-(pc$1(o)/qc$1|0)|0}var rc$1=64,sc$1=4194304;function tc$1(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function uc$1(o,_){var $=o.pendingLanes;if($===0)return 0;var j=0,_e=o.suspendedLanes,et=o.pingedLanes,tt=$&268435455;if(tt!==0){var nt=tt&~_e;nt!==0?j=tc$1(nt):(et&=tt,et!==0&&(j=tc$1(et)))}else tt=$&~_e,tt!==0?j=tc$1(tt):et!==0&&(j=tc$1(et));if(j===0)return 0;if(_!==0&&_!==j&&!(_&_e)&&(_e=j&-j,et=_&-_,_e>=et||_e===16&&(et&4194240)!==0))return _;if(j&4&&(j|=$&16),_=o.entangledLanes,_!==0)for(o=o.entanglements,_&=j;0<_;)$=31-oc$1(_),_e=1<<$,j|=o[$],_&=~_e;return j}function vc$1(o,_){switch(o){case 1:case 2:case 4:return _+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc$1(o,_){for(var $=o.suspendedLanes,j=o.pingedLanes,_e=o.expirationTimes,et=o.pendingLanes;0<et;){var tt=31-oc$1(et),nt=1<<tt,it=_e[tt];it===-1?(!(nt&$)||nt&j)&&(_e[tt]=vc$1(nt,_)):it<=_&&(o.expiredLanes|=nt),et&=~nt}}function xc$1(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function yc$1(){var o=rc$1;return rc$1<<=1,!(rc$1&4194240)&&(rc$1=64),o}function zc$1(o){for(var _=[],$=0;31>$;$++)_.push(o);return _}function Ac$1(o,_,$){o.pendingLanes|=_,_!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,_=31-oc$1(_),o[_]=$}function Bc$1(o,_){var $=o.pendingLanes&~_;o.pendingLanes=_,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=_,o.mutableReadLanes&=_,o.entangledLanes&=_,_=o.entanglements;var j=o.eventTimes;for(o=o.expirationTimes;0<$;){var _e=31-oc$1($),et=1<<_e;_[_e]=0,j[_e]=-1,o[_e]=-1,$&=~et}}function Cc$1(o,_){var $=o.entangledLanes|=_;for(o=o.entanglements;$;){var j=31-oc$1($),_e=1<<j;_e&_|o[j]&_&&(o[j]|=_),$&=~_e}}var C=0;function Dc$1(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Ec$1,Fc$1,Gc$1,Hc$1,Ic$1,Jc$1=!1,Kc$1=[],Lc$1=null,Mc$1=null,Nc$1=null,Oc$1=new Map,Pc$1=new Map,Qc$1=[],Rc$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc$1(o,_){switch(o){case"focusin":case"focusout":Lc$1=null;break;case"dragenter":case"dragleave":Mc$1=null;break;case"mouseover":case"mouseout":Nc$1=null;break;case"pointerover":case"pointerout":Oc$1.delete(_.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc$1.delete(_.pointerId)}}function Tc$1(o,_,$,j,_e,et){return o===null||o.nativeEvent!==et?(o={blockedOn:_,domEventName:$,eventSystemFlags:j,nativeEvent:et,targetContainers:[_e]},_!==null&&(_=Cb(_),_!==null&&Fc$1(_)),o):(o.eventSystemFlags|=j,_=o.targetContainers,_e!==null&&_.indexOf(_e)===-1&&_.push(_e),o)}function Uc$1(o,_,$,j,_e){switch(_){case"focusin":return Lc$1=Tc$1(Lc$1,o,_,$,j,_e),!0;case"dragenter":return Mc$1=Tc$1(Mc$1,o,_,$,j,_e),!0;case"mouseover":return Nc$1=Tc$1(Nc$1,o,_,$,j,_e),!0;case"pointerover":var et=_e.pointerId;return Oc$1.set(et,Tc$1(Oc$1.get(et)||null,o,_,$,j,_e)),!0;case"gotpointercapture":return et=_e.pointerId,Pc$1.set(et,Tc$1(Pc$1.get(et)||null,o,_,$,j,_e)),!0}return!1}function Vc$1(o){var _=Wc$1(o.target);if(_!==null){var $=Vb(_);if($!==null){if(_=$.tag,_===13){if(_=Wb($),_!==null){o.blockedOn=_,Ic$1(o.priority,function(){Gc$1($)});return}}else if(_===3&&$.stateNode.current.memoizedState.isDehydrated){o.blockedOn=$.tag===3?$.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xc$1(o){if(o.blockedOn!==null)return!1;for(var _=o.targetContainers;0<_.length;){var $=Yc$1(o.domEventName,o.eventSystemFlags,_[0],o.nativeEvent);if($===null){$=o.nativeEvent;var j=new $.constructor($.type,$);wb=j,$.target.dispatchEvent(j),wb=null}else return _=Cb($),_!==null&&Fc$1(_),o.blockedOn=$,!1;_.shift()}return!0}function Zc$1(o,_,$){Xc$1(o)&&$.delete(_)}function $c$1(){Jc$1=!1,Lc$1!==null&&Xc$1(Lc$1)&&(Lc$1=null),Mc$1!==null&&Xc$1(Mc$1)&&(Mc$1=null),Nc$1!==null&&Xc$1(Nc$1)&&(Nc$1=null),Oc$1.forEach(Zc$1),Pc$1.forEach(Zc$1)}function ad$1(o,_){o.blockedOn===_&&(o.blockedOn=null,Jc$1||(Jc$1=!0,ca$1.unstable_scheduleCallback(ca$1.unstable_NormalPriority,$c$1)))}function bd$1(o){function _(_e){return ad$1(_e,o)}if(0<Kc$1.length){ad$1(Kc$1[0],o);for(var $=1;$<Kc$1.length;$++){var j=Kc$1[$];j.blockedOn===o&&(j.blockedOn=null)}}for(Lc$1!==null&&ad$1(Lc$1,o),Mc$1!==null&&ad$1(Mc$1,o),Nc$1!==null&&ad$1(Nc$1,o),Oc$1.forEach(_),Pc$1.forEach(_),$=0;$<Qc$1.length;$++)j=Qc$1[$],j.blockedOn===o&&(j.blockedOn=null);for(;0<Qc$1.length&&($=Qc$1[0],$.blockedOn===null);)Vc$1($),$.blockedOn===null&&Qc$1.shift()}var cd$1=ua$1.ReactCurrentBatchConfig,dd$1=!0;function ed$1(o,_,$,j){var _e=C,et=cd$1.transition;cd$1.transition=null;try{C=1,fd$1(o,_,$,j)}finally{C=_e,cd$1.transition=et}}function gd$1(o,_,$,j){var _e=C,et=cd$1.transition;cd$1.transition=null;try{C=4,fd$1(o,_,$,j)}finally{C=_e,cd$1.transition=et}}function fd$1(o,_,$,j){if(dd$1){var _e=Yc$1(o,_,$,j);if(_e===null)hd$1(o,_,j,id$2,$),Sc$1(o,j);else if(Uc$1(_e,o,_,$,j))j.stopPropagation();else if(Sc$1(o,j),_&4&&-1<Rc$1.indexOf(o)){for(;_e!==null;){var et=Cb(_e);if(et!==null&&Ec$1(et),et=Yc$1(o,_,$,j),et===null&&hd$1(o,_,j,id$2,$),et===_e)break;_e=et}_e!==null&&j.stopPropagation()}else hd$1(o,_,j,null,$)}}var id$2=null;function Yc$1(o,_,$,j){if(id$2=null,o=xb(j),o=Wc$1(o),o!==null)if(_=Vb(o),_===null)o=null;else if($=_.tag,$===13){if(o=Wb(_),o!==null)return o;o=null}else if($===3){if(_.stateNode.current.memoizedState.isDehydrated)return _.tag===3?_.stateNode.containerInfo:null;o=null}else _!==o&&(o=null);return id$2=o,null}function jd$1(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc$1:return 1;case gc$1:return 4;case hc$1:case ic$1:return 16;case jc$1:return 536870912;default:return 16}default:return 16}}var kd$1=null,ld$1=null,md$1=null;function nd$1(){if(md$1)return md$1;var o,_=ld$1,$=_.length,j,_e="value"in kd$1?kd$1.value:kd$1.textContent,et=_e.length;for(o=0;o<$&&_[o]===_e[o];o++);var tt=$-o;for(j=1;j<=tt&&_[$-j]===_e[et-j];j++);return md$1=_e.slice(o,1<j?1-j:void 0)}function od$1(o){var _=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&_===13&&(o=13)):o=_,o===10&&(o=13),32<=o||o===13?o:0}function pd$1(){return!0}function qd$1(){return!1}function rd$1(o){function _($,j,_e,et,tt){this._reactName=$,this._targetInst=_e,this.type=j,this.nativeEvent=et,this.target=tt,this.currentTarget=null;for(var nt in o)o.hasOwnProperty(nt)&&($=o[nt],this[nt]=$?$(et):et[nt]);return this.isDefaultPrevented=(et.defaultPrevented!=null?et.defaultPrevented:et.returnValue===!1)?pd$1:qd$1,this.isPropagationStopped=qd$1,this}return A$2(_.prototype,{preventDefault:function(){this.defaultPrevented=!0;var $=this.nativeEvent;$&&($.preventDefault?$.preventDefault():typeof $.returnValue!="unknown"&&($.returnValue=!1),this.isDefaultPrevented=pd$1)},stopPropagation:function(){var $=this.nativeEvent;$&&($.stopPropagation?$.stopPropagation():typeof $.cancelBubble!="unknown"&&($.cancelBubble=!0),this.isPropagationStopped=pd$1)},persist:function(){},isPersistent:pd$1}),_}var sd$1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td$1=rd$1(sd$1),ud$1=A$2({},sd$1,{view:0,detail:0}),vd$1=rd$1(ud$1),wd$1,xd$1,yd$1,Ad$1=A$2({},ud$1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd$1,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==yd$1&&(yd$1&&o.type==="mousemove"?(wd$1=o.screenX-yd$1.screenX,xd$1=o.screenY-yd$1.screenY):xd$1=wd$1=0,yd$1=o),wd$1)},movementY:function(o){return"movementY"in o?o.movementY:xd$1}}),Bd$1=rd$1(Ad$1),Cd$1=A$2({},Ad$1,{dataTransfer:0}),Dd$1=rd$1(Cd$1),Ed$1=A$2({},ud$1,{relatedTarget:0}),Fd$1=rd$1(Ed$1),Gd$1=A$2({},sd$1,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd$1=rd$1(Gd$1),Id$1=A$2({},sd$1,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Jd$1=rd$1(Id$1),Kd$1=A$2({},sd$1,{data:0}),Ld$1=rd$1(Kd$1),Md$1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd$1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od$1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd$1(o){var _=this.nativeEvent;return _.getModifierState?_.getModifierState(o):(o=Od$1[o])?!!_[o]:!1}function zd$1(){return Pd$1}var Qd$1=A$2({},ud$1,{key:function(o){if(o.key){var _=Md$1[o.key]||o.key;if(_!=="Unidentified")return _}return o.type==="keypress"?(o=od$1(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Nd$1[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd$1,charCode:function(o){return o.type==="keypress"?od$1(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?od$1(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Rd$1=rd$1(Qd$1),Sd$1=A$2({},Ad$1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td$1=rd$1(Sd$1),Ud$1=A$2({},ud$1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd$1}),Vd$1=rd$1(Ud$1),Wd$1=A$2({},sd$1,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd$1=rd$1(Wd$1),Yd$1=A$2({},Ad$1,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd$1=rd$1(Yd$1),$d$1=[9,13,27,32],ae=ia$1&&"CompositionEvent"in window,be=null;ia$1&&"documentMode"in document&&(be=document.documentMode);var ce=ia$1&&"TextEvent"in window&&!be,de=ia$1&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(o,_){switch(o){case"keyup":return $d$1.indexOf(_.keyCode)!==-1;case"keydown":return _.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ie=!1;function je$1(o,_){switch(o){case"compositionend":return he(_);case"keypress":return _.which!==32?null:(fe=!0,ee);case"textInput":return o=_.data,o===ee&&fe?null:o;default:return null}}function ke(o,_){if(ie)return o==="compositionend"||!ae&&ge(o,_)?(o=nd$1(),md$1=ld$1=kd$1=null,ie=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(_.ctrlKey||_.altKey||_.metaKey)||_.ctrlKey&&_.altKey){if(_.char&&1<_.char.length)return _.char;if(_.which)return String.fromCharCode(_.which)}return null;case"compositionend":return de&&_.locale!=="ko"?null:_.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(o){var _=o&&o.nodeName&&o.nodeName.toLowerCase();return _==="input"?!!le[o.type]:_==="textarea"}function ne(o,_,$,j){Eb(j),_=oe$1(_,"onChange"),0<_.length&&($=new td$1("onChange","change",null,$,j),o.push({event:$,listeners:_}))}var pe=null,qe$1=null;function re$1(o){se(o,0)}function te(o){var _=ue(o);if(Wa$1(_))return o}function ve(o,_){if(o==="change")return _}var we=!1;if(ia$1){var xe;if(ia$1){var ye="oninput"in document;if(!ye){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye=typeof ze$1.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe$1=pe=null)}function Be(o){if(o.propertyName==="value"&&te(qe$1)){var _=[];ne(_,qe$1,o,xb(o)),Jb(re$1,_)}}function Ce(o,_,$){o==="focusin"?(Ae(),pe=_,qe$1=$,pe.attachEvent("onpropertychange",Be)):o==="focusout"&&Ae()}function De(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return te(qe$1)}function Ee(o,_){if(o==="click")return te(_)}function Fe(o,_){if(o==="input"||o==="change")return te(_)}function Ge$1(o,_){return o===_&&(o!==0||1/o===1/_)||o!==o&&_!==_}var He=typeof Object.is=="function"?Object.is:Ge$1;function Ie$1(o,_){if(He(o,_))return!0;if(typeof o!="object"||o===null||typeof _!="object"||_===null)return!1;var $=Object.keys(o),j=Object.keys(_);if($.length!==j.length)return!1;for(j=0;j<$.length;j++){var _e=$[j];if(!ja$1.call(_,_e)||!He(o[_e],_[_e]))return!1}return!0}function Je(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ke(o,_){var $=Je(o);o=0;for(var j;$;){if($.nodeType===3){if(j=o+$.textContent.length,o<=_&&j>=_)return{node:$,offset:_-o};o=j}e:{for(;$;){if($.nextSibling){$=$.nextSibling;break e}$=$.parentNode}$=void 0}$=Je($)}}function Le(o,_){return o&&_?o===_?!0:o&&o.nodeType===3?!1:_&&_.nodeType===3?Le(o,_.parentNode):"contains"in o?o.contains(_):o.compareDocumentPosition?!!(o.compareDocumentPosition(_)&16):!1:!1}function Me(){for(var o=window,_=Xa$1();_ instanceof o.HTMLIFrameElement;){try{var $=typeof _.contentWindow.location.href=="string"}catch{$=!1}if($)o=_.contentWindow;else break;_=Xa$1(o.document)}return _}function Ne(o){var _=o&&o.nodeName&&o.nodeName.toLowerCase();return _&&(_==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||_==="textarea"||o.contentEditable==="true")}function Oe(o){var _=Me(),$=o.focusedElem,j=o.selectionRange;if(_!==$&&$&&$.ownerDocument&&Le($.ownerDocument.documentElement,$)){if(j!==null&&Ne($)){if(_=j.start,o=j.end,o===void 0&&(o=_),"selectionStart"in $)$.selectionStart=_,$.selectionEnd=Math.min(o,$.value.length);else if(o=(_=$.ownerDocument||document)&&_.defaultView||window,o.getSelection){o=o.getSelection();var _e=$.textContent.length,et=Math.min(j.start,_e);j=j.end===void 0?et:Math.min(j.end,_e),!o.extend&&et>j&&(_e=j,j=et,et=_e),_e=Ke($,et);var tt=Ke($,j);_e&&tt&&(o.rangeCount!==1||o.anchorNode!==_e.node||o.anchorOffset!==_e.offset||o.focusNode!==tt.node||o.focusOffset!==tt.offset)&&(_=_.createRange(),_.setStart(_e.node,_e.offset),o.removeAllRanges(),et>j?(o.addRange(_),o.extend(tt.node,tt.offset)):(_.setEnd(tt.node,tt.offset),o.addRange(_)))}}for(_=[],o=$;o=o.parentNode;)o.nodeType===1&&_.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<_.length;$++)o=_[$],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Pe=ia$1&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(o,_,$){var j=$.window===$?$.document:$.nodeType===9?$:$.ownerDocument;Te||Qe==null||Qe!==Xa$1(j)||(j=Qe,"selectionStart"in j&&Ne(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),Se&&Ie$1(Se,j)||(Se=j,j=oe$1(Re,"onSelect"),0<j.length&&(_=new td$1("onSelect","select",null,_,$),o.push({event:_,listeners:j}),_.target=Qe)))}function Ve(o,_){var $={};return $[o.toLowerCase()]=_.toLowerCase(),$["Webkit"+o]="webkit"+_,$["Moz"+o]="moz"+_,$}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia$1&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(o){if(Xe[o])return Xe[o];if(!We[o])return o;var _=We[o],$;for($ in _)if(_.hasOwnProperty($)&&$ in Ye)return Xe[o]=_[$];return o}var $e$1=Ze("animationend"),af$1=Ze("animationiteration"),bf$1=Ze("animationstart"),cf$1=Ze("transitionend"),df$1=new Map,ef$1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff$1(o,_){df$1.set(o,_),fa$1(_,[o])}for(var gf$1=0;gf$1<ef$1.length;gf$1++){var hf$1=ef$1[gf$1],jf$1=hf$1.toLowerCase(),kf$1=hf$1[0].toUpperCase()+hf$1.slice(1);ff$1(jf$1,"on"+kf$1)}ff$1($e$1,"onAnimationEnd");ff$1(af$1,"onAnimationIteration");ff$1(bf$1,"onAnimationStart");ff$1("dblclick","onDoubleClick");ff$1("focusin","onFocus");ff$1("focusout","onBlur");ff$1(cf$1,"onTransitionEnd");ha$1("onMouseEnter",["mouseout","mouseover"]);ha$1("onMouseLeave",["mouseout","mouseover"]);ha$1("onPointerEnter",["pointerout","pointerover"]);ha$1("onPointerLeave",["pointerout","pointerover"]);fa$1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa$1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa$1("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa$1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf$1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf$1=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf$1));function nf$1(o,_,$){var j=o.type||"unknown-event";o.currentTarget=$,Ub(j,_,void 0,o),o.currentTarget=null}function se(o,_){_=(_&4)!==0;for(var $=0;$<o.length;$++){var j=o[$],_e=j.event;j=j.listeners;e:{var et=void 0;if(_)for(var tt=j.length-1;0<=tt;tt--){var nt=j[tt],it=nt.instance,lt=nt.currentTarget;if(nt=nt.listener,it!==et&&_e.isPropagationStopped())break e;nf$1(_e,nt,lt),et=it}else for(tt=0;tt<j.length;tt++){if(nt=j[tt],it=nt.instance,lt=nt.currentTarget,nt=nt.listener,it!==et&&_e.isPropagationStopped())break e;nf$1(_e,nt,lt),et=it}}}if(Qb)throw o=Rb,Qb=!1,Rb=null,o}function D(o,_){var $=_[of$1];$===void 0&&($=_[of$1]=new Set);var j=o+"__bubble";$.has(j)||(pf$1(_,o,2,!1),$.add(j))}function qf$1(o,_,$){var j=0;_&&(j|=4),pf$1($,o,j,_)}var rf$1="_reactListening"+Math.random().toString(36).slice(2);function sf$1(o){if(!o[rf$1]){o[rf$1]=!0,da$1.forEach(function($){$!=="selectionchange"&&(mf$1.has($)||qf$1($,!1,o),qf$1($,!0,o))});var _=o.nodeType===9?o:o.ownerDocument;_===null||_[rf$1]||(_[rf$1]=!0,qf$1("selectionchange",!1,_))}}function pf$1(o,_,$,j){switch(jd$1(_)){case 1:var _e=ed$1;break;case 4:_e=gd$1;break;default:_e=fd$1}$=_e.bind(null,_,$,o),_e=void 0,!Lb||_!=="touchstart"&&_!=="touchmove"&&_!=="wheel"||(_e=!0),j?_e!==void 0?o.addEventListener(_,$,{capture:!0,passive:_e}):o.addEventListener(_,$,!0):_e!==void 0?o.addEventListener(_,$,{passive:_e}):o.addEventListener(_,$,!1)}function hd$1(o,_,$,j,_e){var et=j;if(!(_&1)&&!(_&2)&&j!==null)e:for(;;){if(j===null)return;var tt=j.tag;if(tt===3||tt===4){var nt=j.stateNode.containerInfo;if(nt===_e||nt.nodeType===8&&nt.parentNode===_e)break;if(tt===4)for(tt=j.return;tt!==null;){var it=tt.tag;if((it===3||it===4)&&(it=tt.stateNode.containerInfo,it===_e||it.nodeType===8&&it.parentNode===_e))return;tt=tt.return}for(;nt!==null;){if(tt=Wc$1(nt),tt===null)return;if(it=tt.tag,it===5||it===6){j=et=tt;continue e}nt=nt.parentNode}}j=j.return}Jb(function(){var lt=et,dt=xb($),bt=[];e:{var Ht=df$1.get(o);if(Ht!==void 0){var pr=td$1,_n=o;switch(o){case"keypress":if(od$1($)===0)break e;case"keydown":case"keyup":pr=Rd$1;break;case"focusin":_n="focus",pr=Fd$1;break;case"focusout":_n="blur",pr=Fd$1;break;case"beforeblur":case"afterblur":pr=Fd$1;break;case"click":if($.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pr=Bd$1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pr=Dd$1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pr=Vd$1;break;case $e$1:case af$1:case bf$1:pr=Hd$1;break;case cf$1:pr=Xd$1;break;case"scroll":pr=vd$1;break;case"wheel":pr=Zd$1;break;case"copy":case"cut":case"paste":pr=Jd$1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pr=Td$1}var ft=(_&4)!==0,Ct=!ft&&o==="scroll",mr=ft?Ht!==null?Ht+"Capture":null:Ht;ft=[];for(var _r=lt,mn;_r!==null;){mn=_r;var dr=mn.stateNode;if(mn.tag===5&&dr!==null&&(mn=dr,mr!==null&&(dr=Kb(_r,mr),dr!=null&&ft.push(tf$1(_r,dr,mn)))),Ct)break;_r=_r.return}0<ft.length&&(Ht=new pr(Ht,_n,null,$,dt),bt.push({event:Ht,listeners:ft}))}}if(!(_&7)){e:{if(Ht=o==="mouseover"||o==="pointerover",pr=o==="mouseout"||o==="pointerout",Ht&&$!==wb&&(_n=$.relatedTarget||$.fromElement)&&(Wc$1(_n)||_n[uf$1]))break e;if((pr||Ht)&&(Ht=dt.window===dt?dt:(Ht=dt.ownerDocument)?Ht.defaultView||Ht.parentWindow:window,pr?(_n=$.relatedTarget||$.toElement,pr=lt,_n=_n?Wc$1(_n):null,_n!==null&&(Ct=Vb(_n),_n!==Ct||_n.tag!==5&&_n.tag!==6)&&(_n=null)):(pr=null,_n=lt),pr!==_n)){if(ft=Bd$1,dr="onMouseLeave",mr="onMouseEnter",_r="mouse",(o==="pointerout"||o==="pointerover")&&(ft=Td$1,dr="onPointerLeave",mr="onPointerEnter",_r="pointer"),Ct=pr==null?Ht:ue(pr),mn=_n==null?Ht:ue(_n),Ht=new ft(dr,_r+"leave",pr,$,dt),Ht.target=Ct,Ht.relatedTarget=mn,dr=null,Wc$1(dt)===lt&&(ft=new ft(mr,_r+"enter",_n,$,dt),ft.target=mn,ft.relatedTarget=Ct,dr=ft),Ct=dr,pr&&_n)t:{for(ft=pr,mr=_n,_r=0,mn=ft;mn;mn=vf$1(mn))_r++;for(mn=0,dr=mr;dr;dr=vf$1(dr))mn++;for(;0<_r-mn;)ft=vf$1(ft),_r--;for(;0<mn-_r;)mr=vf$1(mr),mn--;for(;_r--;){if(ft===mr||mr!==null&&ft===mr.alternate)break t;ft=vf$1(ft),mr=vf$1(mr)}ft=null}else ft=null;pr!==null&&wf$1(bt,Ht,pr,ft,!1),_n!==null&&Ct!==null&&wf$1(bt,Ct,_n,ft,!0)}}e:{if(Ht=lt?ue(lt):window,pr=Ht.nodeName&&Ht.nodeName.toLowerCase(),pr==="select"||pr==="input"&&Ht.type==="file")var pn=ve;else if(me(Ht))if(we)pn=Fe;else{pn=De;var Do=Ce}else(pr=Ht.nodeName)&&pr.toLowerCase()==="input"&&(Ht.type==="checkbox"||Ht.type==="radio")&&(pn=Ee);if(pn&&(pn=pn(o,lt))){ne(bt,pn,$,dt);break e}Do&&Do(o,Ht,lt),o==="focusout"&&(Do=Ht._wrapperState)&&Do.controlled&&Ht.type==="number"&&cb(Ht,"number",Ht.value)}switch(Do=lt?ue(lt):window,o){case"focusin":(me(Do)||Do.contentEditable==="true")&&(Qe=Do,Re=lt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(bt,$,dt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(bt,$,dt)}var Io;if(ae)e:{switch(o){case"compositionstart":var Lo="onCompositionStart";break e;case"compositionend":Lo="onCompositionEnd";break e;case"compositionupdate":Lo="onCompositionUpdate";break e}Lo=void 0}else ie?ge(o,$)&&(Lo="onCompositionEnd"):o==="keydown"&&$.keyCode===229&&(Lo="onCompositionStart");Lo&&(de&&$.locale!=="ko"&&(ie||Lo!=="onCompositionStart"?Lo==="onCompositionEnd"&&ie&&(Io=nd$1()):(kd$1=dt,ld$1="value"in kd$1?kd$1.value:kd$1.textContent,ie=!0)),Do=oe$1(lt,Lo),0<Do.length&&(Lo=new Ld$1(Lo,o,null,$,dt),bt.push({event:Lo,listeners:Do}),Io?Lo.data=Io:(Io=he($),Io!==null&&(Lo.data=Io)))),(Io=ce?je$1(o,$):ke(o,$))&&(lt=oe$1(lt,"onBeforeInput"),0<lt.length&&(dt=new Ld$1("onBeforeInput","beforeinput",null,$,dt),bt.push({event:dt,listeners:lt}),dt.data=Io))}se(bt,_)})}function tf$1(o,_,$){return{instance:o,listener:_,currentTarget:$}}function oe$1(o,_){for(var $=_+"Capture",j=[];o!==null;){var _e=o,et=_e.stateNode;_e.tag===5&&et!==null&&(_e=et,et=Kb(o,$),et!=null&&j.unshift(tf$1(o,et,_e)),et=Kb(o,_),et!=null&&j.push(tf$1(o,et,_e))),o=o.return}return j}function vf$1(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function wf$1(o,_,$,j,_e){for(var et=_._reactName,tt=[];$!==null&&$!==j;){var nt=$,it=nt.alternate,lt=nt.stateNode;if(it!==null&&it===j)break;nt.tag===5&&lt!==null&&(nt=lt,_e?(it=Kb($,et),it!=null&&tt.unshift(tf$1($,it,nt))):_e||(it=Kb($,et),it!=null&&tt.push(tf$1($,it,nt)))),$=$.return}tt.length!==0&&o.push({event:_,listeners:tt})}var xf$1=/\r\n?/g,yf$1=/\u0000|\uFFFD/g;function zf$1(o){return(typeof o=="string"?o:""+o).replace(xf$1,`
`).replace(yf$1,"")}function Af$1(o,_,$){if(_=zf$1(_),zf$1(o)!==_&&$)throw Error(p$5(425))}function Bf$1(){}var Cf$1=null,Df$1=null;function Ef$1(o,_){return o==="textarea"||o==="noscript"||typeof _.children=="string"||typeof _.children=="number"||typeof _.dangerouslySetInnerHTML=="object"&&_.dangerouslySetInnerHTML!==null&&_.dangerouslySetInnerHTML.__html!=null}var Ff$1=typeof setTimeout=="function"?setTimeout:void 0,Gf$1=typeof clearTimeout=="function"?clearTimeout:void 0,Hf$1=typeof Promise=="function"?Promise:void 0,Jf$1=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf$1<"u"?function(o){return Hf$1.resolve(null).then(o).catch(If$1)}:Ff$1;function If$1(o){setTimeout(function(){throw o})}function Kf$1(o,_){var $=_,j=0;do{var _e=$.nextSibling;if(o.removeChild($),_e&&_e.nodeType===8)if($=_e.data,$==="/$"){if(j===0){o.removeChild(_e),bd$1(_);return}j--}else $!=="$"&&$!=="$?"&&$!=="$!"||j++;$=_e}while($);bd$1(_)}function Lf$1(o){for(;o!=null;o=o.nextSibling){var _=o.nodeType;if(_===1||_===3)break;if(_===8){if(_=o.data,_==="$"||_==="$!"||_==="$?")break;if(_==="/$")return null}}return o}function Mf$1(o){o=o.previousSibling;for(var _=0;o;){if(o.nodeType===8){var $=o.data;if($==="$"||$==="$!"||$==="$?"){if(_===0)return o;_--}else $==="/$"&&_++}o=o.previousSibling}return null}var Nf$1=Math.random().toString(36).slice(2),Of$1="__reactFiber$"+Nf$1,Pf$1="__reactProps$"+Nf$1,uf$1="__reactContainer$"+Nf$1,of$1="__reactEvents$"+Nf$1,Qf$1="__reactListeners$"+Nf$1,Rf$1="__reactHandles$"+Nf$1;function Wc$1(o){var _=o[Of$1];if(_)return _;for(var $=o.parentNode;$;){if(_=$[uf$1]||$[Of$1]){if($=_.alternate,_.child!==null||$!==null&&$.child!==null)for(o=Mf$1(o);o!==null;){if($=o[Of$1])return $;o=Mf$1(o)}return _}o=$,$=o.parentNode}return null}function Cb(o){return o=o[Of$1]||o[uf$1],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ue(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(p$5(33))}function Db(o){return o[Pf$1]||null}var Sf$1=[],Tf$1=-1;function Uf$1(o){return{current:o}}function E(o){0>Tf$1||(o.current=Sf$1[Tf$1],Sf$1[Tf$1]=null,Tf$1--)}function G(o,_){Tf$1++,Sf$1[Tf$1]=o.current,o.current=_}var Vf$1={},H=Uf$1(Vf$1),Wf$1=Uf$1(!1),Xf$1=Vf$1;function Yf$1(o,_){var $=o.type.contextTypes;if(!$)return Vf$1;var j=o.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===_)return j.__reactInternalMemoizedMaskedChildContext;var _e={},et;for(et in $)_e[et]=_[et];return j&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=_,o.__reactInternalMemoizedMaskedChildContext=_e),_e}function Zf$1(o){return o=o.childContextTypes,o!=null}function $f$1(){E(Wf$1),E(H)}function ag(o,_,$){if(H.current!==Vf$1)throw Error(p$5(168));G(H,_),G(Wf$1,$)}function bg(o,_,$){var j=o.stateNode;if(_=_.childContextTypes,typeof j.getChildContext!="function")return $;j=j.getChildContext();for(var _e in j)if(!(_e in _))throw Error(p$5(108,Ra$1(o)||"Unknown",_e));return A$2({},$,j)}function cg(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Vf$1,Xf$1=H.current,G(H,o),G(Wf$1,Wf$1.current),!0}function dg(o,_,$){var j=o.stateNode;if(!j)throw Error(p$5(169));$?(o=bg(o,_,Xf$1),j.__reactInternalMemoizedMergedChildContext=o,E(Wf$1),E(H),G(H,o)):E(Wf$1),G(Wf$1,$)}var eg=null,fg=!1,gg=!1;function hg(o){eg===null?eg=[o]:eg.push(o)}function ig(o){fg=!0,hg(o)}function jg(){if(!gg&&eg!==null){gg=!0;var o=0,_=C;try{var $=eg;for(C=1;o<$.length;o++){var j=$[o];do j=j(!0);while(j!==null)}eg=null,fg=!1}catch(_e){throw eg!==null&&(eg=eg.slice(o+1)),ac$1(fc$1,jg),_e}finally{C=_,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(o,_){kg[lg++]=ng,kg[lg++]=mg,mg=o,ng=_}function ug(o,_,$){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=o;var j=rg;o=sg;var _e=32-oc$1(j)-1;j&=~(1<<_e),$+=1;var et=32-oc$1(_)+_e;if(30<et){var tt=_e-_e%5;et=(j&(1<<tt)-1).toString(32),j>>=tt,_e-=tt,rg=1<<32-oc$1(_)+_e|$<<_e|j,sg=et+o}else rg=1<<et|$<<_e|j,sg=o}function vg(o){o.return!==null&&(tg(o,1),ug(o,1,0))}function wg(o){for(;o===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;o===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(o,_){var $=Bg(5,null,null,0);$.elementType="DELETED",$.stateNode=_,$.return=o,_=o.deletions,_===null?(o.deletions=[$],o.flags|=16):_.push($)}function Cg(o,_){switch(o.tag){case 5:var $=o.type;return _=_.nodeType!==1||$.toLowerCase()!==_.nodeName.toLowerCase()?null:_,_!==null?(o.stateNode=_,xg=o,yg=Lf$1(_.firstChild),!0):!1;case 6:return _=o.pendingProps===""||_.nodeType!==3?null:_,_!==null?(o.stateNode=_,xg=o,yg=null,!0):!1;case 13:return _=_.nodeType!==8?null:_,_!==null?($=qg!==null?{id:rg,overflow:sg}:null,o.memoizedState={dehydrated:_,treeContext:$,retryLane:1073741824},$=Bg(18,null,null,0),$.stateNode=_,$.return=o,o.child=$,xg=o,yg=null,!0):!1;default:return!1}}function Dg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Eg(o){if(I$1){var _=yg;if(_){var $=_;if(!Cg(o,_)){if(Dg(o))throw Error(p$5(418));_=Lf$1($.nextSibling);var j=xg;_&&Cg(o,_)?Ag(j,$):(o.flags=o.flags&-4097|2,I$1=!1,xg=o)}}else{if(Dg(o))throw Error(p$5(418));o.flags=o.flags&-4097|2,I$1=!1,xg=o}}}function Fg(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;xg=o}function Gg(o){if(o!==xg)return!1;if(!I$1)return Fg(o),I$1=!0,!1;var _;if((_=o.tag!==3)&&!(_=o.tag!==5)&&(_=o.type,_=_!=="head"&&_!=="body"&&!Ef$1(o.type,o.memoizedProps)),_&&(_=yg)){if(Dg(o))throw Hg(),Error(p$5(418));for(;_;)Ag(o,_),_=Lf$1(_.nextSibling)}if(Fg(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(p$5(317));e:{for(o=o.nextSibling,_=0;o;){if(o.nodeType===8){var $=o.data;if($==="/$"){if(_===0){yg=Lf$1(o.nextSibling);break e}_--}else $!=="$"&&$!=="$!"&&$!=="$?"||_++}o=o.nextSibling}yg=null}}else yg=xg?Lf$1(o.stateNode.nextSibling):null;return!0}function Hg(){for(var o=yg;o;)o=Lf$1(o.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(o){zg===null?zg=[o]:zg.push(o)}var Kg=ua$1.ReactCurrentBatchConfig;function Lg(o,_,$){if(o=$.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if($._owner){if($=$._owner,$){if($.tag!==1)throw Error(p$5(309));var j=$.stateNode}if(!j)throw Error(p$5(147,o));var _e=j,et=""+o;return _!==null&&_.ref!==null&&typeof _.ref=="function"&&_.ref._stringRef===et?_.ref:(_=function(tt){var nt=_e.refs;tt===null?delete nt[et]:nt[et]=tt},_._stringRef=et,_)}if(typeof o!="string")throw Error(p$5(284));if(!$._owner)throw Error(p$5(290,o))}return o}function Mg(o,_){throw o=Object.prototype.toString.call(_),Error(p$5(31,o==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":o))}function Ng(o){var _=o._init;return _(o._payload)}function Og(o){function _(mr,_r){if(o){var mn=mr.deletions;mn===null?(mr.deletions=[_r],mr.flags|=16):mn.push(_r)}}function $(mr,_r){if(!o)return null;for(;_r!==null;)_(mr,_r),_r=_r.sibling;return null}function j(mr,_r){for(mr=new Map;_r!==null;)_r.key!==null?mr.set(_r.key,_r):mr.set(_r.index,_r),_r=_r.sibling;return mr}function _e(mr,_r){return mr=Pg(mr,_r),mr.index=0,mr.sibling=null,mr}function et(mr,_r,mn){return mr.index=mn,o?(mn=mr.alternate,mn!==null?(mn=mn.index,mn<_r?(mr.flags|=2,_r):mn):(mr.flags|=2,_r)):(mr.flags|=1048576,_r)}function tt(mr){return o&&mr.alternate===null&&(mr.flags|=2),mr}function nt(mr,_r,mn,dr){return _r===null||_r.tag!==6?(_r=Qg(mn,mr.mode,dr),_r.return=mr,_r):(_r=_e(_r,mn),_r.return=mr,_r)}function it(mr,_r,mn,dr){var pn=mn.type;return pn===ya$1?dt(mr,_r,mn.props.children,dr,mn.key):_r!==null&&(_r.elementType===pn||typeof pn=="object"&&pn!==null&&pn.$$typeof===Ha$1&&Ng(pn)===_r.type)?(dr=_e(_r,mn.props),dr.ref=Lg(mr,_r,mn),dr.return=mr,dr):(dr=Rg(mn.type,mn.key,mn.props,null,mr.mode,dr),dr.ref=Lg(mr,_r,mn),dr.return=mr,dr)}function lt(mr,_r,mn,dr){return _r===null||_r.tag!==4||_r.stateNode.containerInfo!==mn.containerInfo||_r.stateNode.implementation!==mn.implementation?(_r=Sg(mn,mr.mode,dr),_r.return=mr,_r):(_r=_e(_r,mn.children||[]),_r.return=mr,_r)}function dt(mr,_r,mn,dr,pn){return _r===null||_r.tag!==7?(_r=Tg(mn,mr.mode,dr,pn),_r.return=mr,_r):(_r=_e(_r,mn),_r.return=mr,_r)}function bt(mr,_r,mn){if(typeof _r=="string"&&_r!==""||typeof _r=="number")return _r=Qg(""+_r,mr.mode,mn),_r.return=mr,_r;if(typeof _r=="object"&&_r!==null){switch(_r.$$typeof){case va$1:return mn=Rg(_r.type,_r.key,_r.props,null,mr.mode,mn),mn.ref=Lg(mr,null,_r),mn.return=mr,mn;case wa$1:return _r=Sg(_r,mr.mode,mn),_r.return=mr,_r;case Ha$1:var dr=_r._init;return bt(mr,dr(_r._payload),mn)}if(eb(_r)||Ka$1(_r))return _r=Tg(_r,mr.mode,mn,null),_r.return=mr,_r;Mg(mr,_r)}return null}function Ht(mr,_r,mn,dr){var pn=_r!==null?_r.key:null;if(typeof mn=="string"&&mn!==""||typeof mn=="number")return pn!==null?null:nt(mr,_r,""+mn,dr);if(typeof mn=="object"&&mn!==null){switch(mn.$$typeof){case va$1:return mn.key===pn?it(mr,_r,mn,dr):null;case wa$1:return mn.key===pn?lt(mr,_r,mn,dr):null;case Ha$1:return pn=mn._init,Ht(mr,_r,pn(mn._payload),dr)}if(eb(mn)||Ka$1(mn))return pn!==null?null:dt(mr,_r,mn,dr,null);Mg(mr,mn)}return null}function pr(mr,_r,mn,dr,pn){if(typeof dr=="string"&&dr!==""||typeof dr=="number")return mr=mr.get(mn)||null,nt(_r,mr,""+dr,pn);if(typeof dr=="object"&&dr!==null){switch(dr.$$typeof){case va$1:return mr=mr.get(dr.key===null?mn:dr.key)||null,it(_r,mr,dr,pn);case wa$1:return mr=mr.get(dr.key===null?mn:dr.key)||null,lt(_r,mr,dr,pn);case Ha$1:var Do=dr._init;return pr(mr,_r,mn,Do(dr._payload),pn)}if(eb(dr)||Ka$1(dr))return mr=mr.get(mn)||null,dt(_r,mr,dr,pn,null);Mg(_r,dr)}return null}function _n(mr,_r,mn,dr){for(var pn=null,Do=null,Io=_r,Lo=_r=0,ms=null;Io!==null&&Lo<mn.length;Lo++){Io.index>Lo?(ms=Io,Io=null):ms=Io.sibling;var Uo=Ht(mr,Io,mn[Lo],dr);if(Uo===null){Io===null&&(Io=ms);break}o&&Io&&Uo.alternate===null&&_(mr,Io),_r=et(Uo,_r,Lo),Do===null?pn=Uo:Do.sibling=Uo,Do=Uo,Io=ms}if(Lo===mn.length)return $(mr,Io),I$1&&tg(mr,Lo),pn;if(Io===null){for(;Lo<mn.length;Lo++)Io=bt(mr,mn[Lo],dr),Io!==null&&(_r=et(Io,_r,Lo),Do===null?pn=Io:Do.sibling=Io,Do=Io);return I$1&&tg(mr,Lo),pn}for(Io=j(mr,Io);Lo<mn.length;Lo++)ms=pr(Io,mr,Lo,mn[Lo],dr),ms!==null&&(o&&ms.alternate!==null&&Io.delete(ms.key===null?Lo:ms.key),_r=et(ms,_r,Lo),Do===null?pn=ms:Do.sibling=ms,Do=ms);return o&&Io.forEach(function(_s){return _(mr,_s)}),I$1&&tg(mr,Lo),pn}function ft(mr,_r,mn,dr){var pn=Ka$1(mn);if(typeof pn!="function")throw Error(p$5(150));if(mn=pn.call(mn),mn==null)throw Error(p$5(151));for(var Do=pn=null,Io=_r,Lo=_r=0,ms=null,Uo=mn.next();Io!==null&&!Uo.done;Lo++,Uo=mn.next()){Io.index>Lo?(ms=Io,Io=null):ms=Io.sibling;var _s=Ht(mr,Io,Uo.value,dr);if(_s===null){Io===null&&(Io=ms);break}o&&Io&&_s.alternate===null&&_(mr,Io),_r=et(_s,_r,Lo),Do===null?pn=_s:Do.sibling=_s,Do=_s,Io=ms}if(Uo.done)return $(mr,Io),I$1&&tg(mr,Lo),pn;if(Io===null){for(;!Uo.done;Lo++,Uo=mn.next())Uo=bt(mr,Uo.value,dr),Uo!==null&&(_r=et(Uo,_r,Lo),Do===null?pn=Uo:Do.sibling=Uo,Do=Uo);return I$1&&tg(mr,Lo),pn}for(Io=j(mr,Io);!Uo.done;Lo++,Uo=mn.next())Uo=pr(Io,mr,Lo,Uo.value,dr),Uo!==null&&(o&&Uo.alternate!==null&&Io.delete(Uo.key===null?Lo:Uo.key),_r=et(Uo,_r,Lo),Do===null?pn=Uo:Do.sibling=Uo,Do=Uo);return o&&Io.forEach(function(yp){return _(mr,yp)}),I$1&&tg(mr,Lo),pn}function Ct(mr,_r,mn,dr){if(typeof mn=="object"&&mn!==null&&mn.type===ya$1&&mn.key===null&&(mn=mn.props.children),typeof mn=="object"&&mn!==null){switch(mn.$$typeof){case va$1:e:{for(var pn=mn.key,Do=_r;Do!==null;){if(Do.key===pn){if(pn=mn.type,pn===ya$1){if(Do.tag===7){$(mr,Do.sibling),_r=_e(Do,mn.props.children),_r.return=mr,mr=_r;break e}}else if(Do.elementType===pn||typeof pn=="object"&&pn!==null&&pn.$$typeof===Ha$1&&Ng(pn)===Do.type){$(mr,Do.sibling),_r=_e(Do,mn.props),_r.ref=Lg(mr,Do,mn),_r.return=mr,mr=_r;break e}$(mr,Do);break}else _(mr,Do);Do=Do.sibling}mn.type===ya$1?(_r=Tg(mn.props.children,mr.mode,dr,mn.key),_r.return=mr,mr=_r):(dr=Rg(mn.type,mn.key,mn.props,null,mr.mode,dr),dr.ref=Lg(mr,_r,mn),dr.return=mr,mr=dr)}return tt(mr);case wa$1:e:{for(Do=mn.key;_r!==null;){if(_r.key===Do)if(_r.tag===4&&_r.stateNode.containerInfo===mn.containerInfo&&_r.stateNode.implementation===mn.implementation){$(mr,_r.sibling),_r=_e(_r,mn.children||[]),_r.return=mr,mr=_r;break e}else{$(mr,_r);break}else _(mr,_r);_r=_r.sibling}_r=Sg(mn,mr.mode,dr),_r.return=mr,mr=_r}return tt(mr);case Ha$1:return Do=mn._init,Ct(mr,_r,Do(mn._payload),dr)}if(eb(mn))return _n(mr,_r,mn,dr);if(Ka$1(mn))return ft(mr,_r,mn,dr);Mg(mr,mn)}return typeof mn=="string"&&mn!==""||typeof mn=="number"?(mn=""+mn,_r!==null&&_r.tag===6?($(mr,_r.sibling),_r=_e(_r,mn),_r.return=mr,mr=_r):($(mr,_r),_r=Qg(mn,mr.mode,dr),_r.return=mr,mr=_r),tt(mr)):$(mr,_r)}return Ct}var Ug=Og(!0),Vg=Og(!1),Wg=Uf$1(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah$1(o){var _=Wg.current;E(Wg),o._currentValue=_}function bh$1(o,_,$){for(;o!==null;){var j=o.alternate;if((o.childLanes&_)!==_?(o.childLanes|=_,j!==null&&(j.childLanes|=_)):j!==null&&(j.childLanes&_)!==_&&(j.childLanes|=_),o===$)break;o=o.return}}function ch$1(o,_){Xg=o,Zg=Yg=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&_&&(dh$1=!0),o.firstContext=null)}function eh$1(o){var _=o._currentValue;if(Zg!==o)if(o={context:o,memoizedValue:_,next:null},Yg===null){if(Xg===null)throw Error(p$5(308));Yg=o,Xg.dependencies={lanes:0,firstContext:o}}else Yg=Yg.next=o;return _}var fh$1=null;function gh$1(o){fh$1===null?fh$1=[o]:fh$1.push(o)}function hh$1(o,_,$,j){var _e=_.interleaved;return _e===null?($.next=$,gh$1(_)):($.next=_e.next,_e.next=$),_.interleaved=$,ih$1(o,j)}function ih$1(o,_){o.lanes|=_;var $=o.alternate;for($!==null&&($.lanes|=_),$=o,o=o.return;o!==null;)o.childLanes|=_,$=o.alternate,$!==null&&($.childLanes|=_),$=o,o=o.return;return $.tag===3?$.stateNode:null}var jh$1=!1;function kh$1(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh$1(o,_){o=o.updateQueue,_.updateQueue===o&&(_.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function mh$1(o,_){return{eventTime:o,lane:_,tag:0,payload:null,callback:null,next:null}}function nh$1(o,_,$){var j=o.updateQueue;if(j===null)return null;if(j=j.shared,K&2){var _e=j.pending;return _e===null?_.next=_:(_.next=_e.next,_e.next=_),j.pending=_,ih$1(o,$)}return _e=j.interleaved,_e===null?(_.next=_,gh$1(j)):(_.next=_e.next,_e.next=_),j.interleaved=_,ih$1(o,$)}function oh$1(o,_,$){if(_=_.updateQueue,_!==null&&(_=_.shared,($&4194240)!==0)){var j=_.lanes;j&=o.pendingLanes,$|=j,_.lanes=$,Cc$1(o,$)}}function ph$1(o,_){var $=o.updateQueue,j=o.alternate;if(j!==null&&(j=j.updateQueue,$===j)){var _e=null,et=null;if($=$.firstBaseUpdate,$!==null){do{var tt={eventTime:$.eventTime,lane:$.lane,tag:$.tag,payload:$.payload,callback:$.callback,next:null};et===null?_e=et=tt:et=et.next=tt,$=$.next}while($!==null);et===null?_e=et=_:et=et.next=_}else _e=et=_;$={baseState:j.baseState,firstBaseUpdate:_e,lastBaseUpdate:et,shared:j.shared,effects:j.effects},o.updateQueue=$;return}o=$.lastBaseUpdate,o===null?$.firstBaseUpdate=_:o.next=_,$.lastBaseUpdate=_}function qh$1(o,_,$,j){var _e=o.updateQueue;jh$1=!1;var et=_e.firstBaseUpdate,tt=_e.lastBaseUpdate,nt=_e.shared.pending;if(nt!==null){_e.shared.pending=null;var it=nt,lt=it.next;it.next=null,tt===null?et=lt:tt.next=lt,tt=it;var dt=o.alternate;dt!==null&&(dt=dt.updateQueue,nt=dt.lastBaseUpdate,nt!==tt&&(nt===null?dt.firstBaseUpdate=lt:nt.next=lt,dt.lastBaseUpdate=it))}if(et!==null){var bt=_e.baseState;tt=0,dt=lt=it=null,nt=et;do{var Ht=nt.lane,pr=nt.eventTime;if((j&Ht)===Ht){dt!==null&&(dt=dt.next={eventTime:pr,lane:0,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null});e:{var _n=o,ft=nt;switch(Ht=_,pr=$,ft.tag){case 1:if(_n=ft.payload,typeof _n=="function"){bt=_n.call(pr,bt,Ht);break e}bt=_n;break e;case 3:_n.flags=_n.flags&-65537|128;case 0:if(_n=ft.payload,Ht=typeof _n=="function"?_n.call(pr,bt,Ht):_n,Ht==null)break e;bt=A$2({},bt,Ht);break e;case 2:jh$1=!0}}nt.callback!==null&&nt.lane!==0&&(o.flags|=64,Ht=_e.effects,Ht===null?_e.effects=[nt]:Ht.push(nt))}else pr={eventTime:pr,lane:Ht,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null},dt===null?(lt=dt=pr,it=bt):dt=dt.next=pr,tt|=Ht;if(nt=nt.next,nt===null){if(nt=_e.shared.pending,nt===null)break;Ht=nt,nt=Ht.next,Ht.next=null,_e.lastBaseUpdate=Ht,_e.shared.pending=null}}while(!0);if(dt===null&&(it=bt),_e.baseState=it,_e.firstBaseUpdate=lt,_e.lastBaseUpdate=dt,_=_e.shared.interleaved,_!==null){_e=_;do tt|=_e.lane,_e=_e.next;while(_e!==_)}else et===null&&(_e.shared.lanes=0);rh$1|=tt,o.lanes=tt,o.memoizedState=bt}}function sh$1(o,_,$){if(o=_.effects,_.effects=null,o!==null)for(_=0;_<o.length;_++){var j=o[_],_e=j.callback;if(_e!==null){if(j.callback=null,j=$,typeof _e!="function")throw Error(p$5(191,_e));_e.call(j)}}}var th$1={},uh$1=Uf$1(th$1),vh$1=Uf$1(th$1),wh$1=Uf$1(th$1);function xh$1(o){if(o===th$1)throw Error(p$5(174));return o}function yh$1(o,_){switch(G(wh$1,_),G(vh$1,o),G(uh$1,th$1),o=_.nodeType,o){case 9:case 11:_=(_=_.documentElement)?_.namespaceURI:lb$1(null,"");break;default:o=o===8?_.parentNode:_,_=o.namespaceURI||null,o=o.tagName,_=lb$1(_,o)}E(uh$1),G(uh$1,_)}function zh$1(){E(uh$1),E(vh$1),E(wh$1)}function Ah$1(o){xh$1(wh$1.current);var _=xh$1(uh$1.current),$=lb$1(_,o.type);_!==$&&(G(vh$1,o),G(uh$1,$))}function Bh$1(o){vh$1.current===o&&(E(uh$1),E(vh$1))}var L=Uf$1(0);function Ch$1(o){for(var _=o;_!==null;){if(_.tag===13){var $=_.memoizedState;if($!==null&&($=$.dehydrated,$===null||$.data==="$?"||$.data==="$!"))return _}else if(_.tag===19&&_.memoizedProps.revealOrder!==void 0){if(_.flags&128)return _}else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===o)break;for(;_.sibling===null;){if(_.return===null||_.return===o)return null;_=_.return}_.sibling.return=_.return,_=_.sibling}return null}var Dh$1=[];function Eh$1(){for(var o=0;o<Dh$1.length;o++)Dh$1[o]._workInProgressVersionPrimary=null;Dh$1.length=0}var Fh$1=ua$1.ReactCurrentDispatcher,Gh$1=ua$1.ReactCurrentBatchConfig,Hh$1=0,M=null,N=null,O=null,Ih$1=!1,Jh$1=!1,Kh$1=0,Lh$1=0;function P$1(){throw Error(p$5(321))}function Mh$1(o,_){if(_===null)return!1;for(var $=0;$<_.length&&$<o.length;$++)if(!He(o[$],_[$]))return!1;return!0}function Nh$1(o,_,$,j,_e,et){if(Hh$1=et,M=_,_.memoizedState=null,_.updateQueue=null,_.lanes=0,Fh$1.current=o===null||o.memoizedState===null?Oh$1:Ph$1,o=$(j,_e),Jh$1){et=0;do{if(Jh$1=!1,Kh$1=0,25<=et)throw Error(p$5(301));et+=1,O=N=null,_.updateQueue=null,Fh$1.current=Qh$1,o=$(j,_e)}while(Jh$1)}if(Fh$1.current=Rh$1,_=N!==null&&N.next!==null,Hh$1=0,O=N=M=null,Ih$1=!1,_)throw Error(p$5(300));return o}function Sh$1(){var o=Kh$1!==0;return Kh$1=0,o}function Th$1(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=o:O=O.next=o,O}function Uh$1(){if(N===null){var o=M.alternate;o=o!==null?o.memoizedState:null}else o=N.next;var _=O===null?M.memoizedState:O.next;if(_!==null)O=_,N=o;else{if(o===null)throw Error(p$5(310));N=o,o={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=o:O=O.next=o}return O}function Vh$1(o,_){return typeof _=="function"?_(o):_}function Wh$1(o){var _=Uh$1(),$=_.queue;if($===null)throw Error(p$5(311));$.lastRenderedReducer=o;var j=N,_e=j.baseQueue,et=$.pending;if(et!==null){if(_e!==null){var tt=_e.next;_e.next=et.next,et.next=tt}j.baseQueue=_e=et,$.pending=null}if(_e!==null){et=_e.next,j=j.baseState;var nt=tt=null,it=null,lt=et;do{var dt=lt.lane;if((Hh$1&dt)===dt)it!==null&&(it=it.next={lane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),j=lt.hasEagerState?lt.eagerState:o(j,lt.action);else{var bt={lane:dt,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null};it===null?(nt=it=bt,tt=j):it=it.next=bt,M.lanes|=dt,rh$1|=dt}lt=lt.next}while(lt!==null&&lt!==et);it===null?tt=j:it.next=nt,He(j,_.memoizedState)||(dh$1=!0),_.memoizedState=j,_.baseState=tt,_.baseQueue=it,$.lastRenderedState=j}if(o=$.interleaved,o!==null){_e=o;do et=_e.lane,M.lanes|=et,rh$1|=et,_e=_e.next;while(_e!==o)}else _e===null&&($.lanes=0);return[_.memoizedState,$.dispatch]}function Xh$1(o){var _=Uh$1(),$=_.queue;if($===null)throw Error(p$5(311));$.lastRenderedReducer=o;var j=$.dispatch,_e=$.pending,et=_.memoizedState;if(_e!==null){$.pending=null;var tt=_e=_e.next;do et=o(et,tt.action),tt=tt.next;while(tt!==_e);He(et,_.memoizedState)||(dh$1=!0),_.memoizedState=et,_.baseQueue===null&&(_.baseState=et),$.lastRenderedState=et}return[et,j]}function Yh$1(){}function Zh$1(o,_){var $=M,j=Uh$1(),_e=_(),et=!He(j.memoizedState,_e);if(et&&(j.memoizedState=_e,dh$1=!0),j=j.queue,$h$1(ai$1.bind(null,$,j,o),[o]),j.getSnapshot!==_||et||O!==null&&O.memoizedState.tag&1){if($.flags|=2048,bi$1(9,ci.bind(null,$,j,_e,_),void 0,null),Q===null)throw Error(p$5(349));Hh$1&30||di$1($,_,_e)}return _e}function di$1(o,_,$){o.flags|=16384,o={getSnapshot:_,value:$},_=M.updateQueue,_===null?(_={lastEffect:null,stores:null},M.updateQueue=_,_.stores=[o]):($=_.stores,$===null?_.stores=[o]:$.push(o))}function ci(o,_,$,j){_.value=$,_.getSnapshot=j,ei$1(_)&&fi$1(o)}function ai$1(o,_,$){return $(function(){ei$1(_)&&fi$1(o)})}function ei$1(o){var _=o.getSnapshot;o=o.value;try{var $=_();return!He(o,$)}catch{return!0}}function fi$1(o){var _=ih$1(o,1);_!==null&&gi$1(_,o,1,-1)}function hi$1(o){var _=Th$1();return typeof o=="function"&&(o=o()),_.memoizedState=_.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh$1,lastRenderedState:o},_.queue=o,o=o.dispatch=ii$1.bind(null,M,o),[_.memoizedState,o]}function bi$1(o,_,$,j){return o={tag:o,create:_,destroy:$,deps:j,next:null},_=M.updateQueue,_===null?(_={lastEffect:null,stores:null},M.updateQueue=_,_.lastEffect=o.next=o):($=_.lastEffect,$===null?_.lastEffect=o.next=o:(j=$.next,$.next=o,o.next=j,_.lastEffect=o)),o}function ji$1(){return Uh$1().memoizedState}function ki$1(o,_,$,j){var _e=Th$1();M.flags|=o,_e.memoizedState=bi$1(1|_,$,void 0,j===void 0?null:j)}function li$1(o,_,$,j){var _e=Uh$1();j=j===void 0?null:j;var et=void 0;if(N!==null){var tt=N.memoizedState;if(et=tt.destroy,j!==null&&Mh$1(j,tt.deps)){_e.memoizedState=bi$1(_,$,et,j);return}}M.flags|=o,_e.memoizedState=bi$1(1|_,$,et,j)}function mi$1(o,_){return ki$1(8390656,8,o,_)}function $h$1(o,_){return li$1(2048,8,o,_)}function ni$1(o,_){return li$1(4,2,o,_)}function oi$1(o,_){return li$1(4,4,o,_)}function pi$3(o,_){if(typeof _=="function")return o=o(),_(o),function(){_(null)};if(_!=null)return o=o(),_.current=o,function(){_.current=null}}function qi$1(o,_,$){return $=$!=null?$.concat([o]):null,li$1(4,4,pi$3.bind(null,_,o),$)}function ri$1(){}function si$1(o,_){var $=Uh$1();_=_===void 0?null:_;var j=$.memoizedState;return j!==null&&_!==null&&Mh$1(_,j[1])?j[0]:($.memoizedState=[o,_],o)}function ti$1(o,_){var $=Uh$1();_=_===void 0?null:_;var j=$.memoizedState;return j!==null&&_!==null&&Mh$1(_,j[1])?j[0]:(o=o(),$.memoizedState=[o,_],o)}function ui$1(o,_,$){return Hh$1&21?(He($,_)||($=yc$1(),M.lanes|=$,rh$1|=$,o.baseState=!0),_):(o.baseState&&(o.baseState=!1,dh$1=!0),o.memoizedState=$)}function vi$1(o,_){var $=C;C=$!==0&&4>$?$:4,o(!0);var j=Gh$1.transition;Gh$1.transition={};try{o(!1),_()}finally{C=$,Gh$1.transition=j}}function wi$1(){return Uh$1().memoizedState}function xi$1(o,_,$){var j=yi(o);if($={lane:j,action:$,hasEagerState:!1,eagerState:null,next:null},zi$1(o))Ai$1(_,$);else if($=hh$1(o,_,$,j),$!==null){var _e=R();gi$1($,o,j,_e),Bi$1($,_,j)}}function ii$1(o,_,$){var j=yi(o),_e={lane:j,action:$,hasEagerState:!1,eagerState:null,next:null};if(zi$1(o))Ai$1(_,_e);else{var et=o.alternate;if(o.lanes===0&&(et===null||et.lanes===0)&&(et=_.lastRenderedReducer,et!==null))try{var tt=_.lastRenderedState,nt=et(tt,$);if(_e.hasEagerState=!0,_e.eagerState=nt,He(nt,tt)){var it=_.interleaved;it===null?(_e.next=_e,gh$1(_)):(_e.next=it.next,it.next=_e),_.interleaved=_e;return}}catch{}finally{}$=hh$1(o,_,_e,j),$!==null&&(_e=R(),gi$1($,o,j,_e),Bi$1($,_,j))}}function zi$1(o){var _=o.alternate;return o===M||_!==null&&_===M}function Ai$1(o,_){Jh$1=Ih$1=!0;var $=o.pending;$===null?_.next=_:(_.next=$.next,$.next=_),o.pending=_}function Bi$1(o,_,$){if($&4194240){var j=_.lanes;j&=o.pendingLanes,$|=j,_.lanes=$,Cc$1(o,$)}}var Rh$1={readContext:eh$1,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh$1={readContext:eh$1,useCallback:function(o,_){return Th$1().memoizedState=[o,_===void 0?null:_],o},useContext:eh$1,useEffect:mi$1,useImperativeHandle:function(o,_,$){return $=$!=null?$.concat([o]):null,ki$1(4194308,4,pi$3.bind(null,_,o),$)},useLayoutEffect:function(o,_){return ki$1(4194308,4,o,_)},useInsertionEffect:function(o,_){return ki$1(4,2,o,_)},useMemo:function(o,_){var $=Th$1();return _=_===void 0?null:_,o=o(),$.memoizedState=[o,_],o},useReducer:function(o,_,$){var j=Th$1();return _=$!==void 0?$(_):_,j.memoizedState=j.baseState=_,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:_},j.queue=o,o=o.dispatch=xi$1.bind(null,M,o),[j.memoizedState,o]},useRef:function(o){var _=Th$1();return o={current:o},_.memoizedState=o},useState:hi$1,useDebugValue:ri$1,useDeferredValue:function(o){return Th$1().memoizedState=o},useTransition:function(){var o=hi$1(!1),_=o[0];return o=vi$1.bind(null,o[1]),Th$1().memoizedState=o,[_,o]},useMutableSource:function(){},useSyncExternalStore:function(o,_,$){var j=M,_e=Th$1();if(I$1){if($===void 0)throw Error(p$5(407));$=$()}else{if($=_(),Q===null)throw Error(p$5(349));Hh$1&30||di$1(j,_,$)}_e.memoizedState=$;var et={value:$,getSnapshot:_};return _e.queue=et,mi$1(ai$1.bind(null,j,et,o),[o]),j.flags|=2048,bi$1(9,ci.bind(null,j,et,$,_),void 0,null),$},useId:function(){var o=Th$1(),_=Q.identifierPrefix;if(I$1){var $=sg,j=rg;$=(j&~(1<<32-oc$1(j)-1)).toString(32)+$,_=":"+_+"R"+$,$=Kh$1++,0<$&&(_+="H"+$.toString(32)),_+=":"}else $=Lh$1++,_=":"+_+"r"+$.toString(32)+":";return o.memoizedState=_},unstable_isNewReconciler:!1},Ph$1={readContext:eh$1,useCallback:si$1,useContext:eh$1,useEffect:$h$1,useImperativeHandle:qi$1,useInsertionEffect:ni$1,useLayoutEffect:oi$1,useMemo:ti$1,useReducer:Wh$1,useRef:ji$1,useState:function(){return Wh$1(Vh$1)},useDebugValue:ri$1,useDeferredValue:function(o){var _=Uh$1();return ui$1(_,N.memoizedState,o)},useTransition:function(){var o=Wh$1(Vh$1)[0],_=Uh$1().memoizedState;return[o,_]},useMutableSource:Yh$1,useSyncExternalStore:Zh$1,useId:wi$1,unstable_isNewReconciler:!1},Qh$1={readContext:eh$1,useCallback:si$1,useContext:eh$1,useEffect:$h$1,useImperativeHandle:qi$1,useInsertionEffect:ni$1,useLayoutEffect:oi$1,useMemo:ti$1,useReducer:Xh$1,useRef:ji$1,useState:function(){return Xh$1(Vh$1)},useDebugValue:ri$1,useDeferredValue:function(o){var _=Uh$1();return N===null?_.memoizedState=o:ui$1(_,N.memoizedState,o)},useTransition:function(){var o=Xh$1(Vh$1)[0],_=Uh$1().memoizedState;return[o,_]},useMutableSource:Yh$1,useSyncExternalStore:Zh$1,useId:wi$1,unstable_isNewReconciler:!1};function Ci$2(o,_){if(o&&o.defaultProps){_=A$2({},_),o=o.defaultProps;for(var $ in o)_[$]===void 0&&(_[$]=o[$]);return _}return _}function Di$1(o,_,$,j){_=o.memoizedState,$=$(j,_),$=$==null?_:A$2({},_,$),o.memoizedState=$,o.lanes===0&&(o.updateQueue.baseState=$)}var Ei={isMounted:function(o){return(o=o._reactInternals)?Vb(o)===o:!1},enqueueSetState:function(o,_,$){o=o._reactInternals;var j=R(),_e=yi(o),et=mh$1(j,_e);et.payload=_,$!=null&&(et.callback=$),_=nh$1(o,et,_e),_!==null&&(gi$1(_,o,_e,j),oh$1(_,o,_e))},enqueueReplaceState:function(o,_,$){o=o._reactInternals;var j=R(),_e=yi(o),et=mh$1(j,_e);et.tag=1,et.payload=_,$!=null&&(et.callback=$),_=nh$1(o,et,_e),_!==null&&(gi$1(_,o,_e,j),oh$1(_,o,_e))},enqueueForceUpdate:function(o,_){o=o._reactInternals;var $=R(),j=yi(o),_e=mh$1($,j);_e.tag=2,_!=null&&(_e.callback=_),_=nh$1(o,_e,j),_!==null&&(gi$1(_,o,j,$),oh$1(_,o,j))}};function Fi$1(o,_,$,j,_e,et,tt){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(j,et,tt):_.prototype&&_.prototype.isPureReactComponent?!Ie$1($,j)||!Ie$1(_e,et):!0}function Gi$1(o,_,$){var j=!1,_e=Vf$1,et=_.contextType;return typeof et=="object"&&et!==null?et=eh$1(et):(_e=Zf$1(_)?Xf$1:H.current,j=_.contextTypes,et=(j=j!=null)?Yf$1(o,_e):Vf$1),_=new _($,et),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Ei,o.stateNode=_,_._reactInternals=o,j&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=_e,o.__reactInternalMemoizedMaskedChildContext=et),_}function Hi$1(o,_,$,j){o=_.state,typeof _.componentWillReceiveProps=="function"&&_.componentWillReceiveProps($,j),typeof _.UNSAFE_componentWillReceiveProps=="function"&&_.UNSAFE_componentWillReceiveProps($,j),_.state!==o&&Ei.enqueueReplaceState(_,_.state,null)}function Ii$1(o,_,$,j){var _e=o.stateNode;_e.props=$,_e.state=o.memoizedState,_e.refs={},kh$1(o);var et=_.contextType;typeof et=="object"&&et!==null?_e.context=eh$1(et):(et=Zf$1(_)?Xf$1:H.current,_e.context=Yf$1(o,et)),_e.state=o.memoizedState,et=_.getDerivedStateFromProps,typeof et=="function"&&(Di$1(o,_,et,$),_e.state=o.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof _e.getSnapshotBeforeUpdate=="function"||typeof _e.UNSAFE_componentWillMount!="function"&&typeof _e.componentWillMount!="function"||(_=_e.state,typeof _e.componentWillMount=="function"&&_e.componentWillMount(),typeof _e.UNSAFE_componentWillMount=="function"&&_e.UNSAFE_componentWillMount(),_!==_e.state&&Ei.enqueueReplaceState(_e,_e.state,null),qh$1(o,$,_e,j),_e.state=o.memoizedState),typeof _e.componentDidMount=="function"&&(o.flags|=4194308)}function Ji$1(o,_){try{var $="",j=_;do $+=Pa$1(j),j=j.return;while(j);var _e=$}catch(et){_e=`
Error generating stack: `+et.message+`
`+et.stack}return{value:o,source:_,stack:_e,digest:null}}function Ki$1(o,_,$){return{value:o,source:null,stack:$??null,digest:_??null}}function Li$1(o,_){try{console.error(_.value)}catch($){setTimeout(function(){throw $})}}var Mi$1=typeof WeakMap=="function"?WeakMap:Map;function Ni$1(o,_,$){$=mh$1(-1,$),$.tag=3,$.payload={element:null};var j=_.value;return $.callback=function(){Oi$1||(Oi$1=!0,Pi$1=j),Li$1(o,_)},$}function Qi$1(o,_,$){$=mh$1(-1,$),$.tag=3;var j=o.type.getDerivedStateFromError;if(typeof j=="function"){var _e=_.value;$.payload=function(){return j(_e)},$.callback=function(){Li$1(o,_)}}var et=o.stateNode;return et!==null&&typeof et.componentDidCatch=="function"&&($.callback=function(){Li$1(o,_),typeof j!="function"&&(Ri$1===null?Ri$1=new Set([this]):Ri$1.add(this));var tt=_.stack;this.componentDidCatch(_.value,{componentStack:tt!==null?tt:""})}),$}function Si(o,_,$){var j=o.pingCache;if(j===null){j=o.pingCache=new Mi$1;var _e=new Set;j.set(_,_e)}else _e=j.get(_),_e===void 0&&(_e=new Set,j.set(_,_e));_e.has($)||(_e.add($),o=Ti$1.bind(null,o,_,$),_.then(o,o))}function Ui$1(o){do{var _;if((_=o.tag===13)&&(_=o.memoizedState,_=_!==null?_.dehydrated!==null:!0),_)return o;o=o.return}while(o!==null);return null}function Vi$1(o,_,$,j,_e){return o.mode&1?(o.flags|=65536,o.lanes=_e,o):(o===_?o.flags|=65536:(o.flags|=128,$.flags|=131072,$.flags&=-52805,$.tag===1&&($.alternate===null?$.tag=17:(_=mh$1(-1,1),_.tag=2,nh$1($,_,1))),$.lanes|=1),o)}var Wi$1=ua$1.ReactCurrentOwner,dh$1=!1;function Xi$1(o,_,$,j){_.child=o===null?Vg(_,null,$,j):Ug(_,o.child,$,j)}function Yi$1(o,_,$,j,_e){$=$.render;var et=_.ref;return ch$1(_,_e),j=Nh$1(o,_,$,j,et,_e),$=Sh$1(),o!==null&&!dh$1?(_.updateQueue=o.updateQueue,_.flags&=-2053,o.lanes&=~_e,Zi$1(o,_,_e)):(I$1&&$&&vg(_),_.flags|=1,Xi$1(o,_,j,_e),_.child)}function $i$1(o,_,$,j,_e){if(o===null){var et=$.type;return typeof et=="function"&&!aj(et)&&et.defaultProps===void 0&&$.compare===null&&$.defaultProps===void 0?(_.tag=15,_.type=et,bj(o,_,et,j,_e)):(o=Rg($.type,null,j,_,_.mode,_e),o.ref=_.ref,o.return=_,_.child=o)}if(et=o.child,!(o.lanes&_e)){var tt=et.memoizedProps;if($=$.compare,$=$!==null?$:Ie$1,$(tt,j)&&o.ref===_.ref)return Zi$1(o,_,_e)}return _.flags|=1,o=Pg(et,j),o.ref=_.ref,o.return=_,_.child=o}function bj(o,_,$,j,_e){if(o!==null){var et=o.memoizedProps;if(Ie$1(et,j)&&o.ref===_.ref)if(dh$1=!1,_.pendingProps=j=et,(o.lanes&_e)!==0)o.flags&131072&&(dh$1=!0);else return _.lanes=o.lanes,Zi$1(o,_,_e)}return cj(o,_,$,j,_e)}function dj(o,_,$){var j=_.pendingProps,_e=j.children,et=o!==null?o.memoizedState:null;if(j.mode==="hidden")if(!(_.mode&1))_.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=$;else{if(!($&1073741824))return o=et!==null?et.baseLanes|$:$,_.lanes=_.childLanes=1073741824,_.memoizedState={baseLanes:o,cachePool:null,transitions:null},_.updateQueue=null,G(ej,fj),fj|=o,null;_.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=et!==null?et.baseLanes:$,G(ej,fj),fj|=j}else et!==null?(j=et.baseLanes|$,_.memoizedState=null):j=$,G(ej,fj),fj|=j;return Xi$1(o,_,_e,$),_.child}function gj(o,_){var $=_.ref;(o===null&&$!==null||o!==null&&o.ref!==$)&&(_.flags|=512,_.flags|=2097152)}function cj(o,_,$,j,_e){var et=Zf$1($)?Xf$1:H.current;return et=Yf$1(_,et),ch$1(_,_e),$=Nh$1(o,_,$,j,et,_e),j=Sh$1(),o!==null&&!dh$1?(_.updateQueue=o.updateQueue,_.flags&=-2053,o.lanes&=~_e,Zi$1(o,_,_e)):(I$1&&j&&vg(_),_.flags|=1,Xi$1(o,_,$,_e),_.child)}function hj(o,_,$,j,_e){if(Zf$1($)){var et=!0;cg(_)}else et=!1;if(ch$1(_,_e),_.stateNode===null)ij(o,_),Gi$1(_,$,j),Ii$1(_,$,j,_e),j=!0;else if(o===null){var tt=_.stateNode,nt=_.memoizedProps;tt.props=nt;var it=tt.context,lt=$.contextType;typeof lt=="object"&&lt!==null?lt=eh$1(lt):(lt=Zf$1($)?Xf$1:H.current,lt=Yf$1(_,lt));var dt=$.getDerivedStateFromProps,bt=typeof dt=="function"||typeof tt.getSnapshotBeforeUpdate=="function";bt||typeof tt.UNSAFE_componentWillReceiveProps!="function"&&typeof tt.componentWillReceiveProps!="function"||(nt!==j||it!==lt)&&Hi$1(_,tt,j,lt),jh$1=!1;var Ht=_.memoizedState;tt.state=Ht,qh$1(_,j,tt,_e),it=_.memoizedState,nt!==j||Ht!==it||Wf$1.current||jh$1?(typeof dt=="function"&&(Di$1(_,$,dt,j),it=_.memoizedState),(nt=jh$1||Fi$1(_,$,nt,j,Ht,it,lt))?(bt||typeof tt.UNSAFE_componentWillMount!="function"&&typeof tt.componentWillMount!="function"||(typeof tt.componentWillMount=="function"&&tt.componentWillMount(),typeof tt.UNSAFE_componentWillMount=="function"&&tt.UNSAFE_componentWillMount()),typeof tt.componentDidMount=="function"&&(_.flags|=4194308)):(typeof tt.componentDidMount=="function"&&(_.flags|=4194308),_.memoizedProps=j,_.memoizedState=it),tt.props=j,tt.state=it,tt.context=lt,j=nt):(typeof tt.componentDidMount=="function"&&(_.flags|=4194308),j=!1)}else{tt=_.stateNode,lh$1(o,_),nt=_.memoizedProps,lt=_.type===_.elementType?nt:Ci$2(_.type,nt),tt.props=lt,bt=_.pendingProps,Ht=tt.context,it=$.contextType,typeof it=="object"&&it!==null?it=eh$1(it):(it=Zf$1($)?Xf$1:H.current,it=Yf$1(_,it));var pr=$.getDerivedStateFromProps;(dt=typeof pr=="function"||typeof tt.getSnapshotBeforeUpdate=="function")||typeof tt.UNSAFE_componentWillReceiveProps!="function"&&typeof tt.componentWillReceiveProps!="function"||(nt!==bt||Ht!==it)&&Hi$1(_,tt,j,it),jh$1=!1,Ht=_.memoizedState,tt.state=Ht,qh$1(_,j,tt,_e);var _n=_.memoizedState;nt!==bt||Ht!==_n||Wf$1.current||jh$1?(typeof pr=="function"&&(Di$1(_,$,pr,j),_n=_.memoizedState),(lt=jh$1||Fi$1(_,$,lt,j,Ht,_n,it)||!1)?(dt||typeof tt.UNSAFE_componentWillUpdate!="function"&&typeof tt.componentWillUpdate!="function"||(typeof tt.componentWillUpdate=="function"&&tt.componentWillUpdate(j,_n,it),typeof tt.UNSAFE_componentWillUpdate=="function"&&tt.UNSAFE_componentWillUpdate(j,_n,it)),typeof tt.componentDidUpdate=="function"&&(_.flags|=4),typeof tt.getSnapshotBeforeUpdate=="function"&&(_.flags|=1024)):(typeof tt.componentDidUpdate!="function"||nt===o.memoizedProps&&Ht===o.memoizedState||(_.flags|=4),typeof tt.getSnapshotBeforeUpdate!="function"||nt===o.memoizedProps&&Ht===o.memoizedState||(_.flags|=1024),_.memoizedProps=j,_.memoizedState=_n),tt.props=j,tt.state=_n,tt.context=it,j=lt):(typeof tt.componentDidUpdate!="function"||nt===o.memoizedProps&&Ht===o.memoizedState||(_.flags|=4),typeof tt.getSnapshotBeforeUpdate!="function"||nt===o.memoizedProps&&Ht===o.memoizedState||(_.flags|=1024),j=!1)}return jj(o,_,$,j,et,_e)}function jj(o,_,$,j,_e,et){gj(o,_);var tt=(_.flags&128)!==0;if(!j&&!tt)return _e&&dg(_,$,!1),Zi$1(o,_,et);j=_.stateNode,Wi$1.current=_;var nt=tt&&typeof $.getDerivedStateFromError!="function"?null:j.render();return _.flags|=1,o!==null&&tt?(_.child=Ug(_,o.child,null,et),_.child=Ug(_,null,nt,et)):Xi$1(o,_,nt,et),_.memoizedState=j.state,_e&&dg(_,$,!0),_.child}function kj(o){var _=o.stateNode;_.pendingContext?ag(o,_.pendingContext,_.pendingContext!==_.context):_.context&&ag(o,_.context,!1),yh$1(o,_.containerInfo)}function lj(o,_,$,j,_e){return Ig(),Jg(_e),_.flags|=256,Xi$1(o,_,$,j),_.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(o){return{baseLanes:o,cachePool:null,transitions:null}}function oj(o,_,$){var j=_.pendingProps,_e=L.current,et=!1,tt=(_.flags&128)!==0,nt;if((nt=tt)||(nt=o!==null&&o.memoizedState===null?!1:(_e&2)!==0),nt?(et=!0,_.flags&=-129):(o===null||o.memoizedState!==null)&&(_e|=1),G(L,_e&1),o===null)return Eg(_),o=_.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(_.mode&1?o.data==="$!"?_.lanes=8:_.lanes=1073741824:_.lanes=1,null):(tt=j.children,o=j.fallback,et?(j=_.mode,et=_.child,tt={mode:"hidden",children:tt},!(j&1)&&et!==null?(et.childLanes=0,et.pendingProps=tt):et=pj(tt,j,0,null),o=Tg(o,j,$,null),et.return=_,o.return=_,et.sibling=o,_.child=et,_.child.memoizedState=nj($),_.memoizedState=mj,o):qj(_,tt));if(_e=o.memoizedState,_e!==null&&(nt=_e.dehydrated,nt!==null))return rj(o,_,tt,j,nt,_e,$);if(et){et=j.fallback,tt=_.mode,_e=o.child,nt=_e.sibling;var it={mode:"hidden",children:j.children};return!(tt&1)&&_.child!==_e?(j=_.child,j.childLanes=0,j.pendingProps=it,_.deletions=null):(j=Pg(_e,it),j.subtreeFlags=_e.subtreeFlags&14680064),nt!==null?et=Pg(nt,et):(et=Tg(et,tt,$,null),et.flags|=2),et.return=_,j.return=_,j.sibling=et,_.child=j,j=et,et=_.child,tt=o.child.memoizedState,tt=tt===null?nj($):{baseLanes:tt.baseLanes|$,cachePool:null,transitions:tt.transitions},et.memoizedState=tt,et.childLanes=o.childLanes&~$,_.memoizedState=mj,j}return et=o.child,o=et.sibling,j=Pg(et,{mode:"visible",children:j.children}),!(_.mode&1)&&(j.lanes=$),j.return=_,j.sibling=null,o!==null&&($=_.deletions,$===null?(_.deletions=[o],_.flags|=16):$.push(o)),_.child=j,_.memoizedState=null,j}function qj(o,_){return _=pj({mode:"visible",children:_},o.mode,0,null),_.return=o,o.child=_}function sj(o,_,$,j){return j!==null&&Jg(j),Ug(_,o.child,null,$),o=qj(_,_.pendingProps.children),o.flags|=2,_.memoizedState=null,o}function rj(o,_,$,j,_e,et,tt){if($)return _.flags&256?(_.flags&=-257,j=Ki$1(Error(p$5(422))),sj(o,_,tt,j)):_.memoizedState!==null?(_.child=o.child,_.flags|=128,null):(et=j.fallback,_e=_.mode,j=pj({mode:"visible",children:j.children},_e,0,null),et=Tg(et,_e,tt,null),et.flags|=2,j.return=_,et.return=_,j.sibling=et,_.child=j,_.mode&1&&Ug(_,o.child,null,tt),_.child.memoizedState=nj(tt),_.memoizedState=mj,et);if(!(_.mode&1))return sj(o,_,tt,null);if(_e.data==="$!"){if(j=_e.nextSibling&&_e.nextSibling.dataset,j)var nt=j.dgst;return j=nt,et=Error(p$5(419)),j=Ki$1(et,j,void 0),sj(o,_,tt,j)}if(nt=(tt&o.childLanes)!==0,dh$1||nt){if(j=Q,j!==null){switch(tt&-tt){case 4:_e=2;break;case 16:_e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_e=32;break;case 536870912:_e=268435456;break;default:_e=0}_e=_e&(j.suspendedLanes|tt)?0:_e,_e!==0&&_e!==et.retryLane&&(et.retryLane=_e,ih$1(o,_e),gi$1(j,o,_e,-1))}return tj(),j=Ki$1(Error(p$5(421))),sj(o,_,tt,j)}return _e.data==="$?"?(_.flags|=128,_.child=o.child,_=uj.bind(null,o),_e._reactRetry=_,null):(o=et.treeContext,yg=Lf$1(_e.nextSibling),xg=_,I$1=!0,zg=null,o!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=o.id,sg=o.overflow,qg=_),_=qj(_,j.children),_.flags|=4096,_)}function vj(o,_,$){o.lanes|=_;var j=o.alternate;j!==null&&(j.lanes|=_),bh$1(o.return,_,$)}function wj(o,_,$,j,_e){var et=o.memoizedState;et===null?o.memoizedState={isBackwards:_,rendering:null,renderingStartTime:0,last:j,tail:$,tailMode:_e}:(et.isBackwards=_,et.rendering=null,et.renderingStartTime=0,et.last=j,et.tail=$,et.tailMode=_e)}function xj(o,_,$){var j=_.pendingProps,_e=j.revealOrder,et=j.tail;if(Xi$1(o,_,j.children,$),j=L.current,j&2)j=j&1|2,_.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=_.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&vj(o,$,_);else if(o.tag===19)vj(o,$,_);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===_)break e;for(;o.sibling===null;){if(o.return===null||o.return===_)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}j&=1}if(G(L,j),!(_.mode&1))_.memoizedState=null;else switch(_e){case"forwards":for($=_.child,_e=null;$!==null;)o=$.alternate,o!==null&&Ch$1(o)===null&&(_e=$),$=$.sibling;$=_e,$===null?(_e=_.child,_.child=null):(_e=$.sibling,$.sibling=null),wj(_,!1,_e,$,et);break;case"backwards":for($=null,_e=_.child,_.child=null;_e!==null;){if(o=_e.alternate,o!==null&&Ch$1(o)===null){_.child=_e;break}o=_e.sibling,_e.sibling=$,$=_e,_e=o}wj(_,!0,$,null,et);break;case"together":wj(_,!1,null,null,void 0);break;default:_.memoizedState=null}return _.child}function ij(o,_){!(_.mode&1)&&o!==null&&(o.alternate=null,_.alternate=null,_.flags|=2)}function Zi$1(o,_,$){if(o!==null&&(_.dependencies=o.dependencies),rh$1|=_.lanes,!($&_.childLanes))return null;if(o!==null&&_.child!==o.child)throw Error(p$5(153));if(_.child!==null){for(o=_.child,$=Pg(o,o.pendingProps),_.child=$,$.return=_;o.sibling!==null;)o=o.sibling,$=$.sibling=Pg(o,o.pendingProps),$.return=_;$.sibling=null}return _.child}function yj(o,_,$){switch(_.tag){case 3:kj(_),Ig();break;case 5:Ah$1(_);break;case 1:Zf$1(_.type)&&cg(_);break;case 4:yh$1(_,_.stateNode.containerInfo);break;case 10:var j=_.type._context,_e=_.memoizedProps.value;G(Wg,j._currentValue),j._currentValue=_e;break;case 13:if(j=_.memoizedState,j!==null)return j.dehydrated!==null?(G(L,L.current&1),_.flags|=128,null):$&_.child.childLanes?oj(o,_,$):(G(L,L.current&1),o=Zi$1(o,_,$),o!==null?o.sibling:null);G(L,L.current&1);break;case 19:if(j=($&_.childLanes)!==0,o.flags&128){if(j)return xj(o,_,$);_.flags|=128}if(_e=_.memoizedState,_e!==null&&(_e.rendering=null,_e.tail=null,_e.lastEffect=null),G(L,L.current),j)break;return null;case 22:case 23:return _.lanes=0,dj(o,_,$)}return Zi$1(o,_,$)}var zj,Aj,Bj,Cj;zj=function(o,_){for(var $=_.child;$!==null;){if($.tag===5||$.tag===6)o.appendChild($.stateNode);else if($.tag!==4&&$.child!==null){$.child.return=$,$=$.child;continue}if($===_)break;for(;$.sibling===null;){if($.return===null||$.return===_)return;$=$.return}$.sibling.return=$.return,$=$.sibling}};Aj=function(){};Bj=function(o,_,$,j){var _e=o.memoizedProps;if(_e!==j){o=_.stateNode,xh$1(uh$1.current);var et=null;switch($){case"input":_e=Ya$1(o,_e),j=Ya$1(o,j),et=[];break;case"select":_e=A$2({},_e,{value:void 0}),j=A$2({},j,{value:void 0}),et=[];break;case"textarea":_e=gb(o,_e),j=gb(o,j),et=[];break;default:typeof _e.onClick!="function"&&typeof j.onClick=="function"&&(o.onclick=Bf$1)}ub($,j);var tt;$=null;for(lt in _e)if(!j.hasOwnProperty(lt)&&_e.hasOwnProperty(lt)&&_e[lt]!=null)if(lt==="style"){var nt=_e[lt];for(tt in nt)nt.hasOwnProperty(tt)&&($||($={}),$[tt]="")}else lt!=="dangerouslySetInnerHTML"&&lt!=="children"&&lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&lt!=="autoFocus"&&(ea$1.hasOwnProperty(lt)?et||(et=[]):(et=et||[]).push(lt,null));for(lt in j){var it=j[lt];if(nt=_e!=null?_e[lt]:void 0,j.hasOwnProperty(lt)&&it!==nt&&(it!=null||nt!=null))if(lt==="style")if(nt){for(tt in nt)!nt.hasOwnProperty(tt)||it&&it.hasOwnProperty(tt)||($||($={}),$[tt]="");for(tt in it)it.hasOwnProperty(tt)&&nt[tt]!==it[tt]&&($||($={}),$[tt]=it[tt])}else $||(et||(et=[]),et.push(lt,$)),$=it;else lt==="dangerouslySetInnerHTML"?(it=it?it.__html:void 0,nt=nt?nt.__html:void 0,it!=null&&nt!==it&&(et=et||[]).push(lt,it)):lt==="children"?typeof it!="string"&&typeof it!="number"||(et=et||[]).push(lt,""+it):lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&(ea$1.hasOwnProperty(lt)?(it!=null&&lt==="onScroll"&&D("scroll",o),et||nt===it||(et=[])):(et=et||[]).push(lt,it))}$&&(et=et||[]).push("style",$);var lt=et;(_.updateQueue=lt)&&(_.flags|=4)}};Cj=function(o,_,$,j){$!==j&&(_.flags|=4)};function Dj(o,_){if(!I$1)switch(o.tailMode){case"hidden":_=o.tail;for(var $=null;_!==null;)_.alternate!==null&&($=_),_=_.sibling;$===null?o.tail=null:$.sibling=null;break;case"collapsed":$=o.tail;for(var j=null;$!==null;)$.alternate!==null&&(j=$),$=$.sibling;j===null?_||o.tail===null?o.tail=null:o.tail.sibling=null:j.sibling=null}}function S(o){var _=o.alternate!==null&&o.alternate.child===o.child,$=0,j=0;if(_)for(var _e=o.child;_e!==null;)$|=_e.lanes|_e.childLanes,j|=_e.subtreeFlags&14680064,j|=_e.flags&14680064,_e.return=o,_e=_e.sibling;else for(_e=o.child;_e!==null;)$|=_e.lanes|_e.childLanes,j|=_e.subtreeFlags,j|=_e.flags,_e.return=o,_e=_e.sibling;return o.subtreeFlags|=j,o.childLanes=$,_}function Ej(o,_,$){var j=_.pendingProps;switch(wg(_),_.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(_),null;case 1:return Zf$1(_.type)&&$f$1(),S(_),null;case 3:return j=_.stateNode,zh$1(),E(Wf$1),E(H),Eh$1(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(o===null||o.child===null)&&(Gg(_)?_.flags|=4:o===null||o.memoizedState.isDehydrated&&!(_.flags&256)||(_.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(o,_),S(_),null;case 5:Bh$1(_);var _e=xh$1(wh$1.current);if($=_.type,o!==null&&_.stateNode!=null)Bj(o,_,$,j,_e),o.ref!==_.ref&&(_.flags|=512,_.flags|=2097152);else{if(!j){if(_.stateNode===null)throw Error(p$5(166));return S(_),null}if(o=xh$1(uh$1.current),Gg(_)){j=_.stateNode,$=_.type;var et=_.memoizedProps;switch(j[Of$1]=_,j[Pf$1]=et,o=(_.mode&1)!==0,$){case"dialog":D("cancel",j),D("close",j);break;case"iframe":case"object":case"embed":D("load",j);break;case"video":case"audio":for(_e=0;_e<lf$1.length;_e++)D(lf$1[_e],j);break;case"source":D("error",j);break;case"img":case"image":case"link":D("error",j),D("load",j);break;case"details":D("toggle",j);break;case"input":Za$1(j,et),D("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!et.multiple},D("invalid",j);break;case"textarea":hb(j,et),D("invalid",j)}ub($,et),_e=null;for(var tt in et)if(et.hasOwnProperty(tt)){var nt=et[tt];tt==="children"?typeof nt=="string"?j.textContent!==nt&&(et.suppressHydrationWarning!==!0&&Af$1(j.textContent,nt,o),_e=["children",nt]):typeof nt=="number"&&j.textContent!==""+nt&&(et.suppressHydrationWarning!==!0&&Af$1(j.textContent,nt,o),_e=["children",""+nt]):ea$1.hasOwnProperty(tt)&&nt!=null&&tt==="onScroll"&&D("scroll",j)}switch($){case"input":Va$1(j),db(j,et,!0);break;case"textarea":Va$1(j),jb(j);break;case"select":case"option":break;default:typeof et.onClick=="function"&&(j.onclick=Bf$1)}j=_e,_.updateQueue=j,j!==null&&(_.flags|=4)}else{tt=_e.nodeType===9?_e:_e.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=kb($)),o==="http://www.w3.org/1999/xhtml"?$==="script"?(o=tt.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof j.is=="string"?o=tt.createElement($,{is:j.is}):(o=tt.createElement($),$==="select"&&(tt=o,j.multiple?tt.multiple=!0:j.size&&(tt.size=j.size))):o=tt.createElementNS(o,$),o[Of$1]=_,o[Pf$1]=j,zj(o,_,!1,!1),_.stateNode=o;e:{switch(tt=vb($,j),$){case"dialog":D("cancel",o),D("close",o),_e=j;break;case"iframe":case"object":case"embed":D("load",o),_e=j;break;case"video":case"audio":for(_e=0;_e<lf$1.length;_e++)D(lf$1[_e],o);_e=j;break;case"source":D("error",o),_e=j;break;case"img":case"image":case"link":D("error",o),D("load",o),_e=j;break;case"details":D("toggle",o),_e=j;break;case"input":Za$1(o,j),_e=Ya$1(o,j),D("invalid",o);break;case"option":_e=j;break;case"select":o._wrapperState={wasMultiple:!!j.multiple},_e=A$2({},j,{value:void 0}),D("invalid",o);break;case"textarea":hb(o,j),_e=gb(o,j),D("invalid",o);break;default:_e=j}ub($,_e),nt=_e;for(et in nt)if(nt.hasOwnProperty(et)){var it=nt[et];et==="style"?sb(o,it):et==="dangerouslySetInnerHTML"?(it=it?it.__html:void 0,it!=null&&nb(o,it)):et==="children"?typeof it=="string"?($!=="textarea"||it!=="")&&ob(o,it):typeof it=="number"&&ob(o,""+it):et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&et!=="autoFocus"&&(ea$1.hasOwnProperty(et)?it!=null&&et==="onScroll"&&D("scroll",o):it!=null&&ta$1(o,et,it,tt))}switch($){case"input":Va$1(o),db(o,j,!1);break;case"textarea":Va$1(o),jb(o);break;case"option":j.value!=null&&o.setAttribute("value",""+Sa$1(j.value));break;case"select":o.multiple=!!j.multiple,et=j.value,et!=null?fb(o,!!j.multiple,et,!1):j.defaultValue!=null&&fb(o,!!j.multiple,j.defaultValue,!0);break;default:typeof _e.onClick=="function"&&(o.onclick=Bf$1)}switch($){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(_.flags|=4)}_.ref!==null&&(_.flags|=512,_.flags|=2097152)}return S(_),null;case 6:if(o&&_.stateNode!=null)Cj(o,_,o.memoizedProps,j);else{if(typeof j!="string"&&_.stateNode===null)throw Error(p$5(166));if($=xh$1(wh$1.current),xh$1(uh$1.current),Gg(_)){if(j=_.stateNode,$=_.memoizedProps,j[Of$1]=_,(et=j.nodeValue!==$)&&(o=xg,o!==null))switch(o.tag){case 3:Af$1(j.nodeValue,$,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Af$1(j.nodeValue,$,(o.mode&1)!==0)}et&&(_.flags|=4)}else j=($.nodeType===9?$:$.ownerDocument).createTextNode(j),j[Of$1]=_,_.stateNode=j}return S(_),null;case 13:if(E(L),j=_.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&_.mode&1&&!(_.flags&128))Hg(),Ig(),_.flags|=98560,et=!1;else if(et=Gg(_),j!==null&&j.dehydrated!==null){if(o===null){if(!et)throw Error(p$5(318));if(et=_.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$5(317));et[Of$1]=_}else Ig(),!(_.flags&128)&&(_.memoizedState=null),_.flags|=4;S(_),et=!1}else zg!==null&&(Fj(zg),zg=null),et=!0;if(!et)return _.flags&65536?_:null}return _.flags&128?(_.lanes=$,_):(j=j!==null,j!==(o!==null&&o.memoizedState!==null)&&j&&(_.child.flags|=8192,_.mode&1&&(o===null||L.current&1?T===0&&(T=3):tj())),_.updateQueue!==null&&(_.flags|=4),S(_),null);case 4:return zh$1(),Aj(o,_),o===null&&sf$1(_.stateNode.containerInfo),S(_),null;case 10:return ah$1(_.type._context),S(_),null;case 17:return Zf$1(_.type)&&$f$1(),S(_),null;case 19:if(E(L),et=_.memoizedState,et===null)return S(_),null;if(j=(_.flags&128)!==0,tt=et.rendering,tt===null)if(j)Dj(et,!1);else{if(T!==0||o!==null&&o.flags&128)for(o=_.child;o!==null;){if(tt=Ch$1(o),tt!==null){for(_.flags|=128,Dj(et,!1),j=tt.updateQueue,j!==null&&(_.updateQueue=j,_.flags|=4),_.subtreeFlags=0,j=$,$=_.child;$!==null;)et=$,o=j,et.flags&=14680066,tt=et.alternate,tt===null?(et.childLanes=0,et.lanes=o,et.child=null,et.subtreeFlags=0,et.memoizedProps=null,et.memoizedState=null,et.updateQueue=null,et.dependencies=null,et.stateNode=null):(et.childLanes=tt.childLanes,et.lanes=tt.lanes,et.child=tt.child,et.subtreeFlags=0,et.deletions=null,et.memoizedProps=tt.memoizedProps,et.memoizedState=tt.memoizedState,et.updateQueue=tt.updateQueue,et.type=tt.type,o=tt.dependencies,et.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),$=$.sibling;return G(L,L.current&1|2),_.child}o=o.sibling}et.tail!==null&&B()>Gj&&(_.flags|=128,j=!0,Dj(et,!1),_.lanes=4194304)}else{if(!j)if(o=Ch$1(tt),o!==null){if(_.flags|=128,j=!0,$=o.updateQueue,$!==null&&(_.updateQueue=$,_.flags|=4),Dj(et,!0),et.tail===null&&et.tailMode==="hidden"&&!tt.alternate&&!I$1)return S(_),null}else 2*B()-et.renderingStartTime>Gj&&$!==1073741824&&(_.flags|=128,j=!0,Dj(et,!1),_.lanes=4194304);et.isBackwards?(tt.sibling=_.child,_.child=tt):($=et.last,$!==null?$.sibling=tt:_.child=tt,et.last=tt)}return et.tail!==null?(_=et.tail,et.rendering=_,et.tail=_.sibling,et.renderingStartTime=B(),_.sibling=null,$=L.current,G(L,j?$&1|2:$&1),_):(S(_),null);case 22:case 23:return Hj(),j=_.memoizedState!==null,o!==null&&o.memoizedState!==null!==j&&(_.flags|=8192),j&&_.mode&1?fj&1073741824&&(S(_),_.subtreeFlags&6&&(_.flags|=8192)):S(_),null;case 24:return null;case 25:return null}throw Error(p$5(156,_.tag))}function Ij(o,_){switch(wg(_),_.tag){case 1:return Zf$1(_.type)&&$f$1(),o=_.flags,o&65536?(_.flags=o&-65537|128,_):null;case 3:return zh$1(),E(Wf$1),E(H),Eh$1(),o=_.flags,o&65536&&!(o&128)?(_.flags=o&-65537|128,_):null;case 5:return Bh$1(_),null;case 13:if(E(L),o=_.memoizedState,o!==null&&o.dehydrated!==null){if(_.alternate===null)throw Error(p$5(340));Ig()}return o=_.flags,o&65536?(_.flags=o&-65537|128,_):null;case 19:return E(L),null;case 4:return zh$1(),null;case 10:return ah$1(_.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(o,_){var $=o.ref;if($!==null)if(typeof $=="function")try{$(null)}catch(j){W(o,_,j)}else $.current=null}function Mj(o,_,$){try{$()}catch(j){W(o,_,j)}}var Nj=!1;function Oj(o,_){if(Cf$1=dd$1,o=Me(),Ne(o)){if("selectionStart"in o)var $={start:o.selectionStart,end:o.selectionEnd};else e:{$=($=o.ownerDocument)&&$.defaultView||window;var j=$.getSelection&&$.getSelection();if(j&&j.rangeCount!==0){$=j.anchorNode;var _e=j.anchorOffset,et=j.focusNode;j=j.focusOffset;try{$.nodeType,et.nodeType}catch{$=null;break e}var tt=0,nt=-1,it=-1,lt=0,dt=0,bt=o,Ht=null;t:for(;;){for(var pr;bt!==$||_e!==0&&bt.nodeType!==3||(nt=tt+_e),bt!==et||j!==0&&bt.nodeType!==3||(it=tt+j),bt.nodeType===3&&(tt+=bt.nodeValue.length),(pr=bt.firstChild)!==null;)Ht=bt,bt=pr;for(;;){if(bt===o)break t;if(Ht===$&&++lt===_e&&(nt=tt),Ht===et&&++dt===j&&(it=tt),(pr=bt.nextSibling)!==null)break;bt=Ht,Ht=bt.parentNode}bt=pr}$=nt===-1||it===-1?null:{start:nt,end:it}}else $=null}$=$||{start:0,end:0}}else $=null;for(Df$1={focusedElem:o,selectionRange:$},dd$1=!1,V=_;V!==null;)if(_=V,o=_.child,(_.subtreeFlags&1028)!==0&&o!==null)o.return=_,V=o;else for(;V!==null;){_=V;try{var _n=_.alternate;if(_.flags&1024)switch(_.tag){case 0:case 11:case 15:break;case 1:if(_n!==null){var ft=_n.memoizedProps,Ct=_n.memoizedState,mr=_.stateNode,_r=mr.getSnapshotBeforeUpdate(_.elementType===_.type?ft:Ci$2(_.type,ft),Ct);mr.__reactInternalSnapshotBeforeUpdate=_r}break;case 3:var mn=_.stateNode.containerInfo;mn.nodeType===1?mn.textContent="":mn.nodeType===9&&mn.documentElement&&mn.removeChild(mn.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$5(163))}}catch(dr){W(_,_.return,dr)}if(o=_.sibling,o!==null){o.return=_.return,V=o;break}V=_.return}return _n=Nj,Nj=!1,_n}function Pj(o,_,$){var j=_.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var _e=j=j.next;do{if((_e.tag&o)===o){var et=_e.destroy;_e.destroy=void 0,et!==void 0&&Mj(_,$,et)}_e=_e.next}while(_e!==j)}}function Qj(o,_){if(_=_.updateQueue,_=_!==null?_.lastEffect:null,_!==null){var $=_=_.next;do{if(($.tag&o)===o){var j=$.create;$.destroy=j()}$=$.next}while($!==_)}}function Rj(o){var _=o.ref;if(_!==null){var $=o.stateNode;switch(o.tag){case 5:o=$;break;default:o=$}typeof _=="function"?_(o):_.current=o}}function Sj(o){var _=o.alternate;_!==null&&(o.alternate=null,Sj(_)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(_=o.stateNode,_!==null&&(delete _[Of$1],delete _[Pf$1],delete _[of$1],delete _[Qf$1],delete _[Rf$1])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Tj(o){return o.tag===5||o.tag===3||o.tag===4}function Uj(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Tj(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Vj(o,_,$){var j=o.tag;if(j===5||j===6)o=o.stateNode,_?$.nodeType===8?$.parentNode.insertBefore(o,_):$.insertBefore(o,_):($.nodeType===8?(_=$.parentNode,_.insertBefore(o,$)):(_=$,_.appendChild(o)),$=$._reactRootContainer,$!=null||_.onclick!==null||(_.onclick=Bf$1));else if(j!==4&&(o=o.child,o!==null))for(Vj(o,_,$),o=o.sibling;o!==null;)Vj(o,_,$),o=o.sibling}function Wj(o,_,$){var j=o.tag;if(j===5||j===6)o=o.stateNode,_?$.insertBefore(o,_):$.appendChild(o);else if(j!==4&&(o=o.child,o!==null))for(Wj(o,_,$),o=o.sibling;o!==null;)Wj(o,_,$),o=o.sibling}var X=null,Xj=!1;function Yj(o,_,$){for($=$.child;$!==null;)Zj(o,_,$),$=$.sibling}function Zj(o,_,$){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc$1,$)}catch{}switch($.tag){case 5:U||Lj($,_);case 6:var j=X,_e=Xj;X=null,Yj(o,_,$),X=j,Xj=_e,X!==null&&(Xj?(o=X,$=$.stateNode,o.nodeType===8?o.parentNode.removeChild($):o.removeChild($)):X.removeChild($.stateNode));break;case 18:X!==null&&(Xj?(o=X,$=$.stateNode,o.nodeType===8?Kf$1(o.parentNode,$):o.nodeType===1&&Kf$1(o,$),bd$1(o)):Kf$1(X,$.stateNode));break;case 4:j=X,_e=Xj,X=$.stateNode.containerInfo,Xj=!0,Yj(o,_,$),X=j,Xj=_e;break;case 0:case 11:case 14:case 15:if(!U&&(j=$.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){_e=j=j.next;do{var et=_e,tt=et.destroy;et=et.tag,tt!==void 0&&(et&2||et&4)&&Mj($,_,tt),_e=_e.next}while(_e!==j)}Yj(o,_,$);break;case 1:if(!U&&(Lj($,_),j=$.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=$.memoizedProps,j.state=$.memoizedState,j.componentWillUnmount()}catch(nt){W($,_,nt)}Yj(o,_,$);break;case 21:Yj(o,_,$);break;case 22:$.mode&1?(U=(j=U)||$.memoizedState!==null,Yj(o,_,$),U=j):Yj(o,_,$);break;default:Yj(o,_,$)}}function ak(o){var _=o.updateQueue;if(_!==null){o.updateQueue=null;var $=o.stateNode;$===null&&($=o.stateNode=new Kj),_.forEach(function(j){var _e=bk.bind(null,o,j);$.has(j)||($.add(j),j.then(_e,_e))})}}function ck(o,_){var $=_.deletions;if($!==null)for(var j=0;j<$.length;j++){var _e=$[j];try{var et=o,tt=_,nt=tt;e:for(;nt!==null;){switch(nt.tag){case 5:X=nt.stateNode,Xj=!1;break e;case 3:X=nt.stateNode.containerInfo,Xj=!0;break e;case 4:X=nt.stateNode.containerInfo,Xj=!0;break e}nt=nt.return}if(X===null)throw Error(p$5(160));Zj(et,tt,_e),X=null,Xj=!1;var it=_e.alternate;it!==null&&(it.return=null),_e.return=null}catch(lt){W(_e,_,lt)}}if(_.subtreeFlags&12854)for(_=_.child;_!==null;)dk(_,o),_=_.sibling}function dk(o,_){var $=o.alternate,j=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ck(_,o),ek(o),j&4){try{Pj(3,o,o.return),Qj(3,o)}catch(ft){W(o,o.return,ft)}try{Pj(5,o,o.return)}catch(ft){W(o,o.return,ft)}}break;case 1:ck(_,o),ek(o),j&512&&$!==null&&Lj($,$.return);break;case 5:if(ck(_,o),ek(o),j&512&&$!==null&&Lj($,$.return),o.flags&32){var _e=o.stateNode;try{ob(_e,"")}catch(ft){W(o,o.return,ft)}}if(j&4&&(_e=o.stateNode,_e!=null)){var et=o.memoizedProps,tt=$!==null?$.memoizedProps:et,nt=o.type,it=o.updateQueue;if(o.updateQueue=null,it!==null)try{nt==="input"&&et.type==="radio"&&et.name!=null&&ab(_e,et),vb(nt,tt);var lt=vb(nt,et);for(tt=0;tt<it.length;tt+=2){var dt=it[tt],bt=it[tt+1];dt==="style"?sb(_e,bt):dt==="dangerouslySetInnerHTML"?nb(_e,bt):dt==="children"?ob(_e,bt):ta$1(_e,dt,bt,lt)}switch(nt){case"input":bb(_e,et);break;case"textarea":ib(_e,et);break;case"select":var Ht=_e._wrapperState.wasMultiple;_e._wrapperState.wasMultiple=!!et.multiple;var pr=et.value;pr!=null?fb(_e,!!et.multiple,pr,!1):Ht!==!!et.multiple&&(et.defaultValue!=null?fb(_e,!!et.multiple,et.defaultValue,!0):fb(_e,!!et.multiple,et.multiple?[]:"",!1))}_e[Pf$1]=et}catch(ft){W(o,o.return,ft)}}break;case 6:if(ck(_,o),ek(o),j&4){if(o.stateNode===null)throw Error(p$5(162));_e=o.stateNode,et=o.memoizedProps;try{_e.nodeValue=et}catch(ft){W(o,o.return,ft)}}break;case 3:if(ck(_,o),ek(o),j&4&&$!==null&&$.memoizedState.isDehydrated)try{bd$1(_.containerInfo)}catch(ft){W(o,o.return,ft)}break;case 4:ck(_,o),ek(o);break;case 13:ck(_,o),ek(o),_e=o.child,_e.flags&8192&&(et=_e.memoizedState!==null,_e.stateNode.isHidden=et,!et||_e.alternate!==null&&_e.alternate.memoizedState!==null||(fk=B())),j&4&&ak(o);break;case 22:if(dt=$!==null&&$.memoizedState!==null,o.mode&1?(U=(lt=U)||dt,ck(_,o),U=lt):ck(_,o),ek(o),j&8192){if(lt=o.memoizedState!==null,(o.stateNode.isHidden=lt)&&!dt&&o.mode&1)for(V=o,dt=o.child;dt!==null;){for(bt=V=dt;V!==null;){switch(Ht=V,pr=Ht.child,Ht.tag){case 0:case 11:case 14:case 15:Pj(4,Ht,Ht.return);break;case 1:Lj(Ht,Ht.return);var _n=Ht.stateNode;if(typeof _n.componentWillUnmount=="function"){j=Ht,$=Ht.return;try{_=j,_n.props=_.memoizedProps,_n.state=_.memoizedState,_n.componentWillUnmount()}catch(ft){W(j,$,ft)}}break;case 5:Lj(Ht,Ht.return);break;case 22:if(Ht.memoizedState!==null){gk(bt);continue}}pr!==null?(pr.return=Ht,V=pr):gk(bt)}dt=dt.sibling}e:for(dt=null,bt=o;;){if(bt.tag===5){if(dt===null){dt=bt;try{_e=bt.stateNode,lt?(et=_e.style,typeof et.setProperty=="function"?et.setProperty("display","none","important"):et.display="none"):(nt=bt.stateNode,it=bt.memoizedProps.style,tt=it!=null&&it.hasOwnProperty("display")?it.display:null,nt.style.display=rb$1("display",tt))}catch(ft){W(o,o.return,ft)}}}else if(bt.tag===6){if(dt===null)try{bt.stateNode.nodeValue=lt?"":bt.memoizedProps}catch(ft){W(o,o.return,ft)}}else if((bt.tag!==22&&bt.tag!==23||bt.memoizedState===null||bt===o)&&bt.child!==null){bt.child.return=bt,bt=bt.child;continue}if(bt===o)break e;for(;bt.sibling===null;){if(bt.return===null||bt.return===o)break e;dt===bt&&(dt=null),bt=bt.return}dt===bt&&(dt=null),bt.sibling.return=bt.return,bt=bt.sibling}}break;case 19:ck(_,o),ek(o),j&4&&ak(o);break;case 21:break;default:ck(_,o),ek(o)}}function ek(o){var _=o.flags;if(_&2){try{e:{for(var $=o.return;$!==null;){if(Tj($)){var j=$;break e}$=$.return}throw Error(p$5(160))}switch(j.tag){case 5:var _e=j.stateNode;j.flags&32&&(ob(_e,""),j.flags&=-33);var et=Uj(o);Wj(o,et,_e);break;case 3:case 4:var tt=j.stateNode.containerInfo,nt=Uj(o);Vj(o,nt,tt);break;default:throw Error(p$5(161))}}catch(it){W(o,o.return,it)}o.flags&=-3}_&4096&&(o.flags&=-4097)}function hk(o,_,$){V=o,ik(o)}function ik(o,_,$){for(var j=(o.mode&1)!==0;V!==null;){var _e=V,et=_e.child;if(_e.tag===22&&j){var tt=_e.memoizedState!==null||Jj;if(!tt){var nt=_e.alternate,it=nt!==null&&nt.memoizedState!==null||U;nt=Jj;var lt=U;if(Jj=tt,(U=it)&&!lt)for(V=_e;V!==null;)tt=V,it=tt.child,tt.tag===22&&tt.memoizedState!==null?jk(_e):it!==null?(it.return=tt,V=it):jk(_e);for(;et!==null;)V=et,ik(et),et=et.sibling;V=_e,Jj=nt,U=lt}kk(o)}else _e.subtreeFlags&8772&&et!==null?(et.return=_e,V=et):kk(o)}}function kk(o){for(;V!==null;){var _=V;if(_.flags&8772){var $=_.alternate;try{if(_.flags&8772)switch(_.tag){case 0:case 11:case 15:U||Qj(5,_);break;case 1:var j=_.stateNode;if(_.flags&4&&!U)if($===null)j.componentDidMount();else{var _e=_.elementType===_.type?$.memoizedProps:Ci$2(_.type,$.memoizedProps);j.componentDidUpdate(_e,$.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var et=_.updateQueue;et!==null&&sh$1(_,et,j);break;case 3:var tt=_.updateQueue;if(tt!==null){if($=null,_.child!==null)switch(_.child.tag){case 5:$=_.child.stateNode;break;case 1:$=_.child.stateNode}sh$1(_,tt,$)}break;case 5:var nt=_.stateNode;if($===null&&_.flags&4){$=nt;var it=_.memoizedProps;switch(_.type){case"button":case"input":case"select":case"textarea":it.autoFocus&&$.focus();break;case"img":it.src&&($.src=it.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_.memoizedState===null){var lt=_.alternate;if(lt!==null){var dt=lt.memoizedState;if(dt!==null){var bt=dt.dehydrated;bt!==null&&bd$1(bt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$5(163))}U||_.flags&512&&Rj(_)}catch(Ht){W(_,_.return,Ht)}}if(_===o){V=null;break}if($=_.sibling,$!==null){$.return=_.return,V=$;break}V=_.return}}function gk(o){for(;V!==null;){var _=V;if(_===o){V=null;break}var $=_.sibling;if($!==null){$.return=_.return,V=$;break}V=_.return}}function jk(o){for(;V!==null;){var _=V;try{switch(_.tag){case 0:case 11:case 15:var $=_.return;try{Qj(4,_)}catch(it){W(_,$,it)}break;case 1:var j=_.stateNode;if(typeof j.componentDidMount=="function"){var _e=_.return;try{j.componentDidMount()}catch(it){W(_,_e,it)}}var et=_.return;try{Rj(_)}catch(it){W(_,et,it)}break;case 5:var tt=_.return;try{Rj(_)}catch(it){W(_,tt,it)}}}catch(it){W(_,_.return,it)}if(_===o){V=null;break}var nt=_.sibling;if(nt!==null){nt.return=_.return,V=nt;break}V=_.return}}var lk=Math.ceil,mk=ua$1.ReactCurrentDispatcher,nk=ua$1.ReactCurrentOwner,ok=ua$1.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf$1(0),T=0,pk=null,rh$1=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi$1=!1,Pi$1=null,Ri$1=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(o){return o.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc$1()),Bk):(o=C,o!==0||(o=window.event,o=o===void 0?16:jd$1(o.type)),o):1}function gi$1(o,_,$,j){if(50<yk)throw yk=0,zk=null,Error(p$5(185));Ac$1(o,$,j),(!(K&2)||o!==Q)&&(o===Q&&(!(K&2)&&(qk|=$),T===4&&Ck(o,Z)),Dk(o,j),$===1&&K===0&&!(_.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(o,_){var $=o.callbackNode;wc$1(o,_);var j=uc$1(o,o===Q?Z:0);if(j===0)$!==null&&bc$1($),o.callbackNode=null,o.callbackPriority=0;else if(_=j&-j,o.callbackPriority!==_){if($!=null&&bc$1($),_===1)o.tag===0?ig(Ek.bind(null,o)):hg(Ek.bind(null,o)),Jf$1(function(){!(K&6)&&jg()}),$=null;else{switch(Dc$1(j)){case 1:$=fc$1;break;case 4:$=gc$1;break;case 16:$=hc$1;break;case 536870912:$=jc$1;break;default:$=hc$1}$=Fk($,Gk.bind(null,o))}o.callbackPriority=_,o.callbackNode=$}}function Gk(o,_){if(Ak=-1,Bk=0,K&6)throw Error(p$5(327));var $=o.callbackNode;if(Hk()&&o.callbackNode!==$)return null;var j=uc$1(o,o===Q?Z:0);if(j===0)return null;if(j&30||j&o.expiredLanes||_)_=Ik(o,j);else{_=j;var _e=K;K|=2;var et=Jk();(Q!==o||Z!==_)&&(uk=null,Gj=B()+500,Kk(o,_));do try{Lk();break}catch(nt){Mk(o,nt)}while(!0);$g(),mk.current=et,K=_e,Y!==null?_=0:(Q=null,Z=0,_=T)}if(_!==0){if(_===2&&(_e=xc$1(o),_e!==0&&(j=_e,_=Nk(o,_e))),_===1)throw $=pk,Kk(o,0),Ck(o,j),Dk(o,B()),$;if(_===6)Ck(o,j);else{if(_e=o.current.alternate,!(j&30)&&!Ok(_e)&&(_=Ik(o,j),_===2&&(et=xc$1(o),et!==0&&(j=et,_=Nk(o,et))),_===1))throw $=pk,Kk(o,0),Ck(o,j),Dk(o,B()),$;switch(o.finishedWork=_e,o.finishedLanes=j,_){case 0:case 1:throw Error(p$5(345));case 2:Pk(o,tk,uk);break;case 3:if(Ck(o,j),(j&130023424)===j&&(_=fk+500-B(),10<_)){if(uc$1(o,0)!==0)break;if(_e=o.suspendedLanes,(_e&j)!==j){R(),o.pingedLanes|=o.suspendedLanes&_e;break}o.timeoutHandle=Ff$1(Pk.bind(null,o,tk,uk),_);break}Pk(o,tk,uk);break;case 4:if(Ck(o,j),(j&4194240)===j)break;for(_=o.eventTimes,_e=-1;0<j;){var tt=31-oc$1(j);et=1<<tt,tt=_[tt],tt>_e&&(_e=tt),j&=~et}if(j=_e,j=B()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*lk(j/1960))-j,10<j){o.timeoutHandle=Ff$1(Pk.bind(null,o,tk,uk),j);break}Pk(o,tk,uk);break;case 5:Pk(o,tk,uk);break;default:throw Error(p$5(329))}}}return Dk(o,B()),o.callbackNode===$?Gk.bind(null,o):null}function Nk(o,_){var $=sk;return o.current.memoizedState.isDehydrated&&(Kk(o,_).flags|=256),o=Ik(o,_),o!==2&&(_=tk,tk=$,_!==null&&Fj(_)),o}function Fj(o){tk===null?tk=o:tk.push.apply(tk,o)}function Ok(o){for(var _=o;;){if(_.flags&16384){var $=_.updateQueue;if($!==null&&($=$.stores,$!==null))for(var j=0;j<$.length;j++){var _e=$[j],et=_e.getSnapshot;_e=_e.value;try{if(!He(et(),_e))return!1}catch{return!1}}}if($=_.child,_.subtreeFlags&16384&&$!==null)$.return=_,_=$;else{if(_===o)break;for(;_.sibling===null;){if(_.return===null||_.return===o)return!0;_=_.return}_.sibling.return=_.return,_=_.sibling}}return!0}function Ck(o,_){for(_&=~rk,_&=~qk,o.suspendedLanes|=_,o.pingedLanes&=~_,o=o.expirationTimes;0<_;){var $=31-oc$1(_),j=1<<$;o[$]=-1,_&=~j}}function Ek(o){if(K&6)throw Error(p$5(327));Hk();var _=uc$1(o,0);if(!(_&1))return Dk(o,B()),null;var $=Ik(o,_);if(o.tag!==0&&$===2){var j=xc$1(o);j!==0&&(_=j,$=Nk(o,j))}if($===1)throw $=pk,Kk(o,0),Ck(o,_),Dk(o,B()),$;if($===6)throw Error(p$5(345));return o.finishedWork=o.current.alternate,o.finishedLanes=_,Pk(o,tk,uk),Dk(o,B()),null}function Qk(o,_){var $=K;K|=1;try{return o(_)}finally{K=$,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(o){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var _=K;K|=1;var $=ok.transition,j=C;try{if(ok.transition=null,C=1,o)return o()}finally{C=j,ok.transition=$,K=_,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(o,_){o.finishedWork=null,o.finishedLanes=0;var $=o.timeoutHandle;if($!==-1&&(o.timeoutHandle=-1,Gf$1($)),Y!==null)for($=Y.return;$!==null;){var j=$;switch(wg(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&$f$1();break;case 3:zh$1(),E(Wf$1),E(H),Eh$1();break;case 5:Bh$1(j);break;case 4:zh$1();break;case 13:E(L);break;case 19:E(L);break;case 10:ah$1(j.type._context);break;case 22:case 23:Hj()}$=$.return}if(Q=o,Y=o=Pg(o.current,null),Z=fj=_,T=0,pk=null,rk=qk=rh$1=0,tk=sk=null,fh$1!==null){for(_=0;_<fh$1.length;_++)if($=fh$1[_],j=$.interleaved,j!==null){$.interleaved=null;var _e=j.next,et=$.pending;if(et!==null){var tt=et.next;et.next=_e,j.next=tt}$.pending=j}fh$1=null}return o}function Mk(o,_){do{var $=Y;try{if($g(),Fh$1.current=Rh$1,Ih$1){for(var j=M.memoizedState;j!==null;){var _e=j.queue;_e!==null&&(_e.pending=null),j=j.next}Ih$1=!1}if(Hh$1=0,O=N=M=null,Jh$1=!1,Kh$1=0,nk.current=null,$===null||$.return===null){T=1,pk=_,Y=null;break}e:{var et=o,tt=$.return,nt=$,it=_;if(_=Z,nt.flags|=32768,it!==null&&typeof it=="object"&&typeof it.then=="function"){var lt=it,dt=nt,bt=dt.tag;if(!(dt.mode&1)&&(bt===0||bt===11||bt===15)){var Ht=dt.alternate;Ht?(dt.updateQueue=Ht.updateQueue,dt.memoizedState=Ht.memoizedState,dt.lanes=Ht.lanes):(dt.updateQueue=null,dt.memoizedState=null)}var pr=Ui$1(tt);if(pr!==null){pr.flags&=-257,Vi$1(pr,tt,nt,et,_),pr.mode&1&&Si(et,lt,_),_=pr,it=lt;var _n=_.updateQueue;if(_n===null){var ft=new Set;ft.add(it),_.updateQueue=ft}else _n.add(it);break e}else{if(!(_&1)){Si(et,lt,_),tj();break e}it=Error(p$5(426))}}else if(I$1&&nt.mode&1){var Ct=Ui$1(tt);if(Ct!==null){!(Ct.flags&65536)&&(Ct.flags|=256),Vi$1(Ct,tt,nt,et,_),Jg(Ji$1(it,nt));break e}}et=it=Ji$1(it,nt),T!==4&&(T=2),sk===null?sk=[et]:sk.push(et),et=tt;do{switch(et.tag){case 3:et.flags|=65536,_&=-_,et.lanes|=_;var mr=Ni$1(et,it,_);ph$1(et,mr);break e;case 1:nt=it;var _r=et.type,mn=et.stateNode;if(!(et.flags&128)&&(typeof _r.getDerivedStateFromError=="function"||mn!==null&&typeof mn.componentDidCatch=="function"&&(Ri$1===null||!Ri$1.has(mn)))){et.flags|=65536,_&=-_,et.lanes|=_;var dr=Qi$1(et,nt,_);ph$1(et,dr);break e}}et=et.return}while(et!==null)}Sk($)}catch(pn){_=pn,Y===$&&$!==null&&(Y=$=$.return);continue}break}while(!0)}function Jk(){var o=mk.current;return mk.current=Rh$1,o===null?Rh$1:o}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh$1&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(o,_){var $=K;K|=2;var j=Jk();(Q!==o||Z!==_)&&(uk=null,Kk(o,_));do try{Tk();break}catch(_e){Mk(o,_e)}while(!0);if($g(),K=$,mk.current=j,Y!==null)throw Error(p$5(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc$2();)Uk(Y)}function Uk(o){var _=Vk(o.alternate,o,fj);o.memoizedProps=o.pendingProps,_===null?Sk(o):Y=_,nk.current=null}function Sk(o){var _=o;do{var $=_.alternate;if(o=_.return,_.flags&32768){if($=Ij($,_),$!==null){$.flags&=32767,Y=$;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{T=6,Y=null;return}}else if($=Ej($,_,fj),$!==null){Y=$;return}if(_=_.sibling,_!==null){Y=_;return}Y=_=o}while(_!==null);T===0&&(T=5)}function Pk(o,_,$){var j=C,_e=ok.transition;try{ok.transition=null,C=1,Wk(o,_,$,j)}finally{ok.transition=_e,C=j}return null}function Wk(o,_,$,j){do Hk();while(wk!==null);if(K&6)throw Error(p$5(327));$=o.finishedWork;var _e=o.finishedLanes;if($===null)return null;if(o.finishedWork=null,o.finishedLanes=0,$===o.current)throw Error(p$5(177));o.callbackNode=null,o.callbackPriority=0;var et=$.lanes|$.childLanes;if(Bc$1(o,et),o===Q&&(Y=Q=null,Z=0),!($.subtreeFlags&2064)&&!($.flags&2064)||vk||(vk=!0,Fk(hc$1,function(){return Hk(),null})),et=($.flags&15990)!==0,$.subtreeFlags&15990||et){et=ok.transition,ok.transition=null;var tt=C;C=1;var nt=K;K|=4,nk.current=null,Oj(o,$),dk($,o),Oe(Df$1),dd$1=!!Cf$1,Df$1=Cf$1=null,o.current=$,hk($),dc$1(),K=nt,C=tt,ok.transition=et}else o.current=$;if(vk&&(vk=!1,wk=o,xk=_e),et=o.pendingLanes,et===0&&(Ri$1=null),mc$1($.stateNode),Dk(o,B()),_!==null)for(j=o.onRecoverableError,$=0;$<_.length;$++)_e=_[$],j(_e.value,{componentStack:_e.stack,digest:_e.digest});if(Oi$1)throw Oi$1=!1,o=Pi$1,Pi$1=null,o;return xk&1&&o.tag!==0&&Hk(),et=o.pendingLanes,et&1?o===zk?yk++:(yk=0,zk=o):yk=0,jg(),null}function Hk(){if(wk!==null){var o=Dc$1(xk),_=ok.transition,$=C;try{if(ok.transition=null,C=16>o?16:o,wk===null)var j=!1;else{if(o=wk,wk=null,xk=0,K&6)throw Error(p$5(331));var _e=K;for(K|=4,V=o.current;V!==null;){var et=V,tt=et.child;if(V.flags&16){var nt=et.deletions;if(nt!==null){for(var it=0;it<nt.length;it++){var lt=nt[it];for(V=lt;V!==null;){var dt=V;switch(dt.tag){case 0:case 11:case 15:Pj(8,dt,et)}var bt=dt.child;if(bt!==null)bt.return=dt,V=bt;else for(;V!==null;){dt=V;var Ht=dt.sibling,pr=dt.return;if(Sj(dt),dt===lt){V=null;break}if(Ht!==null){Ht.return=pr,V=Ht;break}V=pr}}}var _n=et.alternate;if(_n!==null){var ft=_n.child;if(ft!==null){_n.child=null;do{var Ct=ft.sibling;ft.sibling=null,ft=Ct}while(ft!==null)}}V=et}}if(et.subtreeFlags&2064&&tt!==null)tt.return=et,V=tt;else e:for(;V!==null;){if(et=V,et.flags&2048)switch(et.tag){case 0:case 11:case 15:Pj(9,et,et.return)}var mr=et.sibling;if(mr!==null){mr.return=et.return,V=mr;break e}V=et.return}}var _r=o.current;for(V=_r;V!==null;){tt=V;var mn=tt.child;if(tt.subtreeFlags&2064&&mn!==null)mn.return=tt,V=mn;else e:for(tt=_r;V!==null;){if(nt=V,nt.flags&2048)try{switch(nt.tag){case 0:case 11:case 15:Qj(9,nt)}}catch(pn){W(nt,nt.return,pn)}if(nt===tt){V=null;break e}var dr=nt.sibling;if(dr!==null){dr.return=nt.return,V=dr;break e}V=nt.return}}if(K=_e,jg(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc$1,o)}catch{}j=!0}return j}finally{C=$,ok.transition=_}}return!1}function Xk(o,_,$){_=Ji$1($,_),_=Ni$1(o,_,1),o=nh$1(o,_,1),_=R(),o!==null&&(Ac$1(o,1,_),Dk(o,_))}function W(o,_,$){if(o.tag===3)Xk(o,o,$);else for(;_!==null;){if(_.tag===3){Xk(_,o,$);break}else if(_.tag===1){var j=_.stateNode;if(typeof _.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Ri$1===null||!Ri$1.has(j))){o=Ji$1($,o),o=Qi$1(_,o,1),_=nh$1(_,o,1),o=R(),_!==null&&(Ac$1(_,1,o),Dk(_,o));break}}_=_.return}}function Ti$1(o,_,$){var j=o.pingCache;j!==null&&j.delete(_),_=R(),o.pingedLanes|=o.suspendedLanes&$,Q===o&&(Z&$)===$&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(o,0):rk|=$),Dk(o,_)}function Yk(o,_){_===0&&(o.mode&1?(_=sc$1,sc$1<<=1,!(sc$1&130023424)&&(sc$1=4194304)):_=1);var $=R();o=ih$1(o,_),o!==null&&(Ac$1(o,_,$),Dk(o,$))}function uj(o){var _=o.memoizedState,$=0;_!==null&&($=_.retryLane),Yk(o,$)}function bk(o,_){var $=0;switch(o.tag){case 13:var j=o.stateNode,_e=o.memoizedState;_e!==null&&($=_e.retryLane);break;case 19:j=o.stateNode;break;default:throw Error(p$5(314))}j!==null&&j.delete(_),Yk(o,$)}var Vk;Vk=function(o,_,$){if(o!==null)if(o.memoizedProps!==_.pendingProps||Wf$1.current)dh$1=!0;else{if(!(o.lanes&$)&&!(_.flags&128))return dh$1=!1,yj(o,_,$);dh$1=!!(o.flags&131072)}else dh$1=!1,I$1&&_.flags&1048576&&ug(_,ng,_.index);switch(_.lanes=0,_.tag){case 2:var j=_.type;ij(o,_),o=_.pendingProps;var _e=Yf$1(_,H.current);ch$1(_,$),_e=Nh$1(null,_,j,o,_e,$);var et=Sh$1();return _.flags|=1,typeof _e=="object"&&_e!==null&&typeof _e.render=="function"&&_e.$$typeof===void 0?(_.tag=1,_.memoizedState=null,_.updateQueue=null,Zf$1(j)?(et=!0,cg(_)):et=!1,_.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,kh$1(_),_e.updater=Ei,_.stateNode=_e,_e._reactInternals=_,Ii$1(_,j,o,$),_=jj(null,_,j,!0,et,$)):(_.tag=0,I$1&&et&&vg(_),Xi$1(null,_,_e,$),_=_.child),_;case 16:j=_.elementType;e:{switch(ij(o,_),o=_.pendingProps,_e=j._init,j=_e(j._payload),_.type=j,_e=_.tag=Zk(j),o=Ci$2(j,o),_e){case 0:_=cj(null,_,j,o,$);break e;case 1:_=hj(null,_,j,o,$);break e;case 11:_=Yi$1(null,_,j,o,$);break e;case 14:_=$i$1(null,_,j,Ci$2(j.type,o),$);break e}throw Error(p$5(306,j,""))}return _;case 0:return j=_.type,_e=_.pendingProps,_e=_.elementType===j?_e:Ci$2(j,_e),cj(o,_,j,_e,$);case 1:return j=_.type,_e=_.pendingProps,_e=_.elementType===j?_e:Ci$2(j,_e),hj(o,_,j,_e,$);case 3:e:{if(kj(_),o===null)throw Error(p$5(387));j=_.pendingProps,et=_.memoizedState,_e=et.element,lh$1(o,_),qh$1(_,j,null,$);var tt=_.memoizedState;if(j=tt.element,et.isDehydrated)if(et={element:j,isDehydrated:!1,cache:tt.cache,pendingSuspenseBoundaries:tt.pendingSuspenseBoundaries,transitions:tt.transitions},_.updateQueue.baseState=et,_.memoizedState=et,_.flags&256){_e=Ji$1(Error(p$5(423)),_),_=lj(o,_,j,$,_e);break e}else if(j!==_e){_e=Ji$1(Error(p$5(424)),_),_=lj(o,_,j,$,_e);break e}else for(yg=Lf$1(_.stateNode.containerInfo.firstChild),xg=_,I$1=!0,zg=null,$=Vg(_,null,j,$),_.child=$;$;)$.flags=$.flags&-3|4096,$=$.sibling;else{if(Ig(),j===_e){_=Zi$1(o,_,$);break e}Xi$1(o,_,j,$)}_=_.child}return _;case 5:return Ah$1(_),o===null&&Eg(_),j=_.type,_e=_.pendingProps,et=o!==null?o.memoizedProps:null,tt=_e.children,Ef$1(j,_e)?tt=null:et!==null&&Ef$1(j,et)&&(_.flags|=32),gj(o,_),Xi$1(o,_,tt,$),_.child;case 6:return o===null&&Eg(_),null;case 13:return oj(o,_,$);case 4:return yh$1(_,_.stateNode.containerInfo),j=_.pendingProps,o===null?_.child=Ug(_,null,j,$):Xi$1(o,_,j,$),_.child;case 11:return j=_.type,_e=_.pendingProps,_e=_.elementType===j?_e:Ci$2(j,_e),Yi$1(o,_,j,_e,$);case 7:return Xi$1(o,_,_.pendingProps,$),_.child;case 8:return Xi$1(o,_,_.pendingProps.children,$),_.child;case 12:return Xi$1(o,_,_.pendingProps.children,$),_.child;case 10:e:{if(j=_.type._context,_e=_.pendingProps,et=_.memoizedProps,tt=_e.value,G(Wg,j._currentValue),j._currentValue=tt,et!==null)if(He(et.value,tt)){if(et.children===_e.children&&!Wf$1.current){_=Zi$1(o,_,$);break e}}else for(et=_.child,et!==null&&(et.return=_);et!==null;){var nt=et.dependencies;if(nt!==null){tt=et.child;for(var it=nt.firstContext;it!==null;){if(it.context===j){if(et.tag===1){it=mh$1(-1,$&-$),it.tag=2;var lt=et.updateQueue;if(lt!==null){lt=lt.shared;var dt=lt.pending;dt===null?it.next=it:(it.next=dt.next,dt.next=it),lt.pending=it}}et.lanes|=$,it=et.alternate,it!==null&&(it.lanes|=$),bh$1(et.return,$,_),nt.lanes|=$;break}it=it.next}}else if(et.tag===10)tt=et.type===_.type?null:et.child;else if(et.tag===18){if(tt=et.return,tt===null)throw Error(p$5(341));tt.lanes|=$,nt=tt.alternate,nt!==null&&(nt.lanes|=$),bh$1(tt,$,_),tt=et.sibling}else tt=et.child;if(tt!==null)tt.return=et;else for(tt=et;tt!==null;){if(tt===_){tt=null;break}if(et=tt.sibling,et!==null){et.return=tt.return,tt=et;break}tt=tt.return}et=tt}Xi$1(o,_,_e.children,$),_=_.child}return _;case 9:return _e=_.type,j=_.pendingProps.children,ch$1(_,$),_e=eh$1(_e),j=j(_e),_.flags|=1,Xi$1(o,_,j,$),_.child;case 14:return j=_.type,_e=Ci$2(j,_.pendingProps),_e=Ci$2(j.type,_e),$i$1(o,_,j,_e,$);case 15:return bj(o,_,_.type,_.pendingProps,$);case 17:return j=_.type,_e=_.pendingProps,_e=_.elementType===j?_e:Ci$2(j,_e),ij(o,_),_.tag=1,Zf$1(j)?(o=!0,cg(_)):o=!1,ch$1(_,$),Gi$1(_,j,_e),Ii$1(_,j,_e,$),jj(null,_,j,!0,o,$);case 19:return xj(o,_,$);case 22:return dj(o,_,$)}throw Error(p$5(156,_.tag))};function Fk(o,_){return ac$1(o,_)}function $k(o,_,$,j){this.tag=o,this.key=$,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(o,_,$,j){return new $k(o,_,$,j)}function aj(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Zk(o){if(typeof o=="function")return aj(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Da$1)return 11;if(o===Ga$1)return 14}return 2}function Pg(o,_){var $=o.alternate;return $===null?($=Bg(o.tag,_,o.key,o.mode),$.elementType=o.elementType,$.type=o.type,$.stateNode=o.stateNode,$.alternate=o,o.alternate=$):($.pendingProps=_,$.type=o.type,$.flags=0,$.subtreeFlags=0,$.deletions=null),$.flags=o.flags&14680064,$.childLanes=o.childLanes,$.lanes=o.lanes,$.child=o.child,$.memoizedProps=o.memoizedProps,$.memoizedState=o.memoizedState,$.updateQueue=o.updateQueue,_=o.dependencies,$.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext},$.sibling=o.sibling,$.index=o.index,$.ref=o.ref,$}function Rg(o,_,$,j,_e,et){var tt=2;if(j=o,typeof o=="function")aj(o)&&(tt=1);else if(typeof o=="string")tt=5;else e:switch(o){case ya$1:return Tg($.children,_e,et,_);case za$1:tt=8,_e|=8;break;case Aa$1:return o=Bg(12,$,_,_e|2),o.elementType=Aa$1,o.lanes=et,o;case Ea$1:return o=Bg(13,$,_,_e),o.elementType=Ea$1,o.lanes=et,o;case Fa$1:return o=Bg(19,$,_,_e),o.elementType=Fa$1,o.lanes=et,o;case Ia$1:return pj($,_e,et,_);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ba$1:tt=10;break e;case Ca$1:tt=9;break e;case Da$1:tt=11;break e;case Ga$1:tt=14;break e;case Ha$1:tt=16,j=null;break e}throw Error(p$5(130,o==null?o:typeof o,""))}return _=Bg(tt,$,_,_e),_.elementType=o,_.type=j,_.lanes=et,_}function Tg(o,_,$,j){return o=Bg(7,o,j,_),o.lanes=$,o}function pj(o,_,$,j){return o=Bg(22,o,j,_),o.elementType=Ia$1,o.lanes=$,o.stateNode={isHidden:!1},o}function Qg(o,_,$){return o=Bg(6,o,null,_),o.lanes=$,o}function Sg(o,_,$){return _=Bg(4,o.children!==null?o.children:[],o.key,_),_.lanes=$,_.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},_}function al$1(o,_,$,j,_e){this.tag=_,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc$1(0),this.expirationTimes=zc$1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc$1(0),this.identifierPrefix=j,this.onRecoverableError=_e,this.mutableSourceEagerHydrationData=null}function bl$1(o,_,$,j,_e,et,tt,nt,it){return o=new al$1(o,_,$,nt,it),_===1?(_=1,et===!0&&(_|=8)):_=0,et=Bg(3,null,null,_),o.current=et,et.stateNode=o,et.memoizedState={element:j,isDehydrated:$,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh$1(et),o}function cl$1(o,_,$){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa$1,key:j==null?null:""+j,children:o,containerInfo:_,implementation:$}}function dl$1(o){if(!o)return Vf$1;o=o._reactInternals;e:{if(Vb(o)!==o||o.tag!==1)throw Error(p$5(170));var _=o;do{switch(_.tag){case 3:_=_.stateNode.context;break e;case 1:if(Zf$1(_.type)){_=_.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_=_.return}while(_!==null);throw Error(p$5(171))}if(o.tag===1){var $=o.type;if(Zf$1($))return bg(o,$,_)}return _}function el$1(o,_,$,j,_e,et,tt,nt,it){return o=bl$1($,j,!0,o,_e,et,tt,nt,it),o.context=dl$1(null),$=o.current,j=R(),_e=yi($),et=mh$1(j,_e),et.callback=_??null,nh$1($,et,_e),o.current.lanes=_e,Ac$1(o,_e,j),Dk(o,j),o}function fl$1(o,_,$,j){var _e=_.current,et=R(),tt=yi(_e);return $=dl$1($),_.context===null?_.context=$:_.pendingContext=$,_=mh$1(et,tt),_.payload={element:o},j=j===void 0?null:j,j!==null&&(_.callback=j),o=nh$1(_e,_,tt),o!==null&&(gi$1(o,_e,tt,et),oh$1(o,_e,tt)),tt}function gl$1(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function hl$1(o,_){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var $=o.retryLane;o.retryLane=$!==0&&$<_?$:_}}function il$1(o,_){hl$1(o,_),(o=o.alternate)&&hl$1(o,_)}function jl$1(){return null}var kl$1=typeof reportError=="function"?reportError:function(o){console.error(o)};function ll$1(o){this._internalRoot=o}ml$1.prototype.render=ll$1.prototype.render=function(o){var _=this._internalRoot;if(_===null)throw Error(p$5(409));fl$1(o,_,null,null)};ml$1.prototype.unmount=ll$1.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var _=o.containerInfo;Rk(function(){fl$1(null,o,null,null)}),_[uf$1]=null}};function ml$1(o){this._internalRoot=o}ml$1.prototype.unstable_scheduleHydration=function(o){if(o){var _=Hc$1();o={blockedOn:null,target:o,priority:_};for(var $=0;$<Qc$1.length&&_!==0&&_<Qc$1[$].priority;$++);Qc$1.splice($,0,o),$===0&&Vc$1(o)}};function nl$1(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function ol$1(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function pl$1(){}function ql$1(o,_,$,j,_e){if(_e){if(typeof j=="function"){var et=j;j=function(){var lt=gl$1(tt);et.call(lt)}}var tt=el$1(_,j,o,0,null,!1,!1,"",pl$1);return o._reactRootContainer=tt,o[uf$1]=tt.current,sf$1(o.nodeType===8?o.parentNode:o),Rk(),tt}for(;_e=o.lastChild;)o.removeChild(_e);if(typeof j=="function"){var nt=j;j=function(){var lt=gl$1(it);nt.call(lt)}}var it=bl$1(o,0,!1,null,null,!1,!1,"",pl$1);return o._reactRootContainer=it,o[uf$1]=it.current,sf$1(o.nodeType===8?o.parentNode:o),Rk(function(){fl$1(_,it,$,j)}),it}function rl$1(o,_,$,j,_e){var et=$._reactRootContainer;if(et){var tt=et;if(typeof _e=="function"){var nt=_e;_e=function(){var it=gl$1(tt);nt.call(it)}}fl$1(_,tt,o,_e)}else tt=ql$1($,_,o,_e,j);return gl$1(tt)}Ec$1=function(o){switch(o.tag){case 3:var _=o.stateNode;if(_.current.memoizedState.isDehydrated){var $=tc$1(_.pendingLanes);$!==0&&(Cc$1(_,$|1),Dk(_,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var j=ih$1(o,1);if(j!==null){var _e=R();gi$1(j,o,1,_e)}}),il$1(o,1)}};Fc$1=function(o){if(o.tag===13){var _=ih$1(o,134217728);if(_!==null){var $=R();gi$1(_,o,134217728,$)}il$1(o,134217728)}};Gc$1=function(o){if(o.tag===13){var _=yi(o),$=ih$1(o,_);if($!==null){var j=R();gi$1($,o,_,j)}il$1(o,_)}};Hc$1=function(){return C};Ic$1=function(o,_){var $=C;try{return C=o,_()}finally{C=$}};yb=function(o,_,$){switch(_){case"input":if(bb(o,$),_=$.name,$.type==="radio"&&_!=null){for($=o;$.parentNode;)$=$.parentNode;for($=$.querySelectorAll("input[name="+JSON.stringify(""+_)+'][type="radio"]'),_=0;_<$.length;_++){var j=$[_];if(j!==o&&j.form===o.form){var _e=Db(j);if(!_e)throw Error(p$5(90));Wa$1(j),bb(j,_e)}}}break;case"textarea":ib(o,$);break;case"select":_=$.value,_!=null&&fb(o,!!$.multiple,_,!1)}};Gb=Qk;Hb=Rk;var sl$1={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl$1={findFiberByHostInstance:Wc$1,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul$1={bundleType:tl$1.bundleType,version:tl$1.version,rendererPackageName:tl$1.rendererPackageName,rendererConfig:tl$1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$1.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Zb(o),o===null?null:o.stateNode},findFiberByHostInstance:tl$1.findFiberByHostInstance||jl$1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl$1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl$1.isDisabled&&vl$1.supportsFiber)try{kc$1=vl$1.inject(ul$1),lc$1=vl$1}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl$1;reactDom_production_min.createPortal=function(o,_){var $=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl$1(_))throw Error(p$5(200));return cl$1(o,_,null,$)};reactDom_production_min.createRoot=function(o,_){if(!nl$1(o))throw Error(p$5(299));var $=!1,j="",_e=kl$1;return _!=null&&(_.unstable_strictMode===!0&&($=!0),_.identifierPrefix!==void 0&&(j=_.identifierPrefix),_.onRecoverableError!==void 0&&(_e=_.onRecoverableError)),_=bl$1(o,1,!1,null,null,$,!1,j,_e),o[uf$1]=_.current,sf$1(o.nodeType===8?o.parentNode:o),new ll$1(_)};reactDom_production_min.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var _=o._reactInternals;if(_===void 0)throw typeof o.render=="function"?Error(p$5(188)):(o=Object.keys(o).join(","),Error(p$5(268,o)));return o=Zb(_),o=o===null?null:o.stateNode,o};reactDom_production_min.flushSync=function(o){return Rk(o)};reactDom_production_min.hydrate=function(o,_,$){if(!ol$1(_))throw Error(p$5(200));return rl$1(null,o,_,!0,$)};reactDom_production_min.hydrateRoot=function(o,_,$){if(!nl$1(o))throw Error(p$5(405));var j=$!=null&&$.hydratedSources||null,_e=!1,et="",tt=kl$1;if($!=null&&($.unstable_strictMode===!0&&(_e=!0),$.identifierPrefix!==void 0&&(et=$.identifierPrefix),$.onRecoverableError!==void 0&&(tt=$.onRecoverableError)),_=el$1(_,null,o,1,$??null,_e,!1,et,tt),o[uf$1]=_.current,sf$1(o),j)for(o=0;o<j.length;o++)$=j[o],_e=$._getVersion,_e=_e($._source),_.mutableSourceEagerHydrationData==null?_.mutableSourceEagerHydrationData=[$,_e]:_.mutableSourceEagerHydrationData.push($,_e);return new ml$1(_)};reactDom_production_min.render=function(o,_,$){if(!ol$1(_))throw Error(p$5(200));return rl$1(null,o,_,!1,$)};reactDom_production_min.unmountComponentAtNode=function(o){if(!ol$1(o))throw Error(p$5(40));return o._reactRootContainer?(Rk(function(){rl$1(null,null,o,!1,function(){o._reactRootContainer=null,o[uf$1]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(o,_,$,j){if(!ol$1($))throw Error(p$5(200));if(o==null||o._reactInternals===void 0)throw Error(p$5(38));return rl$1(o,_,$,!1,j)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(o){console.error(o)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$4=reactDomExports;client.createRoot=m$4.createRoot,client.hydrateRoot=m$4.hydrateRoot;/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$B(){return _extends$B=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$B.apply(this,arguments)}var Action;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(o){o===void 0&&(o={});function _(j,_e){let{pathname:et,search:tt,hash:nt}=j.location;return createLocation("",{pathname:et,search:tt,hash:nt},_e.state&&_e.state.usr||null,_e.state&&_e.state.key||"default")}function $(j,_e){return typeof _e=="string"?_e:createPath(_e)}return getUrlBasedHistory(_,$,null,o)}function invariant$1(o,_){if(o===!1||o===null||typeof o>"u")throw new Error(_)}function warning(o,_){if(!o){typeof console<"u"&&console.warn(_);try{throw new Error(_)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(o,_){return{usr:o.state,key:o.key,idx:_}}function createLocation(o,_,$,j){return $===void 0&&($=null),_extends$B({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof _=="string"?parsePath(_):_,{state:$,key:_&&_.key||j||createKey()})}function createPath(o){let{pathname:_="/",search:$="",hash:j=""}=o;return $&&$!=="?"&&(_+=$.charAt(0)==="?"?$:"?"+$),j&&j!=="#"&&(_+=j.charAt(0)==="#"?j:"#"+j),_}function parsePath(o){let _={};if(o){let $=o.indexOf("#");$>=0&&(_.hash=o.substr($),o=o.substr(0,$));let j=o.indexOf("?");j>=0&&(_.search=o.substr(j),o=o.substr(0,j)),o&&(_.pathname=o)}return _}function getUrlBasedHistory(o,_,$,j){j===void 0&&(j={});let{window:_e=document.defaultView,v5Compat:et=!1}=j,tt=_e.history,nt=Action.Pop,it=null,lt=dt();lt==null&&(lt=0,tt.replaceState(_extends$B({},tt.state,{idx:lt}),""));function dt(){return(tt.state||{idx:null}).idx}function bt(){nt=Action.Pop;let Ct=dt(),mr=Ct==null?null:Ct-lt;lt=Ct,it&&it({action:nt,location:ft.location,delta:mr})}function Ht(Ct,mr){nt=Action.Push;let _r=createLocation(ft.location,Ct,mr);lt=dt()+1;let mn=getHistoryState(_r,lt),dr=ft.createHref(_r);try{tt.pushState(mn,"",dr)}catch(pn){if(pn instanceof DOMException&&pn.name==="DataCloneError")throw pn;_e.location.assign(dr)}et&&it&&it({action:nt,location:ft.location,delta:1})}function pr(Ct,mr){nt=Action.Replace;let _r=createLocation(ft.location,Ct,mr);lt=dt();let mn=getHistoryState(_r,lt),dr=ft.createHref(_r);tt.replaceState(mn,"",dr),et&&it&&it({action:nt,location:ft.location,delta:0})}function _n(Ct){let mr=_e.location.origin!=="null"?_e.location.origin:_e.location.href,_r=typeof Ct=="string"?Ct:createPath(Ct);return _r=_r.replace(/ $/,"%20"),invariant$1(mr,"No window.location.(origin|href) available to create URL for href: "+_r),new URL(_r,mr)}let ft={get action(){return nt},get location(){return o(_e,tt)},listen(Ct){if(it)throw new Error("A history only accepts one active listener");return _e.addEventListener(PopStateEventType,bt),it=Ct,()=>{_e.removeEventListener(PopStateEventType,bt),it=null}},createHref(Ct){return _(_e,Ct)},createURL:_n,encodeLocation(Ct){let mr=_n(Ct);return{pathname:mr.pathname,search:mr.search,hash:mr.hash}},push:Ht,replace:pr,go(Ct){return tt.go(Ct)}};return ft}var ResultType;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(ResultType||(ResultType={}));function matchRoutes(o,_,$){return $===void 0&&($="/"),matchRoutesImpl(o,_,$,!1)}function matchRoutesImpl(o,_,$,j){let _e=typeof _=="string"?parsePath(_):_,et=stripBasename(_e.pathname||"/",$);if(et==null)return null;let tt=flattenRoutes(o);rankRouteBranches(tt);let nt=null;for(let it=0;nt==null&&it<tt.length;++it){let lt=decodePath(et);nt=matchRouteBranch(tt[it],lt,j)}return nt}function flattenRoutes(o,_,$,j){_===void 0&&(_=[]),$===void 0&&($=[]),j===void 0&&(j="");let _e=(et,tt,nt)=>{let it={relativePath:nt===void 0?et.path||"":nt,caseSensitive:et.caseSensitive===!0,childrenIndex:tt,route:et};it.relativePath.startsWith("/")&&(invariant$1(it.relativePath.startsWith(j),'Absolute route path "'+it.relativePath+'" nested under path '+('"'+j+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),it.relativePath=it.relativePath.slice(j.length));let lt=joinPaths([j,it.relativePath]),dt=$.concat(it);et.children&&et.children.length>0&&(invariant$1(et.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+lt+'".')),flattenRoutes(et.children,_,dt,lt)),!(et.path==null&&!et.index)&&_.push({path:lt,score:computeScore(lt,et.index),routesMeta:dt})};return o.forEach((et,tt)=>{var nt;if(et.path===""||!((nt=et.path)!=null&&nt.includes("?")))_e(et,tt);else for(let it of explodeOptionalSegments(et.path))_e(et,tt,it)}),_}function explodeOptionalSegments(o){let _=o.split("/");if(_.length===0)return[];let[$,...j]=_,_e=$.endsWith("?"),et=$.replace(/\?$/,"");if(j.length===0)return _e?[et,""]:[et];let tt=explodeOptionalSegments(j.join("/")),nt=[];return nt.push(...tt.map(it=>it===""?et:[et,it].join("/"))),_e&&nt.push(...tt),nt.map(it=>o.startsWith("/")&&it===""?"/":it)}function rankRouteBranches(o){o.sort((_,$)=>_.score!==$.score?$.score-_.score:compareIndexes(_.routesMeta.map(j=>j.childrenIndex),$.routesMeta.map(j=>j.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=o=>o==="*";function computeScore(o,_){let $=o.split("/"),j=$.length;return $.some(isSplat)&&(j+=splatPenalty),_&&(j+=indexRouteValue),$.filter(_e=>!isSplat(_e)).reduce((_e,et)=>_e+(paramRe.test(et)?dynamicSegmentValue:et===""?emptySegmentValue:staticSegmentValue),j)}function compareIndexes(o,_){return o.length===_.length&&o.slice(0,-1).every((j,_e)=>j===_[_e])?o[o.length-1]-_[_.length-1]:0}function matchRouteBranch(o,_,$){let{routesMeta:j}=o,_e={},et="/",tt=[];for(let nt=0;nt<j.length;++nt){let it=j[nt],lt=nt===j.length-1,dt=et==="/"?_:_.slice(et.length)||"/",bt=matchPath({path:it.relativePath,caseSensitive:it.caseSensitive,end:lt},dt),Ht=it.route;if(!bt&&lt&&$&&!j[j.length-1].route.index&&(bt=matchPath({path:it.relativePath,caseSensitive:it.caseSensitive,end:!1},dt)),!bt)return null;Object.assign(_e,bt.params),tt.push({params:_e,pathname:joinPaths([et,bt.pathname]),pathnameBase:normalizePathname(joinPaths([et,bt.pathnameBase])),route:Ht}),bt.pathnameBase!=="/"&&(et=joinPaths([et,bt.pathnameBase]))}return tt}function matchPath(o,_){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[$,j]=compilePath(o.path,o.caseSensitive,o.end),_e=_.match($);if(!_e)return null;let et=_e[0],tt=et.replace(/(.)\/+$/,"$1"),nt=_e.slice(1);return{params:j.reduce((lt,dt,bt)=>{let{paramName:Ht,isOptional:pr}=dt;if(Ht==="*"){let ft=nt[bt]||"";tt=et.slice(0,et.length-ft.length).replace(/(.)\/+$/,"$1")}const _n=nt[bt];return pr&&!_n?lt[Ht]=void 0:lt[Ht]=(_n||"").replace(/%2F/g,"/"),lt},{}),pathname:et,pathnameBase:tt,pattern:o}}function compilePath(o,_,$){_===void 0&&(_=!1),$===void 0&&($=!0),warning(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let j=[],_e="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(tt,nt,it)=>(j.push({paramName:nt,isOptional:it!=null}),it?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(j.push({paramName:"*"}),_e+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):$?_e+="\\/*$":o!==""&&o!=="/"&&(_e+="(?:(?=\\/|$))"),[new RegExp(_e,_?void 0:"i"),j]}function decodePath(o){try{return o.split("/").map(_=>decodeURIComponent(_).replace(/\//g,"%2F")).join("/")}catch(_){return warning(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+_+").")),o}}function stripBasename(o,_){if(_==="/")return o;if(!o.toLowerCase().startsWith(_.toLowerCase()))return null;let $=_.endsWith("/")?_.length-1:_.length,j=o.charAt($);return j&&j!=="/"?null:o.slice($)||"/"}function resolvePath(o,_){_===void 0&&(_="/");let{pathname:$,search:j="",hash:_e=""}=typeof o=="string"?parsePath(o):o;return{pathname:$?$.startsWith("/")?$:resolvePathname($,_):_,search:normalizeSearch(j),hash:normalizeHash(_e)}}function resolvePathname(o,_){let $=_.replace(/\/+$/,"").split("/");return o.split("/").forEach(_e=>{_e===".."?$.length>1&&$.pop():_e!=="."&&$.push(_e)}),$.length>1?$.join("/"):"/"}function getInvalidPathError(o,_,$,j){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+_+"` field ["+JSON.stringify(j)+"].  Please separate it out to the ")+("`to."+$+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(o){return o.filter((_,$)=>$===0||_.route.path&&_.route.path.length>0)}function getResolveToMatches(o,_){let $=getPathContributingMatches(o);return _?$.map((j,_e)=>_e===$.length-1?j.pathname:j.pathnameBase):$.map(j=>j.pathnameBase)}function resolveTo(o,_,$,j){j===void 0&&(j=!1);let _e;typeof o=="string"?_e=parsePath(o):(_e=_extends$B({},o),invariant$1(!_e.pathname||!_e.pathname.includes("?"),getInvalidPathError("?","pathname","search",_e)),invariant$1(!_e.pathname||!_e.pathname.includes("#"),getInvalidPathError("#","pathname","hash",_e)),invariant$1(!_e.search||!_e.search.includes("#"),getInvalidPathError("#","search","hash",_e)));let et=o===""||_e.pathname==="",tt=et?"/":_e.pathname,nt;if(tt==null)nt=$;else{let bt=_.length-1;if(!j&&tt.startsWith("..")){let Ht=tt.split("/");for(;Ht[0]==="..";)Ht.shift(),bt-=1;_e.pathname=Ht.join("/")}nt=bt>=0?_[bt]:"/"}let it=resolvePath(_e,nt),lt=tt&&tt!=="/"&&tt.endsWith("/"),dt=(et||tt===".")&&$.endsWith("/");return!it.pathname.endsWith("/")&&(lt||dt)&&(it.pathname+="/"),it}const joinPaths=o=>o.join("/").replace(/\/\/+/g,"/"),normalizePathname=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,normalizeHash=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function isRouteErrorResponse(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$A(){return _extends$A=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$A.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(o,_){let{relative:$}=_===void 0?{}:_;useInRouterContext()||invariant$1(!1);let{basename:j,navigator:_e}=reactExports.useContext(NavigationContext),{hash:et,pathname:tt,search:nt}=useResolvedPath(o,{relative:$}),it=tt;return j!=="/"&&(it=tt==="/"?j:joinPaths([j,tt])),_e.createHref({pathname:it,search:nt,hash:et})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(o){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(o)}function useNavigate(){let{isDataRoute:o}=reactExports.useContext(RouteContext);return o?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let o=reactExports.useContext(DataRouterContext),{basename:_,future:$,navigator:j}=reactExports.useContext(NavigationContext),{matches:_e}=reactExports.useContext(RouteContext),{pathname:et}=useLocation(),tt=JSON.stringify(getResolveToMatches(_e,$.v7_relativeSplatPath)),nt=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{nt.current=!0}),reactExports.useCallback(function(lt,dt){if(dt===void 0&&(dt={}),!nt.current)return;if(typeof lt=="number"){j.go(lt);return}let bt=resolveTo(lt,JSON.parse(tt),et,dt.relative==="path");o==null&&_!=="/"&&(bt.pathname=bt.pathname==="/"?_:joinPaths([_,bt.pathname])),(dt.replace?j.replace:j.push)(bt,dt.state,dt)},[_,j,tt,et,o])}function useParams(){let{matches:o}=reactExports.useContext(RouteContext),_=o[o.length-1];return _?_.params:{}}function useResolvedPath(o,_){let{relative:$}=_===void 0?{}:_,{future:j}=reactExports.useContext(NavigationContext),{matches:_e}=reactExports.useContext(RouteContext),{pathname:et}=useLocation(),tt=JSON.stringify(getResolveToMatches(_e,j.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(o,JSON.parse(tt),et,$==="path"),[o,tt,et,$])}function useRoutes(o,_){return useRoutesImpl(o,_)}function useRoutesImpl(o,_,$,j){useInRouterContext()||invariant$1(!1);let{navigator:_e}=reactExports.useContext(NavigationContext),{matches:et}=reactExports.useContext(RouteContext),tt=et[et.length-1],nt=tt?tt.params:{};tt&&tt.pathname;let it=tt?tt.pathnameBase:"/";tt&&tt.route;let lt=useLocation(),dt;if(_){var bt;let Ct=typeof _=="string"?parsePath(_):_;it==="/"||(bt=Ct.pathname)!=null&&bt.startsWith(it)||invariant$1(!1),dt=Ct}else dt=lt;let Ht=dt.pathname||"/",pr=Ht;if(it!=="/"){let Ct=it.replace(/^\//,"").split("/");pr="/"+Ht.replace(/^\//,"").split("/").slice(Ct.length).join("/")}let _n=matchRoutes(o,{pathname:pr}),ft=_renderMatches(_n&&_n.map(Ct=>Object.assign({},Ct,{params:Object.assign({},nt,Ct.params),pathname:joinPaths([it,_e.encodeLocation?_e.encodeLocation(Ct.pathname).pathname:Ct.pathname]),pathnameBase:Ct.pathnameBase==="/"?it:joinPaths([it,_e.encodeLocation?_e.encodeLocation(Ct.pathnameBase).pathname:Ct.pathnameBase])})),et,$,j);return _&&ft?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$A({pathname:"/",search:"",hash:"",state:null,key:"default"},dt),navigationType:Action.Pop}},ft):ft}function DefaultErrorComponent(){let o=useRouteError(),_=isRouteErrorResponse(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),$=o instanceof Error?o.stack:null,_e={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},_),$?reactExports.createElement("pre",{style:_e},$):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(_){super(_),this.state={location:_.location,revalidation:_.revalidation,error:_.error}}static getDerivedStateFromError(_){return{error:_}}static getDerivedStateFromProps(_,$){return $.location!==_.location||$.revalidation!=="idle"&&_.revalidation==="idle"?{error:_.error,location:_.location,revalidation:_.revalidation}:{error:_.error!==void 0?_.error:$.error,location:$.location,revalidation:_.revalidation||$.revalidation}}componentDidCatch(_,$){console.error("React Router caught the following error during render",_,$)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(o){let{routeContext:_,match:$,children:j}=o,_e=reactExports.useContext(DataRouterContext);return _e&&_e.static&&_e.staticContext&&($.route.errorElement||$.route.ErrorBoundary)&&(_e.staticContext._deepestRenderedBoundaryId=$.route.id),reactExports.createElement(RouteContext.Provider,{value:_},j)}function _renderMatches(o,_,$,j){var _e;if(_===void 0&&(_=[]),$===void 0&&($=null),j===void 0&&(j=null),o==null){var et;if(!$)return null;if($.errors)o=$.matches;else if((et=j)!=null&&et.v7_partialHydration&&_.length===0&&!$.initialized&&$.matches.length>0)o=$.matches;else return null}let tt=o,nt=(_e=$)==null?void 0:_e.errors;if(nt!=null){let dt=tt.findIndex(bt=>bt.route.id&&(nt==null?void 0:nt[bt.route.id])!==void 0);dt>=0||invariant$1(!1),tt=tt.slice(0,Math.min(tt.length,dt+1))}let it=!1,lt=-1;if($&&j&&j.v7_partialHydration)for(let dt=0;dt<tt.length;dt++){let bt=tt[dt];if((bt.route.HydrateFallback||bt.route.hydrateFallbackElement)&&(lt=dt),bt.route.id){let{loaderData:Ht,errors:pr}=$,_n=bt.route.loader&&Ht[bt.route.id]===void 0&&(!pr||pr[bt.route.id]===void 0);if(bt.route.lazy||_n){it=!0,lt>=0?tt=tt.slice(0,lt+1):tt=[tt[0]];break}}}return tt.reduceRight((dt,bt,Ht)=>{let pr,_n=!1,ft=null,Ct=null;$&&(pr=nt&&bt.route.id?nt[bt.route.id]:void 0,ft=bt.route.errorElement||defaultErrorElement,it&&(lt<0&&Ht===0?(_n=!0,Ct=null):lt===Ht&&(_n=!0,Ct=bt.route.hydrateFallbackElement||null)));let mr=_.concat(tt.slice(0,Ht+1)),_r=()=>{let mn;return pr?mn=ft:_n?mn=Ct:bt.route.Component?mn=reactExports.createElement(bt.route.Component,null):bt.route.element?mn=bt.route.element:mn=dt,reactExports.createElement(RenderedRoute,{match:bt,routeContext:{outlet:dt,matches:mr,isDataRoute:$!=null},children:mn})};return $&&(bt.route.ErrorBoundary||bt.route.errorElement||Ht===0)?reactExports.createElement(RenderErrorBoundary,{location:$.location,revalidation:$.revalidation,component:ft,error:pr,children:_r(),routeContext:{outlet:null,matches:mr,isDataRoute:!0}}):_r()},null)}var DataRouterHook$1=function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o}(DataRouterHook$1||{}),DataRouterStateHook$1=function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o}(DataRouterStateHook$1||{});function useDataRouterContext(o){let _=reactExports.useContext(DataRouterContext);return _||invariant$1(!1),_}function useDataRouterState(o){let _=reactExports.useContext(DataRouterStateContext);return _||invariant$1(!1),_}function useRouteContext(o){let _=reactExports.useContext(RouteContext);return _||invariant$1(!1),_}function useCurrentRouteId(o){let _=useRouteContext(),$=_.matches[_.matches.length-1];return $.route.id||invariant$1(!1),$.route.id}function useRouteError(){var o;let _=reactExports.useContext(RouteErrorContext),$=useDataRouterState(DataRouterStateHook$1.UseRouteError),j=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return _!==void 0?_:(o=$.errors)==null?void 0:o[j]}function useNavigateStable(){let{router:o}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),_=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),$=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{$.current=!0}),reactExports.useCallback(function(_e,et){et===void 0&&(et={}),$.current&&(typeof _e=="number"?o.navigate(_e):o.navigate(_e,_extends$A({fromRouteId:_},et)))},[o,_])}function Route(o){invariant$1(!1)}function Router(o){let{basename:_="/",children:$=null,location:j,navigationType:_e=Action.Pop,navigator:et,static:tt=!1,future:nt}=o;useInRouterContext()&&invariant$1(!1);let it=_.replace(/^\/*/,"/"),lt=reactExports.useMemo(()=>({basename:it,navigator:et,static:tt,future:_extends$A({v7_relativeSplatPath:!1},nt)}),[it,nt,et,tt]);typeof j=="string"&&(j=parsePath(j));let{pathname:dt="/",search:bt="",hash:Ht="",state:pr=null,key:_n="default"}=j,ft=reactExports.useMemo(()=>{let Ct=stripBasename(dt,it);return Ct==null?null:{location:{pathname:Ct,search:bt,hash:Ht,state:pr,key:_n},navigationType:_e}},[it,dt,bt,Ht,pr,_n,_e]);return ft==null?null:reactExports.createElement(NavigationContext.Provider,{value:lt},reactExports.createElement(LocationContext.Provider,{children:$,value:ft}))}function Routes(o){let{children:_,location:$}=o;return useRoutes(createRoutesFromChildren(_),$)}new Promise(()=>{});function createRoutesFromChildren(o,_){_===void 0&&(_=[]);let $=[];return reactExports.Children.forEach(o,(j,_e)=>{if(!reactExports.isValidElement(j))return;let et=[..._,_e];if(j.type===reactExports.Fragment){$.push.apply($,createRoutesFromChildren(j.props.children,et));return}j.type!==Route&&invariant$1(!1),!j.props.index||!j.props.children||invariant$1(!1);let tt={id:j.props.id||et.join("-"),caseSensitive:j.props.caseSensitive,element:j.props.element,Component:j.props.Component,index:j.props.index,path:j.props.path,loader:j.props.loader,action:j.props.action,errorElement:j.props.errorElement,ErrorBoundary:j.props.ErrorBoundary,hasErrorBoundary:j.props.ErrorBoundary!=null||j.props.errorElement!=null,shouldRevalidate:j.props.shouldRevalidate,handle:j.props.handle,lazy:j.props.lazy};j.props.children&&(tt.children=createRoutesFromChildren(j.props.children,et)),$.push(tt)}),$}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$z(){return _extends$z=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$z.apply(this,arguments)}function _objectWithoutPropertiesLoose$o(o,_){if(o==null)return{};var $={},j=Object.keys(o),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(_.indexOf(_e)>=0)&&($[_e]=o[_e]);return $}function isModifiedEvent(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function shouldProcessLinkClick(o,_){return o.button===0&&(!_||_==="_self")&&!isModifiedEvent(o)}function createSearchParams(o){return o===void 0&&(o=""),new URLSearchParams(typeof o=="string"||Array.isArray(o)||o instanceof URLSearchParams?o:Object.keys(o).reduce((_,$)=>{let j=o[$];return _.concat(Array.isArray(j)?j.map(_e=>[$,_e]):[[$,j]])},[]))}function getSearchParamsForLocation(o,_){let $=createSearchParams(o);return _&&_.forEach((j,_e)=>{$.has(_e)||_.getAll(_e).forEach(et=>{$.append(_e,et)})}),$}const _excluded$B=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(o){let{basename:_,children:$,future:j,window:_e}=o,et=reactExports.useRef();et.current==null&&(et.current=createBrowserHistory({window:_e,v5Compat:!0}));let tt=et.current,[nt,it]=reactExports.useState({action:tt.action,location:tt.location}),{v7_startTransition:lt}=j||{},dt=reactExports.useCallback(bt=>{lt&&startTransitionImpl?startTransitionImpl(()=>it(bt)):it(bt)},[it,lt]);return reactExports.useLayoutEffect(()=>tt.listen(dt),[tt,dt]),reactExports.createElement(Router,{basename:_,children:$,location:nt.location,navigationType:nt.action,navigator:tt,future:j})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(_,$){let{onClick:j,relative:_e,reloadDocument:et,replace:tt,state:nt,target:it,to:lt,preventScrollReset:dt,unstable_viewTransition:bt}=_,Ht=_objectWithoutPropertiesLoose$o(_,_excluded$B),{basename:pr}=reactExports.useContext(NavigationContext),_n,ft=!1;if(typeof lt=="string"&&ABSOLUTE_URL_REGEX.test(lt)&&(_n=lt,isBrowser$1))try{let mn=new URL(window.location.href),dr=lt.startsWith("//")?new URL(mn.protocol+lt):new URL(lt),pn=stripBasename(dr.pathname,pr);dr.origin===mn.origin&&pn!=null?lt=pn+dr.search+dr.hash:ft=!0}catch{}let Ct=useHref(lt,{relative:_e}),mr=useLinkClickHandler(lt,{replace:tt,state:nt,target:it,preventScrollReset:dt,relative:_e,unstable_viewTransition:bt});function _r(mn){j&&j(mn),mn.defaultPrevented||mr(mn)}return reactExports.createElement("a",_extends$z({},Ht,{href:_n||Ct,onClick:ft||et?j:_r,ref:$,target:it}))});var DataRouterHook;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(o,_){let{target:$,replace:j,state:_e,preventScrollReset:et,relative:tt,unstable_viewTransition:nt}=_===void 0?{}:_,it=useNavigate(),lt=useLocation(),dt=useResolvedPath(o,{relative:tt});return reactExports.useCallback(bt=>{if(shouldProcessLinkClick(bt,$)){bt.preventDefault();let Ht=j!==void 0?j:createPath(lt)===createPath(dt);it(o,{replace:Ht,state:_e,preventScrollReset:et,relative:tt,unstable_viewTransition:nt})}},[lt,it,dt,j,_e,$,o,et,tt,nt])}function useSearchParams(o){let _=reactExports.useRef(createSearchParams(o)),$=reactExports.useRef(!1),j=useLocation(),_e=reactExports.useMemo(()=>getSearchParamsForLocation(j.search,$.current?null:_.current),[j.search]),et=useNavigate(),tt=reactExports.useCallback((nt,it)=>{const lt=createSearchParams(typeof nt=="function"?nt(_e):nt);$.current=!0,et("?"+lt,it)},[et,_e]);return[_e,tt]}var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded$A=["attr","size","title"];function _objectWithoutProperties$k(o,_){if(o==null)return{};var $=_objectWithoutPropertiesLoose$n(o,_),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for(_e=0;_e<et.length;_e++)j=et[_e],!(_.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(o,j)&&($[j]=o[j])}return $}function _objectWithoutPropertiesLoose$n(o,_){if(o==null)return{};var $={};for(var j in o)if(Object.prototype.hasOwnProperty.call(o,j)){if(_.indexOf(j)>=0)continue;$[j]=o[j]}return $}function _extends$y(){return _extends$y=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$y.apply(this,arguments)}function ownKeys$E(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$D(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$E(Object($),!0).forEach(function(j){_defineProperty$H(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$E(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$H(o,_,$){return _=_toPropertyKey$G(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$G(o){var _=_toPrimitive$G(o,"string");return typeof _=="symbol"?_:_+""}function _toPrimitive$G(o,_){if(typeof o!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}function Tree2Element(o){return o&&o.map((_,$)=>React.createElement(_.tag,_objectSpread$D({key:$},_.attr),Tree2Element(_.child)))}function GenIcon(o){return _=>React.createElement(IconBase,_extends$y({attr:_objectSpread$D({},o.attr)},_),Tree2Element(o.child))}function IconBase(o){var _=$=>{var{attr:j,size:_e,title:et}=o,tt=_objectWithoutProperties$k(o,_excluded$A),nt=_e||$.size||"1em",it;return $.className&&(it=$.className),o.className&&(it=(it?it+" ":"")+o.className),React.createElement("svg",_extends$y({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},$.attr,j,tt,{className:it,style:_objectSpread$D(_objectSpread$D({color:o.color||$.color},$.style),o.style),height:nt,width:nt,xmlns:"http://www.w3.org/2000/svg"}),et&&React.createElement("title",null,et),o.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,$=>_($)):_(DefaultContext)}function FaArrowRight(o){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(o)}function FaArrowUp(o){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(o)}function FaBars(o){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(o)}function FaCheck(o){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(o)}function FaChevronRight(o){return GenIcon({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(o)}function FaCopy(o){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(o)}function FaDownload(o){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(o)}function FaEyeSlash(o){return GenIcon({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(o)}function FaEye(o){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(o)}function FaFileAlt(o){return GenIcon({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(o)}function FaGlobe(o){return GenIcon({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(o)}function FaMapMarkerAlt(o){return GenIcon({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(o)}function FaShapes(o){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M128,256A128,128,0,1,0,256,384,128,128,0,0,0,128,256Zm379-54.86L400.07,18.29a37.26,37.26,0,0,0-64.14,0L229,201.14C214.76,225.52,232.58,256,261.09,256H474.91C503.42,256,521.24,225.52,507,201.14ZM480,288H320a32,32,0,0,0-32,32V480a32,32,0,0,0,32,32H480a32,32,0,0,0,32-32V320A32,32,0,0,0,480,288Z"},child:[]}]})(o)}var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(o){(function(){var _={}.hasOwnProperty;function $(){for(var et="",tt=0;tt<arguments.length;tt++){var nt=arguments[tt];nt&&(et=_e(et,j(nt)))}return et}function j(et){if(typeof et=="string"||typeof et=="number")return et;if(typeof et!="object")return"";if(Array.isArray(et))return $.apply(null,et);if(et.toString!==Object.prototype.toString&&!et.toString.toString().includes("[native code]"))return et.toString();var tt="";for(var nt in et)_.call(et,nt)&&et[nt]&&(tt=_e(tt,nt));return tt}function _e(et,tt){return tt?et?et+" "+tt:et+tt:et}o.exports?($.default=$,o.exports=$):window.classNames=$})()})(classnames);var classnamesExports=classnames.exports;const classNames=getDefaultExportFromCjs(classnamesExports);function _extends$w(){return _extends$w=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)({}).hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$w.apply(null,arguments)}const _extends$x=Object.freeze(Object.defineProperty({__proto__:null,get default(){return _extends$w}},Symbol.toStringTag,{value:"Module"}));function _objectWithoutPropertiesLoose$m(o,_){if(o==null)return{};var $={};for(var j in o)if({}.hasOwnProperty.call(o,j)){if(_.includes(j))continue;$[j]=o[j]}return $}const DEFAULT_BREAKPOINTS=["xxl","xl","lg","md","sm","xs"],DEFAULT_MIN_BREAKPOINT="xs",ThemeContext$2=reactExports.createContext({prefixes:{},breakpoints:DEFAULT_BREAKPOINTS,minBreakpoint:DEFAULT_MIN_BREAKPOINT});function useBootstrapPrefix(o,_){const{prefixes:$}=reactExports.useContext(ThemeContext$2);return o||$[_]||_}function useBootstrapBreakpoints(){const{breakpoints:o}=reactExports.useContext(ThemeContext$2);return o}function useBootstrapMinBreakpoint(){const{minBreakpoint:o}=reactExports.useContext(ThemeContext$2);return o}var propTypes$2={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function o(j,_e,et,tt,nt,it){if(it!==ReactPropTypesSecret){var lt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw lt.name="Invariant Violation",lt}}o.isRequired=o;function _(){return o}var $={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:_,element:o,elementType:o,instanceOf:_,node:o,objectOf:_,oneOf:_,oneOfType:_,shape:_,exact:_,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return $.PropTypes=$,$};propTypes$2.exports=factoryWithThrowingShims();var propTypesExports=propTypes$2.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports),_excluded$z=["as","disabled"];function _objectWithoutPropertiesLoose$l(o,_){if(o==null)return{};var $={};for(var j in o)if({}.hasOwnProperty.call(o,j)){if(_.indexOf(j)>=0)continue;$[j]=o[j]}return $}function isTrivialHref(o){return!o||o.trim()==="#"}function useButtonProps({tagName:o,disabled:_,href:$,target:j,rel:_e,role:et,onClick:tt,tabIndex:nt=0,type:it}){o||($!=null||j!=null||_e!=null?o="a":o="button");const lt={tagName:o};if(o==="button")return[{type:it||"button",disabled:_},lt];const dt=Ht=>{if((_||o==="a"&&isTrivialHref($))&&Ht.preventDefault(),_){Ht.stopPropagation();return}tt==null||tt(Ht)},bt=Ht=>{Ht.key===" "&&(Ht.preventDefault(),dt(Ht))};return o==="a"&&($||($="#"),_&&($=void 0)),[{role:et??"button",disabled:void 0,tabIndex:_?void 0:nt,href:$,target:o==="a"?j:void 0,"aria-disabled":_||void 0,rel:o==="a"?_e:void 0,onClick:dt,onKeyDown:bt},lt]}const Button$1=reactExports.forwardRef((o,_)=>{let{as:$,disabled:j}=o,_e=_objectWithoutPropertiesLoose$l(o,_excluded$z);const[et,{tagName:tt}]=useButtonProps(Object.assign({tagName:$,disabled:j},_e));return jsxRuntimeExports$1.jsx(tt,Object.assign({},_e,et,{ref:_}))});Button$1.displayName="Button";const Button=reactExports.forwardRef(({as:o,bsPrefix:_,variant:$="primary",size:j,active:_e=!1,disabled:et=!1,className:tt,...nt},it)=>{const lt=useBootstrapPrefix(_,"btn"),[dt,{tagName:bt}]=useButtonProps({tagName:o,disabled:et,...nt}),Ht=bt;return jsxRuntimeExports$1.jsx(Ht,{...dt,...nt,ref:it,disabled:et,className:classNames(tt,lt,_e&&"active",$&&`${lt}-${$}`,j&&`${lt}-${j}`,nt.href&&et&&"disabled")})});Button.displayName="Button";function hasChildOfType(o,_){return reactExports.Children.toArray(o).some($=>reactExports.isValidElement($)&&$.type===_)}function useCol({as:o,bsPrefix:_,className:$,...j}){_=useBootstrapPrefix(_,"col");const _e=useBootstrapBreakpoints(),et=useBootstrapMinBreakpoint(),tt=[],nt=[];return _e.forEach(it=>{const lt=j[it];delete j[it];let dt,bt,Ht;typeof lt=="object"&&lt!=null?{span:dt,offset:bt,order:Ht}=lt:dt=lt;const pr=it!==et?`-${it}`:"";dt&&tt.push(dt===!0?`${_}${pr}`:`${_}${pr}-${dt}`),Ht!=null&&nt.push(`order${pr}-${Ht}`),bt!=null&&nt.push(`offset${pr}-${bt}`)}),[{...j,className:classNames($,...tt,...nt)},{as:o,bsPrefix:_,spans:tt}]}const Col=reactExports.forwardRef((o,_)=>{const[{className:$,...j},{as:_e="div",bsPrefix:et,spans:tt}]=useCol(o);return jsxRuntimeExports$1.jsx(_e,{...j,ref:_,className:classNames($,!tt.length&&et)})});Col.displayName="Col";const propTypes$1={type:PropTypes.string,tooltip:PropTypes.bool,as:PropTypes.elementType},Feedback=reactExports.forwardRef(({as:o="div",className:_,type:$="valid",tooltip:j=!1,..._e},et)=>jsxRuntimeExports$1.jsx(o,{..._e,ref:et,className:classNames(_,`${$}-${j?"tooltip":"feedback"}`)}));Feedback.displayName="Feedback";Feedback.propTypes=propTypes$1;const FormContext=reactExports.createContext({}),FormCheckInput=reactExports.forwardRef(({id:o,bsPrefix:_,className:$,type:j="checkbox",isValid:_e=!1,isInvalid:et=!1,as:tt="input",...nt},it)=>{const{controlId:lt}=reactExports.useContext(FormContext);return _=useBootstrapPrefix(_,"form-check-input"),jsxRuntimeExports$1.jsx(tt,{...nt,ref:it,type:j,id:o||lt,className:classNames($,_,_e&&"is-valid",et&&"is-invalid")})});FormCheckInput.displayName="FormCheckInput";const FormCheckLabel=reactExports.forwardRef(({bsPrefix:o,className:_,htmlFor:$,...j},_e)=>{const{controlId:et}=reactExports.useContext(FormContext);return o=useBootstrapPrefix(o,"form-check-label"),jsxRuntimeExports$1.jsx("label",{...j,ref:_e,htmlFor:$||et,className:classNames(_,o)})});FormCheckLabel.displayName="FormCheckLabel";const FormCheck=reactExports.forwardRef(({id:o,bsPrefix:_,bsSwitchPrefix:$,inline:j=!1,reverse:_e=!1,disabled:et=!1,isValid:tt=!1,isInvalid:nt=!1,feedbackTooltip:it=!1,feedback:lt,feedbackType:dt,className:bt,style:Ht,title:pr="",type:_n="checkbox",label:ft,children:Ct,as:mr="input",..._r},mn)=>{_=useBootstrapPrefix(_,"form-check"),$=useBootstrapPrefix($,"form-switch");const{controlId:dr}=reactExports.useContext(FormContext),pn=reactExports.useMemo(()=>({controlId:o||dr}),[dr,o]),Do=!Ct&&ft!=null&&ft!==!1||hasChildOfType(Ct,FormCheckLabel),Io=jsxRuntimeExports$1.jsx(FormCheckInput,{..._r,type:_n==="switch"?"checkbox":_n,ref:mn,isValid:tt,isInvalid:nt,disabled:et,as:mr});return jsxRuntimeExports$1.jsx(FormContext.Provider,{value:pn,children:jsxRuntimeExports$1.jsx("div",{style:Ht,className:classNames(bt,Do&&_,j&&`${_}-inline`,_e&&`${_}-reverse`,_n==="switch"&&$),children:Ct||jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[Io,Do&&jsxRuntimeExports$1.jsx(FormCheckLabel,{title:pr,children:ft}),lt&&jsxRuntimeExports$1.jsx(Feedback,{type:dt,tooltip:it,children:lt})]})})})});FormCheck.displayName="FormCheck";const FormCheck$1=Object.assign(FormCheck,{Input:FormCheckInput,Label:FormCheckLabel}),FormControl=reactExports.forwardRef(({bsPrefix:o,type:_,size:$,htmlSize:j,id:_e,className:et,isValid:tt=!1,isInvalid:nt=!1,plaintext:it,readOnly:lt,as:dt="input",...bt},Ht)=>{const{controlId:pr}=reactExports.useContext(FormContext);return o=useBootstrapPrefix(o,"form-control"),jsxRuntimeExports$1.jsx(dt,{...bt,type:_,size:j,ref:Ht,readOnly:lt,id:_e||pr,className:classNames(et,it?`${o}-plaintext`:o,$&&`${o}-${$}`,_==="color"&&`${o}-color`,tt&&"is-valid",nt&&"is-invalid")})});FormControl.displayName="FormControl";const FormControl$1=Object.assign(FormControl,{Feedback}),FormFloating=reactExports.forwardRef(({className:o,bsPrefix:_,as:$="div",...j},_e)=>(_=useBootstrapPrefix(_,"form-floating"),jsxRuntimeExports$1.jsx($,{ref:_e,className:classNames(o,_),...j})));FormFloating.displayName="FormFloating";const FormGroup=reactExports.forwardRef(({controlId:o,as:_="div",...$},j)=>{const _e=reactExports.useMemo(()=>({controlId:o}),[o]);return jsxRuntimeExports$1.jsx(FormContext.Provider,{value:_e,children:jsxRuntimeExports$1.jsx(_,{...$,ref:j})})});FormGroup.displayName="FormGroup";const FormLabel=reactExports.forwardRef(({as:o="label",bsPrefix:_,column:$=!1,visuallyHidden:j=!1,className:_e,htmlFor:et,...tt},nt)=>{const{controlId:it}=reactExports.useContext(FormContext);_=useBootstrapPrefix(_,"form-label");let lt="col-form-label";typeof $=="string"&&(lt=`${lt} ${lt}-${$}`);const dt=classNames(_e,_,j&&"visually-hidden",$&&lt);return et=et||it,$?jsxRuntimeExports$1.jsx(Col,{ref:nt,as:"label",className:dt,htmlFor:et,...tt}):jsxRuntimeExports$1.jsx(o,{ref:nt,className:dt,htmlFor:et,...tt})});FormLabel.displayName="FormLabel";const FormRange=reactExports.forwardRef(({bsPrefix:o,className:_,id:$,...j},_e)=>{const{controlId:et}=reactExports.useContext(FormContext);return o=useBootstrapPrefix(o,"form-range"),jsxRuntimeExports$1.jsx("input",{...j,type:"range",ref:_e,className:classNames(_,o),id:$||et})});FormRange.displayName="FormRange";const FormSelect=reactExports.forwardRef(({bsPrefix:o,size:_,htmlSize:$,className:j,isValid:_e=!1,isInvalid:et=!1,id:tt,...nt},it)=>{const{controlId:lt}=reactExports.useContext(FormContext);return o=useBootstrapPrefix(o,"form-select"),jsxRuntimeExports$1.jsx("select",{...nt,size:$,ref:it,className:classNames(j,o,_&&`${o}-${_}`,_e&&"is-valid",et&&"is-invalid"),id:tt||lt})});FormSelect.displayName="FormSelect";const FormText=reactExports.forwardRef(({bsPrefix:o,className:_,as:$="small",muted:j,..._e},et)=>(o=useBootstrapPrefix(o,"form-text"),jsxRuntimeExports$1.jsx($,{..._e,ref:et,className:classNames(_,o,j&&"text-muted")})));FormText.displayName="FormText";const Switch=reactExports.forwardRef((o,_)=>jsxRuntimeExports$1.jsx(FormCheck$1,{...o,ref:_,type:"switch"}));Switch.displayName="Switch";const Switch$1=Object.assign(Switch,{Input:FormCheck$1.Input,Label:FormCheck$1.Label}),FloatingLabel=reactExports.forwardRef(({bsPrefix:o,className:_,children:$,controlId:j,label:_e,...et},tt)=>(o=useBootstrapPrefix(o,"form-floating"),jsxRuntimeExports$1.jsxs(FormGroup,{ref:tt,className:classNames(_,o),controlId:j,...et,children:[$,jsxRuntimeExports$1.jsx("label",{htmlFor:j,children:_e})]})));FloatingLabel.displayName="FloatingLabel";const propTypes={_ref:PropTypes.any,validated:PropTypes.bool,as:PropTypes.elementType},Form=reactExports.forwardRef(({className:o,validated:_,as:$="form",...j},_e)=>jsxRuntimeExports$1.jsx($,{...j,ref:_e,className:classNames(o,_&&"was-validated")}));Form.displayName="Form";Form.propTypes=propTypes;const Form$1=Object.assign(Form,{Group:FormGroup,Control:FormControl$1,Floating:FormFloating,Check:FormCheck$1,Switch:Switch$1,Label:FormLabel,Text:FormText,Range:FormRange,Select:FormSelect,FloatingLabel});var Zs$1=Object.defineProperty,Ys$1=(o,_,$)=>_ in o?Zs$1(o,_,{enumerable:!0,configurable:!0,writable:!0,value:$}):o[_]=$,Ci$1=(o,_,$)=>(Ys$1(o,typeof _!="symbol"?_+"":_,$),$),commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var o=React,_=Symbol.for("react.element"),$=Symbol.for("react.fragment"),j=Object.prototype.hasOwnProperty,_e=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,et={key:!0,ref:!0,__self:!0,__source:!0};function tt(nt,it,lt){var dt,bt={},Ht=null,pr=null;lt!==void 0&&(Ht=""+lt),it.key!==void 0&&(Ht=""+it.key),it.ref!==void 0&&(pr=it.ref);for(dt in it)j.call(it,dt)&&!et.hasOwnProperty(dt)&&(bt[dt]=it[dt]);if(nt&&nt.defaultProps)for(dt in it=nt.defaultProps,it)bt[dt]===void 0&&(bt[dt]=it[dt]);return{$$typeof:_,type:nt,key:Ht,ref:pr,props:bt,_owner:_e.current}}return reactJsxRuntime_production_min.Fragment=$,reactJsxRuntime_production_min.jsx=tt,reactJsxRuntime_production_min.jsxs=tt,reactJsxRuntime_production_min}jsxRuntime.exports=requireReactJsxRuntime_production_min();var jsxRuntimeExports=jsxRuntime.exports;class ControlBox extends React.Component{constructor(){super(...arguments),Ci$1(this,"handleSupercellChange",(_,$)=>{let j=this.props.viewerParams.supercell;j[_]=parseInt($),this.props.onViewerParamChange("supercell",j)}),Ci$1(this,"handleOptionChange",_=>{this.props.onViewerParamChange(_,!this.props.viewerParams[_])}),Ci$1(this,"handleCameraEvent",_=>{this.props.onViewerEvent("camera",_)})}render(){return jsxRuntimeExports.jsxs("div",{className:"control-box",children:[jsxRuntimeExports.jsxs("div",{className:"control-box-row",children:[jsxRuntimeExports.jsxs("div",{className:"supercell-container",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Supercell: "}),jsxRuntimeExports.jsx("div",{style:{display:"flex"},children:[0,1,2].map(_=>jsxRuntimeExports.jsx(Form$1.Control,{className:"supercell-input",type:"number",min:"1",max:"99",value:this.props.viewerParams.supercell[_],onChange:$=>this.handleSupercellChange(_,$.target.value)},_))})]}),jsxRuntimeExports.jsxs("div",{className:"camera-controls",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Camera: "}),jsxRuntimeExports.jsx(Button,{className:"camera-button",onClick:()=>this.handleCameraEvent("x"),children:"x"}),jsxRuntimeExports.jsx(Button,{className:"camera-button",onClick:()=>this.handleCameraEvent("y"),children:"y"}),jsxRuntimeExports.jsx(Button,{className:"camera-button",onClick:()=>this.handleCameraEvent("z"),children:"z"})]})]}),jsxRuntimeExports.jsxs("div",{className:"control-box-row",style:{display:"flex"},children:[jsxRuntimeExports.jsx(Form$1.Check,{className:"option-checkbox",type:"checkbox",checked:this.props.viewerParams.bonds,onChange:()=>this.handleOptionChange("bonds"),label:"Bonds"}),jsxRuntimeExports.jsx(Form$1.Check,{className:"option-checkbox",type:"checkbox",checked:this.props.viewerParams.packedCell,onChange:()=>this.handleOptionChange("packedCell"),label:"Packed cell"}),jsxRuntimeExports.jsx(Form$1.Check,{className:"option-checkbox",type:"checkbox",checked:this.props.viewerParams.atomLabels,onChange:()=>this.handleOptionChange("atomLabels"),label:"Atom labels"}),jsxRuntimeExports.jsx(Form$1.Check,{className:"option-checkbox",type:"checkbox",checked:this.props.viewerParams.spaceFilling,onChange:()=>this.handleOptionChange("vdwRadius"),label:"vdW radius"})]})]})}}var _3Dmol={exports:{}};/*!
 * 3dmol v2.1.0
 * JavaScript/TypeScript molecular visualization library
 * Author: David Koes and contributors
 */(function(module,exports){(function(o,_){module.exports=_()})(commonjsGlobal,()=>(()=>{var __webpack_modules__={"./node_modules/iobuffer/lib-esm/IOBuffer.js":(o,_,$)=>{$.r(_),$.d(_,{IOBuffer:()=>nt});var j=$("./node_modules/iobuffer/lib-esm/text.browser.js");const _e=1024*8,et=(()=>{const it=new Uint8Array(4),lt=new Uint32Array(it.buffer);return!((lt[0]=1)&it[0])})(),tt={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class nt{constructor(lt=_e,dt={}){let bt=!1;typeof lt=="number"?lt=new ArrayBuffer(lt):(bt=!0,this.lastWrittenByte=lt.byteLength);const Ht=dt.offset?dt.offset>>>0:0,pr=lt.byteLength-Ht;let _n=Ht;(ArrayBuffer.isView(lt)||lt instanceof nt)&&(lt.byteLength!==lt.buffer.byteLength&&(_n=lt.byteOffset+Ht),lt=lt.buffer),bt?this.lastWrittenByte=pr:this.lastWrittenByte=0,this.buffer=lt,this.length=pr,this.byteLength=pr,this.byteOffset=_n,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,_n,pr),this._mark=0,this._marks=[]}available(lt=1){return this.offset+lt<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(lt=1){return this.offset+=lt,this}back(lt=1){return this.offset-=lt,this}seek(lt){return this.offset=lt,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const lt=this._marks.pop();if(lt===void 0)throw new Error("Mark stack empty");return this.seek(lt),this}rewind(){return this.offset=0,this}ensureAvailable(lt=1){if(!this.available(lt)){const dt=(this.offset+lt)*2,bt=new Uint8Array(dt);bt.set(new Uint8Array(this.buffer)),this.buffer=bt.buffer,this.length=this.byteLength=dt,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(lt=1){return this.readArray(lt,"uint8")}readArray(lt,dt){const bt=tt[dt].BYTES_PER_ELEMENT*lt,Ht=this.byteOffset+this.offset,pr=this.buffer.slice(Ht,Ht+bt);if(this.littleEndian===et&&dt!=="uint8"&&dt!=="int8"){const ft=new Uint8Array(this.buffer.slice(Ht,Ht+bt));ft.reverse();const Ct=new tt[dt](ft.buffer);return this.offset+=bt,Ct.reverse(),Ct}const _n=new tt[dt](pr);return this.offset+=bt,_n}readInt16(){const lt=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,lt}readUint16(){const lt=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,lt}readInt32(){const lt=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,lt}readUint32(){const lt=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,lt}readFloat32(){const lt=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,lt}readFloat64(){const lt=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,lt}readBigInt64(){const lt=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,lt}readBigUint64(){const lt=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,lt}readChar(){return String.fromCharCode(this.readInt8())}readChars(lt=1){let dt="";for(let bt=0;bt<lt;bt++)dt+=this.readChar();return dt}readUtf8(lt=1){return(0,j.decode)(this.readBytes(lt))}decodeText(lt=1,dt="utf-8"){return(0,j.decode)(this.readBytes(lt),dt)}writeBoolean(lt){return this.writeUint8(lt?255:0),this}writeInt8(lt){return this.ensureAvailable(1),this._data.setInt8(this.offset++,lt),this._updateLastWrittenByte(),this}writeUint8(lt){return this.ensureAvailable(1),this._data.setUint8(this.offset++,lt),this._updateLastWrittenByte(),this}writeByte(lt){return this.writeUint8(lt)}writeBytes(lt){this.ensureAvailable(lt.length);for(let dt=0;dt<lt.length;dt++)this._data.setUint8(this.offset++,lt[dt]);return this._updateLastWrittenByte(),this}writeInt16(lt){return this.ensureAvailable(2),this._data.setInt16(this.offset,lt,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(lt){return this.ensureAvailable(2),this._data.setUint16(this.offset,lt,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(lt){return this.ensureAvailable(4),this._data.setInt32(this.offset,lt,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(lt){return this.ensureAvailable(4),this._data.setUint32(this.offset,lt,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(lt){return this.ensureAvailable(4),this._data.setFloat32(this.offset,lt,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(lt){return this.ensureAvailable(8),this._data.setFloat64(this.offset,lt,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(lt){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,lt,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(lt){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,lt,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(lt){return this.writeUint8(lt.charCodeAt(0))}writeChars(lt){for(let dt=0;dt<lt.length;dt++)this.writeUint8(lt.charCodeAt(dt));return this}writeUtf8(lt){return this.writeBytes((0,j.encode)(lt))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}},"./node_modules/iobuffer/lib-esm/text-encoding-polyfill.js":function(){(function(o){if(o.TextEncoder&&o.TextDecoder)return!1;function _(j="utf-8"){if(j!=="utf-8")throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${j}') is invalid.`)}Object.defineProperty(_.prototype,"encoding",{value:"utf-8"}),_.prototype.encode=function(j,_e={stream:!1}){if(_e.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let et=0;const tt=j.length;let nt=0,it=Math.max(32,tt+(tt>>1)+7),lt=new Uint8Array(it>>3<<3);for(;et<tt;){let dt=j.charCodeAt(et++);if(dt>=55296&&dt<=56319){if(et<tt){const bt=j.charCodeAt(et);(bt&64512)===56320&&(++et,dt=((dt&1023)<<10)+(bt&1023)+65536)}if(dt>=55296&&dt<=56319)continue}if(nt+4>lt.length){it+=8,it*=1+et/j.length*2,it=it>>3<<3;const bt=new Uint8Array(it);bt.set(lt),lt=bt}if(dt&4294967168)if(!(dt&4294965248))lt[nt++]=dt>>6&31|192;else if(!(dt&4294901760))lt[nt++]=dt>>12&15|224,lt[nt++]=dt>>6&63|128;else if(!(dt&4292870144))lt[nt++]=dt>>18&7|240,lt[nt++]=dt>>12&63|128,lt[nt++]=dt>>6&63|128;else continue;else{lt[nt++]=dt;continue}lt[nt++]=dt&63|128}return lt.slice(0,nt)};function $(j="utf-8",_e={fatal:!1}){if(j!=="utf-8")throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${j}') is invalid.`);if(_e.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty($.prototype,"encoding",{value:"utf-8"}),Object.defineProperty($.prototype,"fatal",{value:!1}),Object.defineProperty($.prototype,"ignoreBOM",{value:!1}),$.prototype.decode=function(j,_e={stream:!1}){if(_e.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");const et=new Uint8Array(j);let tt=0;const nt=et.length,it=[];for(;tt<nt;){const lt=et[tt++];if(lt===0)break;if(!(lt&128))it.push(lt);else if((lt&224)===192){const dt=et[tt++]&63;it.push((lt&31)<<6|dt)}else if((lt&240)===224){const dt=et[tt++]&63,bt=et[tt++]&63;it.push((lt&31)<<12|dt<<6|bt)}else if((lt&248)===240){const dt=et[tt++]&63,bt=et[tt++]&63,Ht=et[tt++]&63;let pr=(lt&7)<<18|dt<<12|bt<<6|Ht;pr>65535&&(pr-=65536,it.push(pr>>>10&1023|55296),pr=56320|pr&1023),it.push(pr)}}return String.fromCharCode.apply(null,it)},o.TextEncoder=_,o.TextDecoder=$})(typeof window<"u"?window:typeof self<"u"?self:this)},"./node_modules/iobuffer/lib-esm/text.browser.js":(o,_,$)=>{$.r(_),$.d(_,{decode:()=>j,encode:()=>et}),$("./node_modules/iobuffer/lib-esm/text-encoding-polyfill.js");function j(tt,nt="utf8"){return new TextDecoder(nt).decode(tt)}const _e=new TextEncoder;function et(tt){return _e.encode(tt)}},"./node_modules/netcdfjs/lib-esm/data.js":(o,_,$)=>{$.r(_),$.d(_,{nonRecord:()=>_e,record:()=>et});var j=$("./node_modules/netcdfjs/lib-esm/types.js");function _e(tt,nt){const it=(0,j.str2num)(nt.type),lt=nt.size/(0,j.num2bytes)(it),dt=new Array(lt);for(let bt=0;bt<lt;bt++)dt[bt]=(0,j.readType)(tt,it,1);return dt}function et(tt,nt,it){const lt=(0,j.str2num)(nt.type),dt=nt.size?nt.size/(0,j.num2bytes)(lt):1,bt=it.length,Ht=new Array(bt),pr=it.recordStep;if(pr)for(let _n=0;_n<bt;_n++){const ft=tt.offset;Ht[_n]=(0,j.readType)(tt,lt,dt),tt.seek(ft+pr)}else throw new Error("recordDimension.recordStep is undefined");return Ht}},"./node_modules/netcdfjs/lib-esm/header.js":(o,_,$)=>{$.r(_),$.d(_,{header:()=>dt});var j=$("./node_modules/netcdfjs/lib-esm/types.js"),_e=$("./node_modules/netcdfjs/lib-esm/utils.js");const et=0,tt=10,nt=11,it=12,lt=0;function dt(_n,ft){const Ct={version:ft},mr={length:_n.readUint32()},_r=bt(_n);Array.isArray(_r)||(mr.id=_r.recordId,mr.name=_r.recordName,Ct.dimensions=_r.dimensions),Ct.globalAttributes=Ht(_n);const mn=pr(_n,mr==null?void 0:mr.id,ft);return Array.isArray(mn)||(Ct.variables=mn.variables,mr.recordStep=mn.recordStep),Ct.recordDimension=mr,Ct}function bt(_n){const ft={};let Ct,mr;const _r=_n.readUint32();let mn;if(_r===et)return(0,_e.notNetcdf)(_n.readUint32()!==et,"wrong empty tag for list of dimensions"),[];{(0,_e.notNetcdf)(_r!==tt,"wrong tag for list of dimensions");const dr=_n.readUint32();mn=new Array(dr);for(let pn=0;pn<dr;pn++){const Do=(0,_e.readName)(_n),Io=_n.readUint32();Io===lt&&(Ct=pn,mr=Do),mn[pn]={name:Do,size:Io}}}return Ct!==void 0&&(ft.recordId=Ct),mr!==void 0&&(ft.recordName=mr),ft.dimensions=mn,ft}function Ht(_n){const ft=_n.readUint32();let Ct;if(ft===et)return(0,_e.notNetcdf)(_n.readUint32()!==et,"wrong empty tag for list of attributes"),[];{(0,_e.notNetcdf)(ft!==it,"wrong tag for list of attributes");const mr=_n.readUint32();Ct=new Array(mr);for(let _r=0;_r<mr;_r++){const mn=(0,_e.readName)(_n),dr=_n.readUint32();(0,_e.notNetcdf)(dr<1||dr>6,`non valid type ${dr}`);const pn=_n.readUint32(),Do=(0,j.readType)(_n,dr,pn);(0,_e.padding)(_n),Ct[_r]={name:mn,type:(0,j.num2str)(dr),value:Do}}}return Ct}function pr(_n,ft,Ct){const mr=_n.readUint32();let _r=0,mn;if(mr===et)return(0,_e.notNetcdf)(_n.readUint32()!==et,"wrong empty tag for list of variables"),[];{(0,_e.notNetcdf)(mr!==nt,"wrong tag for list of variables");const dr=_n.readUint32();mn=new Array(dr);for(let pn=0;pn<dr;pn++){const Do=(0,_e.readName)(_n),Io=_n.readUint32(),Lo=new Array(Io);for(let vs=0;vs<Io;vs++)Lo[vs]=_n.readUint32();const ms=Ht(_n),Uo=_n.readUint32();(0,_e.notNetcdf)(Uo<1&&Uo>6,`non valid type ${Uo}`);const _s=_n.readUint32();let yp=_n.readUint32();Ct===2&&((0,_e.notNetcdf)(yp>0,"offsets larger than 4GB not supported"),yp=_n.readUint32());let xs=!1;typeof ft<"u"&&Lo[0]===ft&&(_r+=_s,xs=!0),mn[pn]={name:Do,dimensions:Lo,attributes:ms,type:(0,j.num2str)(Uo),size:_s,offset:yp,record:xs}}}return{variables:mn,recordStep:_r}}},"./node_modules/netcdfjs/lib-esm/index.js":(o,_,$)=>{$.r(_),$.d(_,{NetCDFReader:()=>j.NetCDFReader});var j=$("./node_modules/netcdfjs/lib-esm/parser.js")},"./node_modules/netcdfjs/lib-esm/parser.js":(o,_,$)=>{$.r(_),$.d(_,{NetCDFReader:()=>it});var j=$("./node_modules/iobuffer/lib-esm/IOBuffer.js"),_e=$("./node_modules/netcdfjs/lib-esm/data.js"),et=$("./node_modules/netcdfjs/lib-esm/header.js"),tt=$("./node_modules/netcdfjs/lib-esm/toString.js"),nt=$("./node_modules/netcdfjs/lib-esm/utils.js");class it{constructor(dt){this.toString=tt.toString;const bt=new j.IOBuffer(dt);bt.setBigEndian(),(0,nt.notNetcdf)(bt.readChars(3)!=="CDF","should start with CDF");const Ht=bt.readByte();(0,nt.notNetcdf)(Ht>2,"unknown version"),this.header=(0,et.header)(bt,Ht),this.buffer=bt}get version(){return this.header.version===1?"classic format":"64-bit offset format"}get recordDimension(){return this.header.recordDimension}get dimensions(){return this.header.dimensions}get globalAttributes(){return this.header.globalAttributes}getAttribute(dt){const bt=this.globalAttributes.find(Ht=>Ht.name===dt);return bt?bt.value:null}getDataVariableAsString(dt){const bt=this.getDataVariable(dt);return bt?bt.join(""):null}get variables(){return this.header.variables}getDataVariable(dt){let bt;if(typeof dt=="string"?bt=this.header.variables.find(Ht=>Ht.name===dt):bt=dt,bt===void 0)throw new Error("Not a valid NetCDF v3.x file: variable not found");return this.buffer.seek(bt.offset),bt.record?(0,_e.record)(this.buffer,bt,this.header.recordDimension):(0,_e.nonRecord)(this.buffer,bt)}dataVariableExists(dt){return this.header.variables.find(bt=>bt.name===dt)!==void 0}attributeExists(dt){return this.globalAttributes.find(bt=>bt.name===dt)!==void 0}}},"./node_modules/netcdfjs/lib-esm/toString.js":(o,_,$)=>{$.r(_),$.d(_,{toString:()=>j});function j(){const _e=[];_e.push("DIMENSIONS");for(const tt of this.dimensions)_e.push(`  ${tt.name.padEnd(30)} = size: ${tt.size}`);_e.push(""),_e.push("GLOBAL ATTRIBUTES");for(const tt of this.globalAttributes)_e.push(`  ${tt.name.padEnd(30)} = ${tt.value}`);const et=JSON.parse(JSON.stringify(this.variables));_e.push(""),_e.push("VARIABLES:");for(const tt of et){tt.value=this.getDataVariable(tt);let nt=JSON.stringify(tt.value);nt.length>50&&(nt=nt.substring(0,50)),isNaN(tt.value.length)||(nt+=` (length: ${tt.value.length})`),_e.push(`  ${tt.name.padEnd(30)} = ${nt}`)}return _e.join(`
`)}},"./node_modules/netcdfjs/lib-esm/types.js":(o,_,$)=>{$.r(_),$.d(_,{num2bytes:()=>et,num2str:()=>_e,readType:()=>it,str2num:()=>tt});const j={BYTE:1,CHAR:2,SHORT:3,INT:4,FLOAT:5,DOUBLE:6};function _e(dt){switch(Number(dt)){case j.BYTE:return"byte";case j.CHAR:return"char";case j.SHORT:return"short";case j.INT:return"int";case j.FLOAT:return"float";case j.DOUBLE:return"double";default:return"undefined"}}function et(dt){switch(Number(dt)){case j.BYTE:return 1;case j.CHAR:return 1;case j.SHORT:return 2;case j.INT:return 4;case j.FLOAT:return 4;case j.DOUBLE:return 8;default:return-1}}function tt(dt){switch(String(dt)){case"byte":return j.BYTE;case"char":return j.CHAR;case"short":return j.SHORT;case"int":return j.INT;case"float":return j.FLOAT;case"double":return j.DOUBLE;default:return-1}}function nt(dt,bt){if(dt!==1){const Ht=new Array(dt);for(let pr=0;pr<dt;pr++)Ht[pr]=bt();return Ht}else return bt()}function it(dt,bt,Ht){switch(bt){case j.BYTE:return Array.from(dt.readBytes(Ht));case j.CHAR:return lt(dt.readChars(Ht));case j.SHORT:return nt(Ht,dt.readInt16.bind(dt));case j.INT:return nt(Ht,dt.readInt32.bind(dt));case j.FLOAT:return nt(Ht,dt.readFloat32.bind(dt));case j.DOUBLE:return nt(Ht,dt.readFloat64.bind(dt));default:throw new Error(`non valid type ${bt}`)}}function lt(dt){return dt.charCodeAt(dt.length-1)===0?dt.substring(0,dt.length-1):dt}},"./node_modules/netcdfjs/lib-esm/utils.js":(o,_,$)=>{$.r(_),$.d(_,{notNetcdf:()=>j,padding:()=>_e,readName:()=>et});function j(tt,nt){if(tt)throw new TypeError(`Not a valid NetCDF v3.x file: ${nt}`)}function _e(tt){tt.offset%4!==0&&tt.skip(4-tt.offset%4)}function et(tt){const nt=tt.readUint32(),it=tt.readChars(nt);return _e(tt),it}},"./src/WebGL/shaders/lib/basic/basic.frag":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`uniform mat4 viewMatrix;
uniform float opacity;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
varying vec3 vColor;
//DEFINEFRAGCOLOR
void main() {
    gl_FragColor = vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;
    float fogFactor = smoothstep( fogNear, fogFar, depth );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
}`},"./src/WebGL/shaders/lib/basic/basic.vert":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;

attribute vec3 position;
attribute vec3 color;

varying vec3 vColor;

void main() {

    vColor = color;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix * mvPosition;

}`},"./src/WebGL/shaders/lib/instanced/instanced.frag":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif

    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}


`},"./src/WebGL/shaders/lib/instanced/instanced.vert":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 offset;
attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLightFront;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position * radius + offset, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}

`},"./src/WebGL/shaders/lib/lambert/lambert.frag":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif

    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}`},"./src/WebGL/shaders/lib/lambert/lambert.vert":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}`},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`

uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vLightBack;

varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    if ( gl_FrontFacing )
       gl_FragColor.xyz *= vLightFront;
    else
       gl_FragColor.xyz *= vLightBack;
    #endif

    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}


`},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;
varying vec3 vLightBack;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );
    vLightBack = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;
    vLightBack += directionalLightColor[ 0 ] * directionalLightWeightingBack;

    gl_Position = projectionMatrix * mvPosition;
}

`},"./src/WebGL/shaders/lib/outline/outline.frag":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
//DEFINEFRAGCOLOR

void main() {
    gl_FragColor = vec4( outlineColor, 1 );
}


`},"./src/WebGL/shaders/lib/outline/outline.vert":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

void main() {

    vec4 norm = modelViewMatrix*vec4(normalize(normal),0.0);
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    mvPosition.xy += norm.xy*outlineWidth;
    gl_Position = projectionMatrix * mvPosition;
    mvPosition.z -= outlinePushback; //go backwards in model space
    vec4 pushpos = projectionMatrix*mvPosition; //project to get z in projection space, I'm probably missing some simple math to do the same thing..
    gl_Position.z = gl_Position.w*pushpos.z/pushpos.w;
}

`},"./src/WebGL/shaders/lib/screen/screen.frag":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`uniform sampler2D colormap;
varying highp vec2 vTexCoords;
uniform vec2 dimensions;
//DEFINEFRAGCOLOR
void main (void) {
   gl_FragColor = texture2D(colormap, vTexCoords);
}
        `},"./src/WebGL/shaders/lib/screen/screen.vert":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/screenaa/screenaa.frag":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`uniform sampler2D colormap;
varying highp vec2 vTexCoords;
uniform vec2 dimensions;

// Basic FXAA implementation based on the code on geeks3d.com 
#define FXAA_REDUCE_MIN (1.0/ 128.0)
#define FXAA_REDUCE_MUL (1.0 / 8.0)
#define FXAA_SPAN_MAX 8.0

vec4 applyFXAA(vec2 fragCoord, sampler2D tex)
{
    vec4 color;
    vec2 inverseVP = vec2(1.0 / dimensions.x, 1.0 / dimensions.y);
    vec3 rgbNW = texture2D(tex, fragCoord + vec2(-1.0, -1.0) * inverseVP).xyz;
    vec3 rgbNE = texture2D(tex, fragCoord + vec2(1.0, -1.0) * inverseVP).xyz;
    vec3 rgbSW = texture2D(tex, fragCoord + vec2(-1.0, 1.0) * inverseVP).xyz;
    vec3 rgbSE = texture2D(tex, fragCoord + vec2(1.0, 1.0) * inverseVP).xyz;
    vec3 rgbM  = texture2D(tex, fragCoord  * inverseVP).xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                        (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
            max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
            dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
        texture2D(tex, fragCoord + dir * (1.0 / 3.0 - 0.5)).xyz +
        texture2D(tex, fragCoord  + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
        texture2D(tex, fragCoord  + dir * -0.5).xyz +
        texture2D(tex, fragCoord  + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, 1.0);
    else
        color = vec4(rgbB, 1.0);
    return color;
}
//DEFINEFRAGCOLOR
void main (void) {
   gl_FragColor = applyFXAA(vTexCoords, colormap);
}
        `},"./src/WebGL/shaders/lib/screenaa/screenaa.vert":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`
uniform mat4 viewMatrix;
uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform float uDepth;
uniform vec3 directionalLightColor[ 1 ];

varying vec3 vColor;
varying vec2 mapping;
varying float rval;
varying vec3 vLight;
varying vec3 center;

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    vec3 norm = normalize(vec3(mapping.x,mapping.y,z));
    float dotProduct = dot( norm, vLight );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 vLight = directionalLightColor[ 0 ] * directionalLightWeighting;
    gl_FragColor = vec4(vLight*vColor, opacity*opacity );
    float fogFactor = smoothstep( fogNear, fogFar, gl_FragDepthEXT/gl_FragCoord.w );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );


}

`},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying vec3 vColor;
varying float rval;
varying vec3 vLight;
varying vec3 center;

void main() {

    vColor = color;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec4 adjust = projectionMatrix* vec4(normal,0.0); adjust.z = 0.0; adjust.w = 0.0;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz );
    mapping = normal.xy;
    rval = abs(normal.x);
    gl_Position = projPosition+adjust;

}
`},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform mat4 projectionMatrix;
varying vec2 mapping;
varying float rval;
varying vec3 center;

uniform float outlinePushback;

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z-outlinePushback);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragColor = vec4(outlineColor, 1 );
}


`},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying float rval;
varying vec3 center;

void main() {

    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec2 norm = normal.xy + vec2(sign(normal.x)*outlineWidth,sign(normal.y)*outlineWidth);
    vec4 adjust = projectionMatrix* vec4(norm,normal.z,0.0); adjust.z = 0.0; adjust.w = 0.0;
    mapping = norm.xy;
    rval = abs(norm.x);
    gl_Position = projPosition+adjust;
}

`},"./src/WebGL/shaders/lib/sprite/sprite.frag":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`

uniform vec3 color;
uniform sampler2D map;
uniform float opacity;

uniform int fogType;
uniform vec3 fogColor;
uniform float fogDensity;
uniform float fogNear;
uniform float fogFar;
uniform float alphaTest;

varying vec2 vUV;
//DEFINEFRAGCOLOR

void main() {

    vec4 texture = texture2D(map, vUV);

    if (texture.a < alphaTest) discard;

    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);

    if (fogType > 0) {

        float depth = gl_FragCoord.z / gl_FragCoord.w;
        float fogFactor = 0.0;

        if (fogType == 1) {
            fogFactor = smoothstep(fogNear, fogFar, depth);
        }

        else {
            const float LOG2 = 1.442695;
            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);
            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);
        }

        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);

    }
}

`},"./src/WebGL/shaders/lib/sprite/sprite.vert":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`

uniform int useScreenCoordinates;
uniform vec3 screenPosition;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float rotation;
uniform vec2 scale;
uniform vec2 alignment;
uniform vec2 uvOffset;
uniform vec2 uvScale;

attribute vec2 position;
attribute vec2 uv;

varying vec2 vUV;

void main() {

    vUV = uvOffset + uv * uvScale;

    vec2 alignedPosition = position + alignment;

    vec2 rotatedPosition;
    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;
    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;

    vec4 finalPosition;

    if(useScreenCoordinates != 0) {
        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);
    }

    else {
        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0); finalPosition /= finalPosition.w;
        finalPosition.xy += rotatedPosition; 
    }

    gl_Position = finalPosition;

}

`},"./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`    float dotProduct = dot( norm, vLight );
    vec3 light = vec3( max( dotProduct, 0.0 ) );
    gl_FragColor = vec4(light*color, opacity*opacity );
    float fogFactor = smoothstep( fogNear, fogFar, depth );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
}`},"./src/WebGL/shaders/lib/stickimposter/stickimposter.vert":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = color; vColor.z = abs(vColor.z); //z indicates which vertex and so would vary
    r = abs(radius);
    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }
    vec3 n = normalize(mvPosition.xyz);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       if(projectionMatrix[3][3] == 0.0) { //perspective
         vec3 pnorm = normalize(p1);
         float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
         mvPosition.xyz = p1+t*pnorm; 
       } else { //orthographic
         mvPosition.xyz = p1;
       }
    } else {
      if(projectionMatrix[3][3] == 0.0) { //perspective
         vec3 pnorm = normalize(p2);
         float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
         mvPosition.xyz = p2+t*pnorm;
       } else { //orthographic
         mvPosition.xyz = p2;
       } 
       mult *= -1.0;
    }
    vec3 cr = normalize(cross(mvPosition.xyz,norm))*radius;
    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*radius;
    mvPosition.xyz +=  mult*(cr + doublecr).xyz;
    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz )*directionalLightColor[0]; //not really sure this is right, but color is always white so..
}

`},"./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];
uniform vec3 outlineColor;
uniform float outlineWidth;
uniform float outlinePushback;


attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = outlineColor;
    float rad = radius+sign(radius)*outlineWidth;
    r = abs(rad);
    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
//pushback
    to.xyz += normalize(to.xyz)*outlinePushback;
    pt.xyz += normalize(pt.xyz)*outlinePushback;

    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }
    vec3 n = normalize(mvPosition.xyz);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       vec3 pnorm = normalize(p1);
       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
       mvPosition.xyz = p1+t*pnorm;
    } else {
       vec3 pnorm = normalize(p2);
       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
       mvPosition.xyz = p2+t*pnorm;
       mult *= -1.0;
    }
    vec3 cr = normalize(cross(mvPosition.xyz,norm))*rad;
    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*rad;
    mvPosition.xy +=  mult*(cr + doublecr).xy;
    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vLight = vec3(1.0,1.0,1.0);
}

`},"./src/WebGL/shaders/lib/volumetric/volumetric.frag":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`
uniform highp sampler3D data;
uniform highp sampler2D colormap;
uniform highp sampler2D depthmap;


uniform mat4 textmat;
uniform mat4 projinv;
uniform mat4 projectionMatrix;

uniform float step;
uniform float subsamples;
uniform float maxdepth;
uniform float transfermin;
uniform float transfermax;
in  vec4 mvPosition;
out vec4 color;
void main(void) {

   vec4 pos = mvPosition;
   bool seengood = false;
   float i = 0.0;
   color = vec4(1,1,1,0);
   float increment = 1.0/subsamples;
   float maxsteps = (maxdepth*subsamples/step);
//there's probably a better way to do this..
//calculate farthest possible point in model coordinates
   vec4 maxpos = vec4(pos.x,pos.y,pos.z-maxdepth,1.0);
// convert to projection
   maxpos = projectionMatrix*maxpos;
   vec4 startp = projectionMatrix*pos;
// homogonize
   maxpos /= maxpos.w;
   startp /= startp.w;
//take x,y from start and z from max
   maxpos = vec4(startp.x,startp.y,maxpos.z,1.0);
//convert back to model space
   maxpos = projinv*maxpos;
   maxpos /= maxpos.w;
   float incr = step/subsamples;
//get depth from depthmap
//startp is apparently [-1,1]
   vec2 tpos = startp.xy/2.0+0.5;
   float depth = texture(depthmap, tpos).r;
//compute vector between start and end
   vec4 direction = maxpos-pos;
   for( i = 0.0; i <= maxsteps; i++) {
      vec4 pt = (pos+(i/maxsteps)*direction);
      vec4 ppt = projectionMatrix*pt;
      float ptdepth = ppt.z/ppt.w;
      ptdepth = ((gl_DepthRange.diff * ptdepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
      if(ptdepth > depth) break;
      pt = textmat*pt;
//       pt /= pt.w;
      if(pt.x >= -0.01 && pt.y >= -0.01 && pt.z >= -0.01 && pt.x <= 1.01 && pt.y <= 1.01 && pt.z <= 1.01) {
         seengood = true;
      } else if(seengood) {
         break;
      }
      if( pt.x < -0.01 || pt.x > 1.01 || pt.y < -0.01 || pt.y > 1.01 || pt.z < -0.01 || pt.z > 1.01  ){
          color.a = 0.0;
          continue;
      }
      else {
         float val = texture(data, pt.zyx).r;
         if(isinf(val)) continue; //masked out
         float cval = (val-transfermin)/(transfermax-transfermin); //scale to texture 0-1 range
         vec4 val_color = texture(colormap, vec2(cval,0.5));
         color.rgb = color.rgb*color.a + (1.0-color.a)*val_color.a*val_color.rgb;
         color.a += (1.0 - color.a) * val_color.a; 
         if(color.a > 0.0) color.rgb /= color.a;
//          color = vec4(pt.x, pt.y, pt.z, 1.0);
      }
//       color = vec4(pt.x, pt.y, pt.z, 0.0)
    }
}

        `},"./src/WebGL/shaders/lib/volumetric/volumetric.vert":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;

in vec3 position;
out vec4 mvPosition;
void main() {

    mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix*mvPosition;
}
`},"./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag":(o,_,$)=>{$.r(_),$.d(_,{default:()=>j});const j=`uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLight;
varying vec3 vColor;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

//DEFINEFRAGCOLOR

//cylinder-ray intersection testing taken from http://mrl.nyu.edu/~dzorin/cg05/lecture12.pdf
//also useful: http://stackoverflow.com/questions/9595300/cylinder-impostor-in-glsl
//with a bit more care (caps) this could be a general cylinder imposter (see also outline)
void main() {
    vec3 color = abs(vColor);
    vec3 pos = cposition;
    vec3 p = pos; //ray point
    vec3 v = vec3(0.0,0.0,-1.0); //ray normal - orthographic
    if(projectionMatrix[3][3] == 0.0) v = normalize(pos); //ray normal - perspective
    vec3 pa = p1; //cyl start
    vec3 va = normalize(p2-p1); //cyl norm
    vec3 tmp1 = v-(dot(v,va)*va);
    vec3 deltap = p-pa;
    float A = dot(tmp1,tmp1);
    if(A == 0.0) discard;
    vec3 tmp2 = deltap-(dot(deltap,va)*va);
    float B = 2.0*dot(tmp1, tmp2);
    float C = dot(tmp2,tmp2)-r*r;
//quadratic equation!
    float det = (B*B) - (4.0*A*C);
    if(det < 0.0) discard;
    float sqrtDet = sqrt(det);
    float posT = (-B+sqrtDet)/(2.0*A);
    float negT = (-B-sqrtDet)/(2.0*A);
    float intersectionT = min(posT,negT);
    vec3 qi = p+v*intersectionT;
    float dotp1 = dot(va,qi-p1);
    float dotp2 = dot(va,qi-p2);
    vec3 norm;
    if( dotp1 < 0.0 || dotp2 > 0.0) { //(p-c)^2 + 2(p-c)vt +v^2+t^2 - r^2 = 0
       vec3 cp;
       if( dotp1 < 0.0) {  
//        if(vColor.x < 0.0 ) discard; //color sign bit indicates if we should cap or not
        cp = p1;
       } else {
//          if(vColor.y < 0.0 ) discard;
          cp = p2;
       }
       vec3 diff = p-cp;
       A = dot(v,v);
       B = dot(diff,v)*2.0;
       C = dot(diff,diff)-r*r;
       det = (B*B) - (4.0*C);
       if(det < 0.0) discard;
       sqrtDet = sqrt(det);
       posT = (-B+sqrtDet)/(2.0);
       negT = (-B-sqrtDet)/(2.0);
       float t = min(posT,negT);
       qi = p+v*t; 
       norm = normalize(qi-cp); 
    } else {
       norm = normalize(qi-(dotp1*va + p1));
    }
    vec4 clipPos = projectionMatrix * vec4(qi, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    float depth = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragDepthEXT = depth;`},"./src/GLDraw.ts":(o,_,$)=>{$.r(_),$.d(_,{CAP:()=>_e,GLDraw:()=>et});var j=$("./src/WebGL/math/index.ts"),_e;(function(tt){tt[tt.NONE=0]="NONE",tt[tt.FLAT=1]="FLAT",tt[tt.ROUND=2]="ROUND"})(_e||(_e={}));var et;(function(tt){function nt(ft,Ct,mr){var _r=Math.hypot(ft,Ct),mn,dr,pn,Do,Io;_r<1e-4?(dr=0,pn=1):(dr=-ft/_r,pn=Ct/_r),Ct=-dr*ft+pn*Ct,mn=Math.hypot(Ct,mr),mn<1e-4?(Do=0,Io=1):(Do=mr/mn,Io=Ct/mn);var Lo=new Float32Array(9);return Lo[0]=pn,Lo[1]=dr,Lo[2]=0,Lo[3]=-dr*Io,Lo[4]=pn*Io,Lo[5]=Do,Lo[6]=dr*Do,Lo[7]=-pn*Do,Lo[8]=Io,Lo}class it{constructor(){this.cache={};let Ct=[],mr=4,_r=Math.pow(2,mr),mn=2,dr=Math.pow(2,mn),pn=_r/dr,Do;for(Ct[0]=new j.Vector3(-1,0,0),Ct[pn]=new j.Vector3(0,0,1),Ct[pn*2]=new j.Vector3(1,0,0),Ct[pn*3]=new j.Vector3(0,0,-1),mn=3;mn<=mr;mn++){for(dr=Math.pow(2,mn-1),pn=_r/dr,Do=0;Do<dr-1;Do++)Ct[pn/2+Do*pn]=Ct[Do*pn].clone().add(Ct[(Do+1)*pn]).normalize();Do=dr-1,Ct[pn/2+Do*pn]=Ct[Do*pn].clone().add(Ct[0]).normalize()}this.basisVectors=Ct}getVerticesForRadius(Ct,mr,_r){if(typeof this.cache<"u"&&this.cache[Ct]!==void 0&&this.cache[Ct][mr+_r]!==void 0)return this.cache[Ct][mr+_r];for(var mn=this.basisVectors.length,dr=[],pn=[],Do,Io=0;Io<mn;Io++)dr.push(this.basisVectors[Io].clone().multiplyScalar(Ct)),dr.push(this.basisVectors[Io].clone().multiplyScalar(Ct)),Do=this.basisVectors[Io].clone().normalize(),pn.push(Do),pn.push(Do);var Lo=[],ms=10,Uo=mn,_s=0,yp=Math.PI*2,xs=0,vs=Math.PI,Sp,wp,bp=!1,Ep=!1;for(wp=0;wp<=ms;wp++){bp=wp===0||wp===ms,Ep=wp===ms/2;var Cp=[],Ap=[];for(Sp=0;Sp<=Uo;Sp++){if(Ep){var Mp=Sp<Uo?2*Sp:0;Ap.push(Mp+1),Cp.push(Mp);continue}var Pp=Sp/Uo,Ip=wp/ms;if(!bp||Sp===0)if(Sp<Uo){var Op=new j.Vector3;Op.x=-Ct*Math.cos(_s+Pp*yp)*Math.sin(xs+Ip*vs),mr==1?Op.y=0:Op.y=Ct*Math.cos(xs+Ip*vs),Op.z=Ct*Math.sin(_s+Pp*yp)*Math.sin(xs+Ip*vs),Math.abs(Op.x)<1e-5&&(Op.x=0),Math.abs(Op.y)<1e-5&&(Op.y=0),Math.abs(Op.z)<1e-5&&(Op.z=0),mr==_e.FLAT?(Do=new j.Vector3(0,Math.cos(xs+Ip*vs),0),Do.normalize()):(Do=new j.Vector3(Op.x,Op.y,Op.z),Do.normalize()),dr.push(Op),pn.push(Do),Cp.push(dr.length-1)}else Cp.push(dr.length-Uo);else bp&&Cp.push(dr.length-1)}Ep&&Lo.push(Ap),Lo.push(Cp)}var Wp={vertices:dr,normals:pn,verticesRows:Lo,w:Uo,h:ms};return Ct in this.cache||(this.cache[Ct]={}),this.cache[Ct][mr+_r]=Wp,Wp}}var lt=new it;function dt(ft,Ct,mr,_r,mn,dr=0,pn=0){if(!Ct||!mr)return;let Do=function($m){if(typeof $m=="string"){let Nm=$m;return Nm.toLowerCase()=="flat"?_e.FLAT:Nm.toLowerCase()=="round"?_e.ROUND:_e.NONE}else return $m};dr=Do(dr),pn=Do(pn);var Io=pn||dr;mn=mn||{r:0,g:0,b:0};var Lo=nt(mr.x-Ct.x,mr.y-Ct.y,mr.z-Ct.z),ms=lt.getVerticesForRadius(_r,pn,"to"),Uo=ms.w,_s=ms.h,yp=Io?_s*Uo+2:2*Uo,xs=ft.updateGeoGroup(yp),vs=ms.vertices,Sp=ms.normals,wp=ms.verticesRows,bp=wp[_s/2],Ep=wp[_s/2+1],Cp=xs.vertices,Ap,Mp,Pp,Ip,Op,Wp,Yp=xs.vertexArray,Zp=xs.normalArray,Qp=xs.colorArray,Gp=xs.faceArray;for(Pp=0;Pp<Uo;++Pp){var rm=2*Pp;Ip=Lo[0]*vs[rm].x+Lo[3]*vs[rm].y+Lo[6]*vs[rm].z,Op=Lo[1]*vs[rm].x+Lo[4]*vs[rm].y+Lo[7]*vs[rm].z,Wp=Lo[5]*vs[rm].y+Lo[8]*vs[rm].z,Ap=3*(Cp+rm),Mp=xs.faceidx,Yp[Ap]=Ip+Ct.x,Yp[Ap+1]=Op+Ct.y,Yp[Ap+2]=Wp+Ct.z,Yp[Ap+3]=Ip+mr.x,Yp[Ap+4]=Op+mr.y,Yp[Ap+5]=Wp+mr.z,Zp[Ap]=Ip,Zp[Ap+3]=Ip,Zp[Ap+1]=Op,Zp[Ap+4]=Op,Zp[Ap+2]=Wp,Zp[Ap+5]=Wp,Qp[Ap]=mn.r,Qp[Ap+3]=mn.r,Qp[Ap+1]=mn.g,Qp[Ap+4]=mn.g,Qp[Ap+2]=mn.b,Qp[Ap+5]=mn.b,Gp[Mp]=Ep[Pp]+Cp,Gp[Mp+1]=Ep[Pp+1]+Cp,Gp[Mp+2]=bp[Pp]+Cp,Gp[Mp+3]=bp[Pp]+Cp,Gp[Mp+4]=Ep[Pp+1]+Cp,Gp[Mp+5]=bp[Pp+1]+Cp,xs.faceidx+=6}if(Io){var Jp=pn?0:_s/2,Up=dr?_s+1:_s/2+1,im,em,gm,bm,ym,am,fm,vm,jp,Rp,um,_m,Cm,Sm,zp,Dp,kp,nm,lm,hm,Em,Lp,cm,mm,Vp,qp,xm,Np,Hp,Mm,Tp,dm;for(Op=Jp;Op<Up;Op++)if(Op!==_s/2){var om=Op<=_s/2?mr:Ct,Bp=lt.getVerticesForRadius(_r,pn,"to"),sm=lt.getVerticesForRadius(_r,dr,"from");for(om===mr?(vs=Bp.vertices,Sp=Bp.normals,wp=Bp.verticesRows):om==Ct&&(vs=sm.vertices,Sp=sm.normals,wp=sm.verticesRows),Ip=0;Ip<Uo;Ip++)Mp=xs.faceidx,im=wp[Op][Ip+1],Hp=(im+Cp)*3,em=wp[Op][Ip],Mm=(em+Cp)*3,gm=wp[Op+1][Ip],Tp=(gm+Cp)*3,bm=wp[Op+1][Ip+1],dm=(bm+Cp)*3,ym=Lo[0]*vs[im].x+Lo[3]*vs[im].y+Lo[6]*vs[im].z,am=Lo[0]*vs[em].x+Lo[3]*vs[em].y+Lo[6]*vs[em].z,fm=Lo[0]*vs[gm].x+Lo[3]*vs[gm].y+Lo[6]*vs[gm].z,vm=Lo[0]*vs[bm].x+Lo[3]*vs[bm].y+Lo[6]*vs[bm].z,jp=Lo[1]*vs[im].x+Lo[4]*vs[im].y+Lo[7]*vs[im].z,Rp=Lo[1]*vs[em].x+Lo[4]*vs[em].y+Lo[7]*vs[em].z,um=Lo[1]*vs[gm].x+Lo[4]*vs[gm].y+Lo[7]*vs[gm].z,_m=Lo[1]*vs[bm].x+Lo[4]*vs[bm].y+Lo[7]*vs[bm].z,Cm=Lo[5]*vs[im].y+Lo[8]*vs[im].z,Sm=Lo[5]*vs[em].y+Lo[8]*vs[em].z,zp=Lo[5]*vs[gm].y+Lo[8]*vs[gm].z,Dp=Lo[5]*vs[bm].y+Lo[8]*vs[bm].z,Yp[Hp]=ym+om.x,Yp[Mm]=am+om.x,Yp[Tp]=fm+om.x,Yp[dm]=vm+om.x,Yp[Hp+1]=jp+om.y,Yp[Mm+1]=Rp+om.y,Yp[Tp+1]=um+om.y,Yp[dm+1]=_m+om.y,Yp[Hp+2]=Cm+om.z,Yp[Mm+2]=Sm+om.z,Yp[Tp+2]=zp+om.z,Yp[dm+2]=Dp+om.z,Qp[Hp]=mn.r,Qp[Mm]=mn.r,Qp[Tp]=mn.r,Qp[dm]=mn.r,Qp[Hp+1]=mn.g,Qp[Mm+1]=mn.g,Qp[Tp+1]=mn.g,Qp[dm+1]=mn.g,Qp[Hp+2]=mn.b,Qp[Mm+2]=mn.b,Qp[Tp+2]=mn.b,Qp[dm+2]=mn.b,kp=Lo[0]*Sp[im].x+Lo[3]*Sp[im].y+Lo[6]*Sp[im].z,nm=Lo[0]*Sp[em].x+Lo[3]*Sp[em].y+Lo[6]*Sp[em].z,lm=Lo[0]*Sp[gm].x+Lo[3]*Sp[gm].y+Lo[6]*Sp[gm].z,hm=Lo[0]*Sp[bm].x+Lo[3]*Sp[bm].y+Lo[6]*Sp[bm].z,Em=Lo[1]*Sp[im].x+Lo[4]*Sp[im].y+Lo[7]*Sp[im].z,Lp=Lo[1]*Sp[em].x+Lo[4]*Sp[em].y+Lo[7]*Sp[em].z,cm=Lo[1]*Sp[gm].x+Lo[4]*Sp[gm].y+Lo[7]*Sp[gm].z,mm=Lo[1]*Sp[bm].x+Lo[4]*Sp[bm].y+Lo[7]*Sp[bm].z,Vp=Lo[5]*Sp[im].y+Lo[8]*Sp[im].z,qp=Lo[5]*Sp[em].y+Lo[8]*Sp[em].z,xm=Lo[5]*Sp[gm].y+Lo[8]*Sp[gm].z,Np=Lo[5]*Sp[bm].y+Lo[8]*Sp[bm].z,Op===0?(Zp[Hp]=kp,Zp[Tp]=lm,Zp[dm]=hm,Zp[Hp+1]=Em,Zp[Tp+1]=cm,Zp[dm+1]=mm,Zp[Hp+2]=Vp,Zp[Tp+2]=xm,Zp[dm+2]=Np,Gp[Mp]=im+Cp,Gp[Mp+1]=gm+Cp,Gp[Mp+2]=bm+Cp,xs.faceidx+=3):Op===Up-1?(Zp[Hp]=kp,Zp[Mm]=nm,Zp[Tp]=lm,Zp[Hp+1]=Em,Zp[Mm+1]=Lp,Zp[Tp+1]=cm,Zp[Hp+2]=Vp,Zp[Mm+2]=qp,Zp[Tp+2]=xm,Gp[Mp]=im+Cp,Gp[Mp+1]=em+Cp,Gp[Mp+2]=gm+Cp,xs.faceidx+=3):(Zp[Hp]=kp,Zp[Mm]=nm,Zp[dm]=hm,Zp[Hp+1]=Em,Zp[Mm+1]=Lp,Zp[dm+1]=mm,Zp[Hp+2]=Vp,Zp[Mm+2]=qp,Zp[dm+2]=Np,Zp[Mm]=nm,Zp[Tp]=lm,Zp[dm]=hm,Zp[Mm+1]=Lp,Zp[Tp+1]=cm,Zp[dm+1]=mm,Zp[Mm+2]=qp,Zp[Tp+2]=xm,Zp[dm+2]=Np,Gp[Mp]=im+Cp,Gp[Mp+1]=em+Cp,Gp[Mp+2]=bm+Cp,Gp[Mp+3]=em+Cp,Gp[Mp+4]=gm+Cp,Gp[Mp+5]=bm+Cp,xs.faceidx+=6)}}xs.vertices+=yp}tt.drawCylinder=dt;function bt(ft,Ct,mr,_r,mn){if(!Ct||!mr)return;mn=mn||{r:0,g:0,b:0};let dr=new j.Vector3(mr.x-Ct.x,mr.y-Ct.y,mr.z-Ct.z);var pn=nt(dr.x,dr.y,dr.z);dr=dr.normalize();var Do=lt.basisVectors.length,Io=lt.basisVectors,Lo=Do+2,ms=ft.updateGeoGroup(Lo),Uo=ms.vertices,_s,yp,xs,vs,Sp,wp,bp=ms.vertexArray,Ep=ms.normalArray,Cp=ms.colorArray,Ap=ms.faceArray;for(_s=Uo*3,bp[_s]=Ct.x,bp[_s+1]=Ct.y,bp[_s+2]=Ct.z,Ep[_s]=-dr.x,Ep[_s+1]=-dr.y,Ep[_s+2]=-dr.z,Cp[_s]=mn.r,Cp[_s+1]=mn.g,Cp[_s+2]=mn.b,bp[_s+3]=mr.x,bp[_s+4]=mr.y,bp[_s+5]=mr.z,Ep[_s+3]=dr.x,Ep[_s+4]=dr.y,Ep[_s+5]=dr.z,Cp[_s+3]=mn.r,Cp[_s+4]=mn.g,Cp[_s+5]=mn.b,_s+=6,xs=0;xs<Do;++xs){var Mp=Io[xs].clone();Mp.multiplyScalar(_r),vs=pn[0]*Mp.x+pn[3]*Mp.y+pn[6]*Mp.z,Sp=pn[1]*Mp.x+pn[4]*Mp.y+pn[7]*Mp.z,wp=pn[5]*Mp.y+pn[8]*Mp.z,bp[_s]=vs+Ct.x,bp[_s+1]=Sp+Ct.y,bp[_s+2]=wp+Ct.z,Ep[_s]=vs,Ep[_s+1]=Sp,Ep[_s+2]=wp,Cp[_s]=mn.r,Cp[_s+1]=mn.g,Cp[_s+2]=mn.b,_s+=3}for(ms.vertices+=Do+2,yp=ms.faceidx,xs=0;xs<Do;xs++){var Pp=Uo+2+xs,Ip=Uo+2+(xs+1)%Do;Ap[yp]=Pp,Ap[yp+1]=Ip,Ap[yp+2]=Uo,yp+=3,Ap[yp]=Pp,Ap[yp+1]=Ip,Ap[yp+2]=Uo+1,yp+=3}ms.faceidx+=6*Do}tt.drawCone=bt;class Ht{constructor(){this.cache=new Map}getVerticesForRadius(Ct,mr){mr=mr||2,this.cache.has(mr)||this.cache.set(mr,new Map);let _r=this.cache.get(mr);if(_r.has(Ct))return _r.get(Ct);var mn={vertices:[],verticesRows:[],normals:[]},dr=16*mr,pn=10*mr;Ct<1&&(dr=10*mr,pn=8*mr);var Do=0,Io=Math.PI*2,Lo=0,ms=Math.PI,Uo,_s;for(_s=0;_s<=pn;_s++){let xs=[];for(Uo=0;Uo<=dr;Uo++){let vs=Uo/dr,Sp=_s/pn,wp=-Ct*Math.cos(Do+vs*Io)*Math.sin(Lo+Sp*ms),bp=Ct*Math.cos(Lo+Sp*ms),Ep=Ct*Math.sin(Do+vs*Io)*Math.sin(Lo+Sp*ms);var yp=new j.Vector3(wp,bp,Ep);yp.normalize(),mn.vertices.push({x:wp,y:bp,z:Ep}),mn.normals.push(yp),xs.push(mn.vertices.length-1)}mn.verticesRows.push(xs)}return _r.set(Ct,mn),mn}}var pr=new Ht;function _n(ft,Ct,mr,_r,mn){var dr=pr.getVerticesForRadius(mr,mn),pn=dr.vertices,Do=dr.normals,Io=ft.updateGeoGroup(pn.length),Lo=Io.vertices,ms=Io.vertexArray,Uo=Io.colorArray,_s=Io.faceArray,yp=Io.lineArray,xs=Io.normalArray;for(let wp=0,bp=pn.length;wp<bp;++wp){let Ep=3*(Lo+wp),Cp=pn[wp];ms[Ep]=Cp.x+Ct.x,ms[Ep+1]=Cp.y+Ct.y,ms[Ep+2]=Cp.z+Ct.z,Uo[Ep]=_r.r,Uo[Ep+1]=_r.g,Uo[Ep+2]=_r.b}Io.vertices+=pn.length;let vs=dr.verticesRows,Sp=vs.length-1;for(let wp=0;wp<Sp;wp++){let bp=vs[wp].length-1;for(let Ep=0;Ep<bp;Ep++){let Cp=Io.faceidx,Ap=Io.lineidx,Mp=vs[wp][Ep+1]+Lo,Pp=Mp*3,Ip=vs[wp][Ep]+Lo,Op=Ip*3,Wp=vs[wp+1][Ep]+Lo,Yp=Wp*3,Zp=vs[wp+1][Ep+1]+Lo,Qp=Zp*3,Gp=Do[Mp-Lo],rm=Do[Ip-Lo],Jp=Do[Wp-Lo],Up=Do[Zp-Lo];Math.abs(pn[Mp-Lo].y)===mr?(xs[Pp]=Gp.x,xs[Yp]=Jp.x,xs[Qp]=Up.x,xs[Pp+1]=Gp.y,xs[Yp+1]=Jp.y,xs[Qp+1]=Up.y,xs[Pp+2]=Gp.z,xs[Yp+2]=Jp.z,xs[Qp+2]=Up.z,_s[Cp]=Mp,_s[Cp+1]=Wp,_s[Cp+2]=Zp,yp[Ap]=Mp,yp[Ap+1]=Wp,yp[Ap+2]=Mp,yp[Ap+3]=Zp,yp[Ap+4]=Wp,yp[Ap+5]=Zp,Io.faceidx+=3,Io.lineidx+=6):Math.abs(pn[Wp-Lo].y)===mr?(xs[Pp]=Gp.x,xs[Op]=rm.x,xs[Yp]=Jp.x,xs[Pp+1]=Gp.y,xs[Op+1]=rm.y,xs[Yp+1]=Jp.y,xs[Pp+2]=Gp.z,xs[Op+2]=rm.z,xs[Yp+2]=Jp.z,_s[Cp]=Mp,_s[Cp+1]=Ip,_s[Cp+2]=Wp,yp[Ap]=Mp,yp[Ap+1]=Ip,yp[Ap+2]=Mp,yp[Ap+3]=Wp,yp[Ap+4]=Ip,yp[Ap+5]=Wp,Io.faceidx+=3,Io.lineidx+=6):(xs[Pp]=Gp.x,xs[Op]=rm.x,xs[Qp]=Up.x,xs[Pp+1]=Gp.y,xs[Op+1]=rm.y,xs[Qp+1]=Up.y,xs[Pp+2]=Gp.z,xs[Op+2]=rm.z,xs[Qp+2]=Up.z,xs[Op]=rm.x,xs[Yp]=Jp.x,xs[Qp]=Up.x,xs[Op+1]=rm.y,xs[Yp+1]=Jp.y,xs[Qp+1]=Up.y,xs[Op+2]=rm.z,xs[Yp+2]=Jp.z,xs[Qp+2]=Up.z,_s[Cp]=Mp,_s[Cp+1]=Ip,_s[Cp+2]=Zp,_s[Cp+3]=Ip,_s[Cp+4]=Wp,_s[Cp+5]=Zp,yp[Ap]=Mp,yp[Ap+1]=Ip,yp[Ap+2]=Mp,yp[Ap+3]=Zp,yp[Ap+4]=Ip,yp[Ap+5]=Wp,yp[Ap+6]=Wp,yp[Ap+7]=Zp,Io.faceidx+=6,Io.lineidx+=8)}}}tt.drawSphere=_n})(et||(et={}))},"./src/GLModel.ts":(o,_,$)=>{$.r(_),$.d(_,{GLModel:()=>Ct});var j=$("./src/WebGL/index.ts"),_e=$("./src/WebGL/shapes/index.ts"),et=$("./src/WebGL/math/index.ts"),tt=$("./src/colors.ts"),nt=$("./src/GLDraw.ts"),it=$("./src/glcartoon.ts"),lt=$("./src/utilities.ts"),dt=$("./src/Gradient.ts"),bt=$("./src/parsers/index.ts"),Ht=$("./node_modules/netcdfjs/lib-esm/index.js"),pr=$("./node_modules/pako/dist/pako.esm.mjs"),_n=$("./src/parsers/utils/assignBonds.ts");function ft(mr){let _r;return typeof mr=="string"?_r=new TextEncoder().encode(mr):_r=new Uint8Array(mr),(0,pr.inflate)(_r,{to:"string"})}class Ct{static sameObj(_r,mn){return _r&&mn?JSON.stringify(_r)==JSON.stringify(mn):_r==mn}constructor(_r,mn){this.atoms=[],this.frames=[],this.box=null,this.atomdfs=null,this.id=0,this.hidden=!1,this.molObj=null,this.renderedMolObj=null,this.lastColors=null,this.modelData={},this.modelDatas=null,this.idMatrix=new et.Matrix4,this.dontDuplicateAtoms=!0,this.defaultColor=tt.elementColors.defaultColor,this.defaultStickRadius=.25,this.options=mn||{},this.ElementColors=this.options.defaultcolors?this.options.defaultcolors:tt.elementColors.defaultColors,this.defaultSphereRadius=this.options.defaultSphereRadius?this.options.defaultSphereRadius:1.5,this.defaultCartoonQuality=this.options.cartoonQuality?this.options.cartoonQuality:10,this.id=_r}getRadiusFromStyle(_r,mn){var dr=this.defaultSphereRadius;if(typeof mn.radius<"u")dr=mn.radius;else if(Ct.vdwRadii[_r.elem])dr=Ct.vdwRadii[_r.elem];else if(_r.elem.length>1){let pn=_r.elem;pn=pn[0].toUpperCase()+pn[1].toLowerCase(),Ct.vdwRadii[pn]&&(dr=Ct.vdwRadii[pn])}return typeof mn.scale<"u"&&(dr*=mn.scale),dr}drawAtomCross(_r,mn){if(_r.style.cross){var dr=_r.style.cross;if(!dr.hidden){var pn=dr.linewidth||Ct.defaultlineWidth;mn[pn]||(mn[pn]=new j.Geometry);var Do=mn[pn].updateGeoGroup(6),Io=this.getRadiusFromStyle(_r,dr),Lo=[[Io,0,0],[-Io,0,0],[0,Io,0],[0,-Io,0],[0,0,Io],[0,0,-Io]],ms=_r.clickable||_r.hoverable;ms&&_r.intersectionShape===void 0&&(_r.intersectionShape={sphere:[],cylinder:[],line:[]});for(var Uo=(0,lt.getColorFromStyle)(_r,dr),_s=Do.vertexArray,yp=Do.colorArray,xs=0;xs<6;xs++){var vs=Do.vertices*3;if(Do.vertices++,_s[vs]=_r.x+Lo[xs][0],_s[vs+1]=_r.y+Lo[xs][1],_s[vs+2]=_r.z+Lo[xs][2],yp[vs]=Uo.r,yp[vs+1]=Uo.g,yp[vs+2]=Uo.b,ms){var Sp=new et.Vector3(Lo[xs][0],Lo[xs][1],Lo[xs][2]);Sp.multiplyScalar(.1),Sp.set(Sp.x+_r.x,Sp.y+_r.y,Sp.z+_r.z),_r.intersectionShape.line.push(Sp)}}}}}getGoodCross(_r,mn,dr,pn){for(var Do=null,Io=-1,Lo=0,ms=_r.bonds.length;Lo<ms;Lo++)if(_r.bonds[Lo]!=mn.index){let _s=_r.bonds[Lo],yp=this.atoms[_s],xs=new et.Vector3(yp.x,yp.y,yp.z).clone();xs.sub(dr);let vs=xs.clone();vs.cross(pn);var Uo=vs.lengthSq();if(Uo>Io&&(Io=Uo,Do=vs,Io>.1))return Do}return Do}getSideBondV(_r,mn,dr){var pn,Do,Io,Lo,ms,Uo=new et.Vector3(_r.x,_r.y,_r.z),_s=new et.Vector3(mn.x,mn.y,mn.z),yp=_s.clone(),xs=null;if(yp.sub(Uo),_r.bonds.length===1)mn.bonds.length===1?(xs=yp.clone(),Math.abs(xs.x)>1e-4?xs.y+=1:xs.x+=1):(pn=(dr+1)%mn.bonds.length,Do=mn.bonds[pn],Io=this.atoms[Do],Io.index==_r.index&&(pn=(pn+1)%mn.bonds.length,Do=mn.bonds[pn],Io=this.atoms[Do]),Lo=new et.Vector3(Io.x,Io.y,Io.z),ms=Lo.clone(),ms.sub(Uo),xs=ms.clone(),xs.cross(yp));else if(xs=this.getGoodCross(_r,mn,Uo,yp),xs.lengthSq()<.01){var vs=this.getGoodCross(mn,_r,Uo,yp);vs!=null&&(xs=vs)}return xs.lengthSq()<.01&&(xs=yp.clone(),Math.abs(xs.x)>1e-4?xs.y+=1:xs.x+=1),xs.cross(yp),xs.normalize(),xs}addLine(_r,mn,dr,pn,Do,Io){_r[dr]=pn.x,_r[dr+1]=pn.y,_r[dr+2]=pn.z,mn[dr]=Io.r,mn[dr+1]=Io.g,mn[dr+2]=Io.b,_r[dr+3]=Do.x,_r[dr+4]=Do.y,_r[dr+5]=Do.z,mn[dr+3]=Io.r,mn[dr+4]=Io.g,mn[dr+5]=Io.b}drawBondLines(_r,mn,dr){if(_r.style.line){var pn=_r.style.line;if(!pn.hidden){var Do,Io,Lo,ms,Uo=pn.linewidth||Ct.defaultlineWidth;dr[Uo]||(dr[Uo]=new j.Geometry);for(var _s=dr[Uo].updateGeoGroup(6*_r.bonds.length),yp=_s.vertexArray,xs=_s.colorArray,vs=0;vs<_r.bonds.length;vs++){var Sp=_r.bonds[vs],wp=mn[Sp];if(wp.style.line&&!(_r.index>=wp.index)){var bp=new et.Vector3(_r.x,_r.y,_r.z),Ep=new et.Vector3(wp.x,wp.y,wp.z),Cp=bp.clone().add(Ep).multiplyScalar(.5),Ap=!1,Mp=_r.clickable||_r.hoverable,Pp=wp.clickable||wp.hoverable;(Mp||Pp)&&(Mp&&(_r.intersectionShape===void 0&&(_r.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),_r.intersectionShape.line.push(bp),_r.intersectionShape.line.push(Cp)),Pp&&(wp.intersectionShape===void 0&&(wp.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),wp.intersectionShape.line.push(Cp),wp.intersectionShape.line.push(Ep)));var Ip=(0,lt.getColorFromStyle)(_r,_r.style.line),Op=(0,lt.getColorFromStyle)(wp,wp.style.line);if(_r.bondStyles&&_r.bondStyles[vs]){var Wp=_r.bondStyles[vs];if(!Wp.iswire)continue;Wp.singleBond&&(Ap=!0),typeof Wp.color1<"u"&&(Ip=tt.CC.color(Wp.color1)),typeof Wp.color2<"u"&&(Op=tt.CC.color(Wp.color2))}var Yp=_s.vertices*3,Zp,Qp;if(_r.bondOrder[vs]>1&&_r.bondOrder[vs]<4&&!Ap){var Gp=this.getSideBondV(_r,wp,vs),rm=Ep.clone();rm.sub(bp),_r.bondOrder[vs]==2?(Gp.multiplyScalar(.1),Do=bp.clone(),Do.add(Gp),Io=bp.clone(),Io.sub(Gp),Lo=Do.clone(),Lo.add(rm),ms=Io.clone(),ms.add(rm),Ip==Op?(_s.vertices+=4,this.addLine(yp,xs,Yp,Do,Lo,Ip),this.addLine(yp,xs,Yp+6,Io,ms,Ip)):(_s.vertices+=8,rm.multiplyScalar(.5),Zp=Do.clone(),Zp.add(rm),Qp=Io.clone(),Qp.add(rm),this.addLine(yp,xs,Yp,Do,Zp,Ip),this.addLine(yp,xs,Yp+6,Zp,Lo,Op),this.addLine(yp,xs,Yp+12,Io,Qp,Ip),this.addLine(yp,xs,Yp+18,Qp,ms,Op))):_r.bondOrder[vs]==3&&(Gp.multiplyScalar(.1),Do=bp.clone(),Do.add(Gp),Io=bp.clone(),Io.sub(Gp),Lo=Do.clone(),Lo.add(rm),ms=Io.clone(),ms.add(rm),Ip==Op?(_s.vertices+=6,this.addLine(yp,xs,Yp,bp,Ep,Ip),this.addLine(yp,xs,Yp+6,Do,Lo,Ip),this.addLine(yp,xs,Yp+12,Io,ms,Ip)):(_s.vertices+=12,rm.multiplyScalar(.5),Zp=Do.clone(),Zp.add(rm),Qp=Io.clone(),Qp.add(rm),this.addLine(yp,xs,Yp,bp,Cp,Ip),this.addLine(yp,xs,Yp+6,Cp,Ep,Op),this.addLine(yp,xs,Yp+12,Do,Zp,Ip),this.addLine(yp,xs,Yp+18,Zp,Lo,Op),this.addLine(yp,xs,Yp+24,Io,Qp,Ip),this.addLine(yp,xs,Yp+30,Qp,ms,Op)))}else Ip==Op?(_s.vertices+=2,this.addLine(yp,xs,Yp,bp,Ep,Ip)):(_s.vertices+=4,this.addLine(yp,xs,Yp,bp,Cp,Ip),this.addLine(yp,xs,Yp+6,Cp,Ep,Op))}}}}}drawAtomSphere(_r,mn){if(_r.style.sphere){var dr=_r.style.sphere;if(!dr.hidden){var pn=(0,lt.getColorFromStyle)(_r,dr),Do=this.getRadiusFromStyle(_r,dr);if((_r.clickable===!0||_r.hoverable)&&_r.intersectionShape!==void 0){var Io=new et.Vector3(_r.x,_r.y,_r.z);_r.intersectionShape.sphere.push(new _e.Sphere(Io,Do))}nt.GLDraw.drawSphere(mn,_r,Do,pn)}}}drawAtomClickSphere(_r){if(_r.style.clicksphere){var mn=_r.style.clicksphere;if(!mn.hidden){var dr=this.getRadiusFromStyle(_r,mn);if((_r.clickable===!0||_r.hoverable)&&_r.intersectionShape!==void 0){var pn=new et.Vector3(_r.x,_r.y,_r.z);_r.intersectionShape.sphere.push(new _e.Sphere(pn,dr))}}}}drawAtomInstanced(_r,mn){if(_r.style.sphere){var dr=_r.style.sphere;if(!dr.hidden){var pn=this.getRadiusFromStyle(_r,dr),Do=(0,lt.getColorFromStyle)(_r,dr),Io=mn.updateGeoGroup(1),Lo=Io.vertices,ms=Lo*3,Uo=Io.vertexArray,_s=Io.colorArray,yp=Io.radiusArray;if(Uo[ms]=_r.x,Uo[ms+1]=_r.y,Uo[ms+2]=_r.z,_s[ms]=Do.r,_s[ms+1]=Do.g,_s[ms+2]=Do.b,yp[Lo]=pn,(_r.clickable===!0||_r.hoverable)&&_r.intersectionShape!==void 0){var xs=new et.Vector3(_r.x,_r.y,_r.z);_r.intersectionShape.sphere.push(new _e.Sphere(xs,pn))}Io.vertices+=1}}}drawSphereImposter(_r,mn,dr,pn){var Do=_r.updateGeoGroup(4),Io,Lo=Do.vertices,ms=Lo*3,Uo=Do.vertexArray,_s=Do.colorArray;for(Io=0;Io<4;Io++)Uo[ms+3*Io]=mn.x,Uo[ms+3*Io+1]=mn.y,Uo[ms+3*Io+2]=mn.z;var yp=Do.normalArray;for(Io=0;Io<4;Io++)_s[ms+3*Io]=pn.r,_s[ms+3*Io+1]=pn.g,_s[ms+3*Io+2]=pn.b;yp[ms+0]=-dr,yp[ms+1]=dr,yp[ms+2]=0,yp[ms+3]=-dr,yp[ms+4]=-dr,yp[ms+5]=0,yp[ms+6]=dr,yp[ms+7]=-dr,yp[ms+8]=0,yp[ms+9]=dr,yp[ms+10]=dr,yp[ms+11]=0,Do.vertices+=4;var xs=Do.faceArray,vs=Do.faceidx;xs[vs+0]=Lo,xs[vs+1]=Lo+1,xs[vs+2]=Lo+2,xs[vs+3]=Lo+2,xs[vs+4]=Lo+3,xs[vs+5]=Lo,Do.faceidx+=6}drawAtomImposter(_r,mn){if(_r.style.sphere){var dr=_r.style.sphere;if(!dr.hidden){var pn=this.getRadiusFromStyle(_r,dr),Do=(0,lt.getColorFromStyle)(_r,dr);if((_r.clickable===!0||_r.hoverable)&&_r.intersectionShape!==void 0){var Io=new et.Vector3(_r.x,_r.y,_r.z);_r.intersectionShape.sphere.push(new _e.Sphere(Io,pn))}this.drawSphereImposter(mn,_r,pn,Do)}}}calculateDashes(_r,mn,dr,pn,Do){var Io=Math.sqrt(Math.pow(_r.x-mn.x,2)+Math.pow(_r.y-mn.y,2)+Math.pow(_r.z-mn.z,2));dr=Math.max(dr,0),Do=Math.max(Do,0)+2*dr,pn=Math.max(pn,.001),pn+Do>Io&&(pn=Io,Do=0);var Lo=Math.floor((Io-pn)/(pn+Do))+1,ms=Lo*pn;Do=(Io-ms)/Lo;for(var Uo,_s=new et.Vector3(_r.x,_r.y,_r.z),yp=new et.Vector3((mn.x-_r.x)/(Io/Do),(mn.y-_r.y)/(Io/Do),(mn.z-_r.z)/(Io/Do)),xs=new et.Vector3((mn.x-_r.x)/(Io/pn),(mn.y-_r.y)/(Io/pn),(mn.z-_r.z)/(Io/pn)),vs=[],Sp=0;Sp<Lo;Sp++)Uo=new et.Vector3(_s.x+xs.x,_s.y+xs.y,_s.z+xs.z),vs.push({from:_s,to:Uo}),_s=new et.Vector3(Uo.x+yp.x,Uo.y+yp.y,Uo.z+yp.z);return vs}static drawStickImposter(_r,mn,dr,pn,Do,Io=0,Lo=0){for(var ms=_r.updateGeoGroup(4),Uo=ms.vertices,_s=Uo*3,yp=ms.vertexArray,xs=ms.colorArray,vs=ms.radiusArray,Sp=ms.normalArray,wp=Do.r,bp=Do.g,Ep=Do.b,Cp=function(Op){var Wp=-Op;return Wp==0&&(Wp=-1e-4),Wp},Ap=_s,Mp=0;Mp<4;Mp++)yp[Ap]=mn.x,Sp[Ap]=dr.x,xs[Ap]=wp,Ap++,yp[Ap]=mn.y,Sp[Ap]=dr.y,xs[Ap]=bp,Ap++,yp[Ap]=mn.z,Sp[Ap]=dr.z,Mp<2?xs[Ap]=Ep:xs[Ap]=Cp(Ep),Ap++;ms.vertices+=4,vs[Uo]=-pn,vs[Uo+1]=pn,vs[Uo+2]=-pn,vs[Uo+3]=pn;var Pp=ms.faceArray,Ip=ms.faceidx;Pp[Ip+0]=Uo,Pp[Ip+1]=Uo+1,Pp[Ip+2]=Uo+2,Pp[Ip+3]=Uo+2,Pp[Ip+4]=Uo+3,Pp[Ip+5]=Uo,ms.faceidx+=6}drawBondSticks(_r,mn,dr){var pn,Do;if(_r.style.stick){var Io=_r.style.stick;if(!Io.hidden){var Lo=Io.radius||this.defaultStickRadius,ms=Io.doubleBondScaling||.4,Uo=Io.tripleBondScaling||.25,_s=((pn=Io.dashedBondConfig)===null||pn===void 0?void 0:pn.dashLength)||.1,yp=((Do=Io.dashedBondConfig)===null||Do===void 0?void 0:Do.gapLength)||.25,xs=Lo,vs=Io.singleBonds||!1,Sp=Io.dashedBonds||!1,wp=0,bp=0,Ep,Cp,Ap,Mp,Pp,Ip,Op,Wp,Yp,Zp,Qp,Gp=(0,lt.getColorFromStyle)(_r,Io),rm,Jp,Up;!_r.capDrawn&&_r.bonds.length<4&&(wp=2);var im=Vp=>{var qp=dr.imposter?Ct.drawStickImposter:nt.GLDraw.drawCylinder;return!Sp&&Vp>=1?qp:(xm,Np,Hp,Mm,Tp,dm=0,om=0,Bp=.1,sm=.25)=>{var $m=this.calculateDashes(Np,Hp,Mm,Bp,sm);$m.forEach(Nm=>{qp(xm,Nm.from,Nm.to,Mm,Tp,dm,om)})}};for(Ap=0;Ap<_r.bonds.length;Ap++){var em=im(_r.bondOrder[Ap]),gm=_r.bonds[Ap],bm=mn[gm];if(rm=Jp=Up=null,_r.index<bm.index){var ym=bm.style;if(!ym.stick||ym.stick.hidden)continue;var am=(0,lt.getColorFromStyle)(bm,ym.stick);if(xs=Lo,Mp=vs,_r.bondStyles&&_r.bondStyles[Ap]){if(Pp=_r.bondStyles[Ap],Pp.iswire)continue;Pp.radius&&(xs=Pp.radius),Pp.singleBond&&(Mp=!0),typeof Pp.color1<"u"&&(Gp=tt.CC.color(Pp.color1)),typeof Pp.color2<"u"&&(am=tt.CC.color(Pp.color2))}var fm=new et.Vector3(_r.x,_r.y,_r.z),vm=new et.Vector3(bm.x,bm.y,bm.z);if(_r.bondOrder[Ap]<=1||Mp||_r.bondOrder[Ap]>3){if(_r.bondOrder[Ap]<1&&(xs*=_r.bondOrder[Ap]),!bm.capDrawn&&bm.bonds.length<4&&(bp=2),Gp!=am?(rm=new et.Vector3().addVectors(fm,vm).multiplyScalar(.5),em(dr,fm,rm,xs,Gp,wp,0,_s,yp),em(dr,rm,vm,xs,am,0,bp,_s,yp)):em(dr,fm,vm,xs,Gp,wp,bp,_s,yp),Ep=_r.clickable||_r.hoverable,Cp=bm.clickable||bm.hoverable,Ep||Cp){if(rm||(rm=new et.Vector3().addVectors(fm,vm).multiplyScalar(.5)),Ep){var jp=new _e.Cylinder(fm,rm,xs),Rp=new _e.Sphere(fm,xs);_r.intersectionShape.cylinder.push(jp),_r.intersectionShape.sphere.push(Rp)}if(Cp){var um=new _e.Cylinder(vm,rm,xs),_m=new _e.Sphere(vm,xs);bm.intersectionShape.cylinder.push(um),bm.intersectionShape.sphere.push(_m)}}}else if(_r.bondOrder[Ap]>1){var Cm=0,Sm=0;xs!=Lo&&(Cm=2,Sm=2);var zp=vm.clone(),Dp=null;zp.sub(fm);var kp,nm,lm,hm,Em;Dp=this.getSideBondV(_r,bm,Ap),_r.bondOrder[Ap]==2?(kp=xs*ms,Dp.multiplyScalar(kp*1.5),nm=fm.clone(),nm.add(Dp),lm=fm.clone(),lm.sub(Dp),hm=nm.clone(),hm.add(zp),Em=lm.clone(),Em.add(zp),Gp!=am?(rm=new et.Vector3().addVectors(nm,hm).multiplyScalar(.5),Jp=new et.Vector3().addVectors(lm,Em).multiplyScalar(.5),em(dr,nm,rm,kp,Gp,Cm,0),em(dr,rm,hm,kp,am,0,Sm),em(dr,lm,Jp,kp,Gp,Cm,0),em(dr,Jp,Em,kp,am,0,Sm)):(em(dr,nm,hm,kp,Gp,Cm,Sm),em(dr,lm,Em,kp,Gp,Cm,Sm)),Ep=_r.clickable||_r.hoverable,Cp=bm.clickable||bm.hoverable,(Ep||Cp)&&(rm||(rm=new et.Vector3().addVectors(nm,hm).multiplyScalar(.5)),Jp||(Jp=new et.Vector3().addVectors(lm,Em).multiplyScalar(.5)),Ep&&(Ip=new _e.Cylinder(nm,rm,kp),Op=new _e.Cylinder(lm,Jp,kp),_r.intersectionShape.cylinder.push(Ip),_r.intersectionShape.cylinder.push(Op)),Cp&&(Yp=new _e.Cylinder(hm,rm,kp),Zp=new _e.Cylinder(Em,Jp,kp),bm.intersectionShape.cylinder.push(Yp),bm.intersectionShape.cylinder.push(Zp)))):_r.bondOrder[Ap]==3&&(kp=xs*Uo,Dp.cross(zp),Dp.normalize(),Dp.multiplyScalar(kp*3),nm=fm.clone(),nm.add(Dp),lm=fm.clone(),lm.sub(Dp),hm=nm.clone(),hm.add(zp),Em=lm.clone(),Em.add(zp),Gp!=am?(rm=new et.Vector3().addVectors(nm,hm).multiplyScalar(.5),Jp=new et.Vector3().addVectors(lm,Em).multiplyScalar(.5),Up=new et.Vector3().addVectors(fm,vm).multiplyScalar(.5),em(dr,nm,rm,kp,Gp,Cm,0),em(dr,rm,hm,kp,am,0,Sm),em(dr,fm,Up,kp,Gp,wp,0),em(dr,Up,vm,kp,am,0,bp),em(dr,lm,Jp,kp,Gp,Cm,0),em(dr,Jp,Em,kp,am,0,Sm)):(em(dr,nm,hm,kp,Gp,Cm,Sm),em(dr,fm,vm,kp,Gp,wp,bp),em(dr,lm,Em,kp,Gp,Cm,Sm)),Ep=_r.clickable||_r.hoverable,Cp=bm.clickable||bm.hoverable,(Ep||Cp)&&(rm||(rm=new et.Vector3().addVectors(nm,hm).multiplyScalar(.5)),Jp||(Jp=new et.Vector3().addVectors(lm,Em).multiplyScalar(.5)),Up||(Up=new et.Vector3().addVectors(fm,vm).multiplyScalar(.5)),Ep&&(Ip=new _e.Cylinder(nm.clone(),rm.clone(),kp),Op=new _e.Cylinder(lm.clone(),Jp.clone(),kp),Wp=new _e.Cylinder(fm.clone(),Up.clone(),kp),_r.intersectionShape.cylinder.push(Ip),_r.intersectionShape.cylinder.push(Op),_r.intersectionShape.cylinder.push(Wp)),Cp&&(Yp=new _e.Cylinder(hm.clone(),rm.clone(),kp),Zp=new _e.Cylinder(Em.clone(),Jp.clone(),kp),Qp=new _e.Cylinder(vm.clone(),Up.clone(),kp),bm.intersectionShape.cylinder.push(Yp),bm.intersectionShape.cylinder.push(Zp),bm.intersectionShape.cylinder.push(Qp))))}}}var Lp=!1,cm=0,mm=!1;for(Ap=0;Ap<_r.bonds.length;Ap++)Mp=vs,_r.bondStyles&&_r.bondStyles[Ap]&&(Pp=_r.bondStyles[Ap],Pp.singleBond&&(Mp=!0),Pp.radius&&Pp.radius!=Lo&&(mm=!0)),(Mp||_r.bondOrder[Ap]==1)&&cm++;mm?cm>0&&(Lp=!0):cm==0&&(_r.bonds.length>0||Io.showNonBonded)&&(Lp=!0),Lp&&(xs=Lo,dr.imposter?this.drawSphereImposter(dr.sphereGeometry,_r,xs,Gp):nt.GLDraw.drawSphere(dr,_r,xs,Gp))}}}createMolObj(_r,mn){mn=mn||{};var dr=new j.Object3D,pn=[],Do={},Io={},Lo=this.drawAtomSphere,ms=null,Uo=null;mn.supportsImposters?(Lo=this.drawAtomImposter,ms=new j.Geometry(!0),ms.imposter=!0,Uo=new j.Geometry(!0,!0),Uo.imposter=!0,Uo.sphereGeometry=new j.Geometry(!0),Uo.sphereGeometry.imposter=!0,Uo.drawnCaps={}):mn.supportsAIA?(Lo=this.drawAtomInstanced,ms=new j.Geometry(!1,!0,!0),ms.instanced=!0,Uo=new j.Geometry(!0)):(ms=new j.Geometry(!0),Uo=new j.Geometry(!0));var _s,yp,xs,vs,Sp={},wp=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(_s=0,xs=_r.length;_s<xs;_s++){var bp=_r[_s];if(bp&&bp.style){(bp.clickable||bp.hoverable)&&bp.intersectionShape===void 0&&(bp.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),vs={line:void 0,cross:void 0,stick:void 0,sphere:void 0};for(yp in vs)bp.style[yp]?bp.style[yp].opacity?vs[yp]=parseFloat(bp.style[yp].opacity):vs[yp]=1:vs[yp]=void 0,Sp[yp]?vs[yp]!=null&&Sp[yp]!=vs[yp]&&(console.log("Warning: "+yp+" opacity is ambiguous"),Sp[yp]=1):Sp[yp]=vs[yp];Lo.call(this,bp,ms),this.drawAtomClickSphere(bp),this.drawAtomCross(bp,Io),this.drawBondLines(bp,_r,Do),this.drawBondSticks(bp,_r,Uo),typeof bp.style.cartoon<"u"&&!bp.style.cartoon.hidden&&(bp.style.cartoon.color==="spectrum"&&typeof bp.resi=="number"&&!bp.hetflag&&(bp.resi<wp[0]&&(wp[0]=bp.resi),bp.resi>wp[1]&&(wp[1]=bp.resi)),pn.push(bp))}}if(pn.length>0&&(0,it.drawCartoon)(dr,pn,wp,this.defaultCartoonQuality),ms&&ms.vertices>0){ms.initTypedArrays();var Ep=null,Cp=null;ms.imposter?Ep=new j.SphereImposterMaterial({ambient:0,vertexColors:!0,reflectivity:0}):ms.instanced?(Cp=new j.Geometry(!0),nt.GLDraw.drawSphere(Cp,{x:0,y:0,z:0},1,new tt.Color(.5,.5,.5)),Cp.initTypedArrays(),Ep=new j.InstancedMaterial({sphereMaterial:new j.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),sphere:Cp})):Ep=new j.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),Sp.sphere<1&&Sp.sphere>=0&&(Ep.transparent=!0,Ep.opacity=Sp.sphere),Cp=new j.Mesh(ms,Ep),dr.add(Cp)}if(Uo.vertices>0){var Ap=null,Mp=null,Pp=Uo.sphereGeometry;(!Pp||typeof Pp.vertices>"u"||Pp.vertices==0)&&(Pp=null),Uo.initTypedArrays(),Pp&&Pp.initTypedArrays();var Ip={ambient:0,vertexColors:!0,reflectivity:0};Uo.imposter?(Ap=new j.StickImposterMaterial(Ip),Mp=new j.SphereImposterMaterial(Ip)):(Ap=new j.MeshLambertMaterial(Ip),Mp=new j.MeshLambertMaterial(Ip),Ap.wireframe&&(Uo.setUpWireframe(),Pp&&Pp.setUpWireframe())),Sp.stick<1&&Sp.stick>=0&&(Ap.transparent=!0,Ap.opacity=Sp.stick,Mp.transparent=!0,Mp.opacity=Sp.stick);var Op=new j.Mesh(Uo,Ap);if(dr.add(Op),Pp){var Wp=new j.Mesh(Pp,Mp);dr.add(Wp)}}var Yp;for(_s in Do)if(Do.hasOwnProperty(_s)){Yp=_s;var Zp=new j.LineBasicMaterial({linewidth:Yp,vertexColors:!0});Sp.line<1&&Sp.line>=0&&(Zp.transparent=!0,Zp.opacity=Sp.line),Do[_s].initTypedArrays();var Qp=new j.Line(Do[_s],Zp,j.LineStyle.LinePieces);dr.add(Qp)}for(_s in Io)if(Io.hasOwnProperty(_s)){Yp=_s;var Gp=new j.LineBasicMaterial({linewidth:Yp,vertexColors:!0});Sp.cross<1&&Sp.cross>=0&&(Gp.transparent=!0,Gp.opacity=Sp.cross),Io[_s].initTypedArrays();var rm=new j.Line(Io[_s],Gp,j.LineStyle.LinePieces);dr.add(rm)}if(this.dontDuplicateAtoms&&this.modelData.symmetries&&this.modelData.symmetries.length>0){var Jp=new j.Object3D,Up;for(Up=0;Up<this.modelData.symmetries.length;Up++){var im=new j.Object3D;im=dr.clone(),im.matrix.copy(this.modelData.symmetries[Up]),im.matrixAutoUpdate=!1,Jp.add(im)}return Jp}return dr}getInternalState(){return{atoms:this.atoms,frames:this.frames}}setInternalState(_r){this.atoms=_r.atoms,this.frames=_r.frames,this.molObj=null}getCrystData(){if(this.modelData.cryst){if(!this.modelData.cryst.matrix){const _r=this.modelData.cryst;this.modelData.cryst.matrix=(0,et.conversionMatrix3)(_r.a,_r.b,_r.c,_r.alpha,_r.beta,_r.gamma)}return this.modelData.cryst}else return null}setCrystData(_r,mn,dr,pn,Do,Io){_r=_r||1,mn=mn||1,dr=dr||1,pn=pn||90,Do=Do||90,Io=Io||90;const Lo=(0,et.conversionMatrix3)(_r,mn,dr,pn,Do,Io);this.modelData.cryst={a:_r,b:mn,c:dr,alpha:pn,beta:Do,gamma:Io,matrix:Lo}}setCrystMatrix(_r){_r=_r||new et.Matrix3(1,0,0,0,1,0,0,0,1),this.modelData.cryst={matrix:_r}}getSymmetries(){return typeof this.modelData.symmetries>"u"&&(this.modelData.symmetries=[this.idMatrix]),this.modelData.symmetries}setSymmetries(_r){typeof _r>"u"?this.modelData.symmetries=[this.idMatrix]:this.modelData.symmetries=_r}getID(){return this.id}getNumFrames(){return this.frames.numFrames!=null?this.frames.numFrames:this.frames.length}adjustCoord(_r,mn,dr,pn){var Do=mn-_r;return Do<-dr?mn+pn:Do>dr?mn-pn:mn}adjustCoordinatesToBox(){if(this.box&&this.atomdfs)for(var _r=this.box[0],mn=this.box[1],dr=this.box[2],pn=_r*.9,Do=mn*.9,Io=dr*.9,Lo=0;Lo<this.atomdfs.length;Lo++)for(var ms=this.atomdfs[Lo],Uo=1;Uo<ms.length;Uo++){var _s=this.atoms[ms[Uo][0]],yp=this.atoms[ms[Uo][1]];_s.x=this.adjustCoord(yp.x,_s.x,pn,_r),_s.y=this.adjustCoord(yp.y,_s.y,Do,mn),_s.z=this.adjustCoord(yp.z,_s.z,Io,dr)}}setFrame(_r,mn){var dr=this.getNumFrames();let pn=this;return new Promise(function(Do,Io){if(dr==0&&Do(),(_r<0||_r>=dr)&&(_r=dr-1),pn.frames.url!=null){var Lo=pn.frames.url;(0,lt.getbin)(Lo+"/traj/frame/"+_r+"/"+pn.frames.path,void 0,"POST",void 0).then(function(ms){for(var Uo=new Float32Array(ms,44),_s=0,yp=0;yp<pn.atoms.length;yp++)pn.atoms[yp].x=Uo[_s++],pn.atoms[yp].y=Uo[_s++],pn.atoms[yp].z=Uo[_s++];pn.box&&pn.atomdfs&&pn.adjustCoordinatesToBox(),Do()}).catch(Io)}else pn.atoms=pn.frames[_r],Do();pn.molObj=null,pn.modelDatas&&_r<pn.modelDatas.length&&(pn.modelData=pn.modelDatas[_r],pn.unitCellObjects&&mn&&(mn.removeUnitCell(pn),mn.addUnitCell(pn)))})}addFrame(_r){this.frames.push(_r)}vibrate(_r=10,mn=1,dr=!1,pn,Do){var Io=0,Lo=_r;dr&&(Io=-_r,Lo=_r),this.frames!==void 0&&this.frames.origIndex!==void 0?this.setFrame(this.frames.origIndex):this.setFrame(0),Io<Lo&&(this.frames=[]),dr&&(this.frames.origIndex=_r);for(var ms=Io;ms<Lo;ms++){var Uo=[],_s=this.frames.length;if(ms==0&&!Do){this.frames.push(this.atoms);continue}for(var yp=0;yp<this.atoms.length;yp++){var xs=(0,lt.getAtomProperty)(this.atoms[yp],"dx"),vs=(0,lt.getAtomProperty)(this.atoms[yp],"dy"),Sp=(0,lt.getAtomProperty)(this.atoms[yp],"dz"),wp=new et.Vector3(xs,vs,Sp),bp=new et.Vector3(this.atoms[yp].x,this.atoms[yp].y,this.atoms[yp].z),Ep=ms*mn/_r;wp.multiplyScalar(Ep),bp.add(wp);var Cp={};for(var Ap in this.atoms[yp])Cp[Ap]=this.atoms[yp][Ap];if(Cp.x=bp.x,Cp.y=bp.y,Cp.z=bp.z,Uo.push(Cp),pn&&Do){var Mp=(0,lt.extend)({},Do),Pp=new et.Vector3(xs,vs,Sp);if(Pp.multiplyScalar(mn),Pp.add(bp),Mp.start=bp,Mp.end=Pp,Mp.frame=_s,!Mp.color){var Ip=Cp.style.sphere;Ip||(Ip=Cp.style.stick),Ip||(Ip=Cp.style.line),Mp.color=(0,lt.getColorFromStyle)(Cp,Ip)}pn.addArrow(Mp)}}this.frames.push(Uo)}}setAtomDefaults(_r){for(let mn=0;mn<_r.length;mn++){let dr=_r[mn];dr&&(dr.style=dr.style||(0,lt.deepCopy)(Ct.defaultAtomStyle),dr.color=dr.color||this.ElementColors[dr.elem]||this.defaultColor,dr.model=this.id,(dr.clickable||dr.hoverable)&&(dr.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}))}}addMolData(_r,mn,dr={}){var pn=Ct.parseMolData(_r,mn,dr);this.dontDuplicateAtoms=!dr.duplicateAssemblyAtoms;var Do=pn.modelData;if(Do&&(Array.isArray(Do)?(this.modelData=Do[0],dr.frames&&(this.modelDatas=Do)):this.modelData=Do),pn.box?this.box=pn.box:this.box=null,this.frames.length==0){for(let Lo=0;Lo<pn.length;Lo++)pn[Lo].length!=0&&this.frames.push(pn[Lo]);this.frames[0]&&(this.atoms=this.frames[0])}else if(dr.frames)for(let Lo=0;Lo<pn.length;Lo++)this.frames.push(pn[Lo]);else for(var Io=0;Io<pn.length;Io++)this.addAtoms(pn[Io]);for(let Lo=0;Lo<this.frames.length;Lo++)this.setAtomDefaults(this.frames[Lo]);dr.vibrate&&dr.vibrate.frames&&dr.vibrate.amplitude&&this.vibrate(dr.vibrate.frames,dr.vibrate.amplitude),dr.style&&this.setStyle({},dr.style)}setDontDuplicateAtoms(_r){this.dontDuplicateAtoms=_r}setModelData(_r){this.modelData=_r}propertyMatches(_r,mn){if(_r==mn)return!0;if(typeof mn=="string"&&typeof _r=="number"){var dr=mn.match(/(-?\d+)\s*-\s*(-?\d+)/);if(dr){var pn=parseInt(dr[1]),Do=parseInt(dr[2]);if(dr&&_r>=pn&&_r<=Do)return!0}}return!1}static deepCopyAndCache(_r,mn){if(typeof _r!="object"||_r==null||_r.__cache_created)return _r;const dr={};for(const pn in _r){const Do=_r[pn];if(Array.isArray(Do)){dr[pn]=[];for(let Io=0;Io<Do.length;Io++)dr[pn].push(Ct.deepCopyAndCache(Do[Io],mn))}else typeof Do=="object"&&pn!="properties"&&pn!="model"?dr[pn]=Ct.deepCopyAndCache(Do,mn):dr[pn]=Do;if(pn=="and"||pn=="or"){const Io=[];for(const Lo of dr[pn]){const ms=new Set;for(const Uo of mn.selectedAtoms(Lo))ms.add(Uo.index);Io.push(ms)}if(pn=="and"){const Lo=function(Uo,_s){const yp=new Set;for(const xs of _s)Uo.has(xs)&&yp.add(xs);return yp};let ms=new Set(Io[0]);for(const Uo of Io.splice(1))ms=Lo(ms,Uo);dr[pn].__cached_results=ms}else if(pn=="or"){const Lo=new Set;for(const ms of Io)for(const Uo of ms)Lo.add(Uo);dr[pn].__cached_results=Lo}}}return dr.__cache_created=!0,dr}atomIsSelected(_r,mn){if(typeof mn>"u")return!0;var dr=!!mn.invert,pn=!0;for(var Do in mn)if(Do=="and"||Do=="or"||Do=="not"){if(Do=="not"){if(this.atomIsSelected(_r,mn[Do])){pn=!1;break}}else if(mn[Do].__cached_results===void 0&&(mn=Ct.deepCopyAndCache(mn,this)),pn=mn[Do].__cached_results.has(_r.index),!pn)break}else if(Do==="predicate"){if(!mn.predicate(_r)){pn=!1;break}}else if(Do=="properties"&&_r[Do]){for(var Io in mn.properties)if(!Io.startsWith("__cache")){if(typeof _r.properties[Io]>"u"){pn=!1;break}if(_r.properties[Io]!=mn.properties[Io]){pn=!1;break}}}else if(mn.hasOwnProperty(Do)&&!Ct.ignoredKeys.has(Do)&&!Do.startsWith("__cache")){if(typeof _r[Do]>"u"){pn=!1;break}var Lo=!1;if(Do==="bonds"){var ms=mn[Do];if(ms!=_r.bonds.length){pn=!1;break}}else if(Array.isArray(mn[Do])){var Uo=mn[Do],_s=_r[Do];for(let yp=0;yp<Uo.length;yp++)if(this.propertyMatches(_s,Uo[yp])){Lo=!0;break}if(!Lo){pn=!1;break}}else{let yp=mn[Do];if(!this.propertyMatches(_r[Do],yp)){pn=!1;break}}}return dr?!pn:pn}static squaredDistance(_r,mn){var dr=mn.x-_r.x,pn=mn.y-_r.y,Do=mn.z-_r.z;return dr*dr+pn*pn+Do*Do}expandAtomList(_r,mn){if(mn<=0)return _r;for(var dr=(0,lt.getExtent)(_r,void 0),pn=[[],[],[]],Do=0;Do<3;Do++)pn[0][Do]=dr[0][Do]-mn,pn[1][Do]=dr[1][Do]+mn,pn[2][Do]=dr[2][Do];var Io=[];for(let _s=0;_s<this.atoms.length;_s++){var Lo=this.atoms[_s].x,ms=this.atoms[_s].y,Uo=this.atoms[_s].z;Lo>=pn[0][0]&&Lo<=pn[1][0]&&ms>=pn[0][1]&&ms<=pn[1][1]&&Uo>=pn[0][2]&&Uo<=pn[1][2]&&(Lo>=dr[0][0]&&Lo<=dr[1][0]&&ms>=dr[0][1]&&ms<=dr[1][1]&&Uo>=dr[0][2]&&Uo<=dr[1][2]||Io.push(this.atoms[_s]))}return Io}static getFloat(_r){return typeof _r=="number"?_r:parseFloat(_r)}selectedAtoms(_r,mn){var dr=[];_r=Ct.deepCopyAndCache(_r||{},this),mn||(mn=this.atoms);for(var pn=mn.length,Do=0;Do<pn;Do++){var Io=mn[Do];Io&&this.atomIsSelected(Io,_r)&&dr.push(Io)}if(_r.hasOwnProperty("expand")){const Cp=Ct.getFloat(_r.expand);let Ap=this.expandAtomList(dr,Cp),Mp=dr.length;const Pp=Cp*Cp;for(let Ip=0;Ip<Ap.length;Ip++)for(let Op=0;Op<Mp;Op++){var Lo=Ct.squaredDistance(Ap[Ip],dr[Op]);Lo<Pp&&Lo>0&&dr.push(Ap[Ip])}}if(_r.hasOwnProperty("within")&&_r.within.hasOwnProperty("sel")&&_r.within.hasOwnProperty("distance")){var ms=this.selectedAtoms(_r.within.sel,this.atoms),Uo={};const Cp=Ct.getFloat(_r.within.distance),Ap=Cp*Cp;for(let Mp=0;Mp<ms.length;Mp++)for(let Pp=0;Pp<dr.length;Pp++){let Ip=Ct.squaredDistance(ms[Mp],dr[Pp]);Ip<Ap&&Ip>0&&(Uo[Pp]=1)}var _s=[];if(_r.within.invert)for(let Mp=0;Mp<dr.length;Mp++)Uo[Mp]||_s.push(dr[Mp]);else for(let Mp in Uo)_s.push(dr[Mp]);dr=_s}if(_r.hasOwnProperty("byres")){var yp={},xs=[],vs=[];for(let Cp=0;Cp<dr.length;Cp++){let Ap=dr[Cp];var Sp=Ap.chain,wp=Ap.resi;if(yp[Sp]===void 0&&(yp[Sp]={}),Ap.hasOwnProperty("resi")&&yp[Sp][wp]===void 0){for(yp[Sp][wp]=!0,vs.push(Ap);vs.length>0;)if(Ap=vs.pop(),Sp=Ap.chain,wp=Ap.resi,xs[Ap.index]===void 0){xs[Ap.index]=!0;for(var bp=0;bp<Ap.bonds.length;bp++){var Ep=this.atoms[Ap.bonds[bp]];xs[Ep.index]===void 0&&Ep.hasOwnProperty("resi")&&Ep.chain==Sp&&Ep.resi==wp&&(vs.push(Ep),dr.push(Ep))}}}}}return dr}addAtoms(_r){this.molObj=null;var mn=this.atoms.length,dr=[],pn;for(pn=0;pn<_r.length;pn++)typeof _r[pn].index>"u"&&(_r[pn].index=pn),typeof _r[pn].serial>"u"&&(_r[pn].serial=pn),dr[_r[pn].index]=mn+pn;for(pn=0;pn<_r.length;pn++){var Do=_r[pn],Io=dr[Do.index],Lo=(0,lt.extend)({},Do);Lo.index=Io,Lo.bonds=[],Lo.bondOrder=[],Lo.model=this.id,Lo.style=Lo.style||(0,lt.deepCopy)(Ct.defaultAtomStyle),typeof Lo.color>"u"&&(Lo.color=this.ElementColors[Lo.elem]||this.defaultColor);for(var ms=Do.bonds?Do.bonds.length:0,Uo=0;Uo<ms;Uo++){var _s=dr[Do.bonds[Uo]];typeof _s<"u"&&(Lo.bonds.push(_s),Lo.bondOrder.push(Do.bondOrder?Do.bondOrder[Uo]:1))}this.atoms.push(Lo)}}assignBonds(){(0,_n.assignBonds)(this.atoms,{assignBonds:!0})}removeAtoms(_r){this.molObj=null;var mn=[],dr;for(dr=0;dr<_r.length;dr++)mn[_r[dr].index]=!0;var pn=[];for(dr=0;dr<this.atoms.length;dr++){var Do=this.atoms[dr];mn[Do.index]||pn.push(Do)}this.atoms=[],this.addAtoms(pn)}setStyle(_r,mn,dr){typeof mn>"u"&&typeof dr>"u"&&(mn=_r,_r={}),_r=_r,typeof mn=="string"&&(mn=(0,lt.specStringToObject)(mn));var pn=!1,Do=this,Io=function(ms){var Uo=Do.selectedAtoms(_r,ms);for(let _s=0;_s<ms.length;_s++)ms[_s]&&(ms[_s].capDrawn=!1);for(let _s=0;_s<Uo.length;_s++){pn=!0,(Uo[_s].clickable||Uo[_s].hoverable)&&(Uo[_s].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),dr||(Uo[_s].style={});for(let yp in mn)mn.hasOwnProperty(yp)&&(Uo[_s].style[yp]=Uo[_s].style[yp]||{},Object.assign(Uo[_s].style[yp],mn[yp]))}};if(_r.frame!==void 0&&_r.frame<this.frames.length){let ms=_r.frame;ms<0&&(ms=this.frames.length+ms),Io(this.frames[ms])}else{Io(this.atoms);for(var Lo=0;Lo<this.frames.length;Lo++)this.frames[Lo]!==this.atoms&&Io(this.frames[Lo])}pn&&(this.molObj=null)}setClickable(_r,mn,dr){if(mn=!!mn,dr=(0,lt.makeFunction)(dr),dr===null){console.log("Callback is not a function");return}var pn=this.selectedAtoms(_r,this.atoms),Do=pn.length;for(let Io=0;Io<Do;Io++)pn[Io].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},pn[Io].clickable=mn,dr&&(pn[Io].callback=dr);Do>0&&(this.molObj=null)}setHoverable(_r,mn,dr,pn){if(mn=!!mn,dr=(0,lt.makeFunction)(dr),pn=(0,lt.makeFunction)(pn),dr===null){console.log("Hover_callback is not a function");return}if(pn===null){console.log("Unhover_callback is not a function");return}var Do=this.selectedAtoms(_r,this.atoms),Io=Do.length;for(let Lo=0;Lo<Io;Lo++)Do[Lo].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},Do[Lo].hoverable=mn,dr&&(Do[Lo].hover_callback=dr),pn&&(Do[Lo].unhover_callback=pn);Io>0&&(this.molObj=null)}enableContextMenu(_r,mn){mn=!!mn;var dr,pn=this.selectedAtoms(_r,this.atoms),Do=pn.length;for(dr=0;dr<Do;dr++)pn[dr].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},pn[dr].contextMenuEnabled=mn;Do>0&&(this.molObj=null)}setColorByElement(_r,mn){if(!(this.molObj!==null&&Ct.sameObj(mn,this.lastColors))){this.lastColors=mn;var dr=this.selectedAtoms(_r,dr);dr.length>0&&(this.molObj=null);for(var pn=0;pn<dr.length;pn++){var Do=dr[pn];typeof mn[Do.elem]<"u"&&(Do.color=mn[Do.elem])}}}setColorByProperty(_r,mn,dr,pn){var Do,Io,Lo=this.selectedAtoms(_r,Lo);for(this.lastColors=null,Lo.length>0&&(this.molObj=null),typeof dr=="string"&&typeof dt.Gradient.builtinGradients[dr]<"u"&&(dr=new dt.Gradient.builtinGradients[dr]),dr=dr,pn||(pn=dr.range()),pn||(pn=(0,lt.getPropertyRange)(Lo,mn)),Do=0;Do<Lo.length;Do++){Io=Lo[Do];var ms=(0,lt.getAtomProperty)(Io,mn);ms!=null&&(Io.color=dr.valueToHex(parseFloat(Io.properties[mn]),pn))}}setColorByFunction(_r,mn){var dr=this.selectedAtoms(_r,dr);if(typeof mn=="function"){this.lastColors=null,dr.length>0&&(this.molObj=null);for(let pn=0;pn<dr.length;pn++){let Do=dr[pn];Do.color=mn(Do)}}}toCDObject(_r=!1){var mn={a:[],b:[]};_r&&(mn.s=[]);for(let pn=0;pn<this.atoms.length;pn++){let Do={},Io=this.atoms[pn];if(Do.x=Io.x,Do.y=Io.y,Do.z=Io.z,Io.elem!="C"&&(Do.l=Io.elem),_r){for(var dr=0;dr<mn.s.length&&JSON.stringify(Io.style)!==JSON.stringify(mn.s[dr]);)dr++;dr===mn.s.length&&mn.s.push(Io.style),dr!==0&&(Do.s=dr)}mn.a.push(Do);for(let Lo=0;Lo<Io.bonds.length;Lo++){let ms=pn,Uo=Io.bonds[Lo];if(ms>=Uo)continue;let _s={b:ms,e:Uo},yp=Io.bondOrder[Lo];yp!=1&&(_s.o=yp),mn.b.push(_s)}}return mn}globj(_r,mn){(this.molObj===null||mn.regen)&&(this.molObj=this.createMolObj(this.atoms,mn),this.renderedMolObj&&(_r.remove(this.renderedMolObj),this.renderedMolObj=null),this.renderedMolObj=this.molObj.clone(),this.hidden&&(this.renderedMolObj.setVisible(!1),this.molObj.setVisible(!1)),_r.add(this.renderedMolObj))}exportVRML(){var _r=this.createMolObj(this.atoms,{supportsImposters:!1,supportsAIA:!1});return _r.vrml()}removegl(_r){this.renderedMolObj&&(this.renderedMolObj.geometry!==void 0&&this.renderedMolObj.geometry.dispose(),this.renderedMolObj.material!==void 0&&this.renderedMolObj.material.dispose(),_r.remove(this.renderedMolObj),this.renderedMolObj=null),this.molObj=null}hide(){this.hidden=!0,this.renderedMolObj&&this.renderedMolObj.setVisible(!1),this.molObj&&this.molObj.setVisible(!1)}show(){this.hidden=!1,this.renderedMolObj&&this.renderedMolObj.setVisible(!0),this.molObj&&this.molObj.setVisible(!0)}addPropertyLabels(_r,mn,dr,pn){for(var Do=this.selectedAtoms(mn,Do),Io=(0,lt.deepCopy)(pn),Lo=0;Lo<Do.length;Lo++){var ms=Do[Lo],Uo=null;typeof ms[_r]<"u"?Uo=String(ms[_r]):typeof ms.properties[_r]<"u"&&(Uo=String(ms.properties[_r])),Uo!=null&&(Io.position=ms,dr.addLabel(Uo,Io))}}addResLabels(_r,mn,dr,pn=!1){var Do=[],Io=function(ms,Uo){for(var _s=ms.selectedAtoms(_r,_s),yp={},xs=0;xs<_s.length;xs++){var vs=_s[xs],Sp=vs.chain,wp=vs.resn,bp=vs.resi,Ep=wp+""+bp;yp[Sp]||(yp[Sp]={}),yp[Sp][Ep]||(yp[Sp][Ep]=[]),yp[Sp][Ep].push(vs)}var Cp=(0,lt.deepCopy)(dr);for(let Mp in yp)if(yp.hasOwnProperty(Mp)){var Ap=yp[Mp];for(let Pp in Ap)if(Ap.hasOwnProperty(Pp)){let Ip=Ap[Pp],Op=new et.Vector3(0,0,0);for(let Yp=0;Yp<Ip.length;Yp++){let Zp=Ip[Yp];Op.x+=Zp.x,Op.y+=Zp.y,Op.z+=Zp.z}Op.divideScalar(Ip.length),Cp.position=Op,Cp.frame=Uo;let Wp=mn.addLabel(Pp,Cp,void 0,!0);Do.push(Wp)}}};if(pn){var Lo=this.getNumFrames();let ms=this.atoms;for(let Uo=0;Uo<Lo;Uo++)this.frames[Uo]&&(this.atoms=this.frames[Uo],Io(this,Uo));this.atoms=ms}else Io(this);return Do}setupDFS(){this.atomdfs=[];var _r=this,mn=new Int8Array(this.atoms.length);mn.fill(0);for(var dr=function(Lo,ms,Uo){Uo.push([Lo,ms]);var _s=_r.atoms[Lo];mn[Lo]=1;for(var yp=0;yp<_s.bonds.length;yp++){var xs=_s.bonds[yp];_r.atoms[xs]&&!mn[xs]&&dr(xs,Lo,Uo)}},pn=0;pn<this.atoms.length;pn++){var Do=this.atoms[pn];if(Do&&!mn[pn]){var Io=[];dr(pn,-1,Io),this.atomdfs.push(Io)}}}setCoordinatesFromURL(_r,mn){this.frames=[];var dr=this;return this.box&&this.setupDFS(),_r.startsWith("http")||(_r="http://"+_r),(0,lt.get)(_r+"/traj/numframes/"+mn,function(pn){if(!isNaN(parseInt(pn)))return dr.frames.push(dr.atoms),dr.frames.numFrames=pn,dr.frames.url=_r,dr.frames.path=mn,dr.setFrame(0)})}setCoordinates(_r,mn){if(mn=mn||"",!_r)return[];if(/\.gz$/.test(mn)){mn=mn.replace(/\.gz$/,"");try{_r=ft(_r)}catch(yp){console.log(yp)}}var dr={mdcrd:"",inpcrd:"",pdb:"",netcdf:"",array:""};if(dr.hasOwnProperty(mn)){this.frames=[];for(var pn=this.atoms.length,Do=Ct.parseCrd(_r,mn),Io=0;Io<Do.length;){for(var Lo=[],ms=0;ms<pn;ms++){var Uo={};for(var _s in this.atoms[ms])Uo[_s]=this.atoms[ms][_s];Lo[ms]=Uo,Lo[ms].x=Do[Io++],Lo[ms].y=Do[Io++],Lo[ms].z=Do[Io++]}this.frames.push(Lo)}return this.atoms=this.frames[0],this.frames}return[]}addAtomSpecs(_r){}static parseCrd(_r,mn){var dr=[],pn=0;if(mn=="pdb")for(var Do=_r.indexOf(`
ATOM`);Do!=-1;){for(;_r.slice(Do,Do+5)==`
ATOM`||_r.slice(Do,Do+7)==`
HETATM`;)dr[pn++]=parseFloat(_r.slice(Do+31,Do+39)),dr[pn++]=parseFloat(_r.slice(Do+39,Do+47)),dr[pn++]=parseFloat(_r.slice(Do+47,Do+55)),Do=_r.indexOf(`
`,Do+54),_r.slice(Do,Do+4)==`
TER`&&(Do=_r.indexOf(`
`,Do+5));Do=_r.indexOf(`
ATOM`,Do)}else if(mn=="netcdf"){var Io=new Ht.NetCDFReader(_r);dr=[].concat.apply([],Io.getDataVariable("coordinates"))}else{if(mn=="array"||Array.isArray(_r))return _r.flat(2);{let Lo=_r.indexOf(`
`);mn=="inpcrd"&&(Lo=_r.indexOf(`
`,Lo+1)),_r=_r.slice(Lo+1),dr=_r.match(/\S+/g).map(parseFloat)}}return dr}static parseMolData(_r,mn="",dr){if(!_r)return[];if(/\.gz$/.test(mn)){mn=mn.replace(/\.gz$/,"");try{_r=ft(_r)}catch(Io){console.log(Io)}}typeof bt.Parsers[mn]>"u"&&(mn=mn.split(".").pop(),typeof bt.Parsers[mn]>"u"&&(console.log("Unknown format: "+mn),_r instanceof Uint8Array?mn="mmtf":_r.match(/^@<TRIPOS>MOLECULE/gm)?mn="mol2":_r.match(/^data_/gm)&&_r.match(/^loop_/gm)?mn="cif":_r.match(/^HETATM/gm)||_r.match(/^ATOM/gm)?mn="pdb":_r.match(/ITEM: TIMESTEP/gm)?mn="lammpstrj":_r.match(/^.*\n.*\n.\s*(\d+)\s+(\d+)/gm)?mn="sdf":_r.match(/^%VERSION\s+VERSION_STAMP/gm)?mn="prmtop":mn="xyz",console.log("Best guess: "+mn)));var pn=bt.Parsers[mn],Do=pn(_r,dr);return Do}}Ct.defaultAtomStyle={line:{}},Ct.defaultlineWidth=1,Ct.vdwRadii={H:1.2,He:1.4,Li:1.82,Be:1.53,B:1.92,C:1.7,N:1.55,O:1.52,F:1.47,Ne:1.54,Na:2.27,Mg:1.73,Al:1.84,Si:2.1,P:1.8,S:1.8,Cl:1.75,Ar:1.88,K:2.75,Ca:2.31,Ni:1.63,Cu:1.4,Zn:1.39,Ga:1.87,Ge:2.11,As:1.85,Se:1.9,Br:1.85,Kr:2.02,Rb:3.03,Sr:2.49,Pd:1.63,Ag:1.72,Cd:1.58,In:1.93,Sn:2.17,Sb:2.06,Te:2.06,I:1.98,Xe:2.16,Cs:3.43,Ba:2.68,Pt:1.75,Au:1.66,Hg:1.55,Tl:1.96,Pb:2.02,Bi:2.07,Po:1.97,At:2.02,Rn:2.2,Fr:3.48,Ra:2.83,U:1.86},Ct.ignoredKeys=new Set(["props","invert","model","frame","byres","expand","within","and","or","not"])},"./src/GLShape.ts":(o,_,$)=>{$.r(_),$.d(_,{GLShape:()=>Ht,splitMesh:()=>pr});var j=$("./src/WebGL/index.ts"),_e=$("./src/WebGL/shapes/index.ts"),et=$("./src/WebGL/math/index.ts"),tt=$("./src/colors.ts"),nt=$("./src/ProteinSurface4.ts"),it=$("./src/VolumeData.ts"),lt=$("./src/GLDraw.ts"),dt=$("./src/glcartoon.ts"),bt=$("./src/utilities.ts");class Ht{static finalizeGeo(ft){var Ct=ft.updateGeoGroup(0);Ct.vertices>0&&Ct.truncateArrayBuffers(!0,!0)}static updateColor(ft,Ct){Ct=Ct||tt.CC.color(Ct),ft.colorsNeedUpdate=!0;var mr,_r,mn;Ct.constructor!==Array&&(mr=Ct.r,_r=Ct.g,mn=Ct.b);for(let dr in ft.geometryGroups){let pn=ft.geometryGroups[dr],Do=pn.colorArray;for(let Io=0,Lo=pn.vertices;Io<Lo;++Io){if(Ct.constructor===Array){let ms=Ct[Io];mr=ms.r,_r=ms.g,mn=ms.b}Do[Io*3]=mr,Do[Io*3+1]=_r,Do[Io*3+2]=mn}}}static drawArrow(ft,Ct,mr){var _r=mr.start,mn=mr.end,dr=mr.radius,pn=mr.radiusRatio,Do=mr.mid,Io=mr.midpos;if(!(_r&&mn))return;var Lo=Ct.updateGeoGroup(51),ms=new et.Vector3(mn.x,mn.y,mn.z).sub(_r);if(Io){let qp=ms.length();Io>0?Do=Io/qp:Do=(qp+Io)/qp}ms.multiplyScalar(Do);var Uo=new et.Vector3(_r.x,_r.y,_r.z).add(ms),_s=ms.clone().negate();let yp=new et.Vector3(_r.x,_r.y,_r.z);ft.intersectionShape.cylinder.push(new _e.Cylinder(yp,Uo.clone(),dr)),ft.intersectionShape.sphere.push(new _e.Sphere(yp,dr));var xs=[];xs[0]=ms.clone(),Math.abs(xs[0].x)>1e-4?xs[0].y+=1:xs[0].x+=1,xs[0].cross(ms),xs[0].normalize(),xs[4]=xs[0].clone(),xs[4].crossVectors(xs[0],ms),xs[4].normalize(),xs[8]=xs[0].clone().negate(),xs[12]=xs[4].clone().negate(),xs[2]=xs[0].clone().add(xs[4]).normalize(),xs[6]=xs[4].clone().add(xs[8]).normalize(),xs[10]=xs[8].clone().add(xs[12]).normalize(),xs[14]=xs[12].clone().add(xs[0]).normalize(),xs[1]=xs[0].clone().add(xs[2]).normalize(),xs[3]=xs[2].clone().add(xs[4]).normalize(),xs[5]=xs[4].clone().add(xs[6]).normalize(),xs[7]=xs[6].clone().add(xs[8]).normalize(),xs[9]=xs[8].clone().add(xs[10]).normalize(),xs[11]=xs[10].clone().add(xs[12]).normalize(),xs[13]=xs[12].clone().add(xs[14]).normalize(),xs[15]=xs[14].clone().add(xs[0]).normalize();var vs=Lo.vertices,Sp=Lo.vertexArray,wp=Lo.faceArray,bp=Lo.normalArray,Ep=Lo.lineArray,Cp,Ap,Mp;for(Ap=0,Mp=xs.length;Ap<Mp;++Ap){Cp=3*(vs+3*Ap);var Pp=xs[Ap].clone().multiplyScalar(dr).add(_r),Ip=xs[Ap].clone().multiplyScalar(dr).add(Uo),Op=xs[Ap].clone().multiplyScalar(dr*pn).add(Uo);if(Sp[Cp]=Pp.x,Sp[Cp+1]=Pp.y,Sp[Cp+2]=Pp.z,Sp[Cp+3]=Ip.x,Sp[Cp+4]=Ip.y,Sp[Cp+5]=Ip.z,Sp[Cp+6]=Op.x,Sp[Cp+7]=Op.y,Sp[Cp+8]=Op.z,Ap>0){var Wp=Sp[Cp-3],Yp=Sp[Cp-2],Zp=Sp[Cp-1],Qp=new et.Vector3(Wp,Yp,Zp),Gp=new et.Vector3(mn.x,mn.y,mn.z),rm=Uo.clone(),Jp=new et.Vector3(Op.x,Op.y,Op.z);ft.intersectionShape.triangle.push(new _e.Triangle(Jp,Gp,Qp)),ft.intersectionShape.triangle.push(new _e.Triangle(Qp.clone(),rm,Jp.clone()))}}Lo.vertices+=48,Cp=Lo.vertices*3,Sp[Cp]=_r.x,Sp[Cp+1]=_r.y,Sp[Cp+2]=_r.z,Sp[Cp+3]=Uo.x,Sp[Cp+4]=Uo.y,Sp[Cp+5]=Uo.z,Sp[Cp+6]=mn.x,Sp[Cp+7]=mn.y,Sp[Cp+8]=mn.z,Lo.vertices+=3;var Up,im,em,gm,bm,ym,am,fm,vm,jp,Rp,um,_m,Cm,Sm,zp,Dp,kp,nm,lm=Lo.vertices-3,hm=Lo.vertices-2,Em=Lo.vertices-1,Lp=lm*3,cm=hm*3,mm=Em*3;for(Ap=0,Mp=xs.length-1;Ap<Mp;++Ap){var Vp=vs+3*Ap;Cp=Vp*3,im=Lo.faceidx,em=Lo.lineidx,gm=Vp,jp=gm*3,bm=Vp+1,Rp=bm*3,ym=Vp+2,um=ym*3,am=Vp+4,_m=am*3,fm=Vp+5,Cm=fm*3,vm=Vp+3,Sm=vm*3,zp=Dp=xs[Ap],kp=nm=xs[Ap+1],bp[jp]=zp.x,bp[Rp]=Dp.x,bp[Sm]=nm.x,bp[jp+1]=zp.y,bp[Rp+1]=Dp.y,bp[Sm+1]=nm.y,bp[jp+2]=zp.z,bp[Rp+2]=Dp.z,bp[Sm+2]=nm.z,bp[Rp]=Dp.x,bp[_m]=kp.x,bp[Sm]=nm.x,bp[Rp+1]=Dp.y,bp[_m+1]=kp.y,bp[Sm+1]=nm.y,bp[Rp+2]=Dp.z,bp[_m+2]=kp.z,bp[Sm+2]=nm.z,bp[um]=Dp.x,bp[Cm]=kp.x,bp[um+1]=Dp.y,bp[Cm+1]=kp.y,bp[um+2]=Dp.z,bp[Cm+2]=kp.z,wp[im]=gm,wp[im+1]=bm,wp[im+2]=vm,wp[im+3]=bm,wp[im+4]=am,wp[im+5]=vm,wp[im+6]=gm,wp[im+7]=vm,wp[im+8]=lm,wp[im+9]=ym,wp[im+10]=hm,wp[im+11]=fm,wp[im+12]=ym,wp[im+13]=Em,wp[im+14]=fm,Ep[em]=gm,Ep[em+1]=bm,Ep[em+2]=gm,Ep[em+3]=vm,Ep[em+4]=am,Ep[em+5]=vm,Ep[em+6]=gm,Ep[em+7]=vm,Ep[em+8]=ym,Ep[em+9]=bm,Ep[em+10]=ym,Ep[em+11]=fm,Ep[em+12]=am,Ep[em+13]=fm,Ep[em+14]=ym,Ep[em+15]=Em,Ep[em+16]=ym,Ep[em+17]=fm,Ep[em+18]=Em,Ep[em+19]=fm,Lo.faceidx+=15,Lo.lineidx+=20}Up=[vs+45,vs+46,vs+1,vs,vs+47,vs+2],im=Lo.faceidx,em=Lo.lineidx,gm=Up[0],jp=gm*3,bm=Up[1],Rp=bm*3,ym=Up[4],um=ym*3,am=Up[2],_m=am*3,fm=Up[5],Cm=fm*3,vm=Up[3],Sm=vm*3,zp=Dp=xs[15],kp=nm=xs[0],bp[jp]=zp.x,bp[Rp]=Dp.x,bp[Sm]=nm.x,bp[jp+1]=zp.y,bp[Rp+1]=Dp.y,bp[Sm+1]=nm.y,bp[jp+2]=zp.z,bp[Rp+2]=Dp.z,bp[Sm+2]=nm.z,bp[Rp]=Dp.x,bp[_m]=kp.x,bp[Sm]=nm.x,bp[Rp+1]=Dp.y,bp[_m+1]=kp.y,bp[Sm+1]=nm.y,bp[Rp+2]=Dp.z,bp[_m+2]=kp.z,bp[Sm+2]=nm.z,bp[um]=Dp.x,bp[Cm]=kp.x,bp[um+1]=Dp.y,bp[Cm+1]=kp.y,bp[um+2]=Dp.z,bp[Cm+2]=kp.z,ms.normalize(),_s.normalize(),bp[Lp]=_s.x,bp[cm]=bp[mm]=ms.x,bp[Lp+1]=_s.y,bp[cm+1]=bp[mm+1]=ms.y,bp[Lp+2]=_s.z,bp[cm+2]=bp[mm+2]=ms.z,wp[im]=gm,wp[im+1]=bm,wp[im+2]=vm,wp[im+3]=bm,wp[im+4]=am,wp[im+5]=vm,wp[im+6]=gm,wp[im+7]=vm,wp[im+8]=lm,wp[im+9]=ym,wp[im+10]=hm,wp[im+11]=fm,wp[im+12]=ym,wp[im+13]=Em,wp[im+14]=fm,Ep[em]=gm,Ep[em+1]=bm,Ep[em+2]=gm,Ep[em+3]=vm,Ep[em+4]=am,Ep[em+5]=vm,Ep[em+6]=gm,Ep[em+7]=vm,Ep[em+8]=ym,Ep[em+9]=bm,Ep[em+10]=ym,Ep[em+11]=fm,Ep[em+12]=am,Ep[em+13]=fm,Ep[em+14]=ym,Ep[em+15]=Em,Ep[em+16]=ym,Ep[em+17]=fm,Ep[em+18]=Em,Ep[em+19]=fm,Lo.faceidx+=15,Lo.lineidx+=20}static updateBoundingFromPoints(ft,Ct,mr,_r){ft.center.set(0,0,0);let mn=1/0,dr=1/0,pn=1/0,Do=-1/0,Io=-1/0,Lo=-1/0;ft.box&&(mn=ft.box.min.x,Do=ft.box.max.x,dr=ft.box.min.y,Io=ft.box.max.y,pn=ft.box.min.z,Lo=ft.box.max.z);for(let yp=0,xs=_r;yp<xs;yp++){var ms=mr[yp*3],Uo=mr[yp*3+1],_s=mr[yp*3+2];ms<mn&&(mn=ms),Uo<dr&&(dr=Uo),_s<pn&&(pn=_s),ms>Do&&(Do=ms),Uo>Io&&(Io=Uo),_s>Lo&&(Lo=_s)}ft.center.set((Do+mn)/2,(Io+dr)/2,(Lo+pn)/2),ft.radius=ft.center.distanceTo({x:Do,y:Io,z:Lo}),ft.box={min:{x:mn,y:dr,z:pn},max:{x:Do,y:Io,z:Lo}}}static addCustomGeo(ft,Ct,mr,_r,mn){var dr=Ct.addGeoGroup(),pn=mr.vertexArr,Do=mr.normalArr,Io=mr.faceArr;dr.vertices=pn.length,dr.faceidx=Io.length;var Lo,ms,Uo,_s,yp,xs,vs,Sp,wp,bp=dr.vertexArray,Ep=dr.colorArray;for(_r.constructor!==Array&&(Sp=_r.r,wp=_r.g,_s=_r.b),xs=0,vs=dr.vertices;xs<vs;++xs)Lo=xs*3,ms=pn[xs],bp[Lo]=ms.x,bp[Lo+1]=ms.y,bp[Lo+2]=ms.z,_r.constructor===Array&&(yp=_r[xs],Sp=yp.r,wp=yp.g,_s=yp.b),Ep[Lo]=Sp,Ep[Lo+1]=wp,Ep[Lo+2]=_s;if(mn)for(xs=0,vs=dr.faceidx/3;xs<vs;++xs){Lo=xs*3,Uo=Io[Lo],_s=Io[Lo+1],yp=Io[Lo+2];var Cp=new et.Vector3,Ap=new et.Vector3,Mp=new et.Vector3;ft.intersectionShape.triangle.push(new _e.Triangle(Cp.copy(pn[Uo]),Ap.copy(pn[_s]),Mp.copy(pn[yp])))}if(mn){var Pp=new et.Vector3(0,0,0),Ip=0;for(let Yp=0;Yp<Ct.geometryGroups.length;Yp++)Pp.add(Ct.geometryGroups[Yp].getCentroid()),Ip++;Pp.divideScalar(Ip),Ht.updateBoundingFromPoints(ft.boundingSphere,{centroid:Pp},bp,dr.vertices)}if(dr.faceArray=new Uint16Array(Io),dr.truncateArrayBuffers(!0,!0),Do.length<dr.vertices)dr.setNormals();else{var Op=dr.normalArray=new Float32Array(dr.vertices*3),Wp;for(xs=0,vs=dr.vertices;xs<vs;++xs)Lo=xs*3,Wp=Do[xs],Op[Lo]=Wp.x,Op[Lo+1]=Wp.y,Op[Lo+2]=Wp.z}dr.setLineIndices(),dr.lineidx=dr.lineArray.length}static updateFromStyle(ft,Ct){typeof Ct.color<"u"?(ft.color=Ct.color||new tt.Color,Ct.color instanceof tt.Color||(ft.color=tt.CC.color(Ct.color))):ft.color=tt.CC.color(0),ft.wireframe=!!Ct.wireframe,ft.opacity=Ct.alpha?(0,et.clamp)(Ct.alpha,0,1):1,typeof Ct.opacity<"u"&&(ft.opacity=(0,et.clamp)(Ct.opacity,0,1)),ft.side=Ct.side!==void 0?Ct.side:j.DoubleSide,ft.linewidth=typeof Ct.linewidth>"u"?1:Ct.linewidth,ft.clickable=!!Ct.clickable,ft.callback=(0,bt.makeFunction)(Ct.callback),ft.hoverable=!!Ct.hoverable,ft.hover_callback=(0,bt.makeFunction)(Ct.hover_callback),ft.unhover_callback=(0,bt.makeFunction)(Ct.unhover_callback),ft.hidden=Ct.hidden,ft.frame=Ct.frame}constructor(ft){this.color=16777215,this.hidden=!1,this.wireframe=!1,this.opacity=1,this.linewidth=1,this.clickable=!1,this.hoverable=!1,this.side=j.DoubleSide,this.stylespec=ft||{},this.boundingSphere=new _e.Sphere,this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},Ht.updateFromStyle(this,this.stylespec),this.components=[],this.shapeObj=null,this.renderedShapeObj=null,this.geo=new j.Geometry(!0),this.linegeo=new j.Geometry(!0)}updateStyle(ft){for(var Ct in ft)this.stylespec[Ct]=ft[Ct];if(Ht.updateFromStyle(this,this.stylespec),ft.voldata&&ft.volscheme){(0,bt.adjustVolumeStyle)(ft);const mr=ft.volscheme,_r=ft.voldata,mn=tt.CC,dr=mr.range()||[-1,1];this.geo.setColors(function(pn,Do,Io){let Lo=_r.getVal(pn,Do,Io);return mn.color(mr.valueToHex(Lo,dr))}),delete this.color}}addCustom(ft){ft.vertexArr=ft.vertexArr||[],ft.faceArr=ft.faceArr||[],ft.normalArr=ft.normalArr||[],Ht.drawCustom(this,this.geo,ft)}addSphere(ft){ft.center||(ft.center=new et.Vector3(0,0,0)),ft.radius=ft.radius?(0,et.clamp)(ft.radius,0,1/0):1.5,ft.color=tt.CC.color(ft.color),this.intersectionShape.sphere.push(new _e.Sphere(ft.center,ft.radius)),lt.GLDraw.drawSphere(this.geo,ft.center,ft.radius,ft.color,ft.quality),this.components.push({centroid:new et.Vector3(ft.center.x,ft.center.y,ft.center.z)});var Ct=this.geo.updateGeoGroup(0);Ht.updateBoundingFromPoints(this.boundingSphere,this.components,Ct.vertexArray,Ct.vertices)}addBox(ft){var Ct=ft.dimensions||{w:1,h:1,d:1},mr;typeof Ct.w=="number"?mr={x:Ct.w,y:0,z:0}:mr=Ct.w;var _r;typeof Ct.h=="number"?_r={x:0,y:Ct.h,z:0}:_r=Ct.h;var mn;typeof Ct.d=="number"?mn={x:0,y:0,z:Ct.d}:mn=Ct.d;var dr=ft.corner;dr==null&&(ft.center!==void 0?dr={x:ft.center.x-.5*(mr.x+_r.x+mn.x),y:ft.center.y-.5*(mr.y+_r.y+mn.y),z:ft.center.z-.5*(mr.z+_r.z+mn.z)}:dr={x:0,y:0,z:0});var pn=[{x:dr.x,y:dr.y,z:dr.z},{x:dr.x+mr.x,y:dr.y+mr.y,z:dr.z+mr.z},{x:dr.x+_r.x,y:dr.y+_r.y,z:dr.z+_r.z},{x:dr.x+mr.x+_r.x,y:dr.y+mr.y+_r.y,z:dr.z+mr.z+_r.z},{x:dr.x+mn.x,y:dr.y+mn.y,z:dr.z+mn.z},{x:dr.x+mr.x+mn.x,y:dr.y+mr.y+mn.y,z:dr.z+mr.z+mn.z},{x:dr.x+_r.x+mn.x,y:dr.y+_r.y+mn.y,z:dr.z+_r.z+mn.z},{x:dr.x+mr.x+_r.x+mn.x,y:dr.y+mr.y+_r.y+mn.y,z:dr.z+mr.z+_r.z+mn.z}],Do=[],Io=[];Do.splice(Do.length,0,pn[0],pn[1],pn[2],pn[3]),Io.splice(Io.length,0,0,2,1,1,2,3);var Lo=4;Do.splice(Do.length,0,pn[2],pn[3],pn[6],pn[7]),Io.splice(Io.length,0,Lo+0,Lo+2,Lo+1,Lo+1,Lo+2,Lo+3),Lo+=4,Do.splice(Do.length,0,pn[4],pn[5],pn[0],pn[1]),Io.splice(Io.length,0,Lo+0,Lo+2,Lo+1,Lo+1,Lo+2,Lo+3),Lo+=4,Do.splice(Do.length,0,pn[6],pn[7],pn[4],pn[5]),Io.splice(Io.length,0,Lo+0,Lo+2,Lo+1,Lo+1,Lo+2,Lo+3),Lo+=4,Do.splice(Do.length,0,pn[3],pn[1],pn[7],pn[5]),Io.splice(Io.length,0,Lo+0,Lo+2,Lo+1,Lo+1,Lo+2,Lo+3),Lo+=4,Do.splice(Do.length,0,pn[2],pn[6],pn[0],pn[4]),Io.splice(Io.length,0,Lo+0,Lo+2,Lo+1,Lo+1,Lo+2,Lo+3),Lo+=4;var ms=(0,bt.extend)({},ft);ms.vertexArr=Do,ms.faceArr=Io,ms.normalArr=[],Ht.drawCustom(this,this.geo,ms);var Uo=new et.Vector3;this.components.push({centroid:Uo.addVectors(pn[0],pn[7]).multiplyScalar(.5)});var _s=this.geo.updateGeoGroup(0);Ht.updateBoundingFromPoints(this.boundingSphere,this.components,_s.vertexArray,_s.vertices)}addCylinder(ft){var Ct,mr;ft.start?Ct=new et.Vector3(ft.start.x||0,ft.start.y||0,ft.start.z||0):Ct=new et.Vector3(0,0,0),ft.end?(mr=new et.Vector3(ft.end.x,ft.end.y||0,ft.end.z||0),typeof mr.x>"u"&&(mr.x=3)):mr=new et.Vector3(0,0,0);var _r=ft.radius||.1,mn=tt.CC.color(ft.color);this.intersectionShape.cylinder.push(new _e.Cylinder(Ct,mr,_r)),lt.GLDraw.drawCylinder(this.geo,Ct,mr,_r,mn,ft.fromCap,ft.toCap);var dr=new et.Vector3;this.components.push({centroid:dr.addVectors(Ct,mr).multiplyScalar(.5)});var pn=this.geo.updateGeoGroup(0);Ht.updateBoundingFromPoints(this.boundingSphere,this.components,pn.vertexArray,pn.vertices)}addDashedCylinder(ft){ft.dashLength=ft.dashLength||.25,ft.gapLength=ft.gapLength||.25;var Ct;ft.start?Ct=new et.Vector3(ft.start.x||0,ft.start.y||0,ft.start.z||0):Ct=new et.Vector3(0,0,0);var mr;ft.end?(mr=new et.Vector3(ft.end.x,ft.end.y||0,ft.end.z||0),typeof mr.x>"u"&&(mr.x=3)):mr=new et.Vector3(3,0,0);for(var _r=ft.radius||.1,mn=tt.CC.color(ft.color),dr=Math.sqrt(Math.pow(Ct.x-mr.x,2)+Math.pow(Ct.y-mr.y,2)+Math.pow(Ct.z-mr.z,2)),pn=dr/(ft.gapLength+ft.dashLength),Do=new et.Vector3(ft.start.x||0,ft.start.y||0,ft.start.z||0),Io=new et.Vector3(ft.end.x,ft.end.y||0,ft.end.z||0),Lo=new et.Vector3((mr.x-Ct.x)/(dr/ft.gapLength),(mr.y-Ct.y)/(dr/ft.gapLength),(mr.z-Ct.z)/(dr/ft.gapLength)),ms=new et.Vector3((mr.x-Ct.x)/(dr/ft.dashLength),(mr.y-Ct.y)/(dr/ft.dashLength),(mr.z-Ct.z)/(dr/ft.dashLength)),Uo=0;Uo<pn;Uo++)Io=new et.Vector3(Do.x+ms.x,Do.y+ms.y,Do.z+ms.z),this.intersectionShape.cylinder.push(new _e.Cylinder(Do,Io,_r)),lt.GLDraw.drawCylinder(this.geo,Do,Io,_r,mn,ft.fromCap,ft.toCap),Do=new et.Vector3(Io.x+Lo.x,Io.y+Lo.y,Io.z+Lo.z);var _s=new et.Vector3;this.components.push({centroid:_s.addVectors(Ct,mr).multiplyScalar(.5)});var yp=this.geo.updateGeoGroup(0);Ht.updateBoundingFromPoints(this.boundingSphere,this.components,yp.vertexArray,yp.vertices)}addCurve(ft){ft.points=ft.points||[],ft.smooth=ft.smooth||10,typeof ft.fromCap>"u"&&(ft.fromCap=2),typeof ft.toCap>"u"&&(ft.toCap=2);var Ct=(0,dt.subdivide_spline)(ft.points,ft.smooth);if(Ct.length<3){console.log("Too few points in addCurve");return}var mr=ft.radius||.1,_r=tt.CC.color(ft.color),mn=0,dr=Ct.length-1,pn=Ct[0].distanceTo(Ct[1]),Do=Math.ceil(2*mr/pn);if(ft.toArrow){dr-=Do;let Uo={start:Ct[dr],end:Ct[Ct.length-1],radius:mr,color:_r,mid:1e-4};this.addArrow(Uo)}if(ft.fromArrow){mn+=Do;let Uo={start:Ct[mn],end:Ct[0],radius:mr,color:_r,mid:1e-4};this.addArrow(Uo)}for(var Io=Math.ceil(Ct.length/2),Lo={radius:mr,color:_r,fromCap:2,toCap:2},ms=mn;ms<dr;ms++)Lo.start=Ct[ms],Lo.end=Ct[ms+1],Lo.fromCap=2,Lo.toCap=2,ms<Io?(Lo.fromCap=2,Lo.toCap=0):ms>Io?(Lo.fromCap=0,Lo.toCap=2):(Lo.fromCap=2,Lo.toCap=2),this.addCylinder(Lo)}addLine(ft){var Ct,mr;ft.start?Ct=new et.Vector3(ft.start.x||0,ft.start.y||0,ft.start.z||0):Ct=new et.Vector3(0,0,0),ft.end?(mr=new et.Vector3(ft.end.x,ft.end.y||0,ft.end.z||0),typeof mr.x>"u"&&(mr.x=3)):mr=new et.Vector3(3,0,0);var _r=this.geo.updateGeoGroup(2),mn=_r.vertices,dr=mn*3,pn=_r.vertexArray;pn[dr]=Ct.x,pn[dr+1]=Ct.y,pn[dr+2]=Ct.z,pn[dr+3]=mr.x,pn[dr+4]=mr.y,pn[dr+5]=mr.z,_r.vertices+=2;var Do=_r.lineArray,Io=_r.lineidx;Do[Io]=mn,Do[Io+1]=mn+1,_r.lineidx+=2;var Lo=new et.Vector3;this.components.push({centroid:Lo.addVectors(Ct,mr).multiplyScalar(.5)}),_r=this.geo.updateGeoGroup(0),Ht.updateBoundingFromPoints(this.boundingSphere,this.components,_r.vertexArray,_r.vertices)}addArrow(ft){if(ft.start?ft.start=new et.Vector3(ft.start.x||0,ft.start.y||0,ft.start.z||0):ft.start=new et.Vector3(0,0,0),ft.dir instanceof et.Vector3&&typeof ft.length=="number"){var Ct=ft.dir.clone().multiplyScalar(ft.length).add(ft.start);ft.end=Ct}else ft.end?(ft.end=new et.Vector3(ft.end.x,ft.end.y||0,ft.end.z||0),typeof ft.end.x>"u"&&(ft.end.x=3)):ft.end=new et.Vector3(3,0,0);ft.radius=ft.radius||.1,ft.radiusRatio=ft.radiusRatio||1.618034,ft.mid=0<ft.mid&&ft.mid<1?ft.mid:.618034,Ht.drawArrow(this,this.geo,ft);var mr=new et.Vector3;this.components.push({centroid:mr.addVectors(ft.start,ft.end).multiplyScalar(.5)});var _r=this.geo.updateGeoGroup(0);Ht.updateBoundingFromPoints(this.boundingSphere,this.components,_r.vertexArray,_r.vertices)}static distance_from(ft,Ct){return Math.sqrt(Math.pow(ft.x-Ct.x,2)+Math.pow(ft.y-Ct.y,2)+Math.pow(ft.z-Ct.z,2))}static inSelectedRegion(ft,Ct,mr){for(var _r=0;_r<Ct.length;_r++)if(Ht.distance_from(Ct[_r],ft)<=mr)return!0;return!1}addIsosurface(ft,Ct,mr){var _r=Ct.isoval!==void 0&&typeof Ct.isoval=="number"?Ct.isoval:0,mn=!!Ct.voxel,dr=Ct.smoothness===void 0?1:Ct.smoothness,pn=ft.size.x,Do=ft.size.y,Io=ft.size.z,Lo=new Int16Array(pn*Do*Io),ms=ft.data,Uo,_s;for(Uo=0,_s=Lo.length;Uo<_s;++Uo)Lo[Uo]=-1;var yp=new Uint8Array(pn*Do*Io);for(Uo=0,_s=ms.length;Uo<_s;++Uo){var xs=_r>=0?ms[Uo]-_r:_r-ms[Uo];xs>0&&(yp[Uo]|=Ht.ISDONE)}var vs=[],Sp=[];nt.MarchingCube.march(yp,vs,Sp,{fulltable:!0,voxel:mn,unitCube:ft.unit,origin:ft.origin,matrix:ft.matrix,nX:pn,nY:Do,nZ:Io}),!mn&&dr>0&&nt.MarchingCube.laplacianSmooth(dr,vs,Sp);var wp=[],bp=[],Ep=[];if(Ct.selectedRegion&&Ct.coords===void 0&&(Ct.coords=Ct.selectedRegion),Ct.coords!==void 0){var Cp=Ct.coords[0].x,Ap=Ct.coords[0].y,Mp=Ct.coords[0].z,Pp=Ct.coords[0].x,Ip=Ct.coords[0].y,Op=Ct.coords[0].z;for(let im=0;im<Ct.coords.length;im++)Ct.coords[im].x>Cp?Cp=Ct.coords[im].x:Ct.coords[im].x<Pp&&(Pp=Ct.coords[im].x),Ct.coords[im].y>Ap?Ap=Ct.coords[im].y:Ct.coords[im].y<Ip&&(Ip=Ct.coords[im].y),Ct.coords[im].z>Mp?Mp=Ct.coords[im].z:Ct.coords[im].z<Op&&(Op=Ct.coords[im].z);var Wp=2;Ct.radius!==void 0&&(Wp=Ct.radius),Ct.selectedOffset!==void 0&&(Wp=Ct.selectedOffset),Ct.seldist!==void 0&&(Wp=Ct.seldist),Pp-=Wp,Cp+=Wp,Ip-=Wp,Ap+=Wp,Op-=Wp,Mp+=Wp;for(let im=0;im<vs.length;im++)vs[im].x>Pp&&vs[im].x<Cp&&vs[im].y>Ip&&vs[im].y<Ap&&vs[im].z>Op&&vs[im].z<Mp&&Ht.inSelectedRegion(vs[im],Ct.coords,Wp)?(wp.push(bp.length),bp.push(vs[im])):wp.push(-1);for(let im=0;im+2<Sp.length;im+=3)wp[Sp[im]]!==-1&&wp[Sp[im+1]]!==-1&&wp[Sp[im+2]]!==-1&&(Ep.push(Sp[im]-(Sp[im]-wp[Sp[im]])),Ep.push(Sp[im+1]-(Sp[im+1]-wp[Sp[im+1]])),Ep.push(Sp[im+2]-(Sp[im+2]-wp[Sp[im+2]])));vs=bp,Sp=Ep}Ht.drawCustom(this,this.geo,{vertexArr:vs,faceArr:Sp,normalArr:[],clickable:Ct.clickable,hoverable:Ct.hoverable}),this.updateStyle(Ct);var Yp=new et.Vector3(ft.origin.x,ft.origin.y,ft.origin.z),Zp=new et.Vector3(ft.size.x*ft.unit.x,ft.size.y*ft.unit.y,ft.size.z*ft.unit.z),Qp=new et.Vector3(0,0,0),Gp=Yp.clone(),rm=Yp.clone().add(Zp);for(let im=0;im<vs.length;im++)Qp.add(vs[im]),Gp.max(vs[im]),rm.min(vs[im]);Qp.divideScalar(vs.length);var Jp=Qp.distanceTo(rm),Up=Qp.distanceTo(Gp);this.boundingSphere.center=Qp,this.boundingSphere.radius=Math.max(Jp,Up),typeof mr=="function"&&mr()}addVolumetricData(ft,Ct,mr){ft=new it.VolumeData(ft,Ct),this.addIsosurface(ft,mr)}finalize(){return Ht.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.geo}globj(ft){if(this.renderedShapeObj&&(ft.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){Ht.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.wireframe&&this.geo.setUpWireframe(),typeof this.color<"u"&&Ht.updateColor(this.geo,this.color),this.shapeObj=new j.Object3D;var Ct=null;this.side==j.DoubleSide?Ct=new j.MeshDoubleLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:j.Coloring.VertexColors}):Ct=new j.MeshLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:j.Coloring.VertexColors});var mr=new j.Mesh(this.geo,Ct);this.shapeObj.add(mr);var _r=new j.LineBasicMaterial({linewidth:this.linewidth,color:this.color}),mn=new j.Line(this.linegeo,_r,j.LineStyle.LinePieces);this.shapeObj.add(mn),this.renderedShapeObj=this.shapeObj.clone(),ft.add(this.renderedShapeObj)}}removegl(ft){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),ft.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}Ht.ISDONE=2,Ht.drawCustom=function(_n,ft,Ct){var mr=Ct,_r=mr.vertexArr,mn=mr.faceArr;(_r.length===0||mn.length===0)&&console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");var dr=Ct.color;typeof dr>"u"&&(dr=_n.color),dr=tt.CC.color(dr);for(var pn=pr(mr),Do=0,Io=pn.length;Do<Io;Do++)Ht.addCustomGeo(_n,ft,pn[Do],pn[Do].colorArr?pn[Do].colorArr:dr,Ct.clickable)};function pr(_n){var ft=64e3;if(_n.vertexArr.length<ft)return[_n];var Ct=[{vertexArr:[],normalArr:[],faceArr:[]}];_n.colorArr&&(Ct.colorArr=[]);var mr=[],_r=[],mn=0,dr=_n.faceArr;for(let Do=0,Io=dr.length;Do<Io;Do+=3){let Lo=Ct[mn];for(let ms=0;ms<3;ms++){var pn=dr[Do+ms];mr[pn]!==mn&&(mr[pn]=mn,_r[pn]=Lo.vertexArr.length,Lo.vertexArr.push(_n.vertexArr[pn]),_n.normalArr&&_n.normalArr[pn]&&Lo.normalArr.push(_n.normalArr[pn]),_n.colorArr&&_n.colorArr[pn]&&Lo.colorArr.push(_n.colorArr[pn])),Lo.faceArr.push(_r[pn])}Lo.vertexArr.length>=ft&&(Ct.push({vertexArr:[],normalArr:[],faceArr:[]}),_n.colorArr&&(Ct.colorArr=[]),mn++)}return Ct}},"./src/GLViewer.ts":(o,_,$)=>{$.r(_),$.d(_,{GLViewer:()=>ft,createStereoViewer:()=>_r,createViewer:()=>Ct,createViewerGrid:()=>mr});var j=$("./src/WebGL/index.ts"),_e=$("./src/WebGL/math/index.ts"),et=$("./src/colors.ts"),tt=$("./src/utilities.ts"),nt=$("./src/Gradient.ts"),it=$("./src/GLModel.ts"),lt=$("./src/Label.ts"),dt=$("./src/GLShape.ts"),bt=$("./src/VolumeData.ts"),Ht=$("./src/ProteinSurface4.ts"),pr=$("./src/VolumetricRender.ts"),_n=$("./node_modules/upng-js/UPNG.js");class ft{getRect(){let dr=this.container,pn=dr.getBoundingClientRect();if(pn.width==0&&pn.height==0&&dr.style.display==="none"){let Do=dr.style.position,Io=dr.style.visibility;dr.style.display="block",dr.style.visibility="hidden",dr.style.position="absolute",pn=dr.getBoundingClientRect(),dr.style.display="none",dr.style.visibility=Io,dr.style.position=Do}return pn}getWidth(){return this.getRect().width}getHeight(){return this.getRect().height}setupRenderer(){this.renderer=new j.Renderer({antialias:this.config.antialias,preserveDrawingBuffer:!0,premultipliedAlpha:!1,id:this.config.id,row:this.config.row,col:this.config.col,rows:this.config.rows,cols:this.config.cols,canvas:this.config.canvas,containerWidth:this.WIDTH||1,containerHeight:this.HEIGHT||1}),this.renderer.domElement.style.width="100%",this.renderer.domElement.style.height="100%",this.renderer.domElement.style.padding="0",this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.top="0px",this.renderer.domElement.style.left="0px",this.renderer.domElement.style.zIndex="0"}initializeScene(){this.scene=new j.Scene,this.scene.fog=new j.Fog(this.bgColor,100,200),this.modelGroup=new j.Object3D,this.rotationGroup=new j.Object3D,this.rotationGroup.useQuaternion=!0,this.rotationGroup.quaternion=new _e.Quaternion(0,0,0,1),this.rotationGroup.add(this.modelGroup),this.scene.add(this.rotationGroup);var dr=new j.Light(16777215);dr.position=new _e.Vector3(.2,.2,1).normalize(),dr.intensity=1,this.scene.add(dr)}initContainer(dr){this.container=dr,this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.container.append(this.renderer.domElement),this.glDOM=this.renderer.domElement,this.nomouse||(this.glDOM.addEventListener("mousedown",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("touchstart",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("wheel",this._handleMouseScroll.bind(this),{passive:!1}),this.glDOM.addEventListener("mousemove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("touchmove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("contextmenu",this._handleContextMenu.bind(this),{passive:!1}))}decAnim(){this.animated--,this.animated<0&&(this.animated=0)}incAnim(){this.animated++}nextSurfID(){var dr=0;for(let Do in this.surfaces)if(this.surfaces.hasOwnProperty(Do)){var pn=parseInt(Do);isNaN(pn)||pn>dr&&(dr=pn)}return dr+1}setSlabAndFog(){let dr=this.camera.position.z-this.rotationGroup.position.z;dr<1&&(dr=1),this.camera.near=dr+this.slabNear,this.camera.near<1&&(this.camera.near=1),this.camera.far=dr+this.slabFar,this.camera.near+1>this.camera.far&&(this.camera.far=this.camera.near+1),this.camera.fov=this.fov,this.camera.right=dr*Math.tan(Math.PI/180*this.fov),this.camera.left=-this.camera.right,this.camera.top=this.camera.right/this.ASPECT,this.camera.bottom=-this.camera.top,this.camera.updateProjectionMatrix(),this.scene.fog.near=this.camera.near+this.fogStart*(this.camera.far-this.camera.near),this.scene.fog.far=this.camera.far,this.config.disableFog&&(this.scene.fog.near=this.scene.fog.far)}show(dr){if(this.renderer.setViewport(),!!this.scene&&(this.setSlabAndFog(),this.renderer.render(this.scene,this.camera),this.viewChangeCallback&&this.viewChangeCallback(this._viewer.getView()),!dr&&this.linkedViewers.length>0))for(var pn=this._viewer.getView(),Do=0;Do<this.linkedViewers.length;Do++){var Io=this.linkedViewers[Do];Io.setView(pn,!0)}}updateClickables(){this.clickables.splice(0,this.clickables.length),this.hoverables.splice(0,this.hoverables.length),this.contextMenuEnabledAtoms.splice(0,this.contextMenuEnabledAtoms.length);for(let dr=0,pn=this.models.length;dr<pn;dr++){let Do=this.models[dr];if(Do){let Io=Do.selectedAtoms({clickable:!0}),Lo=Do.selectedAtoms({hoverable:!0}),ms=Do.selectedAtoms({contextMenuEnabled:!0});for(let Uo=0;Uo<Lo.length;Uo++)this.hoverables.push(Lo[Uo]);for(let Uo=0;Uo<Io.length;Uo++)this.clickables.push(Io[Uo]);for(let Uo=0;Uo<ms.length;Uo++)this.contextMenuEnabledAtoms.push(ms[Uo])}}for(let dr=0,pn=this.shapes.length;dr<pn;dr++){let Do=this.shapes[dr];Do&&Do.clickable&&this.clickables.push(Do),Do&&Do.hoverable&&this.hoverables.push(Do)}}handleClickSelection(dr,pn,Do){let Io=this.targetedObjects(dr,pn,this.clickables);if(Io.length){var Lo=Io[0].clickable;Lo.callback!==void 0&&(typeof Lo.callback!="function"&&(Lo.callback=(0,tt.makeFunction)(Lo.callback)),typeof Lo.callback=="function"&&Lo.callback(Lo,this._viewer,Do,this.container,Io))}}canvasOffset(){let dr=this.glDOM,pn=dr.getBoundingClientRect(),Do=dr.ownerDocument,Io=Do.documentElement,Lo=Do.defaultView;return{top:pn.top+Lo.pageYOffset-Io.clientTop,left:pn.left+Lo.pageXOffset-Io.clientLeft}}setHover(dr,pn,Do){this.current_hover!=dr&&(this.current_hover&&(typeof this.current_hover.unhover_callback!="function"&&(this.current_hover.unhover_callback=(0,tt.makeFunction)(this.current_hover.unhover_callback)),this.current_hover.unhover_callback(this.current_hover,this._viewer,pn,this.container,Do)),this.current_hover=dr,dr&&dr.hover_callback!==void 0&&(typeof dr.hover_callback!="function"&&(dr.hover_callback=(0,tt.makeFunction)(dr.hover_callback)),typeof dr.hover_callback=="function"&&dr.hover_callback(dr,this._viewer,pn,this.container,Do)))}handleHoverSelection(dr,pn,Do){if(this.hoverables.length==0)return;let Io=this.targetedObjects(dr,pn,this.hoverables);if(Io.length){var Lo=Io[0].clickable;this.setHover(Lo,Do,Io),this.current_hover=Lo}else this.setHover(null)}handleHoverContinue(dr,pn){let Do=this.targetedObjects(dr,pn,this.hoverables);(Do.length==0||Do[0]===void 0)&&this.setHover(null),Do[0]!==void 0&&Do[0].clickable!==this.current_hover&&this.setHover(null)}closeEnoughForClick(dr,{allowTolerance:pn=dr.targetTouches,tolerance:Do=5}={}){const Io=this.getX(dr),Lo=this.getY(dr);if(pn){const ms=Math.abs(Io-this.mouseStartX),Uo=Math.abs(Lo-this.mouseStartY);return ms<=Do&&Uo<=Do}else return Io===this.mouseStartX&&Lo===this.mouseStartY}calcTouchDistance(dr){var pn=dr.targetTouches[0].pageX-dr.targetTouches[1].pageX,Do=dr.targetTouches[0].pageY-dr.targetTouches[1].pageY;return Math.hypot(pn,Do)}getX(dr){var pn=dr.pageX;return pn==null&&(pn=dr.pageX),dr.targetTouches&&dr.targetTouches[0]?pn=dr.targetTouches[0].pageX:dr.changedTouches&&dr.changedTouches[0]&&(pn=dr.changedTouches[0].pageX),pn}getY(dr){var pn=dr.pageY;return pn==null&&(pn=dr.pageY),dr.targetTouches&&dr.targetTouches[0]?pn=dr.targetTouches[0].pageY:dr.changedTouches&&dr.changedTouches[0]&&(pn=dr.changedTouches[0].pageY),pn}isInViewer(dr,pn){if(this.viewers!=null){var Do=this.WIDTH/this.cols,Io=this.HEIGHT/this.rows,Lo=this.canvasOffset(),ms=dr-Lo.left,Uo=pn-Lo.top,_s=this.rows-Math.floor(Uo/Io)-1,yp=Math.floor(ms/Do);if(_s!=this.row||yp!=this.col)return!1}return!0}adjustZoomToLimits(dr){if(this.config.lowerZoomLimit&&this.config.lowerZoomLimit>0){let pn=this.CAMERA_Z-this.config.lowerZoomLimit;dr>pn&&(dr=pn)}if(this.config.upperZoomLimit&&this.config.upperZoomLimit>0){let pn=this.CAMERA_Z-this.config.upperZoomLimit;dr<pn&&(dr=pn)}return dr>this.CAMERA_Z-1&&(dr=this.CAMERA_Z-1),dr}static slerp(dr,pn,Do){if(Do==1)return pn.clone();if(Do==0)return dr.clone();let Io=dr.x*pn.x+dr.y*pn.y+dr.z*pn.z+dr.w*pn.w;if(Io>.9995){let vs=new _e.Quaternion(dr.x+Do*(pn.x-dr.x),dr.y+Do*(pn.y-dr.y),dr.z+Do*(pn.z-dr.z),dr.w+Do*(pn.w-dr.w));return vs.normalize(),vs}Io<0&&(pn=pn.clone().multiplyScalar(-1),Io=-Io),Io>1?Io=1:Io<-1&&(Io=-1);var Lo=Math.acos(Io),ms=Lo*Do,Uo=pn.clone();Uo.sub(dr.clone().multiplyScalar(Io)),Uo.normalize();var _s=Math.cos(ms),yp=Math.sin(ms),xs=new _e.Quaternion(dr.x*_s+Uo.x*yp,dr.y*_s+Uo.y*yp,dr.z*_s+Uo.z*yp,dr.w*_s+Uo.w*yp);return xs.normalize(),xs}constructor(dr,pn={}){this.nomouse=!1,this.glDOM=null,this.models=[],this.surfaces={},this.shapes=[],this.labels=[],this.clickables=[],this.hoverables=[],this.contextMenuEnabledAtoms=[],this.current_hover=null,this.hoverDuration=500,this.viewer_frame=0,this.viewChangeCallback=null,this.stateChangeCallback=null,this.NEAR=1,this.FAR=800,this.CAMERA_Z=150,this.fov=20,this.linkedViewers=[],this.renderer=null,this.control_all=!1,this.scene=null,this.rotationGroup=null,this.modelGroup=null,this.fogStart=.4,this.slabNear=-50,this.slabFar=50,this.cq=new _e.Quaternion(0,0,0,1),this.dq=new _e.Quaternion(0,0,0,1),this.animated=0,this.animationTimers=new Set,this.isDragging=!1,this.mouseStartX=0,this.mouseStartY=0,this.touchDistanceStart=0,this.touchHold=!1,this.currentModelPos=0,this.cz=0,this.cslabNear=0,this.cslabFar=0,this.userContextMenuHandler=null,this.config=pn,this.callback=this.config.callback,this.defaultcolors=this.config.defaultcolors,this.defaultcolors||(this.defaultcolors=et.elementColors.defaultColors),this.nomouse=this.config.nomouse,this.bgColor=0,this.config.backgroundColor=this.config.backgroundColor||"#ffffff",typeof this.config.backgroundColor<"u"&&(this.bgColor=et.CC.color(this.config.backgroundColor).getHex()),this.config.backgroundAlpha=this.config.backgroundAlpha==null?1:this.config.backgroundAlpha,this.camerax=0,typeof this.config.camerax<"u"&&(this.camerax=parseFloat(this.config.camerax)),this._viewer=this,this.container=dr,this.config.hoverDuration!=null&&(this.hoverDuration=this.config.hoverDuration),this.config.antialias===void 0&&(this.config.antialias=!0),this.config.cartoonQuality===void 0&&(this.config.cartoonQuality=10),this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.setupRenderer(),this.row=this.config.row==null?0:this.config.row,this.col=this.config.col==null?0:this.config.col,this.cols=this.config.cols,this.rows=this.config.rows,this.viewers=this.config.viewers,this.control_all=this.config.control_all,this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.camera=new j.Camera(this.fov,this.ASPECT,this.NEAR,this.FAR,this.config.orthographic),this.camera.position=new _e.Vector3(this.camerax,0,this.CAMERA_Z),this.lookingAt=new _e.Vector3,this.camera.lookAt(this.lookingAt),this.raycaster=new j.Raycaster(new _e.Vector3(0,0,0),new _e.Vector3(0,0,0)),this.projector=new j.Projector,this.initializeScene(),this.renderer.setClearColorHex(this.bgColor,this.config.backgroundAlpha),this.scene.fog.color=et.CC.color(this.bgColor),document.body.addEventListener("mouseup",this._handleMouseUp.bind(this)),document.body.addEventListener("touchend",this._handleMouseUp.bind(this)),this.initContainer(this.container),this.config.style&&this.setViewStyle(this.config),window.addEventListener("resize",this.resize.bind(this)),typeof window.ResizeObserver<"u"&&(this.divwatcher=new window.ResizeObserver(this.resize.bind(this)),this.divwatcher.observe(this.container));try{typeof this.callback=="function"&&this.callback(this)}catch(Do){console.log("error with glviewer callback: "+Do)}}targetedObjects(dr,pn,Do){var Io={x:dr,y:pn,z:-1};return Array.isArray(Do)||(Do=this.selectedAtoms(Do)),Do.length==0?[]:(this.raycaster.setFromCamera(Io,this.camera),this.raycaster.intersectObjects(this.modelGroup,Do))}modelToScreen(dr){let pn=!1;Array.isArray(dr)||(dr=[dr],pn=!0);let Do=this.renderer.getXRatio(),Io=this.renderer.getYRatio(),Lo=this.col,ms=this.row,Uo=Lo*(this.WIDTH/Do),_s=(Io-ms-1)*(this.HEIGHT/Io),yp=[],xs=this.canvasOffset();return dr.forEach(vs=>{let Sp=new _e.Vector3(vs.x,vs.y,vs.z);Sp.applyMatrix4(this.modelGroup.matrixWorld),this.projector.projectVector(Sp,this.camera);let wp=this.WIDTH/Do*(Sp.x+1)/2+xs.left+Uo,bp=-(this.HEIGHT/Io)*(Sp.y-1)/2+xs.top+_s;yp.push({x:wp,y:bp})}),pn&&(yp=yp[0]),yp}screenOffsetToModel(dr,pn,Do){var Io=dr/this.WIDTH,Lo=pn/this.HEIGHT,ms=Do===void 0?this.rotationGroup.position.z:Do,Uo=this.rotationGroup.quaternion,_s=new _e.Vector3(0,0,ms);return this.projector.projectVector(_s,this.camera),_s.x+=Io*2,_s.y-=Lo*2,this.projector.unprojectVector(_s,this.camera),_s.z=0,_s.applyQuaternion(Uo),_s}screenToModelDistance(dr,pn){let Do=this.canvasOffset(),Io=new _e.Vector3(pn.x,pn.y,pn.z);Io.applyMatrix4(this.modelGroup.matrixWorld);let Lo=Io.clone();this.projector.projectVector(Io,this.camera);let ms=new _e.Vector3((dr.x-Do.left)*2/this.WIDTH-1,(dr.y-Do.top)*2/-this.HEIGHT+1,Io.z);return this.projector.unprojectVector(ms,this.camera),ms.distanceTo(Lo)}setViewChangeCallback(dr){(typeof dr=="function"||dr==null)&&(this.viewChangeCallback=dr)}setStateChangeCallback(dr){(typeof dr=="function"||dr==null)&&(this.stateChangeCallback=dr)}getConfig(){return this.config}setConfig(dr){this.config=dr}getInternalState(){var dr={models:[],surfaces:[],shapes:[],labels:[]};for(let pn=0;pn<this.models.length;pn++)this.models[pn]&&(dr.models[pn]=this.models[pn].getInternalState());return dr}setInternalState(dr){this.clear();var pn=dr.models;for(let Do=0;Do<pn.length;Do++)pn[Do]&&(this.models[Do]=new it.GLModel(Do),this.models[Do].setInternalState(pn[Do]));this.render()}setZoomLimits(dr,pn){typeof dr<"u"&&(this.config.lowerZoomLimit=dr),pn&&(this.config.upperZoomLimit=pn),this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}setCameraParameters(dr){dr.fov!==void 0&&(this.fov=dr.fov,this.camera.fov=this.fov),dr.z!==void 0&&(this.CAMERA_Z=dr.z,this.camera.z=this.CAMERA_Z),dr.orthographic!==void 0&&(this.camera.ortho=dr.orthographic)}_handleMouseDown(dr){if(dr.preventDefault(),!this.scene)return;var pn=this.getX(dr),Do=this.getY(dr);if(pn===void 0)return;this.isDragging=!0,this.mouseButton=dr.which,this.mouseStartX=pn,this.mouseStartY=Do,this.touchHold=!0,this.touchDistanceStart=0,dr.targetTouches&&dr.targetTouches.length==2&&(this.touchDistanceStart=this.calcTouchDistance(dr)),this.cq=this.rotationGroup.quaternion.clone(),this.cz=this.rotationGroup.position.z,this.currentModelPos=this.modelGroup.position.clone(),this.cslabNear=this.slabNear,this.cslabFar=this.slabFar;let Io=this;setTimeout(function(){dr.targetTouches&&Io.touchHold==!0&&(Io.glDOM=Io.renderer.domElement,Io.glDOM.dispatchEvent(new Event("contextmenu")))},1e3)}_handleMouseUp(dr){if(this.touchHold=!1,this.isDragging&&this.scene){var pn=this.getX(dr),Do=this.getY(dr);if(this.closeEnoughForClick(dr)&&this.isInViewer(pn,Do)){let Io=this.mouseXY(pn,Do);this.handleClickSelection(Io.x,Io.y,dr)}}this.isDragging=!1}_handleMouseScroll(dr){if(dr.preventDefault(),!!this.scene){var pn=this.getX(dr),Do=this.getY(dr);if(pn!==void 0&&!(!this.control_all&&!this.isInViewer(pn,Do))){var Io=(this.CAMERA_Z-this.rotationGroup.position.z)*.85,Lo=1;if(dr.ctrlKey&&(Lo=-1),dr.detail)this.rotationGroup.position.z+=Lo*Io*dr.detail/10;else if(dr.wheelDelta){let ms=dr.wheelDelta*600/(dr.wheelDelta+600);this.rotationGroup.position.z-=Lo*Io*ms/400}this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}}}pngURI(){return this.getCanvas().toDataURL("image/png")}apngURI(dr){let pn=this;return dr=dr||1,new Promise(function(Do){let Io=0,Lo=pn.viewChangeCallback,ms=[],Uo=[],_s=Date.now();pn.viewChangeCallback=function(){Uo.push(Date.now()-_s),_s=Date.now(),ms.push(new Promise(yp=>{pn.getCanvas().toBlob(function(xs){xs.arrayBuffer().then(yp)},"image/png")})),Io+=1,Io==dr&&(pn.viewChangeCallback=Lo,Promise.all(ms).then(yp=>{let xs=[];for(let Cp=0;Cp<yp.length;Cp++){let Ap=(0,_n.decode)(yp[Cp]);xs.push((0,_n.toRGBA8)(Ap)[0])}let vs=pn.getCanvas().width,Sp=pn.getCanvas().height,wp=(0,_n.encode)(xs,vs,Sp,0,Uo),bp=new Blob([wp],{type:"image/png"}),Ep=new FileReader;Ep.onload=function(Cp){Do(Cp.target.result)},Ep.readAsDataURL(bp)}))}})}getCanvas(){return this.glDOM}getRenderer(){return this.renderer}setHoverDuration(dr){this.hoverDuration=dr}mouseXY(dr,pn){let Do=this.canvasOffset(),Io=this.renderer.getXRatio(),Lo=this.renderer.getYRatio(),ms=this.col,Uo=this.row,_s=ms*(this.WIDTH/Io),yp=(Lo-Uo-1)*(this.HEIGHT/Lo),xs=(dr-Do.left-_s)/(this.WIDTH/Io)*2-1,vs=-((pn-Do.top-yp)/(this.HEIGHT/Lo))*2+1;return{x:xs,y:vs}}_handleMouseMove(dr){clearTimeout(this.hoverTimeout),dr.preventDefault();let pn=this.getX(dr),Do=this.getY(dr);if(pn===void 0)return;let Io=this.renderer.getXRatio(),Lo=this.renderer.getYRatio(),ms=this.mouseXY(pn,Do),Uo=this;this.current_hover!==null&&this.handleHoverContinue(ms.x,ms.y);var _s=0;if(!(!this.control_all&&!this.isInViewer(pn,Do))&&this.scene&&(this.hoverables.length>0&&(this.hoverTimeout=setTimeout(function(){Uo.handleHoverSelection(ms.x,ms.y,dr)},this.hoverDuration)),!!this.isDragging)){var yp=(pn-this.mouseStartX)/this.WIDTH,xs=(Do-this.mouseStartY)/this.HEIGHT;if(this.touchDistanceStart!=0&&dr.targetTouches&&dr.targetTouches.length==2){var vs=this.calcTouchDistance(dr);_s=2,xs=(vs-this.touchDistanceStart)*2/(this.WIDTH+this.HEIGHT)}else dr.targetTouches&&dr.targetTouches.length==3&&(_s=1);yp*=Io,xs*=Lo;var Sp=Math.hypot(yp,xs),wp;if(_s==3||this.mouseButton==3&&dr.ctrlKey)this.slabNear=this.cslabNear+yp*100,this.slabFar=this.cslabFar-xs*100;else if(_s==2||this.mouseButton==3||dr.shiftKey)wp=(this.CAMERA_Z-this.rotationGroup.position.z)*.85,wp<80&&(wp=80),this.rotationGroup.position.z=this.cz+xs*wp,this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z);else if(_s==1||this.mouseButton==2||dr.ctrlKey){var bp=this.screenOffsetToModel(Io*(pn-this.mouseStartX),Lo*(Do-this.mouseStartY));this.modelGroup.position.addVectors(this.currentModelPos,bp)}else if((_s===0||this.mouseButton==1)&&Sp!==0){var Ep=Math.sin(Sp*Math.PI)/Sp;this.dq.x=Math.cos(Sp*Math.PI),this.dq.y=0,this.dq.z=Ep*yp,this.dq.w=-Ep*xs,this.rotationGroup.quaternion.set(1,0,0,0),this.rotationGroup.quaternion.multiply(this.dq),this.rotationGroup.quaternion.multiply(this.cq)}this.show()}}_handleContextMenu(dr){dr.preventDefault();var pn=this.getX(dr),Do=this.getY(dr);if(!(pn!=this.mouseStartX||Do!=this.mouseStartY)){var ms=this.mouseStartX,Uo=this.mouseStartY,Lo=this.canvasOffset();let _s=this.mouseXY(ms,Uo),yp=_s.x,xs=_s.y,vs=this.targetedObjects(yp,xs,this.contextMenuEnabledAtoms);var Io=null;vs.length&&(Io=vs[0].clickable);var Lo=this.canvasOffset(),ms=this.mouseStartX-Lo.left,Uo=this.mouseStartY-Lo.top;this.userContextMenuHandler&&this.userContextMenuHandler(Io,ms,Uo,vs)}}setContainer(dr){let pn=(0,tt.getElement)(dr)||this.container;return this.initContainer(pn),this}setBackgroundColor(dr,pn){(typeof pn>"u"||pn<0||pn>1)&&(pn=1);var Do=et.CC.color(dr);return this.scene.fog.color=Do,this.bgColor=Do.getHex(),this.renderer.setClearColorHex(Do.getHex(),pn),this.show(),this}setProjection(dr){this.camera.ortho=dr==="orthographic",this.setSlabAndFog()}setViewStyle(dr){if(dr.style==="outline"){var pn={};dr.color&&(pn.color=et.CC.color(dr.color)),dr.width&&(pn.width=dr.width),this.renderer.enableOutline(pn)}else this.renderer.disableOutline();return this}updateSize(){this.renderer.setSize(this.WIDTH,this.HEIGHT),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.camera.aspect=this.ASPECT,this.camera.updateProjectionMatrix()}setWidth(dr){return this.WIDTH=dr||this.WIDTH,this.updateSize(),this}setHeight(dr){return this.HEIGHT=dr||this.HEIGHT,this.updateSize(),this}resize(){this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight();let dr=!1;if(this.renderer.isLost()&&this.WIDTH>0&&this.HEIGHT>0){let pn=!1,Do=this.container.querySelector("canvas");Do&&Do!=this.renderer.getCanvas()?this.config.canvas=Do:(Do.remove(),this.config&&this.config.canvas!=null&&(delete this.config.canvas,pn=!0)),this.setupRenderer(),this.initContainer(this.container),dr=!0,pn&&(this.config.canvas=this.renderer.getCanvas())}if(this.WIDTH==0||this.HEIGHT==0?this.animated&&this._viewer.pauseAnimate():this.animated&&this._viewer.resumeAnimate(),this.updateSize(),dr){let pn=this.renderer.supportedExtensions();if(pn.regen=!0,this.viewers)for(let Do=0,Io=this.viewers.length;Do<Io;Do++)for(let Lo=0,ms=this.viewers[Do].length;Lo<ms;Lo++)this.viewers[Do][Lo].render(null,pn);this._viewer.render(null,pn)}else this.show();return this}getModel(dr){return dr===void 0?this.models.length==0?null:this.models[this.models.length-1]:dr instanceof it.GLModel?dr:dr in this.models?this.models[dr]:this.models.length==0?null:this.models[this.models.length-1]}spin(dr,pn=1){if(clearInterval(this.spinInterval),typeof dr>"u"&&(dr="y"),typeof dr=="boolean")if(dr)dr="y";else return;Array.isArray(dr)&&(dr={x:dr[0],y:dr[1],z:dr[2]});var Do=this;this.spinInterval=setInterval(function(){!Do.getCanvas().isConnected&&Do.renderer.isLost()&&clearInterval(Do.spinInterval),Do.rotate(1*pn,dr)},25)}animateMotion(dr,pn,Do,Io,Lo,ms){var Uo=20,_s=Math.ceil(dr/Uo);_s<1&&(_s=1),this.incAnim();var yp={mpos:this.modelGroup.position.clone(),rz:this.rotationGroup.position.z,rot:this.rotationGroup.quaternion.clone(),cam:this.lookingAt.clone()};if(pn){let Sp=new Array(_s);for(let Cp=0;Cp<_s;Cp++){let Ap=(Cp+1)/_s,Mp={mpos:yp.mpos,rz:yp.rz,rot:yp.rot};Mp.mpos=Do.clone().sub(yp.mpos).multiplyScalar(Ap).add(yp.mpos),Mp.rz=yp.rz+Ap*(Io-yp.rz),Mp.rot=ft.slerp(yp.rot,Lo,Ap),Mp.cam=ms.clone().sub(yp.cam).multiplyScalar(Ap).add(yp.cam),Sp[Cp]=Mp}let wp=0,bp=this,Ep=function(){var Cp=Sp[wp];wp+=1,bp.modelGroup.position=Cp.mpos,bp.rotationGroup.position.z=Cp.rz,bp.rotationGroup.quaternion=Cp.rot,bp.camera.lookAt(Cp.cam),wp<Sp.length?setTimeout(Ep,Uo):bp.decAnim(),bp.show()};setTimeout(Ep,Uo)}else{var xs={};let Sp=1/_s;if(Do&&(xs.mpos=Do.clone().sub(yp.mpos).multiplyScalar(Sp)),typeof Io<"u"&&Io!=null&&(xs.rz=Sp*(Io-yp.rz)),Lo){var vs=ft.slerp(yp.rot,Lo,Sp);xs.rot=yp.rot.clone().inverse().multiply(vs)}ms&&(xs.cam=ms.clone().sub(yp.cam).multiplyScalar(Sp));let wp=0,bp=this,Ep=function(){wp+=1,xs.mpos&&bp.modelGroup.position.add(xs.mpos),xs.rz&&(bp.rotationGroup.position.z+=xs.rz),xs.rot&&bp.rotationGroup.quaternion.multiply(xs.rot),xs.cam&&(bp.lookingAt.add(xs.cam),bp.camera.lookAt(bp.lookingAt)),wp<_s?setTimeout(Ep,Uo):bp.decAnim(),bp.show()};setTimeout(Ep,Uo)}}rotate(dr,pn="y",Do=0,Io=!1){if(pn=="x"?pn={x:1,y:0,z:0}:pn=="y"?pn={x:0,y:1,z:0}:pn=="z"&&(pn={x:0,y:0,z:1}),pn=="vx"?pn={vx:1,vy:0,vz:0}:pn=="vy"?pn={vx:0,vy:1,vz:0}:pn=="vz"&&(pn={vx:0,vy:0,vz:1}),typeof pn.vx<"u"){var Lo=new _e.Vector3(pn.vx,pn.vy,pn.vz);Lo.applyQuaternion(this.rotationGroup.quaternion),pn={x:Lo.x,y:Lo.y,z:Lo.z}}var ms=function(xs){var vs=Math.sin(xs/2),Sp=Math.cos(xs/2),wp=0,bp=0,Ep=0;return wp=pn.x*vs,bp=pn.y*vs,Ep=pn.z*vs,new _e.Quaternion(wp,bp,Ep,Sp).normalize()},Uo=Math.PI*dr/180,_s=ms(Uo);if(Do){var yp=new _e.Quaternion().copy(this.rotationGroup.quaternion).multiply(_s);this.animateMotion(Do,Io,this.modelGroup.position,this.rotationGroup.position.z,yp,this.lookingAt)}else this.rotationGroup.quaternion.multiply(_s),this.show();return this}surfacesFinished(){for(var dr in this.surfaces)if(!this.surfaces[dr][0].done)return!1;return!0}getView(){if(!this.modelGroup)return[0,0,0,0,0,0,0,1];var dr=this.modelGroup.position,pn=this.rotationGroup.quaternion;return[dr.x,dr.y,dr.z,this.rotationGroup.position.z,pn.x,pn.y,pn.z,pn.w]}setView(dr,pn){return dr===void 0||!(dr instanceof Array||dr.length!==8)?this:!this.modelGroup||!this.rotationGroup?this:(this.modelGroup.position.x=dr[0],this.modelGroup.position.y=dr[1],this.modelGroup.position.z=dr[2],this.rotationGroup.position.z=dr[3],this.rotationGroup.quaternion.x=dr[4],this.rotationGroup.quaternion.y=dr[5],this.rotationGroup.quaternion.z=dr[6],this.rotationGroup.quaternion.w=dr[7],typeof dr[8]<"u"&&(this.rotationGroup.position.x=dr[8],this.rotationGroup.position.y=dr[9]),this.show(pn),this)}render(dr,pn){this.renderer.setViewport(),this.updateClickables();var Do=this.getView();this.stateChangeCallback&&this.stateChangeCallback(this.getInternalState());var Io,Lo;for(pn||(pn=this.renderer.supportedExtensions()),Io=0;Io<this.models.length;Io++)this.models[Io]&&this.models[Io].globj(this.modelGroup,pn);for(Io=0;Io<this.shapes.length;Io++)this.shapes[Io]&&(typeof this.shapes[Io].frame>"u"||this.viewer_frame<0||this.shapes[Io].frame<0||this.shapes[Io].frame==this.viewer_frame?this.shapes[Io].globj(this.modelGroup,pn):this.shapes[Io].removegl(this.modelGroup));for(Io=0;Io<this.labels.length;Io++)pn.regen&&(this.labels[Io].dispose(),this.modelGroup.remove(this.labels[Io].sprite),this.labels[Io].setContext(),this.modelGroup.add(this.labels[Io].sprite)),this.labels[Io]&&typeof this.labels[Io].frame<"u"&&this.labels[Io].frame>=0&&(this.modelGroup.remove(this.labels[Io].sprite),(this.viewer_frame<0||this.labels[Io].frame==this.viewer_frame)&&this.modelGroup.add(this.labels[Io].sprite));for(Io in this.surfaces)if(this.surfaces.hasOwnProperty(Io)){var ms=this.surfaces[Io];for(Lo=0;Lo<ms.length;Lo++)if(ms.hasOwnProperty(Lo)){var Uo=ms[Lo].geo;if(!ms[Lo].finished||pn.regen){Uo.verticesNeedUpdate=!0,Uo.elementsNeedUpdate=!0,Uo.normalsNeedUpdate=!0,Uo.colorsNeedUpdate=!0,Uo.buffersNeedUpdate=!0,Uo.boundingSphere=null,ms[Lo].mat.needsUpdate=!0,ms[Lo].done&&(ms[Lo].finished=!0),ms[Lo].lastGL&&this.modelGroup.remove(ms[Lo].lastGL);var _s=null;if(ms[Lo].mat instanceof j.LineBasicMaterial?_s=new j.Line(Uo,ms[Lo].mat):_s=new j.Mesh(Uo,ms[Lo].mat),ms[Lo].mat.transparent&&ms[Lo].mat.opacity==0?_s.visible=!1:_s.visible=!0,ms[Lo].symmetries.length>1||ms[Lo].symmetries.length==1&&!ms[Lo].symmetries[Lo].isIdentity()){var yp,xs=new j.Object3D;for(yp=0;yp<ms[Lo].symmetries.length;yp++){var vs=_s.clone();vs.matrix=ms[Lo].symmetries[yp],vs.matrixAutoUpdate=!1,xs.add(vs)}ms[Lo].lastGL=xs,this.modelGroup.add(xs)}else ms[Lo].lastGL=_s,this.modelGroup.add(_s)}}}return this.setView(Do),typeof dr=="function"&&dr(this),this}getModelList(dr){let pn=[];if(typeof dr>"u"||typeof dr.model>"u")for(let Io=0;Io<this.models.length;Io++)this.models[Io]&&pn.push(this.models[Io]);else{let Io=dr.model;Array.isArray(Io)||(Io=[Io]);for(let Lo=0;Lo<Io.length;Lo++)if(typeof Io[Lo]=="number"){var Do=Io[Lo];Do<0&&(Do+=this.models.length),pn.push(this.models[Do])}else pn.push(Io[Lo])}return pn}getAtomsFromSel(dr){var pn=[];typeof dr>"u"&&(dr={});var Do=this.getModelList(dr);for(let Io=0;Io<Do.length;Io++)pn=pn.concat(Do[Io].selectedAtoms(dr));return pn}atomIsSelected(dr,pn){typeof pn>"u"&&(pn={});for(var Do=this.getModelList(pn),Io=0;Io<Do.length;Io++)if(Do[Io].atomIsSelected(dr,pn))return!0;return!1}selectedAtoms(dr){return this.getAtomsFromSel(dr)}getUniqueValues(dr,pn){typeof pn>"u"&&(pn={});var Do=this.getAtomsFromSel(pn),Io={};for(var Lo in Do)if(Do[Lo].hasOwnProperty(dr)){var ms=Do[Lo][dr];Io[ms]=!0}return Object.keys(Io)}pdbData(dr){for(var pn=this.getAtomsFromSel(dr),Do="",Io=0,Lo=pn.length;Io<Lo;++Io)Do+=pn[Io].pdbline+`
`;return Do}zoom(dr=2,pn=0,Do=!1){var Io=(this.CAMERA_Z-this.rotationGroup.position.z)/dr,Lo=this.CAMERA_Z-Io;return pn>0?this.animateMotion(pn,Do,this.modelGroup.position,this.adjustZoomToLimits(Lo),this.rotationGroup.quaternion,this.lookingAt):(this.rotationGroup.position.z=this.adjustZoomToLimits(Lo),this.show()),this}translate(dr,pn,Do=0,Io=!1){var Lo=dr/this.WIDTH,ms=pn/this.HEIGHT,Uo=new _e.Vector3(0,0,-this.CAMERA_Z);this.projector.projectVector(Uo,this.camera),Uo.x-=Lo,Uo.y-=ms,this.projector.unprojectVector(Uo,this.camera),Uo.z=0;var _s=this.lookingAt.clone().add(Uo);return Do>0?this.animateMotion(Do,Io,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,_s):(this.lookingAt=_s,this.camera.lookAt(this.lookingAt),this.show()),this}translateScene(dr,pn,Do=0,Io=!1){var Lo=this.screenOffsetToModel(dr,pn),ms=this.modelGroup.position.clone().add(Lo);return Do>0?this.animateMotion(Do,Io,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=ms,this.show()),this}fitSlab(dr){dr=dr||{};var pn=this.getAtomsFromSel(dr),Do=(0,tt.getExtent)(pn),Io=Do[1][0]-Do[0][0],Lo=Do[1][1]-Do[0][1],ms=Do[1][2]-Do[0][2],Uo=Math.hypot(Io,Lo,ms);return Uo<5&&(Uo=5),this.slabNear=-Uo/1.9,this.slabFar=Uo/2,this}center(dr={},pn=0,Do=!1){var Io,Lo,ms=this.getAtomsFromSel(dr),Uo=(0,tt.getExtent)(ms);(0,tt.isEmptyObject)(dr)?(this.shapes.forEach(Ap=>{if(Ap&&Ap.boundingSphere&&Ap.boundingSphere.center){var Mp=Ap.boundingSphere.center,Pp=Ap.boundingSphere.radius;Pp>0?(ms.push(new _e.Vector3(Mp.x+Pp,Mp.y,Mp.z)),ms.push(new _e.Vector3(Mp.x-Pp,Mp.y,Mp.z)),ms.push(new _e.Vector3(Mp.x,Mp.y+Pp,Mp.z)),ms.push(new _e.Vector3(Mp.x,Mp.y-Pp,Mp.z)),ms.push(new _e.Vector3(Mp.x,Mp.y,Mp.z+Pp)),ms.push(new _e.Vector3(Mp.x,Mp.y,Mp.z-Pp))):ms.push(Mp)}}),Uo=(0,tt.getExtent)(ms),Io=ms,Lo=Uo):(Io=this.getAtomsFromSel({}),Lo=(0,tt.getExtent)(Io));var _s=new _e.Vector3(Uo[2][0],Uo[2][1],Uo[2][2]),yp=Lo[1][0]-Lo[0][0],xs=Lo[1][1]-Lo[0][1],vs=Lo[1][2]-Lo[0][2],Sp=Math.hypot(yp,xs,vs);Sp<5&&(Sp=5),this.slabNear=-Sp/1.9,this.slabFar=Sp/2,yp=Uo[1][0]-Uo[0][0],xs=Uo[1][1]-Uo[0][1],vs=Uo[1][2]-Uo[0][2],Sp=Math.hypot(yp,xs,vs),Sp<5&&(Sp=5);for(var wp=25,bp=0;bp<ms.length;bp++)if(ms[bp]){var Ep=_s.distanceToSquared(ms[bp]);Ep>wp&&(wp=Ep)}Sp=Math.sqrt(wp)*2;var Cp=_s.clone().multiplyScalar(-1);return pn>0?this.animateMotion(pn,Do,Cp,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=Cp,this.show()),this}zoomTo(dr={},pn=0,Do=!1){let Io=this.getAtomsFromSel(dr),Lo=(0,tt.getExtent)(Io),ms=Lo;if((0,tt.isEmptyObject)(dr)){let Mp=Io&&Io.length;if(this.shapes.forEach(Pp=>{if(Pp&&Pp.boundingSphere){if(Pp.boundingSphere.box){let Wp=Pp.boundingSphere.box;Io.push(new _e.Vector3(Wp.min.x,Wp.min.y,Wp.min.z)),Io.push(new _e.Vector3(Wp.max.x,Wp.max.y,Wp.max.z))}else if(Pp.boundingSphere.center){var Ip=Pp.boundingSphere.center,Op=Pp.boundingSphere.radius;Op>0?(Io.push(new _e.Vector3(Ip.x+Op,Ip.y,Ip.z)),Io.push(new _e.Vector3(Ip.x-Op,Ip.y,Ip.z)),Io.push(new _e.Vector3(Ip.x,Ip.y+Op,Ip.z)),Io.push(new _e.Vector3(Ip.x,Ip.y-Op,Ip.z)),Io.push(new _e.Vector3(Ip.x,Ip.y,Ip.z+Op)),Io.push(new _e.Vector3(Ip.x,Ip.y,Ip.z-Op))):Io.push(Ip)}}}),ms=(0,tt.getExtent)(Io),!Mp)for(let Pp=0;Pp<3;Pp++)Lo[2][Pp]=(ms[0][Pp]+ms[1][Pp])/2}else{let Mp=this.getAtomsFromSel({});ms=(0,tt.getExtent)(Mp)}var Uo=new _e.Vector3(Lo[2][0],Lo[2][1],Lo[2][2]),_s=ms[1][0]-ms[0][0],yp=ms[1][1]-ms[0][1],xs=ms[1][2]-ms[0][2],vs=Math.hypot(_s,yp,xs);vs<5&&(vs=5),this.slabNear=-vs/1.9,this.slabFar=vs/2,Object.keys(dr).length===0&&(this.slabNear=Math.min(-vs*2,-50),this.slabFar=Math.max(vs*2,50));var Sp=this.config.minimumZoomToDistance||5;_s=Lo[1][0]-Lo[0][0],yp=Lo[1][1]-Lo[0][1],xs=Lo[1][2]-Lo[0][2],vs=Math.hypot(_s,yp,xs),vs<Sp&&(vs=Sp);for(var wp=Sp*Sp,bp=0;bp<Io.length;bp++)if(Io[bp]){var Ep=Uo.distanceToSquared(Io[bp]);Ep>wp&&(wp=Ep)}vs=Math.sqrt(wp)*2;var Cp=Uo.clone().multiplyScalar(-1),Ap=-(vs*.5/Math.tan(Math.PI/180*this.camera.fov/2)-this.CAMERA_Z);return Ap=this.adjustZoomToLimits(Ap),pn>0?this.animateMotion(pn,Do,Cp,Ap,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=Cp,this.rotationGroup.position.z=Ap,this.show()),this}setSlab(dr,pn){this.slabNear=dr,this.slabFar=pn}getSlab(){return{near:this.slabNear,far:this.slabFar}}addLabel(dr,pn={},Do,Io=!1){if(Do){var Lo=(0,tt.getExtent)(this.getAtomsFromSel(Do));pn.position={x:Lo[2][0],y:Lo[2][1],z:Lo[2][2]}}var ms=new lt.Label(dr,pn);return ms.setContext(),this.modelGroup.add(ms.sprite),this.labels.push(ms),Io||this.show(),ms}addResLabels(dr,pn,Do=!1){let Io=this.labels.length;return this.applyToModels("addResLabels",dr,this,pn,Do),this.show(),this.labels.slice(Io)}addPropertyLabels(dr,pn,Do){return this.applyToModels("addPropertyLabels",dr,pn,this,Do),this.show(),this}removeLabel(dr){for(var pn=0;pn<this.labels.length;pn++)if(this.labels[pn]==dr){this.labels.splice(pn,1),dr.dispose(),this.modelGroup.remove(dr.sprite);break}return this.show(),this}removeAllLabels(){for(var dr=0;dr<this.labels.length;dr++)this.labels[dr]&&this.labels[dr].sprite&&this.modelGroup.remove(this.labels[dr].sprite);return this.labels.splice(0,this.labels.length),this.show(),this}setLabelStyle(dr,pn){return this.modelGroup.remove(dr.sprite),dr.dispose(),dr.stylespec=pn,dr.setContext(),this.modelGroup.add(dr.sprite),this.show(),dr}setLabelText(dr,pn){return this.modelGroup.remove(dr.sprite),dr.dispose(),dr.text=pn,dr.setContext(),this.modelGroup.add(dr.sprite),this.show(),dr}addShape(dr){dr=dr||{};var pn=new dt.GLShape(dr);return pn.shapePosition=this.shapes.length,this.shapes.push(pn),pn}removeShape(dr){if(!dr)return this;for(dr.removegl(this.modelGroup),delete this.shapes[dr.shapePosition];this.shapes.length>0&&typeof this.shapes[this.shapes.length-1]>"u";)this.shapes.pop();return this}removeAllShapes(){for(var dr=0;dr<this.shapes.length;dr++){var pn=this.shapes[dr];pn&&pn.removegl(this.modelGroup)}return this.shapes.splice(0,this.shapes.length),this}getSelectionCenter(dr){if(dr.hasOwnProperty("x")&&dr.hasOwnProperty("y")&&dr.hasOwnProperty("z"))return dr;var pn=this.getAtomsFromSel(dr);if(pn.length==0)return{x:0,y:0,z:0};var Do=(0,tt.getExtent)(pn);return{x:Do[0][0]+(Do[1][0]-Do[0][0])/2,y:Do[0][1]+(Do[1][1]-Do[0][1])/2,z:Do[0][2]+(Do[1][2]-Do[0][2])/2}}addSphere(dr){dr=dr||{},dr.center=this.getSelectionCenter(dr.center);var pn=new dt.GLShape(dr);return pn.shapePosition=this.shapes.length,pn.addSphere(dr),this.shapes.push(pn),pn.finalize(),pn}addBox(dr={}){dr.corner!=null&&(dr.corner=this.getSelectionCenter(dr.corner)),dr.center!=null&&(dr.center=this.getSelectionCenter(dr.center));var pn=new dt.GLShape(dr);return pn.shapePosition=this.shapes.length,pn.addBox(dr),this.shapes.push(pn),pn.finalize(),pn}addArrow(dr={}){dr.start=this.getSelectionCenter(dr.start),dr.end=this.getSelectionCenter(dr.end);var pn=new dt.GLShape(dr);return pn.shapePosition=this.shapes.length,pn.addArrow(dr),this.shapes.push(pn),pn.finalize(),pn}addCylinder(dr={}){dr.start=this.getSelectionCenter(dr.start),dr.end=this.getSelectionCenter(dr.end);var pn=new dt.GLShape(dr);return pn.shapePosition=this.shapes.length,dr.dashed?pn.addDashedCylinder(dr):pn.addCylinder(dr),this.shapes.push(pn),pn.finalize(),pn}addCurve(dr={}){var pn=new dt.GLShape(dr);return pn.shapePosition=this.shapes.length,pn.addCurve(dr),this.shapes.push(pn),pn.finalize(),pn}addLine(dr={}){dr.start=this.getSelectionCenter(dr.start),dr.end=this.getSelectionCenter(dr.end),dr.wireframe=!0;var pn=new dt.GLShape(dr);return pn.shapePosition=this.shapes.length,dr.dashed?pn=this.addLineDashed(dr,pn):pn.addLine(dr),this.shapes.push(pn),pn.finalize(),pn}addUnitCell(dr,pn){dr=this.getModel(dr),pn=pn||{alabel:"a",blabel:"b",clabel:"c"},pn.box=pn.box||{},pn.astyle=pn.astyle||{color:"red",radius:.1,midpos:-1},pn.bstyle=pn.bstyle||{color:"green",radius:.1,midpos:-1},pn.cstyle=pn.cstyle||{color:"blue",radius:.1,midpos:-1},pn.alabelstyle=pn.alabelstyle||{fontColor:"red",showBackground:!1,alignment:"center",inFront:!1},pn.blabelstyle=pn.blabelstyle||{fontColor:"green",showBackground:!1,alignment:"center",inFront:!1},pn.clabelstyle=pn.clabelstyle||{fontColor:"blue",showBackground:!1,alignment:"center",inFront:!1},dr.unitCellObjects&&this.removeUnitCell(dr),dr.unitCellObjects={shapes:[],labels:[]};var Do=dr.getCrystData(),Io=null;if(Do){if(Do.matrix)Io=Do.matrix;else{var Lo=Do.a,ms=Do.b,Uo=Do.c,_s=Do.alpha,yp=Do.beta,xs=Do.gamma;_s=_s*Math.PI/180,yp=yp*Math.PI/180,xs=xs*Math.PI/180;var vs,Sp,wp;vs=Math.cos(yp),Sp=(Math.cos(_s)-Math.cos(yp)*Math.cos(xs))/Math.sin(xs),wp=Math.sqrt(Math.max(0,1-vs*vs-Sp*Sp)),Io=new _e.Matrix3(Lo,ms*Math.cos(xs),Uo*vs,0,ms*Math.sin(xs),Uo*Sp,0,0,Uo*wp)}var bp=[new _e.Vector3(0,0,0),new _e.Vector3(1,0,0),new _e.Vector3(0,1,0),new _e.Vector3(0,0,1),new _e.Vector3(1,1,0),new _e.Vector3(0,1,1),new _e.Vector3(1,0,1),new _e.Vector3(1,1,1)];if(Do.matrix4)for(let Cp=0;Cp<bp.length;Cp++)Do.size&&bp[Cp].multiplyVectors(bp[Cp],Do.size),bp[Cp]=bp[Cp].applyMatrix4(Do.matrix4);else for(let Cp=0;Cp<bp.length;Cp++)bp[Cp]=bp[Cp].applyMatrix3(Io);if(pn.box&&!pn.box.hidden){pn.box.wireframe=!0;var Ep=new dt.GLShape(pn.box);Ep.shapePosition=this.shapes.length,Ep.addLine({start:bp[0],end:bp[1]}),Ep.addLine({start:bp[0],end:bp[2]}),Ep.addLine({start:bp[1],end:bp[4]}),Ep.addLine({start:bp[2],end:bp[4]}),Ep.addLine({start:bp[0],end:bp[3]}),Ep.addLine({start:bp[3],end:bp[5]}),Ep.addLine({start:bp[2],end:bp[5]}),Ep.addLine({start:bp[1],end:bp[6]}),Ep.addLine({start:bp[4],end:bp[7]}),Ep.addLine({start:bp[6],end:bp[7]}),Ep.addLine({start:bp[3],end:bp[6]}),Ep.addLine({start:bp[5],end:bp[7]}),this.shapes.push(Ep),dr.unitCellObjects.shapes.push(Ep),Ep.finalize()}if(!pn.astyle.hidden){pn.astyle.start=bp[0],pn.astyle.end=bp[1];let Cp=this.addArrow(pn.astyle);dr.unitCellObjects.shapes.push(Cp)}if(!pn.bstyle.hidden){pn.bstyle.start=bp[0],pn.bstyle.end=bp[2];let Cp=this.addArrow(pn.bstyle);dr.unitCellObjects.shapes.push(Cp)}if(!pn.cstyle.hidden){pn.cstyle.start=bp[0],pn.cstyle.end=bp[3];let Cp=this.addArrow(pn.cstyle);dr.unitCellObjects.shapes.push(Cp)}if(pn.alabel){pn.alabelstyle.position=bp[1];let Cp=this.addLabel(pn.alabel,pn.alabelstyle);dr.unitCellObjects.labels.push(Cp)}if(pn.blabel){pn.blabelstyle.position=bp[2];let Cp=this.addLabel(pn.blabel,pn.blabelstyle);dr.unitCellObjects.labels.push(Cp)}if(pn.clabel){pn.clabelstyle.position=bp[3];let Cp=this.addLabel(pn.clabel,pn.clabelstyle);dr.unitCellObjects.labels.push(Cp)}}}removeUnitCell(dr){if(dr=this.getModel(dr),dr.unitCellObjects){let pn=this;dr.unitCellObjects.shapes.forEach(function(Do){pn.removeShape(Do)}),dr.unitCellObjects.labels.forEach(function(Do){pn.removeLabel(Do)})}delete dr.unitCellObjects}replicateUnitCell(dr=3,pn=dr,Do=pn,Io,Lo,ms){Io=this.getModel(Io);let Uo=Io.getCrystData();if(Uo){const _s=Io.selectedAtoms({}),yp=Uo.matrix;let xs=function(Sp){return Sp%2==0?-Sp/2:Math.ceil(Sp/2)};dr<=1&&pn<=1&&Do<=1&&(ms=!0,dr=pn=Do=3);let vs=function(Sp,wp,bp){return!1};if(ms){const Sp=new _e.Matrix3().getInverse3(yp);vs=function(wp,bp,Ep){let Cp=new _e.Vector3(wp,bp,Ep).applyMatrix3(Sp);return!(Cp.x>-1e-4&&Cp.x<1.0001&&Cp.y>-1e-4&&Cp.y<1.0001&&Cp.z>-1e-4&&Cp.z<1.0001)}}for(let Sp=0;Sp<dr;Sp++)for(let wp=0;wp<pn;wp++)for(let bp=0;bp<Do;bp++){if(Sp==0&&wp==0&&bp==0)continue;let Ep=new _e.Vector3(xs(Sp),xs(wp),xs(bp));Ep.applyMatrix3(yp);let Cp=[];for(let Ap=0;Ap<_s.length;Ap++){let Mp=_s[Ap].x+Ep.x,Pp=_s[Ap].y+Ep.y,Ip=_s[Ap].z+Ep.z;if(vs(Mp,Pp,Ip))continue;let Op={};for(let Wp in _s[Ap])Op[Wp]=_s[Ap][Wp];Op.x=Mp,Op.y=Pp,Op.z=Ip,Cp.push(Op)}Io.addAtoms(Cp)}Lo&&Io.assignBonds()}}addLineDashed(dr,pn){dr.dashLength=dr.dashLength||.5,dr.gapLength=dr.gapLength||.5;var Do;dr.start?Do=new _e.Vector3(dr.start.x||0,dr.start.y||0,dr.start.z||0):Do=new _e.Vector3(0,0,0);var Io;dr.end?Io=new _e.Vector3(dr.end.x,dr.end.y||0,dr.end.z||0):Io=new _e.Vector3(0,0,0);var Lo=new _e.Vector3,ms=new _e.Vector3,Uo=new _e.Vector3,_s,yp,xs,vs=Do.clone(),Sp=0;for(Lo.subVectors(Io,Do),_s=Lo.length(),Lo.normalize(),ms=Lo.clone(),Uo=Lo.clone(),ms.multiplyScalar(dr.dashLength),Uo.multiplyScalar(dr.gapLength),yp=ms.length(),xs=Uo.length();Sp<_s;){if(Sp+yp>_s){dr.start=Do,dr.end=Io,pn.addLine(dr);break}vs.addVectors(Do,ms),dr.start=Do,dr.end=vs,pn.addLine(dr),Do=vs.clone(),Sp+=yp,vs.addVectors(Do,Uo),Do=vs.clone(),Sp+=xs}return pn.finalize(),pn}addCustom(dr){dr=dr||{};var pn=new dt.GLShape(dr);return pn.shapePosition=this.shapes.length,pn.addCustom(dr),this.shapes.push(pn),pn.finalize(),pn}addVolumetricData(dr,pn,Do={}){var Io=new bt.VolumeData(dr,pn);return Do.hasOwnProperty("transferfn")?this.addVolumetricRender(Io,Do):this.addIsosurface(Io,Do)}addIsosurface(dr,pn={},Do){var Io=new dt.GLShape(pn);return Io.shapePosition=this.shapes.length,Io.addIsosurface(dr,pn,Do),this.shapes.push(Io),Io}addVolumetricRender(dr,pn){pn=pn||{};var Do=new pr.GLVolumetricRender(dr,pn);return Do.shapePosition=this.shapes.length,this.shapes.push(Do),Do}hasVolumetricRender(){return this.renderer.supportsVolumetric()}enableFog(dr){dr?this.scene.fog=new j.Fog(this.bgColor,100,200):(this.config.disableFog=!0,this.show())}setFrame(dr){this.viewer_frame=dr;let pn=this;return new Promise(function(Do){var Io=pn.models.map(function(Lo){return Lo.setFrame(dr,pn)});Promise.all(Io).then(function(){Do()})})}getFrame(){return this.viewer_frame}getNumFrames(){var dr=0;for(let pn=0;pn<this.models.length;pn++)this.models[pn].getNumFrames()>dr&&(dr=this.models[pn].getNumFrames());for(let pn=0;pn<this.shapes.length;pn++)this.shapes[pn].frame&&this.shapes[pn].frame>=dr&&(dr=this.shapes[pn].frame+1);for(let pn=0;pn<this.labels.length;pn++)this.labels[pn].frame&&this.labels[pn].frame>=dr&&(dr=this.labels[pn].frame+1);return dr}animate(dr){this.incAnim();var pn=100,Do="forward",Io=0;dr=dr||{},dr.interval&&(pn=dr.interval),dr.loop&&(Do=dr.loop),dr.reps&&(Io=dr.reps);var Lo=this.getNumFrames(),ms=this,Uo=0;dr.startFrame&&(Uo=dr.startFrame%Lo);var _s=1;dr.step&&(_s=dr.step,Io/=_s);var yp=0,xs=Lo*Io,vs=new Date,Sp,wp,bp=function(Ep){vs=new Date,Ep=="forward"?ms.setFrame(Uo).then(function(){Uo=(Uo+_s)%Lo,Sp()}):Ep=="backward"?ms.setFrame(Lo-1-Uo).then(function(){Uo=(Uo+_s)%Lo,Sp()}):ms.setFrame(Uo).then(function(){Uo+=_s,_s*=Uo%(Lo-1)==0?-1:1,Sp()})};return Sp=function(){if(ms.render(),!ms.getCanvas().isConnected)ms.stopAnimate();else if(++yp==xs||!ms.isAnimated())wp.cancel(),ms.animationTimers.delete(wp),ms.decAnim();else{var Ep=pn-(new Date().getTime()-vs.getTime());Ep=Ep>0?Ep:0,ms.animationTimers.delete(wp),wp=new tt.PausableTimer(bp,Ep,Do),ms.animationTimers.add(wp)}},wp=new tt.PausableTimer(bp,0,Do),this.animationTimers.add(wp),this}stopAnimate(){return this.animated=0,this.animationTimers.forEach(function(dr){dr.cancel()}),this.animationTimers=new Set,this}pauseAnimate(){return this.animationTimers.forEach(function(dr){dr.pause()}),this}resumeAnimate(){return this.animationTimers.forEach(function(dr){dr.resume()}),this}isAnimated(){return this.animated>0}getModelOpt(dr){return dr&&!dr.defaultcolors?(dr.defaultcolors=this.defaultcolors,dr.cartoonQuality=dr.cartoonQuality||this.config.cartoonQuality):typeof dr>"u"&&(dr={defaultcolors:this.defaultcolors,cartoonQuality:this.config.cartoonQuality}),dr}addModel(dr,pn="",Do){Do=this.getModelOpt(Do);var Io=new it.GLModel(this.models.length,Do);return Io.addMolData(dr,pn,Do),this.models.push(Io),Io}addModels(dr,pn,Do){Do=this.getModelOpt(Do),Do.multimodel=!0,Do.frames=!0;for(var Io=it.GLModel.parseMolData(dr,pn,Do),Lo=0;Lo<Io.length;Lo++){var ms=new it.GLModel(this.models.length,Do);ms.setAtomDefaults(Io[Lo]),ms.addFrame(Io[Lo]),ms.setFrame(0),Io.modelData&&ms.setModelData(Io.modelData[Lo]),ms.setDontDuplicateAtoms(!Do.duplicateAssemblyAtoms),this.models.push(ms)}return this.models}addModelsAsFrames(dr,pn,Do){Do=this.getModelOpt(Do),Do.multimodel=!0,Do.frames=!0;var Io=new it.GLModel(this.models.length,Do);return Io.addMolData(dr,pn,Do),this.models.push(Io),Io}addAsOneMolecule(dr,pn,Do){Do=this.getModelOpt(Do),Do.multimodel=!0,Do.onemol=!0;var Io=new it.GLModel(this.models.length,Do);return Io.addMolData(dr,pn,Do),this.models.push(Io),Io}removeModel(dr){if(dr=this.getModel(dr),!!dr){for(dr.removegl(this.modelGroup),delete this.models[dr.getID()];this.models.length>0&&typeof this.models[this.models.length-1]>"u";)this.models.pop();return this}}removeAllModels(){for(var dr=0;dr<this.models.length;dr++){var pn=this.models[dr];pn&&pn.removegl(this.modelGroup)}return this.models.splice(0,this.models.length),this}exportJSON(dr,pn){var Do={};return pn===void 0?Do.m=this.models.map(function(Io){return Io.toCDObject(dr)}):Do.m=[this.models[pn].toCDObject()],JSON.stringify(Do)}exportVRML(){var dr=this.modelGroup;this.applyToModels("removegl",this.modelGroup),this.modelGroup=new j.Object3D,this.render(null,{supportsImposters:!1,supportsAIA:!1,regen:!0});var pn=`#VRML V2.0 utf8
`+this.modelGroup.vrml()+`
`;return this.applyToModels("removegl",this.modelGroup),this.modelGroup=dr,pn}createModelFrom(dr,pn=!1){for(var Do=new it.GLModel(this.models.length,this.defaultcolors),Io=0;Io<this.models.length;Io++)if(this.models[Io]){var Lo=this.models[Io].selectedAtoms(dr);Do.addAtoms(Lo),pn&&this.models[Io].removeAtoms(Lo)}return this.models.push(Do),Do}applyToModels(dr,pn,Do,Io,Lo,ms,Uo){for(var _s=this.getModelList(pn),yp=0;yp<_s.length;yp++)_s[yp][dr](pn,Do,Io,Lo,ms,Uo)}setStyle(dr,pn){return typeof pn>"u"&&(pn=dr,dr={}),this.applyToModels("setStyle",dr,pn,!1),this}addStyle(dr,pn){return typeof pn>"u"&&(pn=dr,dr={}),this.applyToModels("setStyle",dr,pn,!0),this}setClickable(dr,pn,Do){return this.applyToModels("setClickable",dr,pn,Do),this}setHoverable(dr,pn,Do,Io){return this.applyToModels("setHoverable",dr,pn,Do,Io),this}enableContextMenu(dr,pn){return this.applyToModels("enableContextMenu",dr,pn),this}vibrate(dr,pn,Do,Io){return this.applyToModels("vibrate",dr,pn,Do,this,Io),this}setColorByProperty(dr,pn,Do,Io){return this.applyToModels("setColorByProperty",dr,pn,Do,Io),this}setColorByElement(dr,pn){return this.applyToModels("setColorByElement",dr,pn),this}static getAtomsWithin(dr,pn){var Do=[];for(let Lo=0;Lo<dr.length;Lo++){var Io=dr[Lo];typeof Io>"u"||Io.x<pn[0][0]||Io.x>pn[1][0]||Io.y<pn[0][1]||Io.y>pn[1][1]||Io.z<pn[0][2]||Io.z>pn[1][2]||Do.push(Io)}return Do}static volume(dr){var pn=dr[1][0]-dr[0][0],Do=dr[1][1]-dr[0][1],Io=dr[1][2]-dr[0][2];return pn*Do*Io}carveUpExtent(dr,pn,Do){let Io=[],Lo={};for(let vs=0,Sp=pn.length;vs<Sp;vs++)Lo[pn[vs].index]=vs;let ms=function(vs){let Sp=[];for(let wp=0,bp=vs.length;wp<bp;wp++)vs[wp].index in Lo&&Sp.push(Lo[vs[wp].index]);return Sp},Uo=function(vs){let Sp=[];return Sp[0]=[vs[0][0],vs[0][1],vs[0][2]],Sp[1]=[vs[1][0],vs[1][1],vs[1][2]],Sp},_s=function(vs){if(ft.volume(vs)<ft.maxVolume)return[vs];var Sp=vs[1][0]-vs[0][0],wp=vs[1][1]-vs[0][1],bp=vs[1][2]-vs[0][2],Ep;Sp>wp&&Sp>bp?Ep=0:wp>Sp&&wp>bp?Ep=1:Ep=2;var Cp=Uo(vs),Ap=Uo(vs),Mp=(vs[1][Ep]-vs[0][Ep])/2+vs[0][Ep];Cp[1][Ep]=Mp,Ap[0][Ep]=Mp;var Pp=_s(Cp),Ip=_s(Ap);return Pp.concat(Ip)},yp=_s(dr),xs=6;for(let vs=0,Sp=yp.length;vs<Sp;vs++){let wp=Uo(yp[vs]);wp[0][0]-=xs,wp[0][1]-=xs,wp[0][2]-=xs,wp[1][0]+=xs,wp[1][1]+=xs,wp[1][2]+=xs;let bp=ft.getAtomsWithin(pn,wp),Ep=ft.getAtomsWithin(Do,yp[vs]);Io.push({extent:yp[vs],atoms:ms(bp),toshow:ms(Ep)})}return Io}static generateSurfaceMesh(dr,pn,Do){var Io=new j.Geometry(!0),Lo=Io.updateGeoGroup(0),ms=[];for(let Jp=0,Up=dr.length;Jp<Up;Jp++){var Uo=dr[Jp];Uo&&(typeof Uo.surfaceColor<"u"?ms[Jp]=Uo.surfaceColor:Uo.color&&(ms[Jp]=et.CC.color(Uo.color)))}var _s=Lo.vertexArray,yp=pn.vertices;for(let Jp=0,Up=yp.length;Jp<Up;Jp++){let im=Lo.vertices*3;_s[im]=yp[Jp].x,_s[im+1]=yp[Jp].y,_s[im+2]=yp[Jp].z,Lo.vertices++}var xs=Lo.colorArray;if(Do.voldata&&Do.volscheme){var vs=Do.volscheme,Sp=Do.voldata,wp=vs.range()||[-1,1];for(let Jp=0,Up=yp.length;Jp<Up;Jp++){let im=Sp.getVal(yp[Jp].x,yp[Jp].y,yp[Jp].z),em=et.CC.color(vs.valueToHex(im,wp)),gm=Jp*3;xs[gm]=em.r,xs[gm+1]=em.g,xs[gm+2]=em.b}}else if(ms.length>0)for(let Jp=0,Up=yp.length;Jp<Up;Jp++){let im=yp[Jp].atomid,em=Jp*3;xs[em]=ms[im].r,xs[em+1]=ms[im].g,xs[em+2]=ms[im].b}var bp=pn.faces;Lo.faceidx=bp.length,Io.initTypedArrays();var Ep=Lo.vertexArray,Cp=Lo.normalArray,Ap,Mp,Pp,Ip;for(let Jp=0,Up=bp.length;Jp<Up;Jp+=3){var Op=bp[Jp],Wp=bp[Jp+1],Yp=bp[Jp+2],Zp=Op*3,Qp=Wp*3,Gp=Yp*3;Ap=new _e.Vector3(Ep[Zp],Ep[Zp+1],Ep[Zp+2]),Mp=new _e.Vector3(Ep[Qp],Ep[Qp+1],Ep[Qp+2]),Pp=new _e.Vector3(Ep[Gp],Ep[Gp+1],Ep[Gp+2]),Pp.subVectors(Pp,Mp),Ap.subVectors(Ap,Mp),Pp.cross(Ap),Ip=Pp,Ip.normalize(),Cp[Zp]+=Ip.x,Cp[Qp]+=Ip.x,Cp[Gp]+=Ip.x,Cp[Zp+1]+=Ip.y,Cp[Qp+1]+=Ip.y,Cp[Gp+1]+=Ip.y,Cp[Zp+2]+=Ip.z,Cp[Qp+2]+=Ip.z,Cp[Gp+2]+=Ip.z}Lo.faceArray=new Uint16Array(bp);var rm=new j.Mesh(Io,Do);return rm}static generateMeshSyncHelper(dr,pn,Do,Io,Lo,ms){var Uo=new Ht.ProteinSurface;return Uo.initparm(pn,dr!==1,ms),Uo.fillvoxels(Lo,Do),Uo.buildboundary(),(dr==Ht.SurfaceType.SES||dr==Ht.SurfaceType.MS)&&(Uo.fastdistancemap(),Uo.boundingatom(!1),Uo.fillvoxelswaals(Lo,Do)),Uo.marchingcube(dr),Uo.getFacesAndVertices(Io)}static getMatWithStyle(dr){var pn=new j.MeshLambertMaterial;pn.vertexColors=j.Coloring.VertexColors;for(var Do in dr)Do==="color"||Do==="map"||dr.hasOwnProperty(Do)&&(pn[Do]=dr[Do]);return dr.opacity!==void 0&&(dr.opacity===1?pn.transparent=!1:pn.transparent=!0),pn}addMesh(dr){var pn={geo:dr.geometry,mat:dr.material,done:!0,finished:!1},Do=this.nextSurfID();return this.surfaces[Do]=pn,Do}static shallowCopy(dr){var pn=[];let Do=dr.length;for(let Io=0;Io<Do;Io++)pn[Io]=(0,tt.extend)({},dr[Io]);return pn}addSurface(dr,pn={},Do={},Io,Lo,ms){let Uo=this.nextSurfID(),_s=null,yp=this,xs=Ht.SurfaceType.VDW;typeof dr=="string"?ft.surfaceTypeMap[dr.toUpperCase()]!==void 0?xs=ft.surfaceTypeMap[dr]:console.log("Surface type : "+dr+" is not recognized"):typeof dr=="number"&&(xs=dr);var vs=null,Sp=null,wp=ft.shallowCopy(this.getAtomsFromSel(Do));Io?vs=ft.shallowCopy(this.getAtomsFromSel(Io)):vs=wp,(0,tt.adjustVolumeStyle)(pn);var bp=!1,Ep;for(Ep=0;Ep<this.models.length;Ep++)if(this.models[Ep]){var Cp=this.models[Ep].getSymmetries();if(Cp.length>1||Cp.length==1&&!Cp[0].isIdentity()){bp=!0;break}}var Ap=function(Yp,Zp,Qp){Lo?Sp=ft.shallowCopy(yp.getAtomsFromSel(Lo)):Sp=Qp;var Gp,rm=(0,tt.getExtent)(Qp,!0);if(pn.map&&pn.map.prop){var Jp=pn.map.prop;let Rp=(0,nt.getGradient)(pn.map.scheme||pn.map.gradient||new nt.Gradient.RWB),um=Rp.range();um||(um=(0,tt.getPropertyRange)(Qp,Jp)),pn.colorscheme={prop:Jp,gradient:Rp}}for(let Rp=0,um=Zp.length;Rp<um;Rp++)Gp=Zp[Rp],Gp.surfaceColor=(0,tt.getColorFromStyle)(Gp,pn);var Up=ft.volume(rm),im=yp.carveUpExtent(rm,Zp,Qp);if(Sp&&Sp.length&&Sp.length>0){var em=(0,tt.getExtent)(Sp,!0),gm=function(Rp,um){var _m=function(zp,Dp){var kp=zp.extent,nm=kp[1][0]-kp[0][0],lm=kp[1][1]-kp[0][1],hm=kp[1][2]-kp[0][2],Em=nm-Dp[2][0];Em*=Em;var Lp=lm-Dp[2][1];Lp*=Lp;var cm=hm-Dp[2][2];return cm*=cm,Em+Lp+cm},Cm=_m(Rp,em),Sm=_m(um,em);return Cm-Sm};im.sort(gm)}var bm=[];for(let Rp=0,um=Zp.length;Rp<um;Rp++)Gp=Zp[Rp],bm[Rp]={x:Gp.x,y:Gp.y,z:Gp.z,serial:Rp,elem:Gp.elem};var ym=!!Ht.syncSurface;if(ym){var am=function(Rp){return new Promise(function(um){for(var _m=ft.generateMeshSyncHelper(xs,im[Rp].extent,im[Rp].atoms,im[Rp].toshow,bm,Up),Cm=(0,dt.splitMesh)({vertexArr:_m.vertices,faceArr:_m.faces}),Sm=0,zp=Cm.length;Sm<zp;Sm++){_m={vertices:Cm[Sm].vertexArr,faces:Cm[Sm].faceArr};var Dp=ft.generateSurfaceMesh(Zp,_m,_s);(0,tt.mergeGeos)(Yp.geo,Dp)}yp.render(),um()})},fm=[];for(let Rp=0;Rp<im.length;Rp++)fm.push(am(Rp));return Promise.all(fm).then(function(){return Yp.done=!0,Promise.resolve(Uo)})}else{var vm=[];xs<0&&(xs=0);for(let Rp=0,um=ft.numWorkers;Rp<um;Rp++){var jp=new Worker($3Dmol.SurfaceWorker);vm.push(jp),jp.postMessage({type:-1,atoms:bm,volume:Up})}return new Promise(function(Rp,um){var _m=0,Cm=function(){!vm||!vm.length||vm.forEach(function(kp){kp&&kp.terminate&&kp.terminate()})},Sm=function(kp){for(var nm=(0,dt.splitMesh)({vertexArr:kp.data.vertices,faceArr:kp.data.faces}),lm=0,hm=nm.length;lm<hm;lm++){var Em={vertices:nm[lm].vertexArr,faces:nm[lm].faceArr},Lp=ft.generateSurfaceMesh(Zp,Em,_s);(0,tt.mergeGeos)(Yp.geo,Lp)}yp.render(),_m++,_m==im.length&&(Yp.done=!0,Cm(),Rp(Uo))},zp=function(kp){Cm(),console.log(kp.message+" ("+kp.filename+":"+kp.lineno+")"),um(kp)};for(let kp=0;kp<im.length;kp++){var Dp=vm[kp%vm.length];Dp.onmessage=Sm,Dp.onerror=zp,Dp.postMessage({type:xs,expandedExtent:im[kp].extent,extendedAtoms:im[kp].atoms,atomsToShow:im[kp].toshow})}})}};pn=pn||{},_s=ft.getMatWithStyle(pn);var Mp=[];Mp.style=pn,Mp.atomsel=Do,Mp.allsel=Io,Mp.focus=Lo;var Pp=null;if(bp){var Ip={},Op={};for(Ep=0;Ep<this.models.length;Ep++)Ip[Ep]=[],Op[Ep]=[];for(Ep=0;Ep<vs.length;Ep++)Ip[vs[Ep].model].push(vs[Ep]);for(Ep=0;Ep<wp.length;Ep++)Op[wp[Ep].model].push(wp[Ep]);var Wp=[];for(Ep=0;Ep<this.models.length;Ep++)Op[Ep].length>0&&(Mp.push({geo:new j.Geometry(!0),mat:_s,done:!1,finished:!1,symmetries:this.models[Ep].getSymmetries()}),Wp.push(Ap(Mp[Mp.length-1],Ip[Ep],Op[Ep])));Pp=Promise.all(Wp)}else Mp.push({geo:new j.Geometry(!0),mat:_s,done:!1,finished:!1,symmetries:[new _e.Matrix4]}),Pp=Ap(Mp[Mp.length-1],vs,wp);return this.surfaces[Uo]=Mp,Pp.surfid=Uo,ms&&typeof ms=="function"?(Pp.then(function(Yp){ms(Yp)}),Uo):Pp}setSurfaceMaterialStyle(dr,pn){if((0,tt.adjustVolumeStyle)(pn),this.surfaces[dr]){var Do=this.surfaces[dr];Do.style=pn;for(var Io=0;Io<Do.length;Io++){var Lo=Do[Io].mat=ft.getMatWithStyle(pn);if(Do[Io].mat.side=j.FrontSide,pn.color){Do[Io].mat.color=pn.color,Do[Io].geo.colorsNeedUpdate=!0;const ms=et.CC.color(pn.color);Do[Io].geo.setColors(function(){return ms})}else if(Lo.voldata&&Lo.volscheme){const ms=Lo.volscheme,Uo=Lo.voldata,_s=et.CC,yp=ms.range()||[-1,1];Do[Io].geo.setColors(function(xs,vs,Sp){let wp=Uo.getVal(xs,vs,Sp);return _s.color(ms.valueToHex(wp,yp))})}Do[Io].finished=!1}}return this}getSurface(dr){return this.surfaces[dr]}removeSurface(dr){for(var pn=this.surfaces[dr],Do=0;Do<pn.length;Do++)pn[Do]&&pn[Do].lastGL&&(pn[Do].geo!==void 0&&pn[Do].geo.dispose(),pn[Do].mat!==void 0&&pn[Do].mat.dispose(),this.modelGroup.remove(pn[Do].lastGL));return delete this.surfaces[dr],this.show(),this}removeAllSurfaces(){for(var dr in this.surfaces)if(this.surfaces.hasOwnProperty(dr)){for(var pn=this.surfaces[dr],Do=0;Do<pn.length;Do++)pn[Do]&&pn[Do].lastGL&&(pn[Do].geo!==void 0&&pn[Do].geo.dispose(),pn[Do].mat!==void 0&&pn[Do].mat.dispose(),this.modelGroup.remove(pn[Do].lastGL));delete this.surfaces[dr]}return this.show(),this}jmolMoveTo(){var dr=this.modelGroup.position,pn="center { "+-dr.x+" "+-dr.y+" "+-dr.z+" }; ",Do=this.rotationGroup.quaternion;return pn+="moveto .5 quaternion { "+Do.x+" "+Do.y+" "+Do.z+" "+Do.w+" };",pn}clear(){return this.removeAllSurfaces(),this.removeAllModels(),this.removeAllLabels(),this.removeAllShapes(),this.show(),this}mapAtomProperties(dr,pn){pn=pn||{};var Do=this.getAtomsFromSel(pn);if(typeof dr=="function")for(let ms=0,Uo=Do.length;ms<Uo;ms++){let _s=Do[ms];dr(_s)}else for(let ms=0,Uo=Do.length;ms<Uo;ms++){var Io=Do[ms];for(let _s=0,yp=dr.length;_s<yp;_s++){let xs=dr[_s];if(xs.props)for(var Lo in xs.props)xs.props.hasOwnProperty(Lo)&&this.atomIsSelected(Io,xs)&&(Io.properties||(Io.properties={}),Io.properties[Lo]=xs.props[Lo])}}return this}linkViewer(dr){return this.linkedViewers.push(dr),this}getPerceivedDistance(){return this.CAMERA_Z-this.rotationGroup.position.z}setPerceivedDistance(dr){this.rotationGroup.position.z=this.CAMERA_Z-dr}setAutoEyeSeparation(dr,pn){var Do=this.getPerceivedDistance();return pn||(pn=5),dr||this.camera.position.x>0?this.camera.position.x=Do*Math.tan(Math.PI/180*pn):this.camera.position.x=-Do*Math.tan(Math.PI/180*pn),this.camera.lookAt(new _e.Vector3(0,0,this.rotationGroup.position.z)),this.camera.position.x}setDefaultCartoonQuality(dr){this.config.cartoonQuality=dr}}ft.numWorkers=4,ft.maxVolume=64e3,ft.surfaceTypeMap={VDW:Ht.SurfaceType.VDW,MS:Ht.SurfaceType.MS,SAS:Ht.SurfaceType.SAS,SES:Ht.SurfaceType.SES};function Ct(mn,dr){if(mn=(0,tt.getElement)(mn),!!mn){dr=dr||{};try{var pn=new ft(mn,dr);return pn}catch(Do){throw"error creating viewer: "+Do}}}function mr(mn,dr={},pn={}){if(mn=(0,tt.getElement)(mn),!!mn){var Do=[],Io=document.createElement("canvas");pn.rows=dr.rows,pn.cols=dr.cols,pn.control_all=dr.control_all!=null?dr.control_all:!1,mn.appendChild(Io);try{for(var Lo=0;Lo<dr.rows;Lo++){for(var ms=[],Uo=0;Uo<dr.cols;Uo++){pn.row=Lo,pn.col=Uo,pn.canvas=Io,pn.viewers=Do,pn.control_all=dr.control_all;var _s=Ct(mn,(0,tt.extend)({},pn));ms.push(_s)}Do.unshift(ms)}}catch(yp){throw"error creating viewer grid: "+yp}return Do}}function _r(mn){var dr=this;if(mn=(0,tt.getElement)(mn),!!mn){var pn=mr(mn,{rows:1,cols:2,control_all:!0});this.glviewer1=pn[0][0],this.glviewer2=pn[0][1],this.glviewer1.setAutoEyeSeparation(!1),this.glviewer2.setAutoEyeSeparation(!0),this.glviewer1.linkViewer(this.glviewer2),this.glviewer2.linkViewer(this.glviewer1);for(var Do=Object.getOwnPropertyNames(this.glviewer1.__proto__).filter(function(Lo){return typeof dr.glviewer1[Lo]=="function"}),Io=0;Io<Do.length;Io++)this[Do[Io]]=function(Lo){return function(){var ms=this.glviewer1[Lo].apply(this.glviewer1,arguments),Uo=this.glviewer2[Lo].apply(this.glviewer2,arguments);return[ms,Uo]}}(Do[Io]);this.setCoordinates=function(Lo,ms,Uo){for(var _s=0;_s<Lo.length;_s++)Lo[_s].setCoordinates(ms,Uo)},this.surfacesFinished=function(){return this.glviewer1.surfacesFinished()&&this.glviewer2.surfacesFinished()},this.isAnimated=function(){return this.glviewer1.isAnimated()||this.glviewer2.isAnimated()},this.render=function(Lo){this.glviewer1.render(),this.glviewer2.render(),Lo&&Lo(this)},this.getCanvas=function(){return this.glviewer1.getCanvas()}}}},"./src/Gradient.ts":(o,_,$)=>{$.r(_),$.d(_,{CustomLinear:()=>dt,Gradient:()=>Ht,GradientType:()=>_e,ROYGB:()=>it,RWB:()=>nt,Sinebow:()=>lt,builtinGradients:()=>bt,getGradient:()=>tt,normalizeValue:()=>et});var j=$("./src/colors.ts");class _e{}function et(pr,_n,ft){return _n>=pr?(ft<pr&&(ft=pr),ft>_n&&(ft=_n),{lo:pr,hi:_n,val:ft}):(ft>pr&&(ft=pr),ft<_n&&(ft=_n),ft=pr-ft+_n,{lo:_n,hi:pr,val:ft})}function tt(pr){if(pr instanceof _e)return pr;if(pr.gradient!==void 0&&bt[pr.gradient]){let _n=pr.min===void 0?-1:pr.min,ft=pr.max===void 0?1:pr.max;return pr.mid===void 0?pr.colors===void 0?new bt[pr.gradient](_n,ft):new bt[pr.gradient](_n,ft,pr.colors):new bt[pr.gradient](_n,ft,pr.mid)}return pr}class nt extends _e{constructor(_n,ft,Ct){super(),this.gradient="RWB",this.mult=1,this.mid=Ct,this.min=_n,this.max=ft,typeof ft>"u"&&Array.isArray(_n)&&_n.length>=2?(this.max=_n[1],this.min=_n[0]):_n&&ft&&!Array.isArray(_n)&&(this.min=_n,this.max=ft)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}valueToHex(_n,ft){var Ct,mr;if(_n=this.mult*_n,ft?(Ct=ft[0],mr=ft[1]):(Ct=this.min,mr=this.max),_n===void 0)return 16777215;var _r=et(Ct,mr,_n);Ct=_r.lo,mr=_r.hi,_n=_r.val;var mn=(mr+Ct)/2;ft&&typeof ft[2]<"u"?mn=ft[2]:typeof this.mid<"u"?mn=this.mid:mn=(Ct+mr)/2;var dr,pn;return _n<mn?(dr=Math.floor(255*Math.sqrt((_n-Ct)/(mn-Ct))),pn=16711680+256*dr+dr,pn):_n>mn?(dr=Math.floor(255*Math.sqrt(1-(_n-mn)/(mr-mn))),pn=65536*dr+256*dr+255,pn):16777215}}class it extends _e{constructor(_n,ft){super(),this.gradient="ROYGB",this.mult=1,this.min=_n,this.max=ft,typeof ft>"u"&&Array.isArray(_n)&&_n.length>=2?(this.max=_n[1],this.min=_n[0]):_n&&ft&&!Array.isArray(_n)&&(this.min=_n,this.max=ft)}valueToHex(_n,ft){var Ct,mr;if(_n=this.mult*_n,ft?(Ct=ft[0],mr=ft[1]):(Ct=this.min,mr=this.max),typeof _n>"u")return 16777215;var _r=et(Ct,mr,_n);Ct=_r.lo,mr=_r.hi,_n=_r.val;var mn=(Ct+mr)/2,dr=(Ct+mn)/2,pn=(mn+mr)/2,Do,Io;return _n<dr?(Do=Math.floor(255*Math.sqrt((_n-Ct)/(dr-Ct))),Io=16711680+256*Do+0,Io):_n<mn?(Do=Math.floor(255*Math.sqrt(1-(_n-dr)/(mn-dr))),Io=65536*Do+65280+0,Io):_n<pn?(Do=Math.floor(255*Math.sqrt((_n-mn)/(pn-mn))),Io=65280+1*Do,Io):(Do=Math.floor(255*Math.sqrt(1-(_n-pn)/(mr-pn))),Io=0+256*Do+255,Io)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}}class lt extends _e{constructor(_n,ft){super(),this.gradient="Sinebow",this.mult=1,this.min=_n,this.max=ft,typeof ft>"u"&&Array.isArray(_n)&&_n.length>=2&&(this.max=_n[1],this.min=_n[0]),ft<_n&&(this.mult=-1,this.min*=-1,this.max*=-1)}valueToHex(_n,ft){var Ct,mr;if(_n=this.mult*_n,ft?(Ct=ft[0],mr=ft[1]):(Ct=this.min,mr=this.max),typeof _n>"u")return 16777215;var _r=Ht.normalizeValue(Ct,mr,_n);Ct=_r.lo,mr=_r.hi,_n=_r.val;var mn=(_n-Ct)/(mr-Ct),dr=5*mn/6+.5,pn=Math.sin(Math.PI*dr);pn*=pn*255;var Do=Math.sin(Math.PI*(dr+1/3));Do*=Do*255;var Io=Math.sin(Math.PI*(dr+2/3));return Io*=Io*255,65536*Math.floor(pn)+256*Math.floor(Io)+1*Math.floor(Do)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}}class dt extends _e{constructor(_n,ft,Ct){super(),this.gradient="linear",this.colors=new Array;var mr;if(Array.isArray(_n)&&_n.length>=2?(this.max=_n[1],this.min=_n[0],mr=ft):(this.min=_n,this.max=ft,mr=Ct),mr)for(let _r of mr)this.colors.push(j.CC.color(_r));else this.colors.push(j.CC.color(0))}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}valueToHex(_n,ft){var Ct,mr;if(ft?(Ct=ft[0],mr=ft[1]):(Ct=this.min,mr=this.max),_n===void 0)return 16777215;var _r=et(Ct,mr,_n);Ct=_r.lo,mr=_r.hi,_n=_r.val;let mn=this.colors.length,dr=(mr-Ct)/mn,pn=Math.min(Math.floor((_n-Ct)/dr),mn-1),Do=Math.min(pn+1,mn-1),Io=(_n-Ct-pn*dr)/dr,Lo=this.colors[pn],ms=this.colors[Do];return new j.Color(Lo.r+Io*(ms.r-Lo.r),Lo.g+Io*(ms.g-Lo.g),Lo.b+Io*(ms.b-Lo.b)).getHex()}}const bt={rwb:nt,RWB:nt,roygb:it,ROYGB:it,sinebow:lt,linear:dt};class Ht extends _e{valueToHex(_n,ft){return 0}range(){return null}}Ht.RWB=nt,Ht.ROYGB=it,Ht.Sinebow=lt,Ht.CustomLinear=dt,Ht.builtinGradients=bt,Ht.normalizeValue=et,Ht.getGradient=tt},"./src/Label.ts":(o,_,$)=>{$.r(_),$.d(_,{Label:()=>lt,LabelCount:()=>tt});var j=$("./src/WebGL/index.ts"),_e=$("./src/Gradient.ts"),et=$("./src/colors.ts");let tt=0;function nt(dt,bt,Ht,pr,_n,ft,Ct){dt.beginPath(),dt.moveTo(bt+ft,Ht),dt.lineTo(bt+pr-ft,Ht),dt.quadraticCurveTo(bt+pr,Ht,bt+pr,Ht+ft),dt.lineTo(bt+pr,Ht+_n-ft),dt.quadraticCurveTo(bt+pr,Ht+_n,bt+pr-ft,Ht+_n),dt.lineTo(bt+ft,Ht+_n),dt.quadraticCurveTo(bt,Ht+_n,bt,Ht+_n-ft),dt.lineTo(bt,Ht+ft),dt.quadraticCurveTo(bt,Ht,bt+ft,Ht),dt.closePath(),dt.fill(),Ct&&dt.stroke()}function it(dt,bt,Ht){var pr=Ht;return typeof dt<"u"&&(dt instanceof et.Color?pr=dt.scaled():(pr=et.CC.color(dt),typeof pr.scaled<"u"&&(pr=pr.scaled()))),typeof bt<"u"&&(pr.a=parseFloat(bt)),pr}class lt{constructor(bt,Ht){this.id=tt++,this.stylespec=Ht||{},this.canvas=document.createElement("canvas"),this.canvas.width=134,this.canvas.height=35,this.context=this.canvas.getContext("2d"),this.sprite=new j.Sprite,this.text=bt,this.frame=this.stylespec.frame}getStyle(){return this.stylespec}setContext(){var bt=this.stylespec,Ht=typeof bt.useScreen>"u"?!1:bt.useScreen,pr=bt.showBackground;(pr==="0"||pr==="false")&&(pr=!1),typeof pr>"u"&&(pr=!0);var _n=bt.font?bt.font:"sans-serif",ft=parseInt(bt.fontSize)?parseInt(bt.fontSize):18,Ct=it(bt.fontColor,bt.fontOpacity,{r:255,g:255,b:255,a:1}),mr=bt.padding?bt.padding:4,_r=bt.borderThickness?bt.borderThickness:0,mn=it(bt.backgroundColor,bt.backgroundOpacity,{r:0,g:0,b:0,a:1}),dr=it(bt.borderColor,bt.borderOpacity,mn),pn=bt.position?bt.position:{x:-10,y:1,z:1},Do=bt.inFront!==void 0?bt.inFront:!0;(Do==="false"||Do==="0")&&(Do=!1);var Io=bt.alignment||j.SpriteAlignment.topLeft;typeof Io=="string"&&Io in j.SpriteAlignment&&(Io=j.SpriteAlignment[Io]);var Lo="";bt.bold&&(Lo="bold "),this.context.font=Lo+ft+"px  "+_n;var ms=this.context.measureText(this.text),Uo=ms.width;pr||(_r=0);var _s=Uo+2.5*_r+2*mr,yp=ft*1.25+2*_r+2*mr;if(bt.backgroundImage){var xs=bt.backgroundImage,vs=bt.backgroundWidth?bt.backgroundWidth:xs.width,Sp=bt.backgroundHeight?bt.backgroundHeight:xs.height;vs>_s&&(_s=vs),Sp>yp&&(yp=Sp)}if(this.canvas.width=_s,this.canvas.height=yp,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),Lo="",bt.bold&&(Lo="bold "),this.context.font=Lo+ft+"px  "+_n,this.context.fillStyle="rgba("+mn.r+","+mn.g+","+mn.b+","+mn.a+")",this.context.strokeStyle="rgba("+dr.r+","+dr.g+","+dr.b+","+dr.a+")",bt.backgroundGradient){let bp=this.context.createLinearGradient(0,yp/2,_s,yp/2),Ep=_e.Gradient.getGradient(bt.backgroundGradient),Cp=Ep.range(),Ap=-1,Mp=1;Cp&&(Ap=Cp[0],Mp=Cp[1]);let Pp=Mp-Ap;for(let Ip=0;Ip<1.01;Ip+=.1){let Op=it(Ep.valueToHex(Ap+Pp*Ip)),Wp="rgba("+Op.r+","+Op.g+","+Op.b+","+Op.a+")";bp.addColorStop(Ip,Wp)}this.context.fillStyle=bp}this.context.lineWidth=_r,pr&&nt(this.context,_r,_r,_s-2*_r,yp-2*_r,6,_r>0),bt.backgroundImage&&this.context.drawImage(xs,0,0,_s,yp),this.context.fillStyle="rgba("+Ct.r+","+Ct.g+","+Ct.b+","+Ct.a+")",this.context.fillText(this.text,_r+mr,ft+_r+mr,Uo);var wp=new j.Texture(this.canvas);wp.needsUpdate=!0,this.sprite.material=new j.SpriteMaterial({map:wp,useScreenCoordinates:Ht,alignment:Io,depthTest:!Do,screenOffset:bt.screenOffset||null}),this.sprite.scale.set(1,1,1),this.sprite.position.set(pn.x,pn.y,pn.z)}dispose(){this.sprite.material.map!==void 0&&this.sprite.material.map.dispose(),this.sprite.material!==void 0&&this.sprite.material.dispose()}}},"./src/ProteinSurface4.ts":(o,_,$)=>{$.r(_),$.d(_,{MarchingCube:()=>it,MarchingCubeInitializer:()=>nt,PointGrid:()=>lt,ProteinSurface:()=>dt,SurfaceType:()=>_e,setSyncSurface:()=>tt,syncSurface:()=>et});var j=$("./src/WebGL/math/index.ts"),_e;(function(bt){bt[bt.VDW=1]="VDW",bt[bt.MS=2]="MS",bt[bt.SAS=3]="SAS",bt[bt.SES=4]="SES"})(_e||(_e={}));var et=!1;function tt(bt){et=bt}(window.navigator.userAgent.indexOf("MSIE ")>=0||window.navigator.userAgent.indexOf("Trident/")>=0)&&(et=!0);class nt{constructor(){this.ISDONE=2,this.edgeTable=new Uint32Array([0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]),this.triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],this.edgeTable2=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],this.triTable2=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]]}march(Ht,pr,_n,ft){let Ct=!!ft.fulltable,mr=ft.hasOwnProperty("origin")&&ft.origin.hasOwnProperty("x")?ft.origin:{x:0,y:0,z:0},_r=!!ft.voxel,mn=ft.matrix,dr=ft.nX||0,pn=ft.nY||0,Do=ft.nZ||0,Io=ft.scale||1,Lo=null;ft.unitCube?Lo=ft.unitCube:Lo={x:Io,y:Io,z:Io};let ms=new Int32Array(dr*pn*Do),Uo,_s;for(Uo=0,_s=ms.length;Uo<_s;++Uo)ms[Uo]=-1;let yp=function(wp,bp,Ep,Cp,Ap,Mp){let Pp={x:0,y:0,z:0},Ip=!!(Cp&1<<Ap),Op=!!(Cp&1<<Mp),Wp=Ap;if(!Ip&&Op&&(Wp=Mp),Wp&1&&Ep++,Wp&2&&bp++,Wp&4&&wp++,mn){let Zp=new j.Vector3(wp,bp,Ep);Zp=Zp.applyMatrix4(mn),Pp={x:Zp.x,y:Zp.y,z:Zp.z}}else Pp.x=mr.x+Lo.x*wp,Pp.y=mr.y+Lo.y*bp,Pp.z=mr.z+Lo.z*Ep;let Yp=(pn*wp+bp)*Do+Ep;return _r?(pr.push(Pp),pr.length-1):(ms[Yp]<0&&(ms[Yp]=pr.length,pr.push(Pp)),ms[Yp])},xs=new Int32Array(12),vs=Ct?this.edgeTable2:this.edgeTable,Sp=Ct?this.triTable2:this.triTable;for(Uo=0;Uo<dr-1;++Uo)for(let wp=0;wp<pn-1;++wp)for(let bp=0;bp<Do-1;++bp){let Ep=0;for(let Mp=0;Mp<8;++Mp){let Pp=(pn*(Uo+((Mp&4)>>2))+wp+((Mp&2)>>1))*Do+bp+(Mp&1),Ip=!!(Ht[Pp]&this.ISDONE);Ep|=Ip<<Mp}if(Ep===0||Ep===255)continue;let Cp=vs[Ep];if(Cp===0)continue;let Ap=Sp[Ep];Cp&1&&(xs[0]=yp(Uo,wp,bp,Ep,0,1)),Cp&2&&(xs[1]=yp(Uo,wp,bp,Ep,1,3)),Cp&4&&(xs[2]=yp(Uo,wp,bp,Ep,3,2)),Cp&8&&(xs[3]=yp(Uo,wp,bp,Ep,2,0)),Cp&16&&(xs[4]=yp(Uo,wp,bp,Ep,4,5)),Cp&32&&(xs[5]=yp(Uo,wp,bp,Ep,5,7)),Cp&64&&(xs[6]=yp(Uo,wp,bp,Ep,7,6)),Cp&128&&(xs[7]=yp(Uo,wp,bp,Ep,6,4)),Cp&256&&(xs[8]=yp(Uo,wp,bp,Ep,0,4)),Cp&512&&(xs[9]=yp(Uo,wp,bp,Ep,1,5)),Cp&1024&&(xs[10]=yp(Uo,wp,bp,Ep,3,7)),Cp&2048&&(xs[11]=yp(Uo,wp,bp,Ep,2,6));for(let Mp=0;Mp<Ap.length;Mp+=3){let Pp=xs[Ap[Mp]],Ip=xs[Ap[Mp+1]],Op=xs[Ap[Mp+2]];_r&&Mp>=3&&(pr.push(pr[Pp]),Pp=pr.length-1,pr.push(pr[Ip]),Ip=pr.length-1,pr.push(pr[Op]),Op=pr.length-1),_n.push(Pp),_n.push(Ip),_n.push(Op)}}}laplacianSmooth(Ht,pr,_n){let ft=new Array(pr.length),Ct,mr,_r,mn,dr;for(Ct=0,mr=pr.length;Ct<mr;Ct++)ft[Ct]={x:0,y:0,z:0};let pn=new Array(20),Do;for(Ct=0;Ct<20;Ct++)pn[Ct]=new Array(pr.length);for(Ct=0,mr=pr.length;Ct<mr;Ct++)pn[0][Ct]=0;for(Ct=0,mr=_n.length/3;Ct<mr;Ct++){let ms=Ct*3,Uo=Ct*3+1,_s=Ct*3+2;for(Do=!0,_r=0,mn=pn[0][_n[ms]];_r<mn;_r++)if(_n[Uo]==pn[_r+1][_n[ms]]){Do=!1;break}for(Do&&(pn[0][_n[ms]]++,pn[pn[0][_n[ms]]][_n[ms]]=_n[Uo]),Do=!0,_r=0,mn=pn[0][_n[ms]];_r<mn;_r++)if(_n[_s]==pn[_r+1][_n[ms]]){Do=!1;break}for(Do&&(pn[0][_n[ms]]++,pn[pn[0][_n[ms]]][_n[ms]]=_n[_s]),Do=!0,_r=0,mn=pn[0][_n[Uo]];_r<mn;_r++)if(_n[ms]==pn[_r+1][_n[Uo]]){Do=!1;break}for(Do&&(pn[0][_n[Uo]]++,pn[pn[0][_n[Uo]]][_n[Uo]]=_n[ms]),Do=!0,_r=0,mn=pn[0][_n[Uo]];_r<mn;_r++)if(_n[_s]==pn[_r+1][_n[Uo]]){Do=!1;break}for(Do&&(pn[0][_n[Uo]]++,pn[pn[0][_n[Uo]]][_n[Uo]]=_n[_s]),Do=!0,_r=0;_r<pn[0][_n[_s]];_r++)if(_n[ms]==pn[_r+1][_n[_s]]){Do=!1;break}for(Do&&(pn[0][_n[_s]]++,pn[pn[0][_n[_s]]][_n[_s]]=_n[ms]),Do=!0,_r=0,mn=pn[0][_n[_s]];_r<mn;_r++)if(_n[Uo]==pn[_r+1][_n[_s]]){Do=!1;break}Do&&(pn[0][_n[_s]]++,pn[pn[0][_n[_s]]][_n[_s]]=_n[Uo])}let Io=1,Lo=.5;for(dr=0;dr<Ht;dr++){for(Ct=0,mr=pr.length;Ct<mr;Ct++)if(pn[0][Ct]<3)ft[Ct].x=pr[Ct].x,ft[Ct].y=pr[Ct].y,ft[Ct].z=pr[Ct].z;else if(pn[0][Ct]==3||pn[0][Ct]==4){for(ft[Ct].x=0,ft[Ct].y=0,ft[Ct].z=0,_r=0,mn=pn[0][Ct];_r<mn;_r++)ft[Ct].x+=pr[pn[_r+1][Ct]].x,ft[Ct].y+=pr[pn[_r+1][Ct]].y,ft[Ct].z+=pr[pn[_r+1][Ct]].z;ft[Ct].x+=Lo*pr[Ct].x,ft[Ct].y+=Lo*pr[Ct].y,ft[Ct].z+=Lo*pr[Ct].z,ft[Ct].x/=Lo+pn[0][Ct],ft[Ct].y/=Lo+pn[0][Ct],ft[Ct].z/=Lo+pn[0][Ct]}else{for(ft[Ct].x=0,ft[Ct].y=0,ft[Ct].z=0,_r=0,mn=pn[0][Ct];_r<mn;_r++)ft[Ct].x+=pr[pn[_r+1][Ct]].x,ft[Ct].y+=pr[pn[_r+1][Ct]].y,ft[Ct].z+=pr[pn[_r+1][Ct]].z;ft[Ct].x+=Io*pr[Ct].x,ft[Ct].y+=Io*pr[Ct].y,ft[Ct].z+=Io*pr[Ct].z,ft[Ct].x/=Io+pn[0][Ct],ft[Ct].y/=Io+pn[0][Ct],ft[Ct].z/=Io+pn[0][Ct]}for(Ct=0,mr=pr.length;Ct<mr;Ct++)pr[Ct].x=ft[Ct].x,pr[Ct].y=ft[Ct].y,pr[Ct].z=ft[Ct].z}}}let it=new nt;class lt{constructor(Ht,pr,_n){this.data=new Int32Array(Ht*pr*_n*3),this.width=pr,this.height=_n}set(Ht,pr,_n,ft){let Ct=((Ht*this.width+pr)*this.height+_n)*3;this.data[Ct]=ft.ix,this.data[Ct+1]=ft.iy,this.data[Ct+2]=ft.iz}get(Ht,pr,_n){let ft=((Ht*this.width+pr)*this.height+_n)*3;return{ix:this.data[ft],iy:this.data[ft+1],iz:this.data[ft+2]}}}class dt{constructor(){this.INOUT=1,this.ISDONE=2,this.ISBOUND=4,this.ptranx=0,this.ptrany=0,this.ptranz=0,this.probeRadius=1.4,this.defaultScaleFactor=2,this.scaleFactor=this.defaultScaleFactor,this.pHeight=0,this.pWidth=0,this.pLength=0,this.cutRadius=0,this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,this.pminx=0,this.pminy=0,this.pminz=0,this.pmaxx=0,this.pmaxy=0,this.pmaxz=0,this.depty={},this.widxz={},this.faces=[],this.verts=[],this.vdwRadii={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},this.nb=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])],dt.MarchingCube||(dt.MarchingCube=new nt)}getVDWIndex(Ht){return!Ht.elem||typeof this.vdwRadii[Ht.elem]>"u"?"X":Ht.elem}getFacesAndVertices(Ht){let pr={};for(let Ct=0,mr=Ht.length;Ct<mr;Ct++)pr[Ht[Ct]]=!0;let _n=this.verts;for(let Ct=0,mr=_n.length;Ct<mr;Ct++)_n[Ct].x=_n[Ct].x/this.scaleFactor-this.ptranx,_n[Ct].y=_n[Ct].y/this.scaleFactor-this.ptrany,_n[Ct].z=_n[Ct].z/this.scaleFactor-this.ptranz;let ft=[];for(let Ct=0,mr=this.faces.length;Ct<mr;Ct+=3){let _r=this.faces[Ct],mn=this.faces[Ct+1],dr=this.faces[Ct+2],pn=_n[_r].atomid,Do=_n[mn].atomid,Io=_n[dr].atomid,Lo=pn;Do<Lo&&(Lo=Do),Io<Lo&&(Lo=Io),pr[Lo]&&_r!==mn&&mn!==dr&&_r!==dr&&(ft.push(_r),ft.push(mn),ft.push(dr))}return this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,{vertices:_n,faces:ft}}initparm(Ht,pr,_n){_n>1e6&&(this.scaleFactor=this.defaultScaleFactor/2);let ft=1/this.scaleFactor*5.5;this.pminx=Ht[0][0],this.pmaxx=Ht[1][0],this.pminy=Ht[0][1],this.pmaxy=Ht[1][1],this.pminz=Ht[0][2],this.pmaxz=Ht[1][2],pr?(this.pminx-=this.probeRadius+ft,this.pminy-=this.probeRadius+ft,this.pminz-=this.probeRadius+ft,this.pmaxx+=this.probeRadius+ft,this.pmaxy+=this.probeRadius+ft,this.pmaxz+=this.probeRadius+ft):(this.pminx-=ft,this.pminy-=ft,this.pminz-=ft,this.pmaxx+=ft,this.pmaxy+=ft,this.pmaxz+=ft),this.pminx=Math.floor(this.pminx*this.scaleFactor)/this.scaleFactor,this.pminy=Math.floor(this.pminy*this.scaleFactor)/this.scaleFactor,this.pminz=Math.floor(this.pminz*this.scaleFactor)/this.scaleFactor,this.pmaxx=Math.ceil(this.pmaxx*this.scaleFactor)/this.scaleFactor,this.pmaxy=Math.ceil(this.pmaxy*this.scaleFactor)/this.scaleFactor,this.pmaxz=Math.ceil(this.pmaxz*this.scaleFactor)/this.scaleFactor,this.ptranx=-this.pminx,this.ptrany=-this.pminy,this.ptranz=-this.pminz,this.pLength=Math.ceil(this.scaleFactor*(this.pmaxx-this.pminx))+1,this.pWidth=Math.ceil(this.scaleFactor*(this.pmaxy-this.pminy))+1,this.pHeight=Math.ceil(this.scaleFactor*(this.pmaxz-this.pminz))+1,this.boundingatom(pr),this.cutRadius=this.probeRadius*this.scaleFactor,this.vpBits=new Uint8Array(this.pLength*this.pWidth*this.pHeight),this.vpDistance=new Float64Array(this.pLength*this.pWidth*this.pHeight),this.vpAtomID=new Int32Array(this.pLength*this.pWidth*this.pHeight)}boundingatom(Ht){let pr={};for(const _n in this.vdwRadii){let ft=this.vdwRadii[_n];Ht?pr[_n]=(ft+this.probeRadius)*this.scaleFactor+.5:pr[_n]=ft*this.scaleFactor+.5;let Ct=pr[_n]*pr[_n];this.widxz[_n]=Math.floor(pr[_n])+1,this.depty[_n]=new Int32Array(this.widxz[_n]*this.widxz[_n]);let mr=0;for(let _r=0;_r<this.widxz[_n];_r++)for(let mn=0;mn<this.widxz[_n];mn++){let dr=_r*_r+mn*mn;if(dr>Ct)this.depty[_n][mr]=-1;else{let pn=Math.sqrt(Ct-dr);this.depty[_n][mr]=Math.floor(pn)}mr++}}}fillvoxels(Ht,pr){for(let _n=0,ft=this.vpBits.length;_n<ft;_n++)this.vpBits[_n]=0,this.vpDistance[_n]=-1,this.vpAtomID[_n]=-1;for(let _n in pr){let ft=Ht[pr[_n]];ft!==void 0&&this.fillAtom(ft,Ht)}for(let _n=0,ft=this.vpBits.length;_n<ft;_n++)this.vpBits[_n]&this.INOUT&&(this.vpBits[_n]|=this.ISDONE)}fillAtom(Ht,pr){let _n=Math.floor(.5+this.scaleFactor*(Ht.x+this.ptranx)),ft=Math.floor(.5+this.scaleFactor*(Ht.y+this.ptrany)),Ct=Math.floor(.5+this.scaleFactor*(Ht.z+this.ptranz)),mr=this.getVDWIndex(Ht),_r=0,mn=this.pWidth*this.pHeight;for(let dr=0,pn=this.widxz[mr];dr<pn;dr++)for(let Do=0;Do<pn;Do++){if(this.depty[mr][_r]!=-1){for(let Io=-1;Io<2;Io++)for(let Lo=-1;Lo<2;Lo++)for(let ms=-1;ms<2;ms++)if(Io!==0&&Lo!==0&&ms!==0){let Uo=Io*dr,_s=ms*Do;for(let yp=0;yp<=this.depty[mr][_r];yp++){let xs=yp*Lo,vs=_n+Uo,Sp=ft+xs,wp=Ct+_s;if(vs<0||Sp<0||wp<0||vs>=this.pLength||Sp>=this.pWidth||wp>=this.pHeight)continue;let bp=vs*mn+Sp*this.pHeight+wp;if(!(this.vpBits[bp]&this.INOUT))this.vpBits[bp]|=this.INOUT,this.vpAtomID[bp]=Ht.serial;else{let Ep=pr[this.vpAtomID[bp]];if(Ep.serial!=Ht.serial){let Cp=_n+Uo-Math.floor(.5+this.scaleFactor*(Ep.x+this.ptranx)),Ap=ft+xs-Math.floor(.5+this.scaleFactor*(Ep.y+this.ptrany)),Mp=Ct+_s-Math.floor(.5+this.scaleFactor*(Ep.z+this.ptranz));Uo*Uo+xs*xs+_s*_s<Cp*Cp+Ap*Ap+Mp*Mp&&(this.vpAtomID[bp]=Ht.serial)}}}}}_r++}}fillvoxelswaals(Ht,pr){for(let _n=0,ft=this.vpBits.length;_n<ft;_n++)this.vpBits[_n]&=~this.ISDONE;for(let _n in pr){let ft=Ht[pr[_n]];ft!==void 0&&this.fillAtomWaals(ft,Ht)}}fillAtomWaals(Ht,pr){let _n=0,ft=Math.floor(.5+this.scaleFactor*(Ht.x+this.ptranx)),Ct=Math.floor(.5+this.scaleFactor*(Ht.y+this.ptrany)),mr=Math.floor(.5+this.scaleFactor*(Ht.z+this.ptranz)),_r=this.getVDWIndex(Ht),mn=this.pWidth*this.pHeight;for(let dr=0,pn=this.widxz[_r];dr<pn;dr++)for(let Do=0;Do<pn;Do++){if(this.depty[_r][_n]!=-1){for(let Io=-1;Io<2;Io++)for(let Lo=-1;Lo<2;Lo++)for(let ms=-1;ms<2;ms++)if(Io!==0&&Lo!==0&&ms!==0){let Uo=Io*dr,_s=ms*Do;for(let yp=0;yp<=this.depty[_r][_n];yp++){let xs=yp*Lo,vs=ft+Uo,Sp=Ct+xs,wp=mr+_s;if(vs<0||Sp<0||wp<0||vs>=this.pLength||Sp>=this.pWidth||wp>=this.pHeight)continue;let bp=vs*mn+Sp*this.pHeight+wp;if(!(this.vpBits[bp]&this.ISDONE))this.vpBits[bp]|=this.ISDONE,this.vpAtomID[bp]=Ht.serial;else{let Ep=pr[this.vpAtomID[bp]];if(Ep.serial!=Ht.serial){let Cp=ft+Uo-Math.floor(.5+this.scaleFactor*(Ep.x+this.ptranx)),Ap=Ct+xs-Math.floor(.5+this.scaleFactor*(Ep.y+this.ptrany)),Mp=mr+_s-Math.floor(.5+this.scaleFactor*(Ep.z+this.ptranz));Uo*Uo+xs*xs+_s*_s<Cp*Cp+Ap*Ap+Mp*Mp&&(this.vpAtomID[bp]=Ht.serial)}}}}}_n++}}buildboundary(){let Ht=this.pWidth*this.pHeight;for(let pr=0;pr<this.pLength;pr++)for(let _n=0;_n<this.pHeight;_n++)for(let ft=0;ft<this.pWidth;ft++){let Ct=pr*Ht+ft*this.pHeight+_n;if(this.vpBits[Ct]&this.INOUT){let mr=0;for(;mr<26;){let _r=pr+this.nb[mr][0],mn=_n+this.nb[mr][2],dr=ft+this.nb[mr][1];if(_r>-1&&_r<this.pLength&&dr>-1&&dr<this.pWidth&&mn>-1&&mn<this.pHeight&&!(this.vpBits[_r*Ht+dr*this.pHeight+mn]&this.INOUT)){this.vpBits[Ct]|=this.ISBOUND;break}else mr++}}}}fastdistancemap(){let Ht=new lt(this.pLength,this.pWidth,this.pHeight),pr=this.pWidth*this.pHeight,_n=this.cutRadius*this.cutRadius,ft=[],Ct=[],mr;for(let dr=0;dr<this.pLength;dr++)for(let pn=0;pn<this.pWidth;pn++)for(let Do=0;Do<this.pHeight;Do++)if(mr=dr*pr+pn*this.pHeight+Do,this.vpBits[mr]&=~this.ISDONE,this.vpBits[mr]&this.INOUT&&this.vpBits[mr]&this.ISBOUND){let Io={ix:dr,iy:pn,iz:Do};Ht.set(dr,pn,Do,Io),ft.push(Io),this.vpDistance[mr]=0,this.vpBits[mr]|=this.ISDONE,this.vpBits[mr]&=~this.ISBOUND}do{Ct=this.fastoneshell(ft,Ht),ft=[];for(let dr=0,pn=Ct.length;dr<pn;dr++)mr=pr*Ct[dr].ix+this.pHeight*Ct[dr].iy+Ct[dr].iz,this.vpBits[mr]&=~this.ISBOUND,this.vpDistance[mr]<=1.0404*_n&&ft.push({ix:Ct[dr].ix,iy:Ct[dr].iy,iz:Ct[dr].iz})}while(ft.length!==0);ft=[],Ct=[],Ht=null;let _r=this.scaleFactor-.5;_r<0&&(_r=0);let mn=_n-.5/(.1+_r);for(let dr=0;dr<this.pLength;dr++)for(let pn=0;pn<this.pWidth;pn++)for(let Do=0;Do<this.pHeight;Do++)mr=dr*pr+pn*this.pHeight+Do,this.vpBits[mr]&=~this.ISBOUND,this.vpBits[mr]&this.INOUT&&(!(this.vpBits[mr]&this.ISDONE)||this.vpBits[mr]&this.ISDONE&&this.vpDistance[mr]>=mn)&&(this.vpBits[mr]|=this.ISBOUND)}fastoneshell(Ht,pr){let _n,ft,Ct,mr,_r,mn,dr,pn,Do,Io=[];if(Ht.length===0)return Io;let Lo={ix:-1,iy:-1,iz:-1},ms=this.pWidth*this.pHeight;for(let Uo=0,_s=Ht.length;Uo<_s;Uo++){_n=Ht[Uo].ix,ft=Ht[Uo].iy,Ct=Ht[Uo].iz,pn=pr.get(_n,ft,Ct);for(let yp=0;yp<6;yp++)Lo.ix=_n+this.nb[yp][0],Lo.iy=ft+this.nb[yp][1],Lo.iz=Ct+this.nb[yp][2],Lo.ix<this.pLength&&Lo.ix>-1&&Lo.iy<this.pWidth&&Lo.iy>-1&&Lo.iz<this.pHeight&&Lo.iz>-1&&(Do=Lo.ix*ms+this.pHeight*Lo.iy+Lo.iz,this.vpBits[Do]&this.INOUT&&!(this.vpBits[Do]&this.ISDONE)?(pr.set(Lo.ix,Lo.iy,Ct+this.nb[yp][2],pn),mr=Lo.ix-pn.ix,_r=Lo.iy-pn.iy,mn=Lo.iz-pn.iz,dr=mr*mr+_r*_r+mn*mn,this.vpDistance[Do]=dr,this.vpBits[Do]|=this.ISDONE,this.vpBits[Do]|=this.ISBOUND,Io.push({ix:Lo.ix,iy:Lo.iy,iz:Lo.iz})):this.vpBits[Do]&this.INOUT&&this.vpBits[Do]&this.ISDONE&&(mr=Lo.ix-pn.ix,_r=Lo.iy-pn.iy,mn=Lo.iz-pn.iz,dr=mr*mr+_r*_r+mn*mn,dr<this.vpDistance[Do]&&(pr.set(Lo.ix,Lo.iy,Lo.iz,pn),this.vpDistance[Do]=dr,this.vpBits[Do]&this.ISBOUND||(this.vpBits[Do]|=this.ISBOUND,Io.push({ix:Lo.ix,iy:Lo.iy,iz:Lo.iz})))))}for(let Uo=0,_s=Ht.length;Uo<_s;Uo++){_n=Ht[Uo].ix,ft=Ht[Uo].iy,Ct=Ht[Uo].iz,pn=pr.get(_n,ft,Ct);for(let yp=6;yp<18;yp++)Lo.ix=_n+this.nb[yp][0],Lo.iy=ft+this.nb[yp][1],Lo.iz=Ct+this.nb[yp][2],Lo.ix<this.pLength&&Lo.ix>-1&&Lo.iy<this.pWidth&&Lo.iy>-1&&Lo.iz<this.pHeight&&Lo.iz>-1&&(Do=Lo.ix*ms+this.pHeight*Lo.iy+Lo.iz,this.vpBits[Do]&this.INOUT&&!(this.vpBits[Do]&this.ISDONE)?(pr.set(Lo.ix,Lo.iy,Ct+this.nb[yp][2],pn),mr=Lo.ix-pn.ix,_r=Lo.iy-pn.iy,mn=Lo.iz-pn.iz,dr=mr*mr+_r*_r+mn*mn,this.vpDistance[Do]=dr,this.vpBits[Do]|=this.ISDONE,this.vpBits[Do]|=this.ISBOUND,Io.push({ix:Lo.ix,iy:Lo.iy,iz:Lo.iz})):this.vpBits[Do]&this.INOUT&&this.vpBits[Do]&this.ISDONE&&(mr=Lo.ix-pn.ix,_r=Lo.iy-pn.iy,mn=Lo.iz-pn.iz,dr=mr*mr+_r*_r+mn*mn,dr<this.vpDistance[Do]&&(pr.set(Lo.ix,Lo.iy,Lo.iz,pn),this.vpDistance[Do]=dr,this.vpBits[Do]&this.ISBOUND||(this.vpBits[Do]|=this.ISBOUND,Io.push({ix:Lo.ix,iy:Lo.iy,iz:Lo.iz})))))}for(let Uo=0,_s=Ht.length;Uo<_s;Uo++){_n=Ht[Uo].ix,ft=Ht[Uo].iy,Ct=Ht[Uo].iz,pn=pr.get(_n,ft,Ct);for(let yp=18;yp<26;yp++)Lo.ix=_n+this.nb[yp][0],Lo.iy=ft+this.nb[yp][1],Lo.iz=Ct+this.nb[yp][2],Lo.ix<this.pLength&&Lo.ix>-1&&Lo.iy<this.pWidth&&Lo.iy>-1&&Lo.iz<this.pHeight&&Lo.iz>-1&&(Do=Lo.ix*ms+this.pHeight*Lo.iy+Lo.iz,this.vpBits[Do]&this.INOUT&&!(this.vpBits[Do]&this.ISDONE)?(pr.set(Lo.ix,Lo.iy,Ct+this.nb[yp][2],pn),mr=Lo.ix-pn.ix,_r=Lo.iy-pn.iy,mn=Lo.iz-pn.iz,dr=mr*mr+_r*_r+mn*mn,this.vpDistance[Do]=dr,this.vpBits[Do]|=this.ISDONE,this.vpBits[Do]|=this.ISBOUND,Io.push({ix:Lo.ix,iy:Lo.iy,iz:Lo.iz})):this.vpBits[Do]&this.INOUT&&this.vpBits[Do]&this.ISDONE&&(mr=Lo.ix-pn.ix,_r=Lo.iy-pn.iy,mn=Lo.iz-pn.iz,dr=mr*mr+_r*_r+mn*mn,dr<this.vpDistance[Do]&&(pr.set(Lo.ix,Lo.iy,Lo.iz,pn),this.vpDistance[Do]=dr,this.vpBits[Do]&this.ISBOUND||(this.vpBits[Do]|=this.ISBOUND,Io.push({ix:Lo.ix,iy:Lo.iy,iz:Lo.iz})))))}return Io}marchingcubeinit(Ht){for(let pr=0,_n=this.vpBits.length;pr<_n;pr++)Ht==1?this.vpBits[pr]&=~this.ISBOUND:Ht==4?(this.vpBits[pr]&=~this.ISDONE,this.vpBits[pr]&this.ISBOUND&&(this.vpBits[pr]|=this.ISDONE),this.vpBits[pr]&=~this.ISBOUND):Ht==2?this.vpBits[pr]&this.ISBOUND&&this.vpBits[pr]&this.ISDONE?this.vpBits[pr]&=~this.ISBOUND:this.vpBits[pr]&this.ISBOUND&&!(this.vpBits[pr]&this.ISDONE)&&(this.vpBits[pr]|=this.ISDONE):Ht==3&&(this.vpBits[pr]&=~this.ISBOUND)}marchingcube(Ht){this.marchingcubeinit(Ht),this.verts=[],this.faces=[],dt.MarchingCube.march(this.vpBits,this.verts,this.faces,{smooth:1,nX:this.pLength,nY:this.pWidth,nZ:this.pHeight});let pr=this.pWidth*this.pHeight;for(let _n=0,ft=this.verts.length;_n<ft;_n++)this.verts[_n].atomid=this.vpAtomID[this.verts[_n].x*pr+this.pHeight*this.verts[_n].y+this.verts[_n].z];dt.MarchingCube.laplacianSmooth(1,this.verts,this.faces)}}dt.MarchingCube=new nt},"./src/VolumeData.ts":(o,_,$)=>{$.r(_),$.d(_,{VolumeData:()=>it});var j=$("./src/utilities.ts"),_e=$("./src/WebGL/math/index.ts"),et=$("./src/parsers/VASP.ts"),tt=$("./src/parsers/CUBE.ts"),nt=$("./node_modules/pako/dist/pako.esm.mjs");class it{constructor(dt,bt,Ht){if(this.unit={x:1,y:1,z:1},this.origin={x:0,y:0,z:0},this.size={x:0,y:0,z:0},this.data=new Float32Array([]),this.matrix=null,this.inversematrix=null,this.isbinary=new Set(["ccp4","CCP4"]),this.getCoordinates=function(mr){var _r=mr/(this.size.y*this.size.z),mn=mr%(this.size.y*this.size.z),dr=mr%this.size.z;return _r*=this.unit.x,mn*=this.unit.y,dr*=this.unit.z,_r+=this.origin.x,mn+=this.origin.y,dr+=this.origin.z,{x:_r,y:mn,z:dr}},this.vasp=function(mr){var _r=mr.replace(/^\s+/,"").split(/[\n\r]/),mn=(0,et.VASP)(mr)[0],dr=mn.length;if(dr==0){console.log("No good formating of CHG or CHGCAR file, not atomic information provided in the file."),this.data=[];return}var pn=1.889725992,Do=.036749309,Io=parseFloat(_r[1]),Lo;Lo=_r[2].replace(/^\s+/,"").split(/\s+/);var ms=new _e.Vector3(parseFloat(Lo[0]),parseFloat(Lo[1]),parseFloat(Lo[2])).multiplyScalar(Io*pn);Lo=_r[3].replace(/^\s+/,"").split(/\s+/);var Uo=new _e.Vector3(parseFloat(Lo[0]),parseFloat(Lo[1]),parseFloat(Lo[2])).multiplyScalar(Io*pn);Lo=_r[4].replace(/^\s+/,"").split(/\s+/);var _s=new _e.Vector3(parseFloat(Lo[0]),parseFloat(Lo[1]),parseFloat(Lo[2])).multiplyScalar(Io*pn),yp=ms.x*(Uo.y*_s.z-_s.y*Uo.z)-Uo.x*(ms.y*_s.z-_s.y*ms.z)+_s.x*(ms.y*Uo.z-Uo.y*ms.z);yp=Math.abs(yp)/Math.pow(pn,3);var xs=1/yp;_r.splice(0,8+dr+1);var vs=_r[0].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),Sp=Math.abs(parseFloat(vs[0])),wp=Math.abs(parseFloat(vs[1])),bp=Math.abs(parseFloat(vs[2])),Ep=this.origin=new _e.Vector3(0,0,0);this.size={x:Sp,y:wp,z:bp},this.unit=new _e.Vector3(ms.x,Uo.y,_s.z),ms=ms.multiplyScalar(1/(pn*Sp)),Uo=Uo.multiplyScalar(1/(pn*wp)),_s=_s.multiplyScalar(1/(pn*bp)),(ms.y!=0||ms.z!=0||Uo.x!=0||Uo.z!=0||_s.x!=0||_s.y!=0)&&(this.matrix=new _e.Matrix4(ms.x,Uo.x,_s.x,0,ms.y,Uo.y,_s.y,0,ms.z,Uo.z,_s.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new _e.Matrix4().makeTranslation(Ep.x,Ep.y,Ep.z)),this.origin=new _e.Vector3(0,0,0),this.unit=new _e.Vector3(1,1,1)),_r.splice(0,1);var Cp=_r.join(" ");Cp=Cp.replace(/^\s+/,"");var Ap=Cp.split(/[\s\r]+/);Ap.splice(Sp*wp*bp+1);for(var Mp=Float32Array.from(Ap,parseFloat),Pp=0;Pp<Mp.length;Pp++)Mp[Pp]=Mp[Pp]*xs*Do;this.data=Mp},this.dx=function(mr){var _r=mr.split(/[\n\r]+/),mn,dr=/gridpositions\s+counts\s+(\d+)\s+(\d+)\s+(\d+)/,pn=/^origin\s+(\S+)\s+(\S+)\s+(\S+)/,Do=/^delta\s+(\S+)\s+(\S+)\s+(\S+)/,Io=/data follows/,Lo=0;for(Lo=0;Lo<_r.length;Lo++){var ms=_r[Lo];if(mn=dr.exec(ms)){var Uo=parseInt(mn[1]),_s=parseInt(mn[2]),yp=parseInt(mn[3]);this.size={x:Uo,y:_s,z:yp}}else if(mn=Do.exec(ms)){var xs=parseFloat(mn[1]);if((parseFloat(mn[2])!=0||parseFloat(mn[3])!=0)&&console.log("Non-orthogonal delta matrix not currently supported in dx format"),Lo+=1,ms=_r[Lo],mn=Do.exec(ms),mn==null){console.log("Parse error in dx delta matrix");return}var vs=parseFloat(mn[2]);if((parseFloat(mn[1])!=0||parseFloat(mn[3])!=0)&&console.log("Non-orthogonal delta matrix not currently supported in dx format"),Lo+=1,ms=_r[Lo],mn=Do.exec(ms),mn==null){console.log("Parse error in dx delta matrix");return}var Sp=parseFloat(mn[3]);(parseFloat(mn[1])!=0||parseFloat(mn[2])!=0)&&console.log("Non-orthogonal delta matrix not currently supported in dx format"),this.unit=new _e.Vector3(xs,vs,Sp)}else if(mn=pn.exec(ms)){var wp=parseFloat(mn[1]),bp=parseFloat(mn[2]),Ep=parseFloat(mn[3]);this.origin=new _e.Vector3(wp,bp,Ep)}else if(mn=Io.exec(ms))break}if(Lo+=1,!this.size||!this.origin||!this.unit||!this.size){console.log("Error parsing dx format");return}var Cp=_r.splice(Lo).join(" "),Ap=Cp.split(/[\s\r]+/);this.data=Float32Array.from(Ap,parseFloat)},bt=bt.toLowerCase(),/\.gz$/.test(bt)){bt=bt.replace(/\.gz$/,"");try{this[bt]&&this.isbinary.has(bt)?(typeof dt=="string"&&(dt=(0,j.base64ToArray)(dt)),dt=(0,nt.inflate)(dt)):dt=new TextDecoder("utf-8").decode((0,nt.inflate)(dt))}catch(mr){console.log(mr)}}if(this[bt]&&(this.isbinary.has(bt)&&typeof dt=="string"&&(dt=(0,j.base64ToArray)(dt)),this[bt](dt)),Ht){if(Ht.negate)for(let mr=0,_r=this.data.length;mr<_r;mr++)this.data[mr]=-this.data[mr];if(Ht.normalize){var pr=0;for(let mr=0,_r=this.data.length;mr<_r;mr++)pr+=this.data[mr];var _n=pr/this.data.length;pr=0;for(let mr=0,_r=this.data.length;mr<_r;mr++){var ft=this.data[mr]-_n;pr+=ft*ft}var Ct=pr/this.data.length;for(let mr=0,_r=this.data.length;mr<_r;mr++)this.data[mr]=(this.data[mr]-_n)/Ct}}}getIndex(dt,bt,Ht){if(this.matrix){this.inversematrix==null&&(this.inversematrix=new _e.Matrix4().getInverse(this.matrix));var pr=new _e.Vector3(dt,bt,Ht);pr=pr.applyMatrix4(this.inversematrix),dt=pr.x,bt=pr.y,Ht=pr.z}else dt-=this.origin.x,bt-=this.origin.y,Ht-=this.origin.z,dt/=this.unit.x,bt/=this.unit.y,Ht/=this.unit.z;return dt=Math.round(dt),bt=Math.round(bt),Ht=Math.round(Ht),dt<0||dt>=this.size.x||bt<0||bt>=this.size.y||Ht<0||Ht>=this.size.z?-1:dt*this.size.y*this.size.z+bt*this.size.z+Ht}getVal(dt,bt,Ht){let pr=this.getIndex(dt,bt,Ht);return pr<0?0:this.data[pr]}cube(dt){var bt=dt.split(/\r?\n/);if(!(bt.length<6)){var Ht=(0,tt.CUBE)(dt,{}).modelData[0].cryst,pr=bt[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),_n=parseFloat(pr[0]),ft=Math.abs(_n);this.origin=Ht.origin,this.size=Ht.size,this.unit=Ht.unit,this.matrix=Ht.matrix4;var Ct=6;_n<0&&Ct++;var mr=bt.splice(ft+Ct).join(" ");mr=mr.replace(/^\s+/,"");var _r=mr.split(/[\s\r]+/);this.data=Float32Array.from(_r,parseFloat)}}ccp4(dt){var bt={};dt=new Int8Array(dt);var Ht=new Int32Array(dt.buffer,0,56),pr=new Float32Array(dt.buffer,0,56),_n=new DataView(dt.buffer);if(bt.MAP=String.fromCharCode(_n.getUint8(208),_n.getUint8(209),_n.getUint8(210),_n.getUint8(211)),bt.MACHST=[_n.getUint8(212),_n.getUint8(213)],bt.MACHST[0]===17&&bt.MACHST[1]===17)for(var ft=dt.byteLength,Ct=0;Ct<ft;Ct+=4)_n.setFloat32(Ct,_n.getFloat32(Ct),!0);bt.NX=Ht[0],bt.NY=Ht[1],bt.NZ=Ht[2],bt.MODE=Ht[3],bt.NXSTART=Ht[4],bt.NYSTART=Ht[5],bt.NZSTART=Ht[6],bt.MX=Ht[7],bt.MY=Ht[8],bt.MZ=Ht[9],bt.xlen=pr[10],bt.ylen=pr[11],bt.zlen=pr[12],bt.alpha=pr[13],bt.beta=pr[14],bt.gamma=pr[15],bt.MAPC=Ht[16],bt.MAPR=Ht[17],bt.MAPS=Ht[18],bt.DMIN=pr[19],bt.DMAX=pr[20],bt.DMEAN=pr[21],bt.ISPG=Ht[22],bt.NSYMBT=Ht[23],bt.LSKFLG=Ht[24],bt.originX=pr[49],bt.originY=pr[50],bt.originZ=pr[51],bt.ARMS=pr[54];var mr=bt,_r=[mr.xlen,0,0],mn=[mr.ylen*Math.cos(Math.PI/180*mr.gamma),mr.ylen*Math.sin(Math.PI/180*mr.gamma),0],dr=[mr.zlen*Math.cos(Math.PI/180*mr.beta),mr.zlen*(Math.cos(Math.PI/180*mr.alpha)-Math.cos(Math.PI/180*mr.gamma)*Math.cos(Math.PI/180*mr.beta))/Math.sin(Math.PI/180*mr.gamma),0];dr[2]=Math.sqrt(mr.zlen*mr.zlen*Math.sin(Math.PI/180*mr.beta)*Math.sin(Math.PI/180*mr.beta)-dr[1]*dr[1]);var pn=[0,_r,mn,dr],Do=[0,mr.MX,mr.MY,mr.MZ],Io=[0,mr.MAPC,mr.MAPR,mr.MAPS];this.matrix=new _e.Matrix4,this.matrix.set(pn[Io[1]][0]/Do[Io[1]],pn[Io[2]][0]/Do[Io[2]],pn[Io[3]][0]/Do[Io[3]],0,pn[Io[1]][1]/Do[Io[1]],pn[Io[2]][1]/Do[Io[2]],pn[Io[3]][1]/Do[Io[3]],0,pn[Io[1]][2]/Do[Io[1]],pn[Io[2]][2]/Do[Io[2]],pn[Io[3]][2]/Do[Io[3]],0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new _e.Matrix4().makeTranslation(mr.NXSTART+mr.originX,mr.NYSTART+mr.originY,mr.NZSTART+mr.originZ)),this.origin=new _e.Vector3(0,0,0),this.unit=new _e.Vector3(1,1,1),this.size={x:bt.NX,y:bt.NY,z:bt.NZ},this.dimensionorder=[bt.MAPC,bt.MAPR,bt.MAPS];var Lo=new Float32Array(dt.buffer,1024+bt.NSYMBT),ms=bt.NX,Uo=bt.NY,_s=bt.NZ;this.data=new Float32Array(ms*Uo*_s);for(let yp=0;yp<ms;yp++)for(let xs=0;xs<Uo;xs++)for(let vs=0;vs<_s;vs++)this.data[(yp*Uo+xs)*_s+vs]=Lo[(vs*Uo+xs)*ms+yp]}}},"./src/VolumetricRender.ts":(o,_,$)=>{$.r(_),$.d(_,{GLVolumetricRender:()=>it});var j=$("./src/WebGL/shapes/index.ts"),_e=$("./src/WebGL/math/index.ts"),et=$("./src/WebGL/index.ts"),tt=$("./src/colors.ts"),nt=$("./src/GLShape.ts");class it{static interpolateArray(dt,bt){function Ht(dr,pn,Do){return dr+(pn-dr)*Do}var pr=[],_n=(dt.length-1)/(bt-1);pr[0]=dt[0];for(var ft=1;ft<bt-1;ft++){var Ct=ft*_n,mr=Math.floor(Ct),_r=Math.ceil(Ct),mn=Ct-mr;pr[ft]=Ht(dt[mr],dt[_r],mn)}return pr[bt-1]=dt[dt.length-1],pr}constructor(dt,bt){this.hidden=!1,this.boundingSphere=new j.Sphere,this.renderedShapeObj=null,this.shapeObj=null,this.subsamples=5,this.data=null,this.transferfunctionbuffer=[],this.min=0,this.max=0,bt=bt||{};var Ht=Object.assign([],bt.transferfn);this.subsamples=bt.subsamples||5;let pr=256;Ht.forEach(function(ms){ms.value=parseFloat(ms.value)}),Ht.sort(function(ms,Uo){return ms.value-Uo.value}),this.min=Ht[0].value,Ht.length==0&&Ht.push(Ht[0]),this.max=Ht[Ht.length-1].value;var _n,ft,Ct,mr,_r,mn,dr,pn,Do,Io;for(let ms=0;ms<Ht.length-1;ms++)if(Ct=tt.CC.color(Ht[ms].color),mr=tt.CC.color(Ht[ms+1].color),Do=Ht[ms].opacity,Io=Ht[ms+1].opacity,_n=Math.floor((Ht[ms].value-this.min)*pr/(this.max-this.min)),ft=Math.floor((Ht[ms+1].value-this.min)*pr/(this.max-this.min)),_n!=ft){_r=it.interpolateArray([Ct.r*255,mr.r*255],ft-_n),mn=it.interpolateArray([Ct.g*255,mr.g*255],ft-_n),dr=it.interpolateArray([Ct.b*255,mr.b*255],ft-_n),pn=it.interpolateArray([Do*255,Io*255],ft-_n);for(let Uo=0;Uo<_r.length;Uo++)this.transferfunctionbuffer.push(_r[Uo]),this.transferfunctionbuffer.push(mn[Uo]),this.transferfunctionbuffer.push(dr[Uo]),this.transferfunctionbuffer.push(pn[Uo])}if(this.transferfunctionbuffer=new Uint8ClampedArray(this.transferfunctionbuffer),dt.matrix){let ms=new _e.Vector3(0,0,0),Uo=new _e.Vector3(dt.size.x,dt.size.y,dt.size.z),_s=new _e.Vector3(1,1,1);ms.applyMatrix4(dt.matrix),Uo.applyMatrix4(dt.matrix),_s.applyMatrix4(dt.matrix).sub(ms),this.extent=[[ms.x,ms.y,ms.z],[Uo.x,Uo.y,Uo.z]];for(let Sp=1;Sp<7;Sp++)Uo.x=Sp&1?dt.size.x:0,Uo.y=Sp&2?dt.size.y:0,Uo.z=Sp&4?dt.size.z:0,Uo.applyMatrix4(dt.matrix),this.extent[0][0]=Math.min(this.extent[0][0],Uo.x),this.extent[0][1]=Math.min(this.extent[0][1],Uo.y),this.extent[0][2]=Math.min(this.extent[0][2],Uo.z),this.extent[1][0]=Math.max(this.extent[1][0],Uo.x),this.extent[1][1]=Math.max(this.extent[1][1],Uo.y),this.extent[1][2]=Math.max(this.extent[1][2],Uo.z);let yp=Uo.x-ms.x,xs=Uo.y-ms.y,vs=Uo.z-ms.z;this.maxdepth=Math.sqrt(yp*yp+xs*xs+vs*vs),this.minunit=Math.min(Math.min(_s.x,_s.y),_s.z),this.texmatrix=new _e.Matrix4().identity().scale({x:dt.size.x,y:dt.size.y,z:dt.size.z}),this.texmatrix=this.texmatrix.multiplyMatrices(dt.matrix,this.texmatrix),this.texmatrix=this.texmatrix.getInverse(this.texmatrix)}else{this.texmatrix=new _e.Matrix4().identity();let ms=dt.unit.x*dt.size.x,Uo=dt.unit.y*dt.size.y,_s=dt.unit.z*dt.size.z;this.texmatrix.makeTranslation(-dt.origin.x/ms,-dt.origin.y/Uo,-dt.origin.z/_s),this.texmatrix.scale({x:1/ms,y:1/Uo,z:1/_s}),this.minunit=Math.min(Math.min(dt.unit.x,dt.unit.y),dt.unit.z),this.extent=[[dt.origin.x,dt.origin.y,dt.origin.z],[dt.origin.x+ms,dt.origin.y+Uo,dt.origin.z+_s]],this.maxdepth=Math.sqrt(ms*ms+Uo*Uo+_s*_s)}var Lo=new nt.GLShape({});if(Lo.addBox({corner:{x:this.extent[0][0],y:this.extent[0][1],z:this.extent[0][2]},dimensions:{w:this.extent[1][0]-this.extent[0][0],h:this.extent[1][1]-this.extent[0][1],d:this.extent[1][2]-this.extent[0][2]}}),this.geo=Lo.finalize(),this.boundingSphere.center=new _e.Vector3((this.extent[0][0]+this.extent[1][0])/2,(this.extent[0][1]+this.extent[1][1])/2,(this.extent[0][2]+this.extent[1][2])/2),this.boundingSphere.radius=this.maxdepth/2,bt.coords!==void 0&&bt.seldist!==void 0){let ms=new Uint8Array(dt.data.length),Uo=bt.seldist,_s=Uo*Uo;for(let yp=0,xs=bt.coords.length;yp<xs;yp++){let vs=bt.coords[yp],Sp=vs.x-Uo,wp=vs.y-Uo,bp=vs.z-Uo,Ep=vs.x+Uo,Cp=vs.y+Uo,Ap=vs.z+Uo;if(dt.getIndex(Sp,wp,bp)>=0||dt.getIndex(Ep,Cp,Ap)>=0)for(let Mp=Sp;Mp<Ep;Mp+=this.minunit)for(let Pp=wp;Pp<Cp;Pp+=this.minunit)for(let Ip=bp;Ip<Ap;Ip+=this.minunit){let Op=dt.getIndex(Mp,Pp,Ip);Op>=0&&!ms[Op]&&(Mp-vs.x)*(Mp-vs.x)+(Pp-vs.y)*(Pp-vs.y)+(Ip-vs.z)*(Ip-vs.z)<_s&&(ms[Op]=1)}}for(let yp=0,xs=dt.data.length;yp<xs;yp++)ms[yp]==0&&(dt.data[yp]=1/0)}this.data=dt}globj(dt){if(this.renderedShapeObj&&(dt.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){this.shapeObj=new et.Object3D;var bt=null,Ht=new et.Texture(this.data,!0),pr=new et.Texture(this.transferfunctionbuffer,!1);Ht.needsUpdate=!0,pr.needsUpdate=!0,pr.flipY=!1,bt=new et.VolumetricMaterial({transferfn:pr,transfermin:this.min,transfermax:this.max,map:Ht,extent:this.extent,maxdepth:this.maxdepth,texmatrix:this.texmatrix,unit:this.minunit,subsamples:this.subsamples});var _n=new et.Mesh(this.geo,bt);this.shapeObj.add(_n),this.renderedShapeObj=this.shapeObj.clone(),dt.add(this.renderedShapeObj)}}removegl(dt){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),dt.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}},"./src/WebGL/Camera.ts":(o,_,$)=>{$.r(_),$.d(_,{Camera:()=>et});var j=$("./src/WebGL/core/index.ts"),_e=$("./src/WebGL/math/index.ts");class et extends j.Object3D{constructor(nt=50,it=1,lt=.1,dt=2e3,bt=!1){super(),this.projectionMatrix=new _e.Matrix4,this.projectionMatrixInverse=new _e.Matrix4,this.matrixWorldInverse=new _e.Matrix4,this.fov=nt,this.aspect=it,this.near=lt,this.far=dt;var Ht=this.position.z;this.right=Ht*Math.tan(Math.PI/180*nt),this.left=-this.right,this.top=this.right/this.aspect,this.bottom=-this.top,this.ortho=!!bt,this.updateProjectionMatrix()}lookAt(nt){this.matrix.lookAt(this.position,nt,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!1&&this.rotation instanceof _e.Vector3?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):console.error("Unimplemented math operation."))}updateProjectionMatrix(){this.ortho?this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far):this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)}}},"./src/WebGL/Fog.ts":(o,_,$)=>{$.r(_),$.d(_,{Fog:()=>_e});var j=$("./src/colors.ts");class _e{constructor(tt,nt=1,it=1e3){this.name="",this.color=new j.Color(tt),this.near=nt,this.far=it}clone(){return new _e(this.color.getHex(),this.near,this.far)}}},"./src/WebGL/Renderer.ts":(o,_,$)=>{$.r(_),$.d(_,{Renderer:()=>pr});var j=$("./src/WebGL/Camera.ts"),_e=$("./src/WebGL/constants/Sides.ts"),et=$("./src/WebGL/constants/TextureConstants.ts"),tt=$("./src/WebGL/core/index.ts"),nt=$("./src/colors.ts"),it=$("./src/WebGL/materials/index.ts"),lt=$("./src/WebGL/math/index.ts"),dt=$("./src/WebGL/objects/index.ts"),bt=$("./src/WebGL/shaders/index.ts"),Ht=$("./src/WebGL/SpritePlugin.ts");class pr{constructor(ft){this.context=null,this.devicePixelRatio=1,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.autoUpdateObjects=!0,this.autoUpdateScene=!0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}},this._programs=[],this._programs_counter=0,this._webglversion=1,this._currentProgram=null,this._currentMaterialId=-1,this._currentGeometryGroupHash=null,this._currentCamera=null,this._geometryGroupCounter=0,this._oldDoubleSided=-1,this._oldFlipSided=-1,this._oldDepthTest=-1,this._oldDepthWrite=-1,this._oldPolygonOffset=null,this._oldLineWidth=null,this._viewportWidth=0,this._viewportHeight=0,this._currentWidth=0,this._currentHeight=0,this._enabledAttributes={},this._projScreenMatrix=new lt.Matrix4,this._vector3=new lt.Vector3,this._worldInverse=new lt.Matrix4,this._projInverse=new lt.Matrix4,this._textureMatrix=new lt.Matrix4,this._direction=new lt.Vector3,this._lightsNeedUpdate=!0,this._lights={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},this.sprites=new Ht.SpritePlugin,this._screenshader=null,this._vertexattribpos=null,this._screenQuadVBO=null,this._fb=null,this._targetTexture=null,this._depthTexture=null,ft=ft||{},this.row=ft.row,this.col=ft.col,this.rows=ft.rows,this.cols=ft.cols,this._canvas=ft.canvas!==void 0?ft.canvas:document.createElement("canvas"),this._precision=ft.precision!==void 0?ft.precision:"highp",this._alpha=ft.alpha!==void 0?ft.alpha:!0,this._premultipliedAlpha=ft.premultipliedAlpha!==void 0?ft.premultipliedAlpha:!0,this._antialias=ft.antialias!==void 0?ft.antialias:!1,this._stencil=ft.stencil!==void 0?ft.stencil:!0,this._preserveDrawingBuffer=ft.preserveDrawingBuffer!==void 0?ft.preserveDrawingBuffer:!1,this._clearColor=ft.clearColor!==void 0?new nt.Color(ft.clearColor):new nt.Color(0),this._clearAlpha=ft.clearAlpha!==void 0?ft.clearAlpha:0,this._outlineMaterial=new it.MeshOutlineMaterial(ft.outline),this._outlineSphereImposterMaterial=new it.SphereImposterOutlineMaterial(ft.outline),this._outlineStickImposterMaterial=new it.StickImposterOutlineMaterial(ft.outline),this._outlineEnabled=!!ft.outline,this.domElement=this._canvas,this._canvas.id=ft.id,this.initGL(),this.setDefaultGLState(),this.context=this._gl,this.isWebGL1()?this._extInstanced=this._gl.getExtension("ANGLE_instanced_arrays"):this._extInstanced={vertexAttribDivisorANGLE:this._gl.vertexAttribDivisor.bind(this._gl),drawElementsInstancedANGLE:this._gl.drawElementsInstanced.bind(this._gl)},this._extFragDepth=this._gl.getExtension("EXT_frag_depth"),this._extFloatLinear=this._gl.getExtension("OES_texture_float_linear"),this._extColorBufferFloat=this._gl.getExtension("EXT_color_buffer_float"),this.sprites.init(this)}supportedExtensions(){return{supportsAIA:!!this._extInstanced,supportsImposters:!!this._extFragDepth||!this.isWebGL1(),regen:!1}}getContext(){return this._gl}getCanvas(){return this._canvas}isLost(){return this._gl.isContextLost()}getPrecision(){return this._precision}setClearColorHex(ft,Ct){this._clearColor.setHex(ft),this._clearAlpha=Ct,this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}enableOutline(ft){this._outlineMaterial=new it.MeshOutlineMaterial(ft),this._outlineSphereImposterMaterial=new it.SphereImposterOutlineMaterial(ft),this._outlineStickImposterMaterial=new it.StickImposterOutlineMaterial(ft),this._outlineEnabled=!0}disableOutline(){this._outlineEnabled=!1}setViewport(){if(this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var ft=this._canvas.width/this.cols,Ct=this._canvas.height/this.rows;this._viewportWidth=ft,this._viewportHeight=Ct,this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(ft*this.col,Ct*this.row,ft,Ct),this._gl.viewport(ft*this.col,Ct*this.row,ft,Ct)}}setSize(ft,Ct){if(this.devicePixelRatio=window.devicePixelRatio!==void 0?window.devicePixelRatio:1,this._antialias&&this.devicePixelRatio<2&&(this.devicePixelRatio*=2),this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var mr=ft/this.cols,_r=Ct/this.rows;this._canvas.width=ft*this.devicePixelRatio,this._canvas.height=Ct*this.devicePixelRatio,this._viewportWidth=mr*this.devicePixelRatio,this._viewportHeight=_r*this.devicePixelRatio,this._canvas.style.width=ft+"px",this._canvas.style.height=Ct+"px",this.setViewport()}else this._viewportWidth=this._canvas.width=ft*this.devicePixelRatio,this._viewportHeight=this._canvas.height=Ct*this.devicePixelRatio,this._canvas.style.width=ft+"px",this._canvas.style.height=Ct+"px",this._gl.viewport(0,0,this._gl.drawingBufferWidth,this._gl.drawingBufferHeight);this.initFrameBuffer()}clear(ft,Ct,mr){var _r=0;(ft===void 0||ft)&&(_r|=this._gl.COLOR_BUFFER_BIT),(Ct===void 0||Ct)&&(_r|=this._gl.DEPTH_BUFFER_BIT),(mr===void 0||mr)&&(_r|=this._gl.STENCIL_BUFFER_BIT),this._gl.clear(_r)}clearTarget(ft,Ct,mr){this.clear(ft,Ct,mr)}setMaterialFaces(ft,Ct){var mr=ft.side===_e.DoubleSide,_r=ft.side===_e.BackSide;ft.imposter||(_r=Ct?!_r:_r),this._oldDoubleSided!==mr&&(mr?this._gl.disable(this._gl.CULL_FACE):this._gl.enable(this._gl.CULL_FACE),this._oldDoubleSided=mr),this._oldFlipSided!==_r&&(_r?this._gl.frontFace(this._gl.CW):this._gl.frontFace(this._gl.CCW),this._oldFlipSided=_r),this._gl.cullFace(this._gl.BACK)}setDepthTest(ft){this._oldDepthTest!==ft&&(ft?this._gl.enable(this._gl.DEPTH_TEST):this._gl.disable(this._gl.DEPTH_TEST),this._oldDepthTest=ft)}setDepthWrite(ft){this._oldDepthWrite!==ft&&(this._gl.depthMask(ft),this._oldDepthWrite=ft)}setBlending(ft){ft?(this._gl.enable(this._gl.BLEND),this._gl.blendEquationSeparate(this._gl.FUNC_ADD,this._gl.FUNC_ADD),this._gl.blendFuncSeparate(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA)):this._gl.disable(this._gl.BLEND)}initMaterial(ft,Ct,mr,_r){ft.addEventListener("dispose",this.onMaterialDispose.bind(this));var mn,dr;if(dr=ft.shaderID,dr){var pn=bt.ShaderLib[dr];ft.vertexShader=pn.vertexShader,ft.fragmentShader=pn.fragmentShader,ft.uniforms=bt.ShaderUtils.clone(pn.uniforms)}mn={wireframe:ft.wireframe,fragdepth:ft.imposter,volumetric:ft.volumetric},ft.program=this.buildProgram(ft.fragmentShader,ft.vertexShader,ft.uniforms,mn)}renderBuffer(ft,Ct,mr,_r,mn,dr){if(_r.visible){var pn,Do;if(pn=this.setProgram(ft,Ct,mr,_r,dr,this),!!pn){Do=pn.attributes;var Io=!1,Lo=_r.wireframe?1:0,ms=mn.id*16777215+pn.id*2+Lo;ms!==this._currentGeometryGroupHash&&(this._currentGeometryGroupHash=ms,Io=!0),Io&&(this.disableAttributes(),Do.position>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,mn.__webglVertexBuffer),this.enableAttribute(Do.position),this._gl.vertexAttribPointer(Do.position,3,this._gl.FLOAT,!1,0,0)),Do.color>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,mn.__webglColorBuffer),this.enableAttribute(Do.color),this._gl.vertexAttribPointer(Do.color,3,this._gl.FLOAT,!1,0,0)),Do.normal>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,mn.__webglNormalBuffer),this.enableAttribute(Do.normal),this._gl.vertexAttribPointer(Do.normal,3,this._gl.FLOAT,!1,0,0)),Do.offset>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,mn.__webglOffsetBuffer),this.enableAttribute(Do.offset),this._gl.vertexAttribPointer(Do.offset,3,this._gl.FLOAT,!1,0,0)),Do.radius>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,mn.__webglRadiusBuffer),this.enableAttribute(Do.radius),this._gl.vertexAttribPointer(Do.radius,1,this._gl.FLOAT,!1,0,0)));var Uo,_s;if(dr instanceof dt.Mesh){if(_r.shaderID==="instanced"){var yp=_r.sphere.geometryGroups[0];Io&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,mn.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,yp.vertexArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,mn.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,yp.normalArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,mn.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,yp.faceArray,this._gl.STATIC_DRAW)),Uo=yp.faceidx,this._extInstanced.vertexAttribDivisorANGLE(Do.offset,1),this._extInstanced.vertexAttribDivisorANGLE(Do.radius,1),this._extInstanced.vertexAttribDivisorANGLE(Do.color,1),this._extInstanced.drawElementsInstancedANGLE(this._gl.TRIANGLES,Uo,this._gl.UNSIGNED_SHORT,0,mn.radiusArray.length),this._extInstanced.vertexAttribDivisorANGLE(Do.offset,0),this._extInstanced.vertexAttribDivisorANGLE(Do.radius,0),this._extInstanced.vertexAttribDivisorANGLE(Do.color,0)}else _r.wireframe?(_s=mn.lineidx,this.setLineWidth(_r.wireframeLinewidth),Io&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,mn.__webglLineBuffer),this._gl.drawElements(this._gl.LINES,_s,this._gl.UNSIGNED_SHORT,0)):(Uo=mn.faceidx,Io&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,mn.__webglFaceBuffer),this._gl.drawElements(this._gl.TRIANGLES,Uo,this._gl.UNSIGNED_SHORT,0));this.info.render.calls++,this.info.render.vertices+=Uo,this.info.render.faces+=Uo/3}else dr instanceof dt.Line&&(_s=mn.vertices,this.setLineWidth(_r.linewidth),this._gl.drawArrays(this._gl.LINES,0,_s),this.info.render.calls++)}}}render(ft,Ct,mr){if(!(Ct instanceof j.Camera)){console.error("Renderer.render: camera is not an instance of Camera.");return}var _r,mn,dr,pn,Do,Io=ft.__lights,Lo=ft.fog;this._currentMaterialId=-1,this._lightsNeedUpdate=!0,this.autoUpdateScene&&ft.updateMatrixWorld(),Ct.parent===void 0&&Ct.updateMatrixWorld(),Ct.matrixWorldInverse.getInverse(Ct.matrixWorld),this._projScreenMatrix.multiplyMatrices(Ct.projectionMatrix,Ct.matrixWorldInverse),this.autoUpdateObjects&&this.initWebGLObjects(ft),this.info.render.calls=0,this.info.render.vertices=0,this.info.render.faces=0,this.info.render.points=0,this._currentWidth=this._viewportWidth,this._currentHeight=this._viewportHeight,this.setViewport(),this.setFrameBuffer(),(this.autoClear||mr)&&(this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha),this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil)),Do=ft.__webglObjects;var ms=!1;for(_r=0,mn=Do.length;_r<mn;_r++)dr=Do[_r],pn=dr.object,dr.render=!1,pn.visible&&(this.setupMatrices(pn,Ct),this.unrollBufferMaterial(dr),dr.render=!0,dr.volumetric&&(ms=!0));var Uo=null;this.setBlending(!1),this.renderObjects(ft.__webglObjects,!0,"opaque",Ct,Io,Lo,!1,Uo),this.renderSprites(ft,Ct,!1),this.renderObjects(ft.__webglObjects,!0,"blank",Ct,Io,Lo,!0,Uo),this.renderObjects(ft.__webglObjects,!1,"transparent",Ct,Io,Lo,!0,Uo),ms&&this._fb&&(this.reinitFrameBuffer(),this.renderObjects(ft.__webglObjects,!1,"volumetric",Ct,Io,Lo,!0,Uo)),this.renderFrameBuffertoScreen(),this.setDepthTest(!0),this.setDepthWrite(!0),this.renderSprites(ft,Ct,!0)}reinitFrameBuffer(){this.isWebGL1()||(this._fb=this._gl.createFramebuffer(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fb),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0))}setFrameBuffer(){if(this.isWebGL1()||!this._fb)return;let ft=this._viewportWidth,Ct=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,ft,Ct),this._gl.viewport(0,0,ft,Ct),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,ft,Ct,0,this._gl.RGBA,this._gl.UNSIGNED_BYTE,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,ft,Ct,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fb),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}initFrameBuffer(){if(this.isWebGL1())return;let ft=this._viewportWidth,Ct=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,ft,Ct),this._gl.viewport(0,0,ft,Ct),this._targetTexture=this._gl.createTexture(),this._depthTexture=this._gl.createTexture(),this._fb=this._gl.createFramebuffer();var mr=bt.ShaderLib.screen;this._screenshader=this.buildProgram(mr.fragmentShader,mr.vertexShader,mr.uniforms,{}),this._vertexattribpos=this._gl.getAttribLocation(this._screenshader,"vertexPosition");var _r=[1,1,-1,1,-1,-1,-1,-1,1,-1,1,1];this._screenQuadVBO=this._gl.createBuffer(),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array(_r),this._gl.STATIC_DRAW)}renderFrameBuffertoScreen(){this.isWebGL1()||this._fb===null||(this.setViewport(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null),this._gl.clear(this._gl.COLOR_BUFFER_BIT|this._gl.DEPTH_BUFFER_BIT),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.useProgram(this._screenshader),this._currentProgram=this._screenshader,this.setDepthTest(-1),this.setDepthWrite(-1),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._vertexattribpos),this._gl.vertexAttribPointer(this._vertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6))}initWebGLObjects(ft){if(ft.__webglObjects||(ft.__webglObjects=[],ft.__webglObjectsImmediate=[],ft.__webglSprites=[],ft.__webglFlares=[]),ft.__objectsAdded.length){for(;ft.__objectsAdded.length;)this.addObject(ft.__objectsAdded[0],ft),ft.__objectsAdded.splice(0,1);this._currentGeometryGroupHash=-1}for(;ft.__objectsRemoved.length;)this.removeObject(ft.__objectsRemoved[0],ft),ft.__objectsRemoved.splice(0,1);for(var Ct=0,mr=ft.__webglObjects.length;Ct<mr;Ct++)this.updateObject(ft.__webglObjects[Ct].object)}getYRatio(){return this.rows!==void 0&&this.row!==void 0?this.rows:1}getXRatio(){return this.cols!==void 0&&this.col!==void 0?this.cols:1}getAspect(ft,Ct){(ft==null||Ct==null)&&(ft=this._canvas.width,Ct=this._canvas.height);var mr=ft/Ct;if(this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var _r=ft/this.cols,mn=Ct/this.rows;mr=_r/mn}return mr}setTexture(ft,Ct,mr){if(ft.needsUpdate){ft.__webglInit||(ft.__webglInit=!0,ft.addEventListener("dispose",this.onTextureDispose.bind(this)),ft.__webglTexture=this._gl.createTexture(),this.info.memory.textures++),this._gl.activeTexture(this._gl.TEXTURE0+Ct);var _r=mr?this._gl.TEXTURE_3D:this._gl.TEXTURE_2D;this._gl.bindTexture(_r,ft.__webglTexture),this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,ft.flipY),this._gl.pixelStorei(this._gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ft.premultiplyAlpha),this._gl.pixelStorei(this._gl.UNPACK_ALIGNMENT,ft.unpackAlignment),this._gl.pixelStorei(this._gl.PACK_ALIGNMENT,ft.unpackAlignment);var mn=this.paramToGL(ft.format),dr=this.paramToGL(ft.type);if(mr)this.setTextureParameters(this._gl.TEXTURE_3D,ft),this._gl.texImage3D(this._gl.TEXTURE_3D,0,this._gl.R32F,ft.image.size.z,ft.image.size.y,ft.image.size.x,0,this._gl.RED,this._gl.FLOAT,ft.image.data);else{var pn=ft.image,Do=pn.width,Io=pn.height;typeof Do>"u"&&(Do=pn.length,mn==this._gl.RGBA&&(Do/=4),Io=1),this.setTextureParameters(this._gl.TEXTURE_2D,ft),this.isWebGL1()?this._gl.texImage2D(this._gl.TEXTURE_2D,0,mn,mn,dr,ft.image):this._gl.texImage2D(this._gl.TEXTURE_2D,0,mn,Do,Io,0,mn,dr,ft.image)}ft.needsUpdate=!1,ft.onUpdate&&ft.onUpdate()}else this._gl.activeTexture(this._gl.TEXTURE0+Ct),mr?this._gl.bindTexture(this._gl.TEXTURE_3D,ft.__webglTexture):this._gl.bindTexture(this._gl.TEXTURE_2D,ft.__webglTexture)}supportsVolumetric(){return!this.isWebGL1()}enableAttribute(ft){this._enabledAttributes[ft]||(this._gl.enableVertexAttribArray(ft),this._enabledAttributes[ft]=!0)}disableAttributes(){for(let ft in this._enabledAttributes)this._enabledAttributes[ft]&&(this._gl.disableVertexAttribArray(ft),this._enabledAttributes[ft]=!1)}setPolygonOffset(ft,Ct,mr){this._oldPolygonOffset!==ft&&(ft?this._gl.enable(this._gl.POLYGON_OFFSET_FILL):this._gl.disable(this._gl.POLYGON_OFFSET_FILL))}setLineWidth(ft){ft!==this._oldLineWidth&&(this._gl.lineWidth(ft),this._oldLineWidth=ft)}deallocateGeometry(ft){if(ft.__webglInit=void 0,ft.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(ft.__webglVertexBuffer),ft.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(ft.__webglColorBuffer),ft.geometryGroups!==void 0)for(var Ct=0,mr=ft.groups;Ct<mr;Ct++){var _r=ft.geometryGroups[Ct];_r.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(_r.__webglVertexBuffer),_r.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(_r.__webglColorBuffer),_r.__webglNormalBuffer!==void 0&&this._gl.deleteBuffer(_r.__webglNormalBuffer),_r.__webglFaceBuffer!==void 0&&this._gl.deleteBuffer(_r.__webglFaceBuffer),_r.__webglLineBuffer!==void 0&&this._gl.deleteBuffer(_r.__webglLineBuffer)}}deallocateMaterial(ft){var Ct=ft.program;if(Ct!==void 0){ft.program=void 0;var mr,_r,mn,dr=!1;for(mr=0,_r=this._programs.length;mr<_r;mr++)if(mn=this._programs[mr],mn.program===Ct){mn.usedTimes--,mn.usedTimes===0&&(dr=!0);break}if(dr===!0){var pn=[];for(mr=0,_r=this._programs.length;mr<_r;mr++)mn=this._programs[mr],mn.program!==Ct&&pn.push(mn);this._programs=pn,this._gl.deleteProgram(Ct),this.info.memory.programs--}}}deallocateTexture(ft){if(ft.image&&ft.image.__webglTextureCube)this._gl.deleteTexture(ft.image.__webglTextureCube);else{if(!ft.__webglInit)return;ft.__webglInit=!1,this._gl.deleteTexture(ft.__webglTexture)}}onGeometryDispose(ft){var Ct=ft.target;Ct.removeEventListener("dispose",this.onGeometryDispose),this.deallocateGeometry(Ct),this.info.memory.geometries--}onTextureDispose(ft){var Ct=ft.target;Ct.removeEventListener("dispose",this.onTextureDispose),this.deallocateTexture(Ct),this.info.memory.textures--}onMaterialDispose(ft){var Ct=ft.target;Ct.removeEventListener("dispose",this.onMaterialDispose),this.deallocateMaterial(Ct)}getShader(ft,Ct){var mr;return!this.isWebGL1()&&!Ct.startsWith("#version")&&(Ct=Ct.replace(/gl_FragDepthEXT/g,"gl_FragDepth"),ft=="fragment"?Ct=Ct.replace(/varying/g,"in"):Ct=Ct.replace(/varying/g,"out"),Ct=Ct.replace(/attribute/g,"in"),Ct=Ct.replace(/texture2D/g,"texture"),Ct=Ct.replace(/\/\/DEFINEFRAGCOLOR/g,"out vec4 glFragColor;"),Ct=Ct.replace(/gl_FragColor/g,"glFragColor"),Ct=`#version 300 es
`+Ct),ft==="fragment"?mr=this._gl.createShader(this._gl.FRAGMENT_SHADER):ft==="vertex"&&(mr=this._gl.createShader(this._gl.VERTEX_SHADER)),mr==null?null:(this._gl.shaderSource(mr,Ct),this._gl.compileShader(mr),this._gl.getShaderParameter(mr,this._gl.COMPILE_STATUS)?mr:(console.error(this._gl.getShaderInfoLog(mr)),console.error("could not initialize shader"),null))}buildProgram(ft,Ct,mr,_r){var mn,dr,pn,Do,Io=[];Io.push(ft),Io.push(Ct);for(mn in _r)Io.push(mn),Io.push(_r[mn]);for(Do=Io.join(),mn=0,dr=this._programs.length;mn<dr;mn++){var Lo=this._programs[mn];if(Lo.code===Do)return Lo.usedTimes++,Lo.program}if(this.isWebGL1()&&_r.volumetric)throw new Error("Volumetric rendering requires webgl2 which is not supported by your hardware.");if(pn=this._gl.createProgram(),pn==null)return null;var ms=this._precision,Uo="precision "+ms+" float;",_s=[_r.volumetric?"#version 300 es":"",Uo].join(`
`),yp=[_r.volumetric?"#version 300 es":"",_r.fragdepth&&this.isWebGL1()?"#extension GL_EXT_frag_depth: enable":"",_r.wireframe?"#define WIREFRAME 1":"",Uo].join(`
`),xs=this.getShader("fragment",yp+ft),vs=this.getShader("vertex",_s+Ct);vs!=null&&this._gl.attachShader(pn,vs),xs!=null&&this._gl.attachShader(pn,xs),this._gl.linkProgram(pn),this._gl.getProgramParameter(pn,this._gl.LINK_STATUS)||console.error("Could not initialize shader"),pn.uniforms={},pn.attributes={};var Sp,wp,bp;Sp=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix"];for(wp in mr)Sp.push(wp);for(bp=0;bp<Sp.length;bp++){var Ep=Sp[bp];pn.uniforms[Ep]=this._gl.getUniformLocation(pn,Ep)}for(Sp=["position","normal","color","lineDistance","offset","radius"],bp=0;bp<Sp.length;bp++){var Cp=Sp[bp];pn.attributes[Cp]=this._gl.getAttribLocation(pn,Cp)}return pn.id=this._programs_counter++,this._programs.push({program:pn,code:Do,usedTimes:1}),this.info.memory.programs=this._programs.length,pn}setProgram(ft,Ct,mr,_r,mn,dr){if(_r.needsUpdate&&(_r.program&&this.deallocateMaterial(_r),this.initMaterial(_r,Ct,mr,mn),_r.needsUpdate=!1),_r.program==null)return null;var pn=!1,Do=_r.program,Io=Do.uniforms,Lo=_r.uniforms;if(Do!=this._currentProgram&&(this._gl.useProgram(Do),this._currentProgram=Do,pn=!0),_r.id!=this._currentMaterialId&&(this._currentMaterialId=_r.id,pn=!0),ft!=this._currentCamera&&(this._currentCamera=ft,pn=!0),this._gl.uniformMatrix4fv(Io.projectionMatrix,!1,ft.projectionMatrix.elements),this._gl.uniformMatrix4fv(Io.modelViewMatrix,!1,mn._modelViewMatrix.elements),this._gl.uniformMatrix3fv(Io.normalMatrix,!1,mn._normalMatrix.elements),pn){if(Lo.fogColor.value=mr.color,Lo.fogNear.value=mr.near,Lo.fogFar.value=mr.far,_r.shaderID.startsWith("lambert")||_r.shaderID==="instanced"||_r.shaderID.endsWith("imposter"))this._gl.uniformMatrix4fv(Io.viewMatrix,!1,ft.matrixWorldInverse.elements),this._lightsNeedUpdate&&(this.setupLights(Do,Ct),this._lightsNeedUpdate=!1),Lo.directionalLightColor.value=this._lights.directional.colors,Lo.directionalLightDirection.value=this._lights.directional.positions;else if(_r.shaderID.endsWith("outline"))Lo.outlineColor.value=_r.outlineColor,Lo.outlineWidth.value=_r.outlineWidth,Lo.outlinePushback.value=_r.outlinePushback;else if(_r.shaderID==="volumetric"){mn._modelViewMatrix.getScale(this._direction),this._worldInverse.getInverse(mn._modelViewMatrix),this._projInverse.getInverse(ft.projectionMatrix),this._textureMatrix.multiplyMatrices(mn.material.texmatrix,this._worldInverse),this._gl.uniformMatrix4fv(Io.textmat,!1,this._textureMatrix.elements),this._gl.uniformMatrix4fv(Io.projinv,!1,this._projInverse.elements);let ms=Math.min(Math.min(this._direction.x,this._direction.y),this._direction.z);Lo.step.value=mn.material.unit*ms,Lo.maxdepth.value=mn.material.maxdepth*ms,Lo.transfermax.value=mn.material.transfermax,Lo.transfermin.value=mn.material.transfermin,Lo.subsamples.value=mn.material.subsamples,dr.setTexture(mn.material.transferfn,4,!1),dr.setTexture(mn.material.map,3,!0),this._gl.activeTexture(this._gl.TEXTURE5),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture)}Lo.opacity.value=_r.opacity,this.loadMaterialUniforms(Io,Lo)}return Do}loadMaterialUniforms(ft,Ct){var mr,_r,mn,dr;for(mr in Ct)ft[mr]&&(_r=Ct[mr].type,mn=Ct[mr].value,dr=ft[mr],_r==="f"?this._gl.uniform1f(dr,mn):_r==="i"?this._gl.uniform1i(dr,mn):_r==="fv"?this._gl.uniform3fv(dr,mn):_r==="c"?this._gl.uniform3f(dr,mn.r,mn.g,mn.b):_r==="f4"&&this._gl.uniform4f(dr,mn[0],mn[1],mn[2],mn[3]))}addObject(ft,Ct){var mr,_r,mn,dr;if(!ft.__webglInit&&(ft.__webglInit=!0,ft._modelViewMatrix=new lt.Matrix4,ft._normalMatrix=new lt.Matrix3,ft.geometry!==void 0&&ft.geometry.__webglInit===void 0&&(ft.geometry.__webglInit=!0,ft.geometry.addEventListener("dispose",this.onGeometryDispose.bind(this))),ft instanceof dt.Mesh||ft instanceof dt.Line))for(mn=ft.geometry,mr=0,_r=mn.geometryGroups.length;mr<_r;mr++)dr=mn.geometryGroups[mr],dr.id=this._geometryGroupCounter++,dr.__webglVertexBuffer||(ft instanceof dt.Mesh?(this.createMeshBuffers(dr),mn.elementsNeedUpdate=!0,mn.normalsNeedUpdate=!0):ft instanceof dt.Line&&this.createLineBuffers(dr),mn.verticesNeedUpdate=!0,mn.colorsNeedUpdate=!0);if(!ft.__webglActive){if(ft instanceof dt.Mesh||ft instanceof dt.Line)for(mn=ft.geometry,mr=0,_r=mn.geometryGroups.length;mr<_r;mr++)dr=mn.geometryGroups[mr],this.addBuffer(Ct.__webglObjects,dr,ft);else ft instanceof dt.Sprite&&Ct.__webglSprites.push(ft);ft.__webglActive=!0}}updateObject(ft){var Ct=ft.geometry,mr;if(ft instanceof dt.Mesh||ft instanceof dt.Line){for(var _r=0,mn=Ct.geometryGroups.length;_r<mn;_r++)mr=Ct.geometryGroups[_r],(Ct.verticesNeedUpdate||Ct.elementsNeedUpdate||Ct.colorsNeedUpdate||Ct.normalsNeedUpdate)&&this.setBuffers(mr,this._gl.STATIC_DRAW);Ct.verticesNeedUpdate=!1,Ct.elementsNeedUpdate=!1,Ct.normalsNeedUpdate=!1,Ct.colorsNeedUpdate=!1,Ct.buffersNeedUpdate=!1}}removeObject(ft,Ct){ft instanceof dt.Mesh||ft instanceof dt.Line?this.removeInstances(Ct.__webglObjects,ft):ft instanceof dt.Sprite&&this.removeInstancesDirect(Ct.__webglSprites,ft),ft.__webglActive=!1}removeInstances(ft,Ct){for(var mr=ft.length-1;mr>=0;--mr)ft[mr].object===Ct&&ft.splice(mr,1)}removeInstancesDirect(ft,Ct){for(var mr=ft.length-1;mr>=0;--mr)ft[mr]===Ct&&ft.splice(mr,1)}unrollBufferMaterial(ft){var Ct=ft.object,mr=Ct.material;if(mr.volumetric)ft.opaque=null,ft.transparent=null,ft.volumetric=mr;else if(mr.transparent){if(ft.opaque=null,ft.volumetric=null,ft.transparent=mr,!mr.wireframe){var _r=mr.clone();_r.opacity=0,ft.blank=_r}}else ft.opaque=mr,ft.transparent=null,ft.volumetric=null}setBuffers(ft,Ct){var mr=ft.vertexArray,_r=ft.colorArray;if(ft.__webglOffsetBuffer!==void 0?(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,ft.__webglOffsetBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,mr,Ct)):(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,ft.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,mr,Ct)),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,ft.__webglColorBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,_r,Ct),ft.normalArray&&ft.__webglNormalBuffer!==void 0){var mn=ft.normalArray;this._gl.bindBuffer(this._gl.ARRAY_BUFFER,ft.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,mn,Ct)}if(ft.radiusArray&&ft.__webglRadiusBuffer!==void 0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,ft.__webglRadiusBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,ft.radiusArray,Ct)),ft.faceArray&&ft.__webglFaceBuffer!==void 0){var dr=ft.faceArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,ft.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,dr,Ct)}if(ft.lineArray&&ft.__webglLineBuffer!==void 0){var pn=ft.lineArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,ft.__webglLineBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,pn,Ct)}}createMeshBuffers(ft){ft.radiusArray&&(ft.__webglRadiusBuffer=this._gl.createBuffer()),ft.useOffset&&(ft.__webglOffsetBuffer=this._gl.createBuffer()),ft.__webglVertexBuffer=this._gl.createBuffer(),ft.__webglNormalBuffer=this._gl.createBuffer(),ft.__webglColorBuffer=this._gl.createBuffer(),ft.__webglFaceBuffer=this._gl.createBuffer(),ft.__webglLineBuffer=this._gl.createBuffer(),this.info.memory.geometries++}createLineBuffers(ft){ft.__webglVertexBuffer=this._gl.createBuffer(),ft.__webglColorBuffer=this._gl.createBuffer(),this.info.memory.geometries++}addBuffer(ft,Ct,mr){ft.push({buffer:Ct,object:mr,opaque:null,transparent:null})}setupMatrices(ft,Ct){ft._modelViewMatrix.multiplyMatrices(Ct.matrixWorldInverse,ft.matrixWorld),ft._normalMatrix.getInverse(ft._modelViewMatrix),ft._normalMatrix.transpose()}filterFallback(ft){return this._gl.LINEAR}setTextureParameters(ft,Ct){ft==this._gl.TEXTURE_2D?(this._gl.texParameteri(ft,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(ft,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(ft,this._gl.TEXTURE_MAG_FILTER,this.filterFallback(Ct.magFilter)),this._gl.texParameteri(ft,this._gl.TEXTURE_MIN_FILTER,this.filterFallback(Ct.minFilter))):(this._gl.texParameteri(ft,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(ft,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(ft,this._gl.TEXTURE_WRAP_R,this._gl.CLAMP_TO_EDGE),this._extColorBufferFloat&&this._extFloatLinear?(this._gl.texParameteri(ft,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(ft,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR)):(this._gl.texParameteri(ft,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(ft,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST)))}paramToGL(ft){return ft===et.UnsignedByteType?this._gl.UNSIGNED_BYTE:ft===et.RGBAFormat?this._gl.RGBA:ft===et.NearestFilter?this._gl.NEAREST:0}setupLights(ft,Ct){var mr,_r,mn,dr=0,pn=0,Do=0,Io,Lo,ms=this._lights,Uo=ms.directional.colors,_s=ms.directional.positions,yp=0,xs=0;for(mr=0,_r=Ct.length;mr<_r;mr++)if(mn=Ct[mr],Io=mn.color,Lo=mn.intensity,mn instanceof tt.Light){if(this._direction.getPositionFromMatrix(mn.matrixWorld),this._vector3.getPositionFromMatrix(mn.target.matrixWorld),this._direction.sub(this._vector3),this._direction.normalize(),this._direction.x===0&&this._direction.y===0&&this._direction.z===0)continue;_s[xs]=this._direction.x,_s[xs+1]=this._direction.y,_s[xs+2]=this._direction.z,Uo[xs]=Io.r*Lo,Uo[xs+1]=Io.g*Lo,Uo[xs+2]=Io.b*Lo,xs+=3,yp++}ms.ambient[0]=dr,ms.ambient[1]=pn,ms.ambient[2]=Do,ms.directional.length=yp}initGL(){try{if(!(this._gl=this._canvas.getContext("webgl2",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,stencil:this._stencil,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("experimental-webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,stencil:this._stencil,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,stencil:this._stencil,preserveDrawingBuffer:this._preserveDrawingBuffer})))throw"Error creating WebGL context.";var ft=this._gl.getParameter(this._gl.VERSION);this._webglversion=parseInt(ft[6])}catch(Ct){console.error(Ct)}}isWebGL1(){return this._webglversion==1}setDefaultGLState(){this._gl.clearColor(0,0,0,1),this._gl.clearDepth(1),this._gl.clearStencil(0),this._gl.enable(this._gl.DEPTH_TEST),this._gl.depthFunc(this._gl.LEQUAL),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.enable(this._gl.CULL_FACE),this._gl.enable(this._gl.BLEND),this._gl.blendEquation(this._gl.FUNC_ADD),this._gl.blendFunc(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA),this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}renderObjects(ft,Ct,mr,_r,mn,dr,pn,Uo){var Io,Lo,ms,Uo,_s,yp,xs;Ct?(_s=ft.length-1,yp=-1,xs=-1):(_s=0,yp=ft.length,xs=1);for(var vs=_s;vs!==yp;vs+=xs)if(Io=ft[vs],Io.render){if(Lo=Io.object,ms=Io.buffer,Uo=Io[mr],!Uo)continue;pn&&this.setBlending(!0),this.setDepthTest(Uo.depthTest),this.setDepthWrite(Uo.depthWrite),this.setPolygonOffset(Uo.polygonOffset,Uo.polygonOffsetFactor,Uo.polygonOffsetUnits);var Sp=Lo._modelViewMatrix.isReflected();this.setMaterialFaces(Uo,Sp),this.renderBuffer(_r,mn,dr,Uo,ms,Lo),(this._outlineEnabled||Uo.outline)&&(Uo.shaderID=="sphereimposter"?this.renderBuffer(_r,mn,dr,this._outlineSphereImposterMaterial,ms,Lo):Uo.shaderID=="stickimposter"?this.renderBuffer(_r,mn,dr,this._outlineStickImposterMaterial,ms,Lo):!Uo.wireframe&&Uo.shaderID!=="basic"&&Uo.opacity!==0&&this.renderBuffer(_r,mn,dr,this._outlineMaterial,ms,Lo))}}renderSprites(ft,Ct,mr){this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1,this._lightsNeedUpdate=!0,this.sprites.render(ft,Ct,this._currentWidth,this._currentHeight,mr),this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1}}},"./src/WebGL/SpritePlugin.ts":(o,_,$)=>{$.r(_),$.d(_,{SpritePlugin:()=>_e});var j=$("./src/WebGL/shaders/index.ts");class _e{constructor(){this.sprite={vertices:null,faces:null,vertexBuffer:null,elementBuffer:null,program:null,attributes:{},uniforms:null}}init(nt){this.gl=nt.context,this.renderer=nt,this.precision=nt.getPrecision(),this.sprite.vertices=new Float32Array(16),this.sprite.faces=new Uint16Array(6);var it=0;this.sprite.vertices[it++]=-1,this.sprite.vertices[it++]=-1,this.sprite.vertices[it++]=0,this.sprite.vertices[it++]=0,this.sprite.vertices[it++]=1,this.sprite.vertices[it++]=-1,this.sprite.vertices[it++]=1,this.sprite.vertices[it++]=0,this.sprite.vertices[it++]=1,this.sprite.vertices[it++]=1,this.sprite.vertices[it++]=1,this.sprite.vertices[it++]=1,this.sprite.vertices[it++]=-1,this.sprite.vertices[it++]=1,this.sprite.vertices[it++]=0,this.sprite.vertices[it++]=1,it=0,this.sprite.faces[it++]=0,this.sprite.faces[it++]=1,this.sprite.faces[it++]=2,this.sprite.faces[it++]=0,this.sprite.faces[it++]=2,this.sprite.faces[it++]=3,this.sprite.vertexBuffer=this.gl.createBuffer(),this.sprite.elementBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.sprite.vertices,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.faces,this.gl.STATIC_DRAW),this.sprite.program=this.createProgram(j.ShaderLib.sprite,this.precision||1),this.sprite.attributes={};const lt={};this.sprite.attributes.position=this.gl.getAttribLocation(this.sprite.program,"position"),this.sprite.attributes.uv=this.gl.getAttribLocation(this.sprite.program,"uv"),lt.uvOffset=this.gl.getUniformLocation(this.sprite.program,"uvOffset"),lt.uvScale=this.gl.getUniformLocation(this.sprite.program,"uvScale"),lt.rotation=this.gl.getUniformLocation(this.sprite.program,"rotation"),lt.scale=this.gl.getUniformLocation(this.sprite.program,"scale"),lt.alignment=this.gl.getUniformLocation(this.sprite.program,"alignment"),lt.color=this.gl.getUniformLocation(this.sprite.program,"color"),lt.map=this.gl.getUniformLocation(this.sprite.program,"map"),lt.opacity=this.gl.getUniformLocation(this.sprite.program,"opacity"),lt.useScreenCoordinates=this.gl.getUniformLocation(this.sprite.program,"useScreenCoordinates"),lt.screenPosition=this.gl.getUniformLocation(this.sprite.program,"screenPosition"),lt.modelViewMatrix=this.gl.getUniformLocation(this.sprite.program,"modelViewMatrix"),lt.projectionMatrix=this.gl.getUniformLocation(this.sprite.program,"projectionMatrix"),lt.fogType=this.gl.getUniformLocation(this.sprite.program,"fogType"),lt.fogDensity=this.gl.getUniformLocation(this.sprite.program,"fogDensity"),lt.fogNear=this.gl.getUniformLocation(this.sprite.program,"fogNear"),lt.fogFar=this.gl.getUniformLocation(this.sprite.program,"fogFar"),lt.fogColor=this.gl.getUniformLocation(this.sprite.program,"fogColor"),lt.alphaTest=this.gl.getUniformLocation(this.sprite.program,"alphaTest"),this.sprite.uniforms=lt}render(nt,it,lt,dt,bt){var Ht,pr,_n,ft,Ct,mr,_r,mn,dr,pn;if(!this.gl)throw new Error("WebGLRenderer not initialized");let Do=[];(Ht=nt==null?void 0:nt.__webglSprites)===null||Ht===void 0||Ht.forEach(Ip=>{(bt&&Ip.material.depthTest==!1||!bt&&Ip.material.depthTest)&&Do.push(Ip)});let Io=Do.length;if(!Io)return;const Lo=this.sprite.attributes,ms=this.sprite.uniforms;if(!ms)throw new Error("Uniforms not defined");var Uo=lt*.5,_s=dt*.5;this.gl.useProgram(this.sprite.program),this.gl.enableVertexAttribArray(Lo.position),this.gl.enableVertexAttribArray(Lo.uv),this.gl.disable(this.gl.CULL_FACE),this.gl.enable(this.gl.BLEND),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.vertexAttribPointer(Lo.position,2,this.gl.FLOAT,!1,16,0),this.gl.vertexAttribPointer(Lo.uv,2,this.gl.FLOAT,!1,16,8),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.uniformMatrix4fv(ms.projectionMatrix,!1,it.projectionMatrix.elements),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.uniform1i(ms.map,0);var yp=0,xs=0,vs=nt.fog;vs?(this.gl.uniform3f(ms.fogColor,vs.color.r,vs.color.g,vs.color.b),this.gl.uniform1f(ms.fogNear,vs.near),this.gl.uniform1f(ms.fogFar,vs.far),this.gl.uniform1i(ms.fogType,1),yp=1,xs=1):(this.gl.uniform1i(ms.fogType,0),yp=0,xs=0);var Sp;let wp,bp,Ep,Cp,Ap=[];for(Sp=0;Sp<Io;Sp++)wp=Do[Sp],bp=wp.material,bp&&(bp.depthTest==!1&&!bt||!wp.visible||bp.opacity===0||(bp.useScreenCoordinates?wp.z=-wp.position.z:(wp._modelViewMatrix.multiplyMatrices(it.matrixWorldInverse,wp.matrixWorld),wp.z=-wp._modelViewMatrix.elements[14])));for(Do.sort(et),Sp=0;Sp<Io;Sp++)if(wp=Do[Sp],bp=wp.material,!!bp&&!(!wp.visible||bp.opacity===0)&&bp.map&&bp.map.image&&bp.map.image.width){this.gl.uniform1f((ms==null?void 0:ms.alphaTest)||null,bp.alphaTest);var Mp=bp.map.image.width,Pp=bp.map.image.height;Ap[0]=Mp*this.renderer.devicePixelRatio/lt,Ap[1]=Pp*this.renderer.devicePixelRatio/dt,bp.useScreenCoordinates===!0?(this.gl.uniform1i(ms.useScreenCoordinates,1),this.gl.uniform3f(ms.screenPosition,(wp.position.x*this.renderer.devicePixelRatio-Uo)/Uo,(_s-wp.position.y*this.renderer.devicePixelRatio)/_s,Math.max(0,Math.min(1,wp.position.z)))):(this.gl.uniform1i(ms.useScreenCoordinates,0),this.gl.uniformMatrix4fv(ms.modelViewMatrix,!1,wp._modelViewMatrix.elements)),nt.fog&&bp.fog?Cp=xs:Cp=0,yp!==Cp&&(this.gl.uniform1i(ms.fogType,Cp),yp=Cp),Ep=1/(bp.scaleByViewport?dt:1),Ap[0]*=Ep*wp.scale.x,Ap[1]*=Ep*wp.scale.y;let Ip=(pr=bp==null?void 0:bp.alignment)===null||pr===void 0?void 0:pr.x,Op=(_n=bp==null?void 0:bp.alignment)===null||_n===void 0?void 0:_n.y;bp.screenOffset&&(Ip=(Ip||0)+2*bp.screenOffset.x/Mp,Op=(Op||0)+2*bp.screenOffset.y/Pp),this.gl.uniform2f(ms.uvScale,((ft=bp==null?void 0:bp.uvScale)===null||ft===void 0?void 0:ft.x)||1,((Ct=bp==null?void 0:bp.uvScale)===null||Ct===void 0?void 0:Ct.y)||1),this.gl.uniform2f(ms.uvOffset,((mr=bp==null?void 0:bp.uvOffset)===null||mr===void 0?void 0:mr.x)||0,((_r=bp==null?void 0:bp.uvOffset)===null||_r===void 0?void 0:_r.y)||0),this.gl.uniform2f(ms.alignment,Ip||0,Op||0),this.gl.uniform1f(ms.opacity,bp.opacity),this.gl.uniform3f(ms.color,((mn=bp==null?void 0:bp.color)===null||mn===void 0?void 0:mn.r)||0,((dr=bp==null?void 0:bp.color)===null||dr===void 0?void 0:dr.g)||0,((pn=bp==null?void 0:bp.color)===null||pn===void 0?void 0:pn.b)||0),this.gl.uniform1f(ms.rotation,wp.rotation),this.gl.uniform2fv(ms.scale,Ap),this.renderer.setDepthTest(bp.depthTest),this.renderer.setDepthWrite(bp.depthWrite),this.renderer.setTexture(bp.map,0),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0)}this.gl.enable(this.gl.CULL_FACE)}createProgram(nt,it){if(!this.gl)throw new Error("WebGL Rendering context not found");var lt=this.gl.createProgram();if(!lt)throw new Error("Error creating webgl program");var dt=this.gl.createShader(this.gl.FRAGMENT_SHADER),bt=this.gl.createShader(this.gl.VERTEX_SHADER);if(!dt)throw new Error("Unable to create fragment shader SpritePlugin.createProgram");if(!bt)throw new Error("Unable to create vertex shader SpritePlugin.createProgram");var Ht="precision "+it+` float;
`;if(this.gl.shaderSource(dt,Ht+nt.fragmentShader),this.gl.shaderSource(bt,Ht+nt.vertexShader),this.gl.compileShader(dt),this.gl.compileShader(bt),!this.gl.getShaderParameter(dt,this.gl.COMPILE_STATUS)||!this.gl.getShaderParameter(bt,this.gl.COMPILE_STATUS))throw new Error(`Error compiling shader: 
      ${this.gl.getShaderInfoLog(dt)} 
      ${this.gl.getShaderInfoLog(bt)}`);return this.gl.attachShader(lt,dt),this.gl.attachShader(lt,bt),this.gl.linkProgram(lt),this.gl.getProgramParameter(lt,this.gl.LINK_STATUS)||console.error("Could not initialize shader"),lt}}function et(tt,nt){return tt.z!==nt.z?nt.z-tt.z:nt.id-tt.id}},"./src/WebGL/constants/Coloring.ts":(o,_,$)=>{$.r(_),$.d(_,{Coloring:()=>j});var j;(function(_e){_e[_e.NoColors=0]="NoColors",_e[_e.FaceColors=1]="FaceColors",_e[_e.VertexColors=2]="VertexColors"})(j||(j={}))},"./src/WebGL/constants/Shading.ts":(o,_,$)=>{$.r(_),$.d(_,{Shading:()=>j});var j;(function(_e){_e[_e.NoShading=0]="NoShading",_e[_e.FlatShading=1]="FlatShading",_e[_e.SmoothShading=2]="SmoothShading"})(j||(j={}))},"./src/WebGL/constants/Sides.ts":(o,_,$)=>{$.r(_),$.d(_,{BackSide:()=>_e,DoubleSide:()=>et,FrontSide:()=>j});const j=0,_e=1,et=2},"./src/WebGL/constants/SpriteAlignment.ts":(o,_,$)=>{$.r(_),$.d(_,{SpriteAlignment:()=>_e});var j=$("./src/WebGL/math/index.ts");const _e={topLeft:new j.Vector2(1,-1),topCenter:new j.Vector2(0,-1),topRight:new j.Vector2(-1,-1),centerLeft:new j.Vector2(1,0),center:new j.Vector2(0,0),centerRight:new j.Vector2(-1,0),bottomLeft:new j.Vector2(1,1),bottomCenter:new j.Vector2(0,1),bottomRight:new j.Vector2(-1,1)}},"./src/WebGL/constants/TextureConstants.ts":(o,_,$)=>{$.r(_),$.d(_,{ClampToEdgeWrapping:()=>j,FloatType:()=>it,LinearFilter:()=>_e,LinearMipMapLinearFilter:()=>tt,NearestFilter:()=>et,R32Format:()=>bt,RFormat:()=>dt,RGBAFormat:()=>lt,UnsignedByteType:()=>nt});const j=1001,_e=1006,et=1007,tt=1008,nt=1009,it=1010,lt=1021,dt=1022,bt=1023},"./src/WebGL/constants/TextureOperations.ts":(o,_,$)=>{$.r(_),$.d(_,{TextureOperations:()=>j});var j;(function(_e){_e[_e.MultiplyOperation=0]="MultiplyOperation",_e[_e.MixOperation=1]="MixOperation",_e[_e.AddOperation=2]="AddOperation"})(j||(j={}))},"./src/WebGL/constants/index.ts":(o,_,$)=>{$.r(_),$.d(_,{BackSide:()=>_e.BackSide,ClampToEdgeWrapping:()=>nt.ClampToEdgeWrapping,Coloring:()=>j.Coloring,DoubleSide:()=>_e.DoubleSide,FloatType:()=>nt.FloatType,FrontSide:()=>_e.FrontSide,LinearFilter:()=>nt.LinearFilter,LinearMipMapLinearFilter:()=>nt.LinearMipMapLinearFilter,NearestFilter:()=>nt.NearestFilter,R32Format:()=>nt.R32Format,RFormat:()=>nt.RFormat,RGBAFormat:()=>nt.RGBAFormat,Shading:()=>et.Shading,SpriteAlignment:()=>tt.SpriteAlignment,TextureOperations:()=>it.TextureOperations,UnsignedByteType:()=>nt.UnsignedByteType});var j=$("./src/WebGL/constants/Coloring.ts"),_e=$("./src/WebGL/constants/Sides.ts"),et=$("./src/WebGL/constants/Shading.ts"),tt=$("./src/WebGL/constants/SpriteAlignment.ts"),nt=$("./src/WebGL/constants/TextureConstants.ts"),it=$("./src/WebGL/constants/TextureOperations.ts")},"./src/WebGL/core/EventDispatcher.ts":(o,_,$)=>{$.r(_),$.d(_,{EventDispatcher:()=>j});class j{constructor(){this.listeners={}}dispatchEvent(et){var tt=this.listeners[et.type];if(tt!==void 0){et.target=this;for(var nt=0,it=tt.length;nt<it;nt++)tt[nt].call(this,et)}}removeEventListener(et,tt){if(!tt)this.listeners[et]=[];else{var nt=this.listeners[et].indexOf(tt);nt!==-1&&this.listeners[et].splice(nt,1)}}addEventListener(et,tt){this.listeners[et]===void 0&&(this.listeners[et]=[]),this.listeners[et].indexOf(tt)===-1&&this.listeners[et].push(tt)}}},"./src/WebGL/core/Geometry.ts":(o,_,$)=>{$.r(_),$.d(_,{Geometry:()=>lt,GeometryGroup:()=>it,GeometryIDCount:()=>dt});var j=$("./src/WebGL/materials/LineBasicMaterial.ts"),_e=$("./src/WebGL/core/EventDispatcher.ts"),et=$("./src/WebGL/math/index.ts"),tt=$("./src/colors.ts");const nt=65535;class it{constructor(Ht=0){this.vertexArray=null,this.colorArray=null,this.normalArray=null,this.radiusArray=null,this.faceArray=null,this.lineArray=null,this.vertices=0,this.faceidx=0,this.lineidx=0,this.__inittedArrays=!1,this.id=Ht}setColors(Ht){var pr=this.vertexArray,_n=this.colorArray;if(!pr)throw new Error("vertex array not initialized");if(!_n)throw new Error("color array not initialized");if(pr.length!=_n.length){console.log("Cannot re-color geometry group due to mismatched lengths.");return}for(var ft=0;ft<pr.length;ft+=3){var Ct=Ht(pr[ft],pr[ft+1],pr[ft+2]);Ct instanceof tt.Color||(Ct=tt.CC.color(Ct)),_n[ft]=Ct.r,_n[ft+1]=Ct.g,_n[ft+2]=Ct.b}}getNumVertices(){return this.vertices}getVertices(){return this.vertexArray}getCentroid(){if(!this.vertexArray)throw new Error("vertex array not initialized");for(var Ht=new et.Vector3,pr,_n,ft,Ct,mr=0;mr<this.vertices;++mr)pr=mr*3,_n=this.vertexArray[pr],ft=this.vertexArray[pr+1],Ct=this.vertexArray[pr+2],Ht.x+=_n,Ht.y+=ft,Ht.z+=Ct;return Ht.divideScalar(this.vertices),Ht}setNormals(){var Ht=this.faceArray,pr=this.vertexArray,_n=this.normalArray;if(!(!this.vertices||!this.faceidx)){if(!Ht)throw new Error("face array not initialized");if(!pr)throw new Error("vertex array not initialized");if(!_n)throw new Error("normal array not initialized");for(var ft,Ct,mr,_r,mn,dr,pn,Do=0;Do<Ht.length/3;++Do)ft=Ht[Do*3]*3,Ct=Ht[Do*3+1]*3,mr=Ht[Do*3+2]*3,_r=new et.Vector3(pr[ft],pr[ft+1],pr[ft+2]),mn=new et.Vector3(pr[Ct],pr[Ct+1],pr[Ct+2]),dr=new et.Vector3(pr[mr],pr[mr+1],pr[mr+2]),_r.subVectors(_r,mn),dr.subVectors(dr,mn),dr.cross(_r),pn=dr,pn.normalize(),_n[ft]+=pn.x,_n[Ct]+=pn.x,_n[mr]+=pn.x,_n[ft+1]+=pn.y,_n[Ct+1]+=pn.y,_n[mr+1]+=pn.y,_n[ft+2]+=pn.z,_n[Ct+2]+=pn.z,_n[mr+2]+=pn.z}}setLineIndices(){if(this.faceidx&&!(this.lineArray&&this.lineArray.length==this.faceidx*2&&this.lineidx==this.faceidx*2)){var Ht=this.faceArray,pr=this.lineArray=new Uint16Array(this.faceidx*2);if(this.lineidx=this.faceidx*2,!Ht)throw new Error("face array not initialized");for(var _n=0;_n<this.faceidx/3;++_n){var ft=_n*3,Ct=ft*2,mr=Ht[ft],_r=Ht[ft+1],mn=Ht[ft+2];pr[Ct]=mr,pr[Ct+1]=_r,pr[Ct+2]=mr,pr[Ct+3]=mn,pr[Ct+4]=_r,pr[Ct+5]=mn}}}vrml(Ht,pr){var _n,ft,Ct,mr,_r,mn,dr,pn,Do,Io,Lo,ms,Uo,_s,yp,xs,vs,Sp,wp="";if(wp+=Ht+`Shape {
`+Ht+` appearance Appearance {
`+Ht+`  material Material {
`+Ht+"   diffuseColor "+((_n=pr==null?void 0:pr.color)===null||_n===void 0?void 0:_n.r)+" "+((ft=pr==null?void 0:pr.color)===null||ft===void 0?void 0:ft.g)+" "+((Ct=pr==null?void 0:pr.color)===null||Ct===void 0?void 0:Ct.b)+`
`,pr.wireframe&&this.colorArray){let Ep=this.colorArray;wp+=Ht+"    emissiveColor "+Ep[0]+" "+Ep[1]+" "+Ep[2]+`
`}pr!=null&&pr.transparent&&(wp+=Ht+"   transparency "+(1-pr.opacity)+`
`),wp+=Ht+`  }
`,wp+=Ht+` }
`;var bp=Ht;if(Ht+=" ",pr instanceof j.LineBasicMaterial||pr.wireframe){wp+=Ht+`geometry IndexedLineSet {
`+Ht+` colorPerVertex TRUE
`+Ht+` coord Coordinate {
`+Ht+`  point [
`;let Ep,Cp,Ap;for(let Mp=0;Mp<this.vertices;++Mp){let Pp=Mp*3;Ep=(mr=this.vertexArray)===null||mr===void 0?void 0:mr[Pp],Cp=(_r=this.vertexArray)===null||_r===void 0?void 0:_r[Pp+1],Ap=(mn=this.vertexArray)===null||mn===void 0?void 0:mn[Pp+2],wp+=Ht+"   "+Ep+" "+Cp+" "+Ap+`,
`}if(wp+=Ht+`  ]
`,wp+=Ht+` }
`,this.colorArray&&!pr.wireframe){wp+=Ht+` color Color {
`+Ht+`  color [
`;for(let Mp=0;Mp<this.vertices;++Mp){let Pp=Mp*3;Ep=this.colorArray[Pp],Cp=this.colorArray[Pp+1],Ap=this.colorArray[Pp+2],wp+=Ht+"   "+Ep+" "+Cp+" "+Ap+`,
`}wp+=Ht+`  ]
`,wp+=Ht+` }
`}if(wp+=Ht+` coordIndex [
`,pr.wireframe&&this.faceArray)for(let Mp=0;Mp<this.faceidx;Mp+=3)Ep=(dr=this.faceArray)===null||dr===void 0?void 0:dr[Mp],Cp=(pn=this.faceArray)===null||pn===void 0?void 0:pn[Mp+1],Ap=(Do=this.faceArray)===null||Do===void 0?void 0:Do[Mp+2],wp+=Ht+"  "+Ep+", "+Cp+", "+Ap+`, -1,
`;else for(let Mp=0;Mp<this.vertices-1;Mp+=2)wp+=Ht+"  "+Mp+", "+(Mp+1)+`, -1,
`;wp+=Ht+` ]
`,wp+=Ht+`}
`}else{wp+=Ht+`geometry IndexedFaceSet {
`+Ht+` colorPerVertex TRUE
`+Ht+` normalPerVertex TRUE
`+Ht+` solid FALSE
`,wp+=Ht+` coord Coordinate {
`+Ht+`  point [
`;let Ep,Cp,Ap;for(let Mp=0;Mp<this.vertices;++Mp){let Pp=Mp*3;Ep=(Io=this.vertexArray)===null||Io===void 0?void 0:Io[Pp],Cp=(Lo=this.vertexArray)===null||Lo===void 0?void 0:Lo[Pp+1],Ap=(ms=this.vertexArray)===null||ms===void 0?void 0:ms[Pp+2],wp+=Ht+"   "+Ep+" "+Cp+" "+Ap+`,
`}wp+=Ht+`  ]
`,wp+=Ht+` }
`,wp+=Ht+` normal Normal {
`+Ht+`  vector [
`;for(let Mp=0;Mp<this.vertices;++Mp){let Pp=Mp*3;Ep=(Uo=this.normalArray)===null||Uo===void 0?void 0:Uo[Pp],Cp=(_s=this.normalArray)===null||_s===void 0?void 0:_s[Pp+1],Ap=(yp=this.normalArray)===null||yp===void 0?void 0:yp[Pp+2],wp+=Ht+"   "+Ep+" "+Cp+" "+Ap+`,
`}if(wp+=Ht+`  ]
`,wp+=Ht+` }
`,this.colorArray){wp+=Ht+` color Color {
`+Ht+`  color [
`;for(let Mp=0;Mp<this.vertices;++Mp){let Pp=Mp*3;Ep=this.colorArray[Pp],Cp=this.colorArray[Pp+1],Ap=this.colorArray[Pp+2],wp+=Ht+"   "+Ep+" "+Cp+" "+Ap+`,
`}wp+=Ht+`  ]
`,wp+=Ht+` }
`}wp+=Ht+` coordIndex [
`;for(let Mp=0;Mp<this.faceidx;Mp+=3)Ep=(xs=this.faceArray)===null||xs===void 0?void 0:xs[Mp],Cp=(vs=this.faceArray)===null||vs===void 0?void 0:vs[Mp+1],Ap=(Sp=this.faceArray)===null||Sp===void 0?void 0:Sp[Mp+2],wp+=Ht+"  "+Ep+", "+Cp+", "+Ap+`, -1,
`;wp+=Ht+` ]
`,wp+=Ht+`}
`}return wp+=bp+"}",wp}truncateArrayBuffers(Ht=!0,pr=!1){var _n=this.vertexArray,ft=this.colorArray,Ct=this.normalArray,mr=this.faceArray,_r=this.lineArray,mn=this.radiusArray;this.vertexArray=(_n==null?void 0:_n.subarray(0,this.vertices*3))||null,this.colorArray=(ft==null?void 0:ft.subarray(0,this.vertices*3))||null,Ht?(this.normalArray=(Ct==null?void 0:Ct.subarray(0,this.vertices*3))||null,this.faceArray=(mr==null?void 0:mr.subarray(0,this.faceidx))||null,this.lineidx>0?this.lineArray=(_r==null?void 0:_r.subarray(0,this.lineidx))||null:this.lineArray=new Uint16Array(0)):(this.normalArray=new Float32Array(0),this.faceArray=new Uint16Array(0),this.lineArray=new Uint16Array(0)),mn&&(this.radiusArray=mn.subarray(0,this.vertices)),pr&&(this.normalArray&&(this.normalArray=new Float32Array(this.normalArray)),this.faceArray&&(this.faceArray=new Uint16Array(this.faceArray)),this.lineArray&&(this.lineArray=new Uint16Array(this.lineArray)),this.vertexArray&&(this.vertexArray=new Float32Array(this.vertexArray)),this.colorArray&&(this.colorArray=new Float32Array(this.colorArray)),this.radiusArray&&(this.radiusArray=new Float32Array(this.radiusArray))),this.__inittedArrays=!0}}class lt extends _e.EventDispatcher{constructor(Ht=!1,pr=!1,_n=!1){super(),this.name="",this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.buffersNeedUpdate=!1,this.imposter=!1,this.instanced=!1,this.geometryGroups=[],this.groups=0,this.id=dt++,this.mesh=Ht,this.radii=pr,this.offset=_n}updateGeoGroup(Ht=0){var pr,_n=this.groups>0?this.geometryGroups[this.groups-1]:null;return(!_n||_n.vertices+Ht>(((pr=_n==null?void 0:_n.vertexArray)===null||pr===void 0?void 0:pr.length)||0)/3)&&(_n=this.addGeoGroup()),_n}vrml(Ht,pr){for(var _n="",ft=this.geometryGroups.length,Ct=0;Ct<ft;Ct++){var mr=this.geometryGroups[Ct];_n+=mr.vrml(Ht,pr)+`,
`}return _n}addGeoGroup(){var Ht=new it(this.geometryGroups.length);return this.geometryGroups.push(Ht),this.groups=this.geometryGroups.length,Ht.vertexArray=new Float32Array(nt*3),Ht.colorArray=new Float32Array(nt*3),this.mesh&&(Ht.normalArray=new Float32Array(nt*3),Ht.faceArray=new Uint16Array(nt*6),Ht.lineArray=new Uint16Array(nt*6)),this.radii&&(Ht.radiusArray=new Float32Array(nt)),Ht.useOffset=this.offset,Ht}setUpNormals(...Ht){for(var pr=0;pr<this.groups;pr++){var _n=this.geometryGroups[pr];_n.setNormals(...Ht)}}setColors(...Ht){for(var pr=this.geometryGroups.length,_n=0;_n<pr;_n++){var ft=this.geometryGroups[_n];ft.setColors(...Ht)}}setUpWireframe(...Ht){for(var pr=0;pr<this.groups;pr++){var _n=this.geometryGroups[pr];_n.setLineIndices(...Ht)}}initTypedArrays(){for(var Ht=0;Ht<this.groups;Ht++){var pr=this.geometryGroups[Ht];pr.__inittedArrays!==!0&&pr.truncateArrayBuffers(this.mesh,!1)}}dispose(){this.dispatchEvent({type:"dispose"})}get vertices(){for(var Ht=0,pr=0;pr<this.groups;pr++)Ht+=this.geometryGroups[pr].vertices;return Ht}}let dt=0},"./src/WebGL/core/Object3D.ts":(o,_,$)=>{$.r(_),$.d(_,{Light:()=>it,Object3D:()=>tt,Object3DIDCount:()=>et,Scene:()=>nt});var j=$("./src/WebGL/math/index.ts"),_e=$("./src/colors.ts");let et=0;class tt{constructor(){this.id=et++,this.name="",this.children=[],this.position=new j.Vector3,this.rotation=new j.Vector3,this.matrix=new j.Matrix4,this.matrixWorld=new j.Matrix4,this.quaternion=new j.Quaternion,this.eulerOrder="XYZ",this.up=new j.Vector3(0,1,0),this.scale=new j.Vector3(1,1,1),this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!0,this.rotationAutoUpdate=!0,this.useQuaternion=!1,this.visible=!0}lookAt(dt){this.matrix.lookAt(dt,this.position,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!0?console.error("Unimplemented math operation."):this.rotation instanceof j.Vector3&&this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))}add(dt){if(dt===this){console.error("Can't add $3Dmol.Object3D to itself");return}dt.parent=this,this.children.push(dt);for(var bt=this;bt.parent!==void 0;)bt=bt.parent;bt!==void 0&&bt instanceof nt&&bt.__addObject(dt)}remove(dt){var bt=this.children.indexOf(dt);if(bt!==-1){dt.parent=void 0,this.children.splice(bt,1);for(var Ht=this;Ht.parent!==void 0;)Ht=Ht.parent;Ht!==void 0&&Ht instanceof nt&&Ht.__removeObject(dt)}}vrml(dt){dt||(dt=" ");var bt=2*Math.atan2(this.quaternion.lengthxyz(),this.quaternion.w),Ht=0,pr=0,_n=0;if(bt!=0){let mr=Math.sin(bt/2);Ht=this.quaternion.x/mr,pr=this.quaternion.y/mr,_n=this.quaternion.z/mr}var ft=dt+`Transform {
`+dt+" center "+this.position.x+" "+this.position.y+" "+this.position.z+`
`+dt+" rotation "+Ht+" "+pr+" "+_n+" "+bt+`
`+dt+` children [
`;this.geometry&&(ft+=this.geometry.vrml(dt,this.material));for(var Ct=0;Ct<this.children.length;Ct++)ft+=this.children[Ct].vrml(dt+" ")+`,
`;return ft+=` ]
`,ft+="}",ft}updateMatrix(){this.matrix.setPosition(this.position),this.useQuaternion===!1&&this.rotation instanceof j.Vector3?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion),(this.scale.x!==1||this.scale.y!==1||this.scale.z!==1)&&this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(dt){this.matrixAutoUpdate===!0&&this.updateMatrix(),(this.matrixWorldNeedsUpdate===!0||dt===!0)&&(this.parent===void 0?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1;for(var bt=0;bt<this.children.length;bt++)this.children[bt].updateMatrixWorld(!0)}clone(dt){dt===void 0&&(dt=new tt),dt.name=this.name,dt.up.copy(this.up),dt.position.copy(this.position),dt.rotation instanceof j.Vector3&&this.rotation instanceof j.Vector3?dt.rotation.copy(this.rotation):dt.rotation=this.rotation,dt.eulerOrder=this.eulerOrder,dt.scale.copy(this.scale),dt.rotationAutoUpdate=this.rotationAutoUpdate,dt.matrix.copy(this.matrix),dt.matrixWorld.copy(this.matrixWorld),dt.quaternion.copy(this.quaternion),dt.matrixAutoUpdate=this.matrixAutoUpdate,dt.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,dt.useQuaternion=this.useQuaternion,dt.visible=this.visible;for(var bt=0;bt<this.children.length;bt++){var Ht=this.children[bt];dt.add(Ht.clone())}return dt}setVisible(dt){this.visible=dt;for(var bt=0;bt<this.children.length;bt++){var Ht=this.children[bt];Ht.setVisible(dt)}}}class nt extends tt{constructor(){super(...arguments),this.fog=null,this.overrideMaterial=null,this.matrixAutoUpdate=!1,this.__objects=[],this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]}__addObject(dt){if(dt instanceof it)this.__lights.indexOf(dt)===-1&&this.__lights.push(dt),dt.target&&dt.target.parent===void 0&&this.add(dt.target);else if(this.__objects.indexOf(dt)===-1){this.__objects.push(dt),this.__objectsAdded.push(dt);var bt=this.__objectsRemoved.indexOf(dt);bt!==-1&&this.__objectsRemoved.splice(bt,1)}for(var Ht=0;Ht<dt.children.length;Ht++)this.__addObject(dt.children[Ht])}__removeObject(dt){var bt;if(dt instanceof it)bt=this.__lights.indexOf(dt),bt!==-1&&this.__lights.splice(bt,1);else if(bt=this.__objects.indexOf(dt),bt!==-1){this.__objects.splice(bt,1),this.__objectsRemoved.push(dt);var Ht=this.__objectsAdded.indexOf(dt);Ht!==-1&&this.__objectsAdded.splice(bt,1)}for(var pr=0;pr<dt.children.length;pr++)this.__removeObject(dt.children[pr])}}class it extends tt{constructor(dt,bt=1){super(),this.position=new j.Vector3(0,1,0),this.target=new tt,this.castShadow=!1,this.onlyShadow=!1,this.color=new _e.Color(dt),this.intensity=bt}}},"./src/WebGL/core/Projector.ts":(o,_,$)=>{$.r(_),$.d(_,{Projector:()=>et});var j=$("./src/WebGL/math/index.ts");const _e=new j.Matrix4;class et{static unprojectVector(nt,it){return it.projectionMatrixInverse.getInverse(it.projectionMatrix),_e.multiplyMatrices(it.matrixWorld,it.projectionMatrixInverse),nt.applyProjection(_e)}static projectVector(nt,it){return it.matrixWorldInverse.getInverse(it.matrixWorld),_e.multiplyMatrices(it.projectionMatrix,it.matrixWorldInverse),nt.applyProjection(_e)}projectVector(nt,it){return et.projectVector(nt,it)}unprojectVector(nt,it){return et.unprojectVector(nt,it)}}},"./src/WebGL/core/Raycaster.ts":(o,_,$)=>{$.r(_),$.d(_,{Raycaster:()=>nt,intersectObject:()=>mr});var j=$("./src/WebGL/math/index.ts"),_e=$("./src/WebGL/shapes/index.ts");const et=(_r,mn)=>_r.distance-mn.distance,tt=new j.Matrix4;class nt{constructor(mn,dr,pn,Do){this.precision=1e-4,this.linePrecision=.2,this.ray=new j.Ray(mn,dr),this.ray.direction.lengthSq()>0&&this.ray.direction.normalize(),this.near=Do||0,this.far=pn||1/0}set(mn,dr){this.ray.set(mn,dr)}setFromCamera(mn,dr){dr.ortho?(this.ray.origin.set(mn.x,mn.y,(dr.near+dr.far)/(dr.near-dr.far)).unproject(dr),this.ray.direction.set(0,0,-1).transformDirection(dr.matrixWorld)):(this.ray.origin.setFromMatrixPosition(dr.matrixWorld),this.ray.direction.set(mn.x,mn.y,mn.z),dr.projectionMatrixInverse.getInverse(dr.projectionMatrix),tt.multiplyMatrices(dr.matrixWorld,dr.projectionMatrixInverse),this.ray.direction.applyProjection(tt),this.ray.direction.sub(this.ray.origin).normalize())}intersectObjects(mn,dr){for(var pn=[],Do=0,Io=dr.length;Do<Io;Do++)mr(mn,dr[Do],this,pn);return pn.sort(et),pn}}const it=_r=>Math.min(Math.max(_r,-1),1);var lt=new _e.Sphere,dt=new _e.Cylinder,bt=new _e.Triangle,Ht=new j.Vector3,pr=new j.Vector3,_n=new j.Vector3,ft=new j.Vector3,Ct=new j.Vector3;function mr(_r,mn,dr,pn){if(Ct.getPositionFromMatrix(_r.matrixWorld),mn.intersectionShape===void 0)return pn;var Do=mn.intersectionShape,Io=dr.linePrecision;Io*=_r.matrixWorld.getMaxScaleOnAxis();var Lo=Io*Io;if(mn.boundingSphere!==void 0&&mn.boundingSphere instanceof _e.Sphere&&(lt.copy(mn.boundingSphere),lt.applyMatrix4(_r.matrixWorld),!dr.ray.isIntersectionSphere(lt)))return pn;var ms,Uo,_s,yp,xs,vs,Sp,wp,bp,Ep,Cp,Ap,Mp,Pp;for(ms=0,Uo=Do.triangle.length;ms<Uo;ms++)if(Do.triangle[ms]instanceof _e.Triangle){if(bt.copy(Do.triangle[ms]),bt.applyMatrix4(_r.matrixWorld),_s=bt.getNormal(),yp=dr.ray.direction.dot(_s),yp>=0||(Ht.subVectors(bt.a,dr.ray.origin),Sp=_s.dot(Ht)/yp,Sp<0))continue;pr.copy(dr.ray.direction).multiplyScalar(Sp).add(dr.ray.origin),pr.sub(bt.a),_n.copy(bt.b).sub(bt.a),ft.copy(bt.c).sub(bt.a);var Ip=_n.dot(ft),Op=_n.lengthSq(),Wp=ft.lengthSq();if(Ap=(Op*pr.dot(ft)-Ip*pr.dot(_n))/(Op*Wp-Ip*Ip),Ap<0||Ap>1||(Cp=(pr.dot(_n)-Ap*Ip)/Op,Cp<0||Cp>1||Cp+Ap>1))continue;pn.push({clickable:mn,distance:Sp})}for(ms=0,Uo=Do.cylinder.length;ms<Uo;ms++)if(Do.cylinder[ms]instanceof _e.Cylinder){if(dt.copy(Do.cylinder[ms]),dt.applyMatrix4(_r.matrixWorld),Ht.subVectors(dt.c1,dr.ray.origin),xs=Ht.dot(dt.direction),vs=Ht.dot(dr.ray.direction),yp=it(dr.ray.direction.dot(dt.direction)),bp=1-yp*yp,bp===0)continue;Mp=(yp*vs-xs)/bp,Pp=(vs-yp*xs)/bp,pr.copy(dt.direction).multiplyScalar(Mp).add(dt.c1),_n.copy(dr.ray.direction).multiplyScalar(Pp).add(dr.ray.origin),wp=ft.subVectors(pr,_n).lengthSq();var Yp=dt.radius*dt.radius;if(wp<=Yp){if(Ep=(yp*xs-vs)*(yp*xs-vs)-bp*(Ht.lengthSq()-xs*xs-Yp),Ep<=0?Ap=Sp=Math.sqrt(wp):Ap=Sp=(vs-yp*xs-Math.sqrt(Ep))/bp,Cp=yp*Ap-xs,Cp<0||Cp*Cp>dt.lengthSq()||Ap<0)continue;pn.push({clickable:mn,distance:Sp})}}for(ms=0,Uo=Do.line.length;ms<Uo;ms+=2){pr.copy(Do.line[ms]),pr.applyMatrix4(_r.matrixWorld),_n.copy(Do.line[ms+1]),_n.applyMatrix4(_r.matrixWorld),ft.subVectors(_n,pr);var Zp=ft.lengthSq();ft.normalize(),Ht.subVectors(pr,dr.ray.origin);var Qp=Ht.dot(ft);vs=Ht.dot(dr.ray.direction),yp=it(dr.ray.direction.dot(ft)),bp=1-yp*yp,bp!==0&&(Mp=(yp*vs-Qp)/bp,Pp=(vs-yp*Qp)/bp,pr.add(ft.multiplyScalar(Mp)),_n.copy(dr.ray.direction).multiplyScalar(Pp).add(dr.ray.origin),wp=ft.subVectors(_n,pr).lengthSq(),wp<Lo&&Mp*Mp<Zp&&pn.push({clickable:mn,distance:Pp}))}for(ms=0,Uo=Do.sphere.length;ms<Uo;ms++)if(Do.sphere[ms]instanceof _e.Sphere&&(lt.copy(Do.sphere[ms]),lt.applyMatrix4(_r.matrixWorld),dr.ray.isIntersectionSphere(lt))){pr.subVectors(lt.center,dr.ray.origin);var Gp=pr.dot(dr.ray.direction);if(Ep=Gp*Gp-(pr.lengthSq()-lt.radius*lt.radius),Gp<0)return pn;Ep<=0?Sp=Gp:Sp=Gp-Math.sqrt(Ep),pn.push({clickable:mn,distance:Sp})}return pn}},"./src/WebGL/core/Texture.ts":(o,_,$)=>{$.r(_),$.d(_,{Texture:()=>nt,TextureIdCount:()=>it});var j=$("./src/WebGL/constants/TextureConstants.ts"),_e=$("./src/WebGL/math/index.ts"),et=$("./src/WebGL/core/EventDispatcher.ts"),tt=$("./src/WebGL/core/UVMapping.ts");class nt extends et.EventDispatcher{constructor(dt,bt){super(),this.id=it++,this.name="",this.image=dt,this.mapping=new tt.UVMapping,this.wrapS=j.ClampToEdgeWrapping,this.wrapT=j.ClampToEdgeWrapping,this.anisotropy=1,bt?(this.format=j.RFormat,this.type=j.FloatType,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.magFilter=j.NearestFilter,this.minFilter=j.NearestFilter):(this.format=j.RGBAFormat,this.type=j.UnsignedByteType,this.offset=new _e.Vector2(0,0),this.repeat=new _e.Vector2(1,1),this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.magFilter=j.LinearFilter,this.minFilter=j.LinearMipMapLinearFilter),this.needsUpdate=!1,this.onUpdate=null}clone(dt=new nt){return dt.image=this.image,dt.mapping=this.mapping,dt.wrapS=this.wrapS,dt.wrapT=this.wrapT,dt.magFilter=this.magFilter,dt.minFilter=this.minFilter,dt.anisotropy=this.anisotropy,dt.format=this.format,dt.type=this.type,dt.offset.copy(this.offset),dt.repeat.copy(this.repeat),dt.premultiplyAlpha=this.premultiplyAlpha,dt.flipY=this.flipY,dt.unpackAlignment=this.unpackAlignment,dt}dispose(){this.dispatchEvent({type:"dispose"})}}let it=0},"./src/WebGL/core/UVMapping.ts":(o,_,$)=>{$.r(_),$.d(_,{UVMapping:()=>j});class j{}},"./src/WebGL/core/index.ts":(o,_,$)=>{$.r(_),$.d(_,{EventDispatcher:()=>j.EventDispatcher,Geometry:()=>_e.Geometry,GeometryGroup:()=>_e.GeometryGroup,GeometryIDCount:()=>_e.GeometryIDCount,Light:()=>et.Light,Object3D:()=>et.Object3D,Object3DIDCount:()=>et.Object3DIDCount,Projector:()=>tt.Projector,Raycaster:()=>nt.Raycaster,Scene:()=>et.Scene,Texture:()=>it.Texture,TextureIdCount:()=>it.TextureIdCount,UVMapping:()=>lt.UVMapping,intersectObject:()=>nt.intersectObject});var j=$("./src/WebGL/core/EventDispatcher.ts"),_e=$("./src/WebGL/core/Geometry.ts"),et=$("./src/WebGL/core/Object3D.ts"),tt=$("./src/WebGL/core/Projector.ts"),nt=$("./src/WebGL/core/Raycaster.ts"),it=$("./src/WebGL/core/Texture.ts"),lt=$("./src/WebGL/core/UVMapping.ts")},"./src/WebGL/index.ts":(o,_,$)=>{$.r(_),$.d(_,{BackSide:()=>j.BackSide,Camera:()=>dt.Camera,ClampToEdgeWrapping:()=>j.ClampToEdgeWrapping,Coloring:()=>j.Coloring,Cylinder:()=>lt.Cylinder,DoubleSide:()=>j.DoubleSide,EventDispatcher:()=>_e.EventDispatcher,FloatType:()=>j.FloatType,Fog:()=>bt.Fog,FrontSide:()=>j.FrontSide,Geometry:()=>_e.Geometry,GeometryGroup:()=>_e.GeometryGroup,GeometryIDCount:()=>_e.GeometryIDCount,ImposterMaterial:()=>et.ImposterMaterial,InstancedMaterial:()=>et.InstancedMaterial,Light:()=>_e.Light,Line:()=>nt.Line,LineBasicMaterial:()=>et.LineBasicMaterial,LineStyle:()=>nt.LineStyle,LinearFilter:()=>j.LinearFilter,LinearMipMapLinearFilter:()=>j.LinearMipMapLinearFilter,Material:()=>et.Material,MaterialIdCount:()=>et.MaterialIdCount,Matrix3:()=>tt.Matrix3,Matrix4:()=>tt.Matrix4,Mesh:()=>nt.Mesh,MeshDoubleLambertMaterial:()=>et.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>et.MeshLambertMaterial,MeshOutlineMaterial:()=>et.MeshOutlineMaterial,NearestFilter:()=>j.NearestFilter,Object3D:()=>_e.Object3D,Object3DIDCount:()=>_e.Object3DIDCount,Projector:()=>_e.Projector,Quaternion:()=>tt.Quaternion,R32Format:()=>j.R32Format,RFormat:()=>j.RFormat,RGBAFormat:()=>j.RGBAFormat,Ray:()=>tt.Ray,Raycaster:()=>_e.Raycaster,Renderer:()=>Ht.Renderer,Scene:()=>_e.Scene,ShaderLib:()=>it.ShaderLib,ShaderUtils:()=>it.ShaderUtils,Shading:()=>j.Shading,Sphere:()=>lt.Sphere,SphereImposterMaterial:()=>et.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>et.SphereImposterOutlineMaterial,Sprite:()=>nt.Sprite,SpriteAlignment:()=>j.SpriteAlignment,SpriteMaterial:()=>et.SpriteMaterial,SpritePlugin:()=>pr.SpritePlugin,StickImposterMaterial:()=>et.StickImposterMaterial,StickImposterOutlineMaterial:()=>et.StickImposterOutlineMaterial,Texture:()=>_e.Texture,TextureIdCount:()=>_e.TextureIdCount,TextureOperations:()=>j.TextureOperations,Triangle:()=>lt.Triangle,UVMapping:()=>_e.UVMapping,UnsignedByteType:()=>j.UnsignedByteType,Vector2:()=>tt.Vector2,Vector3:()=>tt.Vector3,VolumetricMaterial:()=>et.VolumetricMaterial,basic:()=>it.basic,clamp:()=>tt.clamp,clone:()=>it.clone,conversionMatrix3:()=>tt.conversionMatrix3,degToRad:()=>tt.degToRad,instanced:()=>it.instanced,intersectObject:()=>_e.intersectObject,lambert:()=>it.lambert,lambertdouble:()=>it.lambertdouble,outline:()=>it.outline,screen:()=>it.screen,screenaa:()=>it.screenaa,sphereimposter:()=>it.sphereimposter,sphereimposteroutline:()=>it.sphereimposteroutline,sprite:()=>it.sprite,stickimposter:()=>it.stickimposter,stickimposteroutline:()=>it.stickimposteroutline,volumetric:()=>it.volumetric});var j=$("./src/WebGL/constants/index.ts"),_e=$("./src/WebGL/core/index.ts"),et=$("./src/WebGL/materials/index.ts"),tt=$("./src/WebGL/math/index.ts"),nt=$("./src/WebGL/objects/index.ts"),it=$("./src/WebGL/shaders/index.ts"),lt=$("./src/WebGL/shapes/index.ts"),dt=$("./src/WebGL/Camera.ts"),bt=$("./src/WebGL/Fog.ts"),Ht=$("./src/WebGL/Renderer.ts"),pr=$("./src/WebGL/SpritePlugin.ts")},"./src/WebGL/materials/ImposterMaterial.ts":(o,_,$)=>{$.r(_),$.d(_,{ImposterMaterial:()=>it});var j=$("./src/WebGL/constants/Coloring.ts"),_e=$("./src/WebGL/constants/Shading.ts"),et=$("./src/colors.ts"),tt=$("./src/WebGL/math/index.ts"),nt=$("./src/WebGL/materials/Material.ts");class it extends nt.Material{constructor(dt){super(),this.color=new et.Color(16777215),this.ambient=new et.Color(1048575),this.emissive=new et.Color(0),this.imposter=!0,this.wrapAround=!1,this.wrapRGB=new tt.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=_e.Shading.SmoothShading,this.shaderID=null,this.vertexColors=j.Coloring.NoColors,this.skinning=!1,this.setValues(dt)}clone(dt=new it){return super.clone.call(this,dt),dt.color.copy(this.color),dt.ambient.copy(this.ambient),dt.emissive.copy(this.emissive),dt.wrapAround=this.wrapAround,dt.wrapRGB.copy(this.wrapRGB),dt.map=this.map,dt.lightMap=this.lightMap,dt.specularMap=this.specularMap,dt.envMap=this.envMap,dt.combine=this.combine,dt.reflectivity=this.reflectivity,dt.refractionRatio=this.refractionRatio,dt.fog=this.fog,dt.shading=this.shading,dt.shaderID=this.shaderID,dt.vertexColors=this.vertexColors,dt.skinning=this.skinning,dt.morphTargets=this.morphTargets,dt.morphNormals=this.morphNormals,dt}}},"./src/WebGL/materials/InstancedMaterial.ts":(o,_,$)=>{$.r(_),$.d(_,{InstancedMaterial:()=>it});var j=$("./src/WebGL/constants/Coloring.ts"),_e=$("./src/WebGL/constants/Shading.ts"),et=$("./src/colors.ts"),tt=$("./src/WebGL/math/index.ts"),nt=$("./src/WebGL/materials/Material.ts");class it extends nt.Material{constructor(dt){super(),this.color=new et.Color(16777215),this.ambient=new et.Color(1048575),this.emissive=new et.Color(0),this.wrapAround=!1,this.wrapRGB=new tt.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=_e.Shading.SmoothShading,this.shaderID="instanced",this.vertexColors=j.Coloring.NoColors,this.skinning=!1,this.sphere=null,this.setValues(dt)}clone(dt=new it){return super.clone.call(this,dt),dt.color.copy(this.color),dt.ambient.copy(this.ambient),dt.emissive.copy(this.emissive),dt.wrapAround=this.wrapAround,dt.wrapRGB.copy(this.wrapRGB),dt.map=this.map,dt.lightMap=this.lightMap,dt.specularMap=this.specularMap,dt.envMap=this.envMap,dt.combine=this.combine,dt.reflectivity=this.reflectivity,dt.refractionRatio=this.refractionRatio,dt.fog=this.fog,dt.shading=this.shading,dt.shaderID=this.shaderID,dt.vertexColors=this.vertexColors,dt.skinning=this.skinning,dt.morphTargets=this.morphTargets,dt.morphNormals=this.morphNormals,dt.sphere=this.sphere,dt}}},"./src/WebGL/materials/LineBasicMaterial.ts":(o,_,$)=>{$.r(_),$.d(_,{LineBasicMaterial:()=>et});var j=$("./src/colors.ts"),_e=$("./src/WebGL/materials/Material.ts");class et extends _e.Material{constructor(nt){super(),this.color=new j.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=!1,this.fog=!0,this.shaderID="basic",this.setValues(nt)}clone(nt=new et){return super.clone.call(this,nt),nt.color.copy(this.color),nt}}},"./src/WebGL/materials/Material.ts":(o,_,$)=>{$.r(_),$.d(_,{Material:()=>nt,MaterialIdCount:()=>it});var j=$("./src/WebGL/constants/Sides.ts"),_e=$("./src/WebGL/core/index.ts"),et=$("./src/WebGL/math/index.ts"),tt=$("./src/colors.ts");class nt extends _e.EventDispatcher{constructor(){super(...arguments),this.id=it++,this.name="",this.side=j.FrontSide,this.opacity=1,this.transparent=!1,this.depthTest=!0,this.depthWrite=!0,this.stencilTest=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.visible=!0,this.needsUpdate=!0,this.outline=!1,this.wireframe=!1}setValues(dt={}){if(dt!==void 0)for(var bt in dt){var Ht=dt[bt];if(Ht===void 0){console.warn("$3Dmol.Material: '"+bt+"' parameter is undefined.");continue}if(bt in this){var pr=this[bt];pr instanceof tt.Color&&Ht instanceof tt.Color?pr.copy(Ht):pr instanceof tt.Color?pr.set(Ht):pr instanceof et.Vector3&&Ht instanceof et.Vector3?pr.copy(Ht):this[bt]=Ht}}}clone(dt=new nt){return dt.name=this.name,dt.side=this.side,dt.opacity=this.opacity,dt.transparent=this.transparent,dt.depthTest=this.depthTest,dt.depthWrite=this.depthWrite,dt.stencilTest=this.stencilTest,dt.polygonOffset=this.polygonOffset,dt.polygonOffsetFactor=this.polygonOffsetFactor,dt.polygonOffsetUnits=this.polygonOffsetUnits,dt.alphaTest=this.alphaTest,dt.overdraw=this.overdraw,dt.visible=this.visible,dt}dispose(){this.dispatchEvent({type:"dispose"})}}let it=0},"./src/WebGL/materials/MeshDoubleLambertMaterial.ts":(o,_,$)=>{$.r(_),$.d(_,{MeshDoubleLambertMaterial:()=>et});var j=$("./src/WebGL/constants/Sides.ts"),_e=$("./src/WebGL/materials/MeshLambertMaterial.ts");class et extends _e.MeshLambertMaterial{constructor(nt){super(nt),this.shaderID="lambertdouble",this.side=j.DoubleSide,this.outline=!1}clone(nt=new et){return super.clone.call(this,nt),nt}}},"./src/WebGL/materials/MeshLambertMaterial.ts":(o,_,$)=>{$.r(_),$.d(_,{MeshLambertMaterial:()=>it});var j=$("./src/WebGL/constants/Coloring.ts"),_e=$("./src/WebGL/constants/Shading.ts"),et=$("./src/WebGL/materials/Material.ts"),tt=$("./src/colors.ts"),nt=$("./src/WebGL/math/index.ts");class it extends et.Material{constructor(dt){super(),this.color=new tt.Color(16777215),this.ambient=new tt.Color(1048575),this.emissive=new tt.Color(0),this.wrapAround=!1,this.wrapRGB=new nt.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=_e.Shading.SmoothShading,this.shaderID="lambert",this.vertexColors=j.Coloring.NoColors,this.skinning=!1,this.setValues(dt)}clone(dt=new it){return super.clone.call(this,dt),dt.color.copy(this.color),dt.ambient.copy(this.ambient),dt.emissive.copy(this.emissive),dt.wrapAround=this.wrapAround,dt.wrapRGB.copy(this.wrapRGB),dt.map=this.map,dt.lightMap=this.lightMap,dt.specularMap=this.specularMap,dt.envMap=this.envMap,dt.combine=this.combine,dt.reflectivity=this.reflectivity,dt.refractionRatio=this.refractionRatio,dt.fog=this.fog,dt.shading=this.shading,dt.shaderID=this.shaderID,dt.vertexColors=this.vertexColors,dt.skinning=this.skinning,dt.morphTargets=this.morphTargets,dt.morphNormals=this.morphNormals,dt}}},"./src/WebGL/materials/MeshOutlineMaterial.ts":(o,_,$)=>{$.r(_),$.d(_,{MeshOutlineMaterial:()=>et});var j=$("./src/colors.ts"),_e=$("./src/WebGL/materials/Material.ts");class et extends _e.Material{constructor(nt){super(),nt=nt||{},this.fog=!0,this.shaderID="outline",this.wireframe=!1,this.outlineColor=nt.color||new j.Color(0,0,0),this.outlineWidth=nt.width||.1,this.outlinePushback=nt.pushback||1}clone(nt=new et){return super.clone.call(this,nt),nt.fog=this.fog,nt.shaderID=this.shaderID,nt.wireframe=this.wireframe,nt}}},"./src/WebGL/materials/SphereImposterMaterial.ts":(o,_,$)=>{$.r(_),$.d(_,{SphereImposterMaterial:()=>_e});var j=$("./src/WebGL/materials/ImposterMaterial.ts");class _e extends j.ImposterMaterial{constructor(tt){super(tt),this.shaderID="sphereimposter",this.setValues(tt)}clone(tt=new _e){return super.clone.call(this,tt),tt}}},"./src/WebGL/materials/SphereImposterOutlineMaterial.ts":(o,_,$)=>{$.r(_),$.d(_,{SphereImposterOutlineMaterial:()=>et});var j=$("./src/colors.ts"),_e=$("./src/WebGL/materials/ImposterMaterial.ts");class et extends _e.ImposterMaterial{constructor(nt){super(nt),nt=nt||{},this.shaderID="sphereimposteroutline",this.outlineColor=nt.color||new j.Color(0,0,0),this.outlineWidth=nt.width||.1,this.outlinePushback=nt.pushback||1,this.setValues(nt)}clone(nt=new et){return super.clone.call(this,nt),nt.outlineColor=this.outlineColor,nt.outlineWidth=this.outlineWidth,nt.outlinePushback=this.outlinePushback,nt}}},"./src/WebGL/materials/SpriteMaterial.ts":(o,_,$)=>{$.r(_),$.d(_,{SpriteMaterial:()=>it});var j=$("./src/WebGL/constants/SpriteAlignment.ts"),_e=$("./src/WebGL/core/Texture.ts"),et=$("./src/colors.ts"),tt=$("./src/WebGL/math/index.ts"),nt=$("./src/WebGL/materials/Material.ts");class it extends nt.Material{constructor(dt){super(),this.color=new et.Color(16777215),this.map=new _e.Texture,this.useScreenCoordinates=!0,this.fog=!1,this.uvOffset=new tt.Vector2(0,0),this.uvScale=new tt.Vector2(1,1),this.depthTest=!this.useScreenCoordinates,this.sizeAttenuation=!this.useScreenCoordinates,this.screenOffset=this.screenOffset,this.scaleByViewPort=!this.sizeAttenuation,this.alignment=j.SpriteAlignment.center.clone(),this.setValues(dt),dt=dt||{},dt.depthTest===void 0&&(this.depthTest=!this.useScreenCoordinates),dt.sizeAttenuation===void 0&&(this.sizeAttenuation=!this.useScreenCoordinates),dt.scaleByViewPort===void 0&&(this.scaleByViewPort=!this.sizeAttenuation)}clone(dt=new it){return super.clone.call(this,dt),dt.color.copy(this.color),dt.map=this.map,dt.useScreenCoordinates=this.useScreenCoordinates,dt.screenOffset=this.screenOffset,dt.sizeAttenuation=this.sizeAttenuation,dt.scaleByViewport=this.scaleByViewPort,dt.alignment.copy(this.alignment),dt.uvOffset.copy(this.uvOffset),dt}}},"./src/WebGL/materials/StickImposterMaterial.ts":(o,_,$)=>{$.r(_),$.d(_,{StickImposterMaterial:()=>_e});var j=$("./src/WebGL/materials/ImposterMaterial.ts");class _e extends j.ImposterMaterial{constructor(tt){super(tt),this.shaderID="stickimposter",this.setValues(tt)}clone(tt=new _e){return super.clone.call(this,tt),tt}}},"./src/WebGL/materials/StickImposterOutlineMaterial.ts":(o,_,$)=>{$.r(_),$.d(_,{StickImposterOutlineMaterial:()=>et});var j=$("./src/colors.ts"),_e=$("./src/WebGL/materials/ImposterMaterial.ts");class et extends _e.ImposterMaterial{constructor(nt={}){super(nt),this.shaderID="stickimposteroutline",this.outlineColor=new j.Color(0,0,0),this.outlineWidth=.1,this.outlinePushback=1,nt.color&&(this.outlineColor=nt.color),nt.width&&(this.outlineWidth=nt.width),nt.pushback&&(this.outlinePushback=nt.pushback),this.setValues(nt)}clone(nt=new et){return super.clone.call(this,nt),nt.outlineColor=this.outlineColor,nt.outlineWidth=this.outlineWidth,nt.outlinePushback=this.outlinePushback,nt}}},"./src/WebGL/materials/VolumetricMaterial.ts":(o,_,$)=>{$.r(_),$.d(_,{VolumetricMaterial:()=>tt});var j=$("./src/WebGL/constants/Sides.ts"),_e=$("./src/colors.ts"),et=$("./src/WebGL/materials/Material.ts");class tt extends et.Material{constructor(it){super(),this.transparent=!1,this.volumetric=!0,this.color=new _e.Color(16777215),this.transferfn=null,this.map=void 0,this.extent=[],this.maxdepth=100,this.unit=0,this.texmatrix=null,this.transfermin=-1,this.transfermax=1,this.subsamples=5,this.shaderID="volumetric",this.side=j.FrontSide,this.setValues(it)}clone(it=new tt){return super.clone.call(this,it),it.transparent=this.transparent,it.volumetric=this.volumetric,it.color=this.color,it.transferfn=this.transferfn,it.map=this.map,it.extent=this.extent,it.maxdepth=this.maxdepth,it.unit=this.unit,it.texmatrix=this.texmatrix,it.transfermin=this.transfermin,it.transfermax=this.transfermax,it.subsamples=this.subsamples,it.shaderID=this.shaderID,it.side=this.side,it}}},"./src/WebGL/materials/index.ts":(o,_,$)=>{$.r(_),$.d(_,{ImposterMaterial:()=>j.ImposterMaterial,InstancedMaterial:()=>_e.InstancedMaterial,LineBasicMaterial:()=>et.LineBasicMaterial,Material:()=>tt.Material,MaterialIdCount:()=>tt.MaterialIdCount,MeshDoubleLambertMaterial:()=>nt.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>it.MeshLambertMaterial,MeshOutlineMaterial:()=>lt.MeshOutlineMaterial,SphereImposterMaterial:()=>dt.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>bt.SphereImposterOutlineMaterial,SpriteMaterial:()=>Ht.SpriteMaterial,StickImposterMaterial:()=>pr.StickImposterMaterial,StickImposterOutlineMaterial:()=>_n.StickImposterOutlineMaterial,VolumetricMaterial:()=>ft.VolumetricMaterial});var j=$("./src/WebGL/materials/ImposterMaterial.ts"),_e=$("./src/WebGL/materials/InstancedMaterial.ts"),et=$("./src/WebGL/materials/LineBasicMaterial.ts"),tt=$("./src/WebGL/materials/Material.ts"),nt=$("./src/WebGL/materials/MeshDoubleLambertMaterial.ts"),it=$("./src/WebGL/materials/MeshLambertMaterial.ts"),lt=$("./src/WebGL/materials/MeshOutlineMaterial.ts"),dt=$("./src/WebGL/materials/SphereImposterMaterial.ts"),bt=$("./src/WebGL/materials/SphereImposterOutlineMaterial.ts"),Ht=$("./src/WebGL/materials/SpriteMaterial.ts"),pr=$("./src/WebGL/materials/StickImposterMaterial.ts"),_n=$("./src/WebGL/materials/StickImposterOutlineMaterial.ts"),ft=$("./src/WebGL/materials/VolumetricMaterial.ts")},"./src/WebGL/math/Quaternion.ts":(o,_,$)=>{$.r(_),$.d(_,{Quaternion:()=>j});class j{constructor(et,tt,nt,it){this.x=et||0,this.y=tt||0,this.z=nt||0,this.w=it!==void 0?it:1}set(et,tt,nt,it){return this.x=et,this.y=tt,this.z=nt,this.w=it,this}copy(et){return this.x=et.x,this.y=et.y,this.z=et.z,this.w=et.w,this}conjugate(){return this.x*=-1,this.y*=-1,this.z*=-1,this}inverse(){return this.conjugate().normalize()}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}lengthxyz(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}normalize(){let et=this.length();return et===0?(this.x=0,this.y=0,this.z=0,this.w=1):(et=1/et,this.x*=et,this.y*=et,this.z*=et,this.w*=et),this}multiply(et){return this.multiplyQuaternions(this,et)}multiplyScalar(et){return this.x*=et,this.y*=et,this.z*=et,this.w*=et,this}multiplyQuaternions(et,tt){const nt=et.x,it=et.y,lt=et.z,dt=et.w,bt=tt.x,Ht=tt.y,pr=tt.z,_n=tt.w;return this.x=nt*_n+dt*bt+it*pr-lt*Ht,this.y=it*_n+dt*Ht+lt*bt-nt*pr,this.z=lt*_n+dt*pr+nt*Ht-it*bt,this.w=dt*_n-nt*bt-it*Ht-lt*pr,this}sub(et){return this.x-=et.x,this.y-=et.y,this.z-=et.z,this.w-=et.w,this}clone(){return new j(this.x,this.y,this.z,this.w)}setFromEuler(et){const tt=Math.cos(et.x/2),nt=Math.cos(et.y/2),it=Math.cos(et.z/2),lt=Math.sin(et.x/2),dt=Math.sin(et.y/2),bt=Math.sin(et.z/2);return this.x=lt*nt*it+tt*dt*bt,this.y=tt*dt*it-lt*nt*bt,this.z=tt*nt*bt+lt*dt*it,this.w=tt*nt*it-lt*dt*bt,this}}},"./src/WebGL/math/Vector2.ts":(o,_,$)=>{$.r(_),$.d(_,{Vector2:()=>j});class j{constructor(et,tt){this.x=et||0,this.y=tt||0}set(et,tt){return this.x=et,this.y=tt,this}subVectors(et,tt){return this.x=et.x-tt.x,this.y=et.y-tt.y,this}copy(et){return this.x=et.x,this.y=et.y,this}clone(){return new j(this.x,this.y)}}},"./src/WebGL/math/index.ts":(o,_,$)=>{$.r(_),$.d(_,{Matrix3:()=>it.Matrix3,Matrix4:()=>it.Matrix4,Quaternion:()=>j.Quaternion,Ray:()=>it.Ray,Vector2:()=>_e.Vector2,Vector3:()=>it.Vector3,clamp:()=>et.clamp,conversionMatrix3:()=>tt.conversionMatrix3,degToRad:()=>nt.degToRad});var j=$("./src/WebGL/math/Quaternion.ts"),_e=$("./src/WebGL/math/Vector2.ts"),et=$("./src/WebGL/math/utils/clamp.ts"),tt=$("./src/WebGL/math/utils/conversionMatrix3.ts"),nt=$("./src/WebGL/math/utils/degToRad.ts"),it=$("./src/WebGL/math/math.ts")},"./src/WebGL/math/math.ts":(o,_,$)=>{$.r(_),$.d(_,{Matrix3:()=>Ht,Matrix4:()=>dt,Ray:()=>pr,Vector3:()=>bt});var j=$("./src/WebGL/math/utils/degToRad.ts"),_e=$("./src/WebGL/math/utils/clamp.ts"),et,tt,nt,it,lt;class dt{constructor(ft=1,Ct=0,mr=0,_r=0,mn=0,dr=1,pn=0,Do=0,Io=0,Lo=0,ms=1,Uo=0,_s=0,yp=0,xs=0,vs=1){typeof ft<"u"&&typeof ft!="number"?this.elements=new Float32Array(ft):(this.elements=new Float32Array(16),this.elements[0]=ft,this.elements[4]=Ct,this.elements[8]=mr,this.elements[12]=_r,this.elements[1]=mn,this.elements[5]=dr,this.elements[9]=pn,this.elements[13]=Do,this.elements[2]=Io,this.elements[6]=Lo,this.elements[10]=ms,this.elements[14]=Uo,this.elements[3]=_s,this.elements[7]=yp,this.elements[11]=xs,this.elements[15]=vs)}makeScale(ft,Ct,mr){throw new Error("Method not implemented.")}set(ft,Ct,mr,_r,mn,dr,pn,Do,Io,Lo,ms,Uo,_s,yp,xs,vs){const Sp=this.elements;return Sp[0]=ft,Sp[4]=Ct,Sp[8]=mr,Sp[12]=_r,Sp[1]=mn,Sp[5]=dr,Sp[9]=pn,Sp[13]=Do,Sp[2]=Io,Sp[6]=Lo,Sp[10]=ms,Sp[14]=Uo,Sp[3]=_s,Sp[7]=yp,Sp[11]=xs,Sp[15]=vs,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}copy(ft){const Ct=ft.elements;return this.set(Ct[0],Ct[4],Ct[8],Ct[12],Ct[1],Ct[5],Ct[9],Ct[13],Ct[2],Ct[6],Ct[10],Ct[14],Ct[3],Ct[7],Ct[11],Ct[15]),this}matrix3FromTopLeft(){const ft=this.elements;return new Ht(ft[0],ft[4],ft[8],ft[1],ft[5],ft[9],ft[2],ft[6],ft[10])}setRotationFromEuler(ft,Ct){const mr=this.elements,{x:_r,y:mn,z:dr}=ft,pn=Math.cos(_r),Do=Math.sin(_r),Io=Math.cos(mn),Lo=Math.sin(mn),ms=Math.cos(dr),Uo=Math.sin(dr);if(Ct===void 0||Ct==="XYZ"){const _s=pn*ms,yp=pn*Uo,xs=Do*ms,vs=Do*Uo;mr[0]=Io*ms,mr[4]=-Io*Uo,mr[8]=Lo,mr[1]=yp+xs*Lo,mr[5]=_s-vs*Lo,mr[9]=-Do*Io,mr[2]=vs-_s*Lo,mr[6]=xs+yp*Lo,mr[10]=pn*Io}else console.error(`Error with matrix4 setRotationFromEuler. Order: ${Ct}`);return this}setRotationFromQuaternion(ft){const Ct=this.elements,{x:mr,y:_r,z:mn,w:dr}=ft,pn=mr+mr,Do=_r+_r,Io=mn+mn,Lo=mr*pn,ms=mr*Do,Uo=mr*Io,_s=_r*Do,yp=_r*Io,xs=mn*Io,vs=dr*pn,Sp=dr*Do,wp=dr*Io;return Ct[0]=1-(_s+xs),Ct[4]=ms-wp,Ct[8]=Uo+Sp,Ct[1]=ms+wp,Ct[5]=1-(Lo+xs),Ct[9]=yp-vs,Ct[2]=Uo-Sp,Ct[6]=yp+vs,Ct[10]=1-(Lo+_s),this}multiplyMatrices(ft,Ct){const mr=ft.elements,_r=Ct.elements,mn=this.elements,dr=mr[0],pn=mr[4],Do=mr[8],Io=mr[12],Lo=mr[1],ms=mr[5],Uo=mr[9],_s=mr[13],yp=mr[2],xs=mr[6],vs=mr[10],Sp=mr[14],wp=mr[3],bp=mr[7],Ep=mr[11],Cp=mr[15],Ap=_r[0],Mp=_r[4],Pp=_r[8],Ip=_r[12],Op=_r[1],Wp=_r[5],Yp=_r[9],Zp=_r[13],Qp=_r[2],Gp=_r[6],rm=_r[10],Jp=_r[14],Up=_r[3],im=_r[7],em=_r[11],gm=_r[15];return mn[0]=dr*Ap+pn*Op+Do*Qp+Io*Up,mn[4]=dr*Mp+pn*Wp+Do*Gp+Io*im,mn[8]=dr*Pp+pn*Yp+Do*rm+Io*em,mn[12]=dr*Ip+pn*Zp+Do*Jp+Io*gm,mn[1]=Lo*Ap+ms*Op+Uo*Qp+_s*Up,mn[5]=Lo*Mp+ms*Wp+Uo*Gp+_s*im,mn[9]=Lo*Pp+ms*Yp+Uo*rm+_s*em,mn[13]=Lo*Ip+ms*Zp+Uo*Jp+_s*gm,mn[2]=yp*Ap+xs*Op+vs*Qp+Sp*Up,mn[6]=yp*Mp+xs*Wp+vs*Gp+Sp*im,mn[10]=yp*Pp+xs*Yp+vs*rm+Sp*em,mn[14]=yp*Ip+xs*Zp+vs*Jp+Sp*gm,mn[3]=wp*Ap+bp*Op+Ep*Qp+Cp*Up,mn[7]=wp*Mp+bp*Wp+Ep*Gp+Cp*im,mn[11]=wp*Pp+bp*Yp+Ep*rm+Cp*em,mn[15]=wp*Ip+bp*Zp+Ep*Jp+Cp*gm,this}multiplyScalar(ft){const Ct=this.elements;return Ct[0]*=ft,Ct[4]*=ft,Ct[8]*=ft,Ct[12]*=ft,Ct[1]*=ft,Ct[5]*=ft,Ct[9]*=ft,Ct[13]*=ft,Ct[2]*=ft,Ct[6]*=ft,Ct[10]*=ft,Ct[14]*=ft,Ct[3]*=ft,Ct[7]*=ft,Ct[11]*=ft,Ct[15]*=ft,this}makeTranslation(ft,Ct,mr){return this.set(1,0,0,ft,0,1,0,Ct,0,0,1,mr,0,0,0,1),this}snap(ft){const Ct=Math.pow(10,4),mr=this.elements;for(let _r=0;_r<16;_r++){const mn=Math.round(mr[_r]);mn===Math.round(mr[_r]*Ct)/Ct&&(mr[_r]=mn)}return this}transpose(){const ft=this.elements;let Ct;return Ct=ft[1],ft[1]=ft[4],ft[4]=Ct,Ct=ft[2],ft[2]=ft[8],ft[8]=Ct,Ct=ft[6],ft[6]=ft[9],ft[9]=Ct,Ct=ft[3],ft[3]=ft[12],ft[12]=Ct,Ct=ft[7],ft[7]=ft[13],ft[13]=Ct,Ct=ft[11],ft[11]=ft[14],ft[14]=Ct,this}setPosition(ft){const Ct=this.elements;return Ct[12]=ft.x,Ct[13]=ft.y,Ct[14]=ft.z,this}translate(ft){const Ct=this.elements;return Ct[12]+=ft.x,Ct[13]+=ft.y,Ct[14]+=ft.z,this}getInverse(ft,Ct){const mr=this.elements,_r=ft.elements,mn=_r[0],dr=_r[4],pn=_r[8],Do=_r[12],Io=_r[1],Lo=_r[5],ms=_r[9],Uo=_r[13],_s=_r[2],yp=_r[6],xs=_r[10],vs=_r[14],Sp=_r[3],wp=_r[7],bp=_r[11],Ep=_r[15];mr[0]=ms*vs*wp-Uo*xs*wp+Uo*yp*bp-Lo*vs*bp-ms*yp*Ep+Lo*xs*Ep,mr[4]=Do*xs*wp-pn*vs*wp-Do*yp*bp+dr*vs*bp+pn*yp*Ep-dr*xs*Ep,mr[8]=pn*Uo*wp-Do*ms*wp+Do*Lo*bp-dr*Uo*bp-pn*Lo*Ep+dr*ms*Ep,mr[12]=Do*ms*yp-pn*Uo*yp-Do*Lo*xs+dr*Uo*xs+pn*Lo*vs-dr*ms*vs,mr[1]=Uo*xs*Sp-ms*vs*Sp-Uo*_s*bp+Io*vs*bp+ms*_s*Ep-Io*xs*Ep,mr[5]=pn*vs*Sp-Do*xs*Sp+Do*_s*bp-mn*vs*bp-pn*_s*Ep+mn*xs*Ep,mr[9]=Do*ms*Sp-pn*Uo*Sp-Do*Io*bp+mn*Uo*bp+pn*Io*Ep-mn*ms*Ep,mr[13]=pn*Uo*_s-Do*ms*_s+Do*Io*xs-mn*Uo*xs-pn*Io*vs+mn*ms*vs,mr[2]=Lo*vs*Sp-Uo*yp*Sp+Uo*_s*wp-Io*vs*wp-Lo*_s*Ep+Io*yp*Ep,mr[6]=Do*yp*Sp-dr*vs*Sp-Do*_s*wp+mn*vs*wp+dr*_s*Ep-mn*yp*Ep,mr[10]=dr*Uo*Sp-Do*Lo*Sp+Do*Io*wp-mn*Uo*wp-dr*Io*Ep+mn*Lo*Ep,mr[14]=Do*Lo*_s-dr*Uo*_s-Do*Io*yp+mn*Uo*yp+dr*Io*vs-mn*Lo*vs,mr[3]=ms*yp*Sp-Lo*xs*Sp-ms*_s*wp+Io*xs*wp+Lo*_s*bp-Io*yp*bp,mr[7]=dr*xs*Sp-pn*yp*Sp+pn*_s*wp-mn*xs*wp-dr*_s*bp+mn*yp*bp,mr[11]=pn*Lo*Sp-dr*ms*Sp-pn*Io*wp+mn*ms*wp+dr*Io*bp-mn*Lo*bp,mr[15]=dr*ms*_s-pn*Lo*_s+pn*Io*yp-mn*ms*yp-dr*Io*xs+mn*Lo*xs;const Cp=mn*mr[0]+Io*mr[4]+_s*mr[8]+Sp*mr[12];if(Cp===0){const Ap="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(Ct)throw new Error(Ap);return console.warn(Ap),this.identity(),this}return this.multiplyScalar(1/Cp),this}isReflected(){const ft=this.elements,Ct=ft[0],mr=ft[4],_r=ft[8],mn=ft[1],dr=ft[5],pn=ft[9],Do=ft[2],Io=ft[6],Lo=ft[10];return Ct*dr*Lo+mn*Io*_r+Do*mr*pn-Do*dr*_r-mn*mr*Lo-Ct*Io*pn<0}scale(ft){const Ct=this.elements,{x:mr}=ft,{y:_r}=ft,{z:mn}=ft;return Ct[0]*=mr,Ct[4]*=_r,Ct[8]*=mn,Ct[1]*=mr,Ct[5]*=_r,Ct[9]*=mn,Ct[2]*=mr,Ct[6]*=_r,Ct[10]*=mn,Ct[3]*=mr,Ct[7]*=_r,Ct[11]*=mn,this}getMaxScaleOnAxis(){const ft=this.elements,Ct=ft[0]*ft[0]+ft[1]*ft[1]+ft[2]*ft[2],mr=ft[4]*ft[4]+ft[5]*ft[5]+ft[6]*ft[6],_r=ft[8]*ft[8]+ft[9]*ft[9]+ft[10]*ft[10];return Math.sqrt(Math.max(Ct,Math.max(mr,_r)))}makeFrustum(ft,Ct,mr,_r,mn,dr){const pn=this.elements,Do=2*mn/(Ct-ft),Io=2*mn/(_r-mr),Lo=(Ct+ft)/(Ct-ft),ms=(_r+mr)/(_r-mr),Uo=-(dr+mn)/(dr-mn),_s=-2*dr*mn/(dr-mn);return pn[0]=Do,pn[4]=0,pn[8]=Lo,pn[12]=0,pn[1]=0,pn[5]=Io,pn[9]=ms,pn[13]=0,pn[2]=0,pn[6]=0,pn[10]=Uo,pn[14]=_s,pn[3]=0,pn[7]=0,pn[11]=-1,pn[15]=0,this}makePerspective(ft,Ct,mr,_r){const mn=mr*Math.tan((0,j.degToRad)(ft*.5)),dr=-mn,pn=dr*Ct,Do=mn*Ct;return this.makeFrustum(pn,Do,dr,mn,mr,_r)}makeOrthographic(ft,Ct,mr,_r,mn,dr){const pn=this.elements,Do=1/(Ct-ft),Io=1/(mr-_r),Lo=1/(dr-mn),ms=(Ct+ft)*Do,Uo=(mr+_r)*Io,_s=(dr+mn)*Lo;return pn[0]=2*Do,pn[4]=0,pn[8]=0,pn[12]=-ms,pn[1]=0,pn[5]=2*Io,pn[9]=0,pn[13]=-Uo,pn[2]=0,pn[6]=0,pn[10]=-2*Lo,pn[14]=-_s,pn[3]=0,pn[7]=0,pn[11]=0,pn[15]=1,this}isEqual(ft){const Ct=ft.elements,mr=this.elements;return mr[0]===Ct[0]&&mr[4]===Ct[4]&&mr[8]===Ct[8]&&mr[12]===Ct[12]&&mr[1]===Ct[1]&&mr[5]===Ct[5]&&mr[9]===Ct[9]&&mr[13]===Ct[13]&&mr[2]===Ct[2]&&mr[6]===Ct[6]&&mr[10]===Ct[10]&&mr[14]===Ct[14]&&mr[3]===Ct[3]&&mr[7]===Ct[7]&&mr[11]===Ct[11]&&mr[15]===Ct[15]}clone(){const ft=this.elements;return new dt(ft[0],ft[4],ft[8],ft[12],ft[1],ft[5],ft[9],ft[13],ft[2],ft[6],ft[10],ft[14],ft[3],ft[7],ft[11],ft[15])}isIdentity(){const ft=this.elements;return ft[0]===1&&ft[4]===0&&ft[8]===0&&ft[12]===0&&ft[1]===0&&ft[5]===1&&ft[9]===0&&ft[13]===0&&ft[2]===0&&ft[6]===0&&ft[10]===1&&ft[14]===0&&ft[3]===0&&ft[7]===0&&ft[11]===0&&ft[15]===1}isNearlyIdentity(ft){return this.clone().snap(ft).isIdentity()}getScale(ft){const Ct=this.elements;return ft=ft||new bt,nt.set(Ct[0],Ct[1],Ct[2]),it.set(Ct[4],Ct[5],Ct[6]),lt.set(Ct[8],Ct[9],Ct[10]),ft.x=nt.length(),ft.y=it.length(),ft.z=lt.length(),ft}lookAt(ft,Ct,mr){const _r=this.elements;return lt.subVectors(ft,Ct).normalize(),lt.length()===0&&(lt.z=1),nt.crossVectors(mr,lt).normalize(),nt.length()===0&&(lt.x+=1e-4,nt.crossVectors(mr,lt).normalize()),it.crossVectors(lt,nt),_r[0]=nt.x,_r[4]=it.x,_r[8]=lt.x,_r[1]=nt.y,_r[5]=it.y,_r[9]=lt.y,_r[2]=nt.z,_r[6]=it.z,_r[10]=lt.z,this}compose(ft,Ct,mr){const _r=this.elements;return et.identity(),et.setRotationFromQuaternion(Ct),tt.makeScale(mr.x,mr.y,mr.z),this.multiplyMatrices(et,tt),_r[12]=ft.x,_r[13]=ft.y,_r[14]=ft.z,this}}et=new dt,tt=new dt;class bt{constructor(ft,Ct,mr){this.x=ft||0,this.y=Ct||0,this.z=mr||0,this.atomid=void 0}set(ft,Ct,mr){return this.x=ft,this.y=Ct,this.z=mr,this}copy(ft){return this.x=ft.x,this.y=ft.y,this.z=ft.z,this}add(ft){return this.x+=ft.x,this.y+=ft.y,this.z+=ft.z,this}addVectors(ft,Ct){return this.x=ft.x+Ct.x,this.y=ft.y+Ct.y,this.z=ft.z+Ct.z,this}multiplyVectors(ft,Ct){return this.x=ft.x*Ct.x,this.y=ft.y*Ct.y,this.z=ft.z*Ct.z,this}sub(ft){return this.x-=ft.x,this.y-=ft.y,this.z-=ft.z,this}subVectors(ft,Ct){return this.x=ft.x-Ct.x,this.y=ft.y-Ct.y,this.z=ft.z-Ct.z,this}multiplyScalar(ft){return this.x*=ft,this.y*=ft,this.z*=ft,this}divideScalar(ft){return ft!==0?(this.x/=ft,this.y/=ft,this.z/=ft):(this.x=0,this.y=0,this.z=0),this}max(ft){return this.x=Math.max(this.x,ft.x),this.y=Math.max(this.y,ft.y),this.z=Math.max(this.z,ft.z),this}min(ft){return this.x=Math.min(this.x,ft.x),this.y=Math.min(this.y,ft.y),this.z=Math.min(this.z,ft.z),this}distanceTo(ft){return Math.sqrt(this.distanceToSquared(ft))}distanceToSquared(ft){const Ct=this.x-ft.x,mr=this.y-ft.y,_r=this.z-ft.z;return Ct*Ct+mr*mr+_r*_r}applyMatrix3(ft){const{x:Ct}=this,{y:mr}=this,{z:_r}=this,mn=ft.elements;return this.x=mn[0]*Ct+mn[3]*mr+mn[6]*_r,this.y=mn[1]*Ct+mn[4]*mr+mn[7]*_r,this.z=mn[2]*Ct+mn[5]*mr+mn[8]*_r,this}applyMatrix4(ft){const{x:Ct}=this,{y:mr}=this,{z:_r}=this,mn=ft.elements;return this.x=mn[0]*Ct+mn[4]*mr+mn[8]*_r+mn[12],this.y=mn[1]*Ct+mn[5]*mr+mn[9]*_r+mn[13],this.z=mn[2]*Ct+mn[6]*mr+mn[10]*_r+mn[14],this}applyProjection(ft){const{x:Ct}=this,{y:mr}=this,{z:_r}=this,mn=ft.elements,dr=mn[3]*Ct+mn[7]*mr+mn[11]*_r+mn[15];return this.x=(mn[0]*Ct+mn[4]*mr+mn[8]*_r+mn[12])/dr,this.y=(mn[1]*Ct+mn[5]*mr+mn[9]*_r+mn[13])/dr,this.z=(mn[2]*Ct+mn[6]*mr+mn[10]*_r+mn[14])/dr,this}applyQuaternion(ft){const{x:Ct}=this,{y:mr}=this,{z:_r}=this,mn=ft.x,dr=ft.y,pn=ft.z,Do=ft.w,Io={};Io.x=2*(mr*pn-_r*dr),Io.y=2*(_r*mn-Ct*pn),Io.z=2*(Ct*dr-mr*mn);const Lo={};return Lo.x=Io.y*pn-Io.z*dr,Lo.y=Io.z*mn-Io.x*pn,Lo.z=Io.x*dr-Io.y*mn,this.x=Ct+Do*Io.x+Lo.x,this.y=mr+Do*Io.y+Lo.y,this.z=_r+Do*Io.z+Lo.z,this}negate(){return this.multiplyScalar(-1)}dot(ft){return this.x*ft.x+this.y*ft.y+this.z*ft.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}normalize(){return this.divideScalar(this.length())}cross(ft){const{x:Ct}=this,{y:mr}=this,{z:_r}=this;return this.x=mr*ft.z-_r*ft.y,this.y=_r*ft.x-Ct*ft.z,this.z=Ct*ft.y-mr*ft.x,this}crossVectors(ft,Ct){return this.x=ft.y*Ct.z-ft.z*Ct.y,this.y=ft.z*Ct.x-ft.x*Ct.z,this.z=ft.x*Ct.y-ft.y*Ct.x,this}equals(ft){return this.x==ft.x&&this.y==ft.y&&this.z==ft.z}getPositionFromMatrix(ft){return this.x=ft.elements[12],this.y=ft.elements[13],this.z=ft.elements[14],this}setEulerFromRotationMatrix(ft,Ct){const mr=ft.elements,_r=mr[0],mn=mr[4],dr=mr[8],pn=mr[5],Do=mr[9],Io=mr[6],Lo=mr[10];return Ct===void 0||Ct==="XYZ"?(this.y=Math.asin((0,_e.clamp)(dr,-1,1)),Math.abs(dr)<.99999?(this.x=Math.atan2(-Do,Lo),this.z=Math.atan2(-mn,_r)):(this.x=Math.atan2(Io,pn),this.z=0)):console.error(`Error with vector's setEulerFromRotationMatrix: Unknown order: ${Ct}`),this}rotateAboutVector(ft,Ct){ft.normalize();const mr=Math.cos(Ct),_r=Math.sin(Ct),mn=this.clone().multiplyScalar(mr),dr=ft.clone().cross(this).multiplyScalar(_r),pn=ft.clone().multiplyScalar(ft.clone().dot(this)).multiplyScalar(1-mr),Do=mn.add(dr).add(pn);return this.x=Do.x,this.y=Do.y,this.z=Do.z,this}setFromMatrixPosition(ft){const Ct=ft.elements;return this.x=Ct[12],this.y=Ct[13],this.z=Ct[14],this}transformDirection(ft){const{x:Ct}=this,{y:mr}=this,{z:_r}=this,mn=ft.elements;return this.x=mn[0]*Ct+mn[4]*mr+mn[8]*_r,this.y=mn[1]*Ct+mn[5]*mr+mn[9]*_r,this.z=mn[2]*Ct+mn[6]*mr+mn[10]*_r,this.normalize()}clone(){return new bt(this.x,this.y,this.z)}unproject(ft){const Ct=et;return Ct.multiplyMatrices(ft.matrixWorld,Ct.getInverse(ft.projectionMatrix)),this.applyMatrix4(Ct)}}nt=new bt,it=new bt,lt=new bt;class Ht{constructor(ft=1,Ct=0,mr=0,_r=0,mn=1,dr=0,pn=0,Do=0,Io=1){this.elements=new Float32Array(9),this.set(ft,Ct,mr,_r,mn,dr,pn,Do,Io)}set(ft,Ct,mr,_r,mn,dr,pn,Do,Io){const Lo=this.elements;return Lo[0]=ft,Lo[3]=Ct,Lo[6]=mr,Lo[1]=_r,Lo[4]=mn,Lo[7]=dr,Lo[2]=pn,Lo[5]=Do,Lo[8]=Io,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(ft){const Ct=ft.elements;this.set(Ct[0],Ct[3],Ct[6],Ct[1],Ct[4],Ct[7],Ct[2],Ct[5],Ct[8])}multiplyScalar(ft){const Ct=this.elements;return Ct[0]*=ft,Ct[3]*=ft,Ct[6]*=ft,Ct[1]*=ft,Ct[4]*=ft,Ct[7]*=ft,Ct[2]*=ft,Ct[5]*=ft,Ct[8]*=ft,this}getInverse3(ft){const Ct=ft.elements,mr=this.elements;mr[0]=Ct[4]*Ct[8]-Ct[5]*Ct[7],mr[3]=Ct[6]*Ct[5]-Ct[3]*Ct[8],mr[6]=Ct[3]*Ct[7]-Ct[6]*Ct[4],mr[1]=Ct[7]*Ct[2]-Ct[1]*Ct[8],mr[4]=Ct[0]*Ct[8]-Ct[6]*Ct[2],mr[7]=Ct[1]*Ct[6]-Ct[0]*Ct[7],mr[2]=Ct[1]*Ct[5]-Ct[2]*Ct[4],mr[5]=Ct[2]*Ct[3]-Ct[0]*Ct[5],mr[8]=Ct[0]*Ct[4]-Ct[1]*Ct[3];const _r=Ct[0]*mr[0]+Ct[3]*mr[1]+Ct[6]*mr[2];return this.multiplyScalar(1/_r),this}getInverse(ft,Ct){const mr=ft.elements,_r=this.elements;_r[0]=mr[10]*mr[5]-mr[6]*mr[9],_r[1]=-mr[10]*mr[1]+mr[2]*mr[9],_r[2]=mr[6]*mr[1]-mr[2]*mr[5],_r[3]=-mr[10]*mr[4]+mr[6]*mr[8],_r[4]=mr[10]*mr[0]-mr[2]*mr[8],_r[5]=-mr[6]*mr[0]+mr[2]*mr[4],_r[6]=mr[9]*mr[4]-mr[5]*mr[8],_r[7]=-mr[9]*mr[0]+mr[1]*mr[8],_r[8]=mr[5]*mr[0]-mr[1]*mr[4];const mn=mr[0]*_r[0]+mr[1]*_r[3]+mr[2]*_r[6];if(mn===0){const dr="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(Ct)throw new Error(dr);return console.warn(dr),this.identity(),this}return this.multiplyScalar(1/mn),this}getDeterminant(){const ft=this.elements;return ft[0]*ft[4]*ft[8]+ft[1]*ft[5]*ft[6]+ft[2]*ft[3]*ft[7]-ft[2]*ft[4]*ft[6]-ft[1]*ft[3]*ft[8]-ft[0]*ft[5]*ft[7]}transpose(){let ft;const Ct=this.elements;return ft=Ct[1],Ct[1]=Ct[3],Ct[3]=ft,ft=Ct[2],Ct[2]=Ct[6],Ct[6]=ft,ft=Ct[5],Ct[5]=Ct[7],Ct[7]=ft,this}clone(){const ft=this.elements;return new Ht(ft[0],ft[3],ft[6],ft[1],ft[4],ft[7],ft[2],ft[5],ft[8])}getMatrix4(){const ft=this.elements;return new dt(ft[0],ft[3],ft[6],0,ft[1],ft[4],ft[7],0,ft[2],ft[5],ft[8],0)}}class pr{constructor(ft,Ct){this.origin=ft!==void 0?ft:new bt,this.direction=Ct!==void 0?Ct:new bt}set(ft,Ct){return this.origin.copy(ft),this.direction.copy(Ct),this}copy(ft){return this.origin.copy(ft.origin),this.direction.copy(ft.direction),this}at(ft,Ct){return(Ct||new bt).copy(this.direction).multiplyScalar(ft).add(this.origin)}recast(ft){const Ct=nt;return this.origin.copy(this.at(ft,Ct)),this}closestPointToPoint(ft,Ct){const mr=Ct||new bt;mr.subVectors(ft,this.origin);const _r=mr.dot(this.direction);return mr.copy(this.direction).multiplyScalar(_r).add(this.origin)}distanceToPoint(ft){const Ct=nt,mr=Ct.subVectors(ft,this.origin).dot(this.direction);return Ct.copy(this.direction).multiplyScalar(mr).add(this.origin),Ct.distanceTo(ft)}isIntersectionCylinder(){}isIntersectionSphere(ft){return this.distanceToPoint(ft.center)<=ft.radius}isIntersectionPlane(ft){return ft.normal.dot(this.direction)!==0||ft.distanceToPoint(this.origin)===0}distanceToPlane(ft){const Ct=ft.normal.dot(this.direction);return Ct===0?ft.distanceToPoint(this.origin)===0?0:void 0:-(this.origin.dot(ft.normal)+ft.constant)/Ct}intersectPlane(ft,Ct){const mr=this.distanceToPlane(ft);if(mr!==void 0)return this.at(mr,Ct)}applyMatrix4(ft){return this.direction.add(this.origin).applyMatrix4(ft),this.origin.applyMatrix4(ft),this.direction.sub(this.origin),this}clone(){return new pr().copy(this)}}},"./src/WebGL/math/utils/clamp.ts":(o,_,$)=>{$.r(_),$.d(_,{clamp:()=>j});function j(_e,et,tt){return Math.min(Math.max(_e,et),tt)}},"./src/WebGL/math/utils/conversionMatrix3.ts":(o,_,$)=>{$.r(_),$.d(_,{conversionMatrix3:()=>_e});var j=$("./src/WebGL/math/math.ts");function _e(et,tt,nt,it,lt,dt){it=it*Math.PI/180,lt=lt*Math.PI/180,dt=dt*Math.PI/180;const bt=Ct=>Ct*Ct,Ht=Math.cos(it),pr=Math.cos(lt),_n=Math.cos(dt),ft=Math.sin(dt);return new j.Matrix3(et,tt*_n,nt*pr,0,tt*ft,nt*(Ht-pr*_n)/ft,0,0,nt*Math.sqrt(1-bt(Ht)-bt(pr)-bt(_n)+2*Ht*pr*_n)/ft)}},"./src/WebGL/math/utils/degToRad.ts":(o,_,$)=>{$.r(_),$.d(_,{degToRad:()=>_e});const j=Math.PI/180;function _e(et){return et*j}},"./src/WebGL/objects/Line.ts":(o,_,$)=>{$.r(_),$.d(_,{Line:()=>tt,LineStyle:()=>et});var j=$("./src/WebGL/materials/index.ts"),_e=$("./src/WebGL/core/index.ts"),et;(function(nt){nt[nt.LineStrip=0]="LineStrip",nt[nt.LinePieces=1]="LinePieces"})(et||(et={}));class tt extends _e.Object3D{constructor(it,lt=new j.LineBasicMaterial({color:Math.random()*16777215}),dt=et.LineStrip){super(),this.geometry=it,this.material=lt,this.type=dt}clone(it=new tt(this.geometry,this.material,this.type)){return super.clone.call(this,it),it}}},"./src/WebGL/objects/Mesh.ts":(o,_,$)=>{$.r(_),$.d(_,{Mesh:()=>_e});var j=$("./src/WebGL/core/index.ts");class _e extends j.Object3D{constructor(tt,nt){super(),this.geometry=tt,this.material=nt}clone(tt){return tt===void 0&&(tt=new _e(this.geometry,this.material)),super.clone.call(this,tt),tt}}},"./src/WebGL/objects/Sprite.ts":(o,_,$)=>{$.r(_),$.d(_,{Sprite:()=>et});var j=$("./src/WebGL/materials/index.ts"),_e=$("./src/WebGL/core/index.ts");class et extends _e.Object3D{constructor(nt=new j.SpriteMaterial){super(),this.material=nt,this.rotation3d=this.rotation,this.rotation=0}updateMatrix(){this.matrix.setPosition(this.position),this.rotation3d.set(0,0,this.rotation),this.matrix.setRotationFromEuler(this.rotation3d),(this.scale.x!==1||this.scale.y!==1)&&this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}clone(nt=new et(this.material)){return _e.Object3D.prototype.clone.call(this,nt),nt}}},"./src/WebGL/objects/index.ts":(o,_,$)=>{$.r(_),$.d(_,{Line:()=>j.Line,LineStyle:()=>j.LineStyle,Mesh:()=>_e.Mesh,Sprite:()=>et.Sprite});var j=$("./src/WebGL/objects/Line.ts"),_e=$("./src/WebGL/objects/Mesh.ts"),et=$("./src/WebGL/objects/Sprite.ts")},"./src/WebGL/shaders/ShaderType.ts":(o,_,$)=>{$.r(_)},"./src/WebGL/shaders/index.ts":(o,_,$)=>{$.r(_),$.d(_,{ShaderLib:()=>j.ShaderLib,ShaderUtils:()=>_e.ShaderUtils,basic:()=>j.basic,clone:()=>_e.clone,instanced:()=>j.instanced,lambert:()=>j.lambert,lambertdouble:()=>j.lambertdouble,outline:()=>j.outline,screen:()=>j.screen,screenaa:()=>j.screenaa,sphereimposter:()=>j.sphereimposter,sphereimposteroutline:()=>j.sphereimposteroutline,sprite:()=>j.sprite,stickimposter:()=>j.stickimposter,stickimposteroutline:()=>j.stickimposteroutline,volumetric:()=>j.volumetric});var j=$("./src/WebGL/shaders/lib/index.ts"),_e=$("./src/WebGL/shaders/utils/index.ts");$("./src/WebGL/shaders/ShaderType.ts")},"./src/WebGL/shaders/lib/basic/index.ts":(o,_,$)=>{$.r(_),$.d(_,{basic:()=>tt});var j=$("./src/WebGL/shaders/lib/basic/uniforms.ts"),_e=$("./src/WebGL/shaders/lib/basic/basic.frag"),et=$("./src/WebGL/shaders/lib/basic/basic.vert");const tt={vertexShader:et.default.replace("#define GLSLIFY 1",""),fragmentShader:_e.default.replace("#define GLSLIFY 1",""),uniforms:j.uniforms}},"./src/WebGL/shaders/lib/basic/uniforms.ts":(o,_,$)=>{$.r(_),$.d(_,{uniforms:()=>_e});var j=$("./src/colors.ts");const _e={opacity:{type:"f",value:1},fogColor:{type:"c",value:new j.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3}}},"./src/WebGL/shaders/lib/index.ts":(o,_,$)=>{$.r(_),$.d(_,{ShaderLib:()=>Ct,basic:()=>j.basic,instanced:()=>_e.instanced,lambert:()=>et.lambert,lambertdouble:()=>tt.lambertdouble,outline:()=>nt.outline,screen:()=>it.screen,screenaa:()=>lt.screenaa,sphereimposter:()=>dt.sphereimposter,sphereimposteroutline:()=>bt.sphereimposteroutline,sprite:()=>Ht.sprite,stickimposter:()=>pr.stickimposter,stickimposteroutline:()=>_n.stickimposteroutline,volumetric:()=>ft.volumetric});var j=$("./src/WebGL/shaders/lib/basic/index.ts"),_e=$("./src/WebGL/shaders/lib/instanced/index.ts"),et=$("./src/WebGL/shaders/lib/lambert/index.ts"),tt=$("./src/WebGL/shaders/lib/lambertdouble/index.ts"),nt=$("./src/WebGL/shaders/lib/outline/index.ts"),it=$("./src/WebGL/shaders/lib/screen/index.ts"),lt=$("./src/WebGL/shaders/lib/screenaa/index.ts"),dt=$("./src/WebGL/shaders/lib/sphereimposter/index.ts"),bt=$("./src/WebGL/shaders/lib/sphereimposteroutline/index.ts"),Ht=$("./src/WebGL/shaders/lib/sprite/index.ts"),pr=$("./src/WebGL/shaders/lib/stickimposter/index.ts"),_n=$("./src/WebGL/shaders/lib/stickimposteroutline/index.ts"),ft=$("./src/WebGL/shaders/lib/volumetric/index.ts");const Ct={basic:j.basic,instanced:_e.instanced,lambert:et.lambert,lambertdouble:tt.lambertdouble,outline:nt.outline,screen:it.screen,screenaa:lt.screenaa,sphereimposter:dt.sphereimposter,sphereimposteroutline:bt.sphereimposteroutline,sprite:Ht.sprite,stickimposter:pr.stickimposter,stickimposteroutline:_n.stickimposteroutline,volumetric:ft.volumetric}},"./src/WebGL/shaders/lib/instanced/index.ts":(o,_,$)=>{$.r(_),$.d(_,{instanced:()=>tt});var j=$("./src/WebGL/shaders/lib/instanced/uniforms.ts"),_e=$("./src/WebGL/shaders/lib/instanced/instanced.frag"),et=$("./src/WebGL/shaders/lib/instanced/instanced.vert");const tt={fragmentShader:_e.default.replace("#define GLSLIFY 1",""),vertexShader:et.default.replace("#define GLSLIFY 1",""),uniforms:j.uniforms}},"./src/WebGL/shaders/lib/instanced/uniforms.ts":(o,_,$)=>{$.r(_),$.d(_,{uniforms:()=>_e});var j=$("./src/colors.ts");const _e={opacity:{type:"f",value:1},fogColor:{type:"c",value:new j.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambert/index.ts":(o,_,$)=>{$.r(_),$.d(_,{lambert:()=>tt});var j=$("./src/WebGL/shaders/lib/lambert/uniforms.ts"),_e=$("./src/WebGL/shaders/lib/lambert/lambert.frag"),et=$("./src/WebGL/shaders/lib/lambert/lambert.vert");const tt={fragmentShader:_e.default.replace("#define GLSLIFY 1",""),vertexShader:et.default.replace("#define GLSLIFY 1",""),uniforms:j.uniforms}},"./src/WebGL/shaders/lib/lambert/uniforms.ts":(o,_,$)=>{$.r(_),$.d(_,{uniforms:()=>_e});var j=$("./src/colors.ts");const _e={opacity:{type:"f",value:1},fogColor:{type:"c",value:new j.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambertdouble/index.ts":(o,_,$)=>{$.r(_),$.d(_,{lambertdouble:()=>tt});var j=$("./src/WebGL/shaders/lib/lambertdouble/uniforms.ts"),_e=$("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag"),et=$("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert");const tt={fragmentShader:_e.default.replace("#define GLSLIFY 1",""),vertexShader:et.default.replace("#define GLSLIFY 1",""),uniforms:j.uniforms}},"./src/WebGL/shaders/lib/lambertdouble/uniforms.ts":(o,_,$)=>{$.r(_),$.d(_,{uniforms:()=>_e});var j=$("./src/colors.ts");const _e={opacity:{type:"f",value:1},fogColor:{type:"c",value:new j.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/outline/index.ts":(o,_,$)=>{$.r(_),$.d(_,{outline:()=>tt});var j=$("./src/WebGL/shaders/lib/outline/uniforms.ts"),_e=$("./src/WebGL/shaders/lib/outline/outline.frag"),et=$("./src/WebGL/shaders/lib/outline/outline.vert");const tt={fragmentShader:_e.default.replace("#define GLSLIFY 1",""),vertexShader:et.default.replace("#define GLSLIFY 1",""),uniforms:j.uniforms}},"./src/WebGL/shaders/lib/outline/uniforms.ts":(o,_,$)=>{$.r(_),$.d(_,{uniforms:()=>_e});var j=$("./src/colors.ts");const _e={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new j.Color(0,0,0)},fogColor:{type:"c",value:new j.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},"./src/WebGL/shaders/lib/screen/index.ts":(o,_,$)=>{$.r(_),$.d(_,{screen:()=>tt});var j=$("./src/WebGL/shaders/lib/screen/uniforms.ts"),_e=$("./src/WebGL/shaders/lib/screen/screen.frag"),et=$("./src/WebGL/shaders/lib/screen/screen.vert");const tt={fragmentShader:_e.default.replace("#define GLSLIFY 1",""),vertexShader:et.default.replace("#define GLSLIFY 1",""),uniforms:j.uniforms}},"./src/WebGL/shaders/lib/screen/uniforms.ts":(o,_,$)=>{$.r(_),$.d(_,{uniforms:()=>j});const j={}},"./src/WebGL/shaders/lib/screenaa/index.ts":(o,_,$)=>{$.r(_),$.d(_,{screenaa:()=>tt});var j=$("./src/WebGL/shaders/lib/screenaa/uniforms.ts"),_e=$("./src/WebGL/shaders/lib/screenaa/screenaa.frag"),et=$("./src/WebGL/shaders/lib/screenaa/screenaa.vert");const tt={fragmentShader:_e.default.replace("#define GLSLIFY 1",""),vertexShader:et.default.replace("#define GLSLIFY 1",""),uniforms:j.uniforms}},"./src/WebGL/shaders/lib/screenaa/uniforms.ts":(o,_,$)=>{$.r(_),$.d(_,{uniforms:()=>j});const j={}},"./src/WebGL/shaders/lib/sphereimposter/index.ts":(o,_,$)=>{$.r(_),$.d(_,{sphereimposter:()=>tt});var j=$("./src/WebGL/shaders/lib/sphereimposter/uniforms.ts"),_e=$("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag"),et=$("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert");const tt={vertexShader:et.default.replace("#define GLSLIFY 1",""),fragmentShader:_e.default.replace("#define GLSLIFY 1",""),uniforms:j.uniforms}},"./src/WebGL/shaders/lib/sphereimposter/uniforms.ts":(o,_,$)=>{$.r(_),$.d(_,{uniforms:()=>_e});var j=$("./src/colors.ts");const _e={opacity:{type:"f",value:1},fogColor:{type:"c",value:new j.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/sphereimposteroutline/index.ts":(o,_,$)=>{$.r(_),$.d(_,{sphereimposteroutline:()=>tt});var j=$("./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts"),_e=$("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag"),et=$("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert");const tt={fragmentShader:_e.default.replace("#define GLSLIFY 1",""),vertexShader:et.default.replace("#define GLSLIFY 1",""),uniforms:j.uniforms}},"./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts":(o,_,$)=>{$.r(_),$.d(_,{uniforms:()=>_e});var j=$("./src/colors.ts");const _e={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new j.Color(0,0,0)},fogColor:{type:"c",value:new j.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},"./src/WebGL/shaders/lib/sprite/index.ts":(o,_,$)=>{$.r(_),$.d(_,{sprite:()=>tt});var j=$("./src/WebGL/shaders/lib/sprite/uniforms.ts"),_e=$("./src/WebGL/shaders/lib/sprite/sprite.frag"),et=$("./src/WebGL/shaders/lib/sprite/sprite.vert");const tt={fragmentShader:_e.default.replace("#define GLSLIFY 1",""),vertexShader:et.default.replace("#define GLSLIFY 1",""),uniforms:j.uniforms}},"./src/WebGL/shaders/lib/sprite/uniforms.ts":(o,_,$)=>{$.r(_),$.d(_,{uniforms:()=>j});const j={}},"./src/WebGL/shaders/lib/stickimposter/index.ts":(o,_,$)=>{$.r(_),$.d(_,{stickimposter:()=>nt});var j=$("./src/WebGL/shaders/lib/stickimposter/uniforms.ts"),_e=$("./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag"),et=$("./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag"),tt=$("./src/WebGL/shaders/lib/stickimposter/stickimposter.vert");const nt={fragmentShader:[_e.default,et.default].join(`
`).replace("#define GLSLIFY 1",""),vertexShader:tt.default.replace("#define GLSLIFY 1",""),uniforms:j.uniforms}},"./src/WebGL/shaders/lib/stickimposter/uniforms.ts":(o,_,$)=>{$.r(_),$.d(_,{uniforms:()=>_e});var j=$("./src/colors.ts");const _e={opacity:{type:"f",value:1},fogColor:{type:"c",value:new j.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/stickimposteroutline/index.ts":(o,_,$)=>{$.r(_),$.d(_,{stickimposteroutline:()=>tt});var j=$("./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts"),_e=$("./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag"),et=$("./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert");const tt={fragmentShader:(_e.default+"gl_FragColor = vec4(color,1.0);}").replace("#define GLSLIFY 1",""),vertexShader:et.default.replace("#define GLSLIFY 1",""),uniforms:j.uniforms}},"./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts":(o,_,$)=>{$.r(_),$.d(_,{uniforms:()=>_e});var j=$("./src/colors.ts");const _e={opacity:{type:"f",value:1},fogColor:{type:"c",value:new j.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineColor:{type:"c",value:new j.Color(0,0,0)},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},"./src/WebGL/shaders/lib/volumetric/index.ts":(o,_,$)=>{$.r(_),$.d(_,{volumetric:()=>tt});var j=$("./src/WebGL/shaders/lib/volumetric/uniforms.ts"),_e=$("./src/WebGL/shaders/lib/volumetric/volumetric.frag"),et=$("./src/WebGL/shaders/lib/volumetric/volumetric.vert");const tt={fragmentShader:_e.default.replace("#define GLSLIFY 1",""),vertexShader:et.default.replace("#define GLSLIFY 1",""),uniforms:j.uniforms}},"./src/WebGL/shaders/lib/volumetric/uniforms.ts":(o,_,$)=>{$.r(_),$.d(_,{uniforms:()=>_e});var j=$("./src/colors.ts");const _e={opacity:{type:"f",value:1},fogColor:{type:"c",value:new j.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},data:{type:"i",value:3},colormap:{type:"i",value:4},depthmap:{type:"i",value:5},step:{type:"f",value:1},maxdepth:{type:"f",value:100},subsamples:{type:"f",value:5},textmat:{type:"mat4",value:[]},projinv:{type:"mat4",value:[]},transfermin:{type:"f",value:-.2},transfermax:{type:"f",value:.2}}},"./src/WebGL/shaders/utils/clone.ts":(o,_,$)=>{$.r(_),$.d(_,{clone:()=>_e});var j=$("./src/colors.ts");function _e(et){let tt={};for(const it in et){tt[it]={},tt[it].type=et[it].type;var nt=et[it].value;nt instanceof j.Color?tt[it].value=nt.clone():typeof nt=="number"?tt[it].value=nt:nt instanceof Array?tt[it].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return tt}},"./src/WebGL/shaders/utils/index.ts":(o,_,$)=>{$.r(_),$.d(_,{ShaderUtils:()=>et,clone:()=>j.clone});var j=$("./src/WebGL/shaders/utils/clone.ts"),_e=$("./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag");const et={clone:j.clone,stickimposterFragmentShader:_e.default}},"./src/WebGL/shapes/Cylinder.ts":(o,_,$)=>{$.r(_),$.d(_,{Cylinder:()=>et});var j=$("./src/WebGL/math/index.ts");let _e=new j.Vector3;class et{constructor(nt=new j.Vector3,it=new j.Vector3,lt=0){this.c1=nt,this.c2=it,this.radius=lt,this.direction=new j.Vector3().subVectors(this.c2,this.c1).normalize()}copy(nt){return this.c1.copy(nt.c1),this.c2.copy(nt.c2),this.direction.copy(nt.direction),this.radius=nt.radius,this}lengthSq(){return _e.subVectors(this.c2,this.c1).lengthSq()}applyMatrix4(nt){return this.direction.add(this.c1).applyMatrix4(nt),this.c1.applyMatrix4(nt),this.c2.applyMatrix4(nt),this.direction.sub(this.c1).normalize(),this.radius=this.radius*nt.getMaxScaleOnAxis(),this}}},"./src/WebGL/shapes/Sphere.ts":(o,_,$)=>{$.r(_),$.d(_,{Sphere:()=>_e});var j=$("./src/WebGL/math/index.ts");class _e{constructor(tt={x:0,y:0,z:0},nt=0){this.center=new j.Vector3(tt.x,tt.y,tt.z),this.radius=nt}set(tt,nt){return this.center.copy(tt),this.radius=nt,this}copy(tt){return this.center.copy(tt.center),this.radius=tt.radius,this}applyMatrix4(tt){return this.center.applyMatrix4(tt),this.radius=this.radius*tt.getMaxScaleOnAxis(),this}translate(tt){return this.center.add(tt),this}equals(tt){return tt.center.equals(this.center)&&tt.radius===this.radius}clone(){return new _e().copy(this)}}},"./src/WebGL/shapes/Triangle.ts":(o,_,$)=>{$.r(_),$.d(_,{Triangle:()=>et});var j=$("./src/WebGL/math/index.ts");const _e=new j.Vector3;class et{constructor(nt=new j.Vector3,it=new j.Vector3,lt=new j.Vector3){this.a=nt,this.b=it,this.c=lt}copy(nt){return this.a.copy(nt.a),this.b.copy(nt.b),this.c.copy(nt.c),this}applyMatrix4(nt){return this.a.applyMatrix4(nt),this.b.applyMatrix4(nt),this.c.applyMatrix4(nt),this}getNormal(){var nt=this.a.clone();return nt.sub(this.b),_e.subVectors(this.c,this.b),nt.cross(_e),nt.normalize(),nt}}},"./src/WebGL/shapes/index.ts":(o,_,$)=>{$.r(_),$.d(_,{Cylinder:()=>_e.Cylinder,Sphere:()=>j.Sphere,Triangle:()=>et.Triangle});var j=$("./src/WebGL/shapes/Sphere.ts"),_e=$("./src/WebGL/shapes/Cylinder.ts"),et=$("./src/WebGL/shapes/Triangle.ts")},"./src/autoload.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{autoinit:()=>autoinit,autoload:()=>autoload,processing_autoinit:()=>processing_autoinit,viewers:()=>viewers});var _GLViewer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/GLViewer.ts"),_ProteinSurface4__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/ProteinSurface4.ts"),_utilities__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utilities.ts"),_colors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/colors.ts"),autoinit=!1,processing_autoinit=!1,viewers={};function autoload(viewer,callback){var i,dataname,type;if(document.querySelector(".viewer_3Dmoljs")!=null&&(autoinit=!0),autoinit){processing_autoinit=!0,viewer=viewer??null;var nviewers=0;document.querySelectorAll(".viewer_3Dmoljs").forEach(viewerdiv=>{var datauri=[],datatypes=[],uri="";viewerdiv.style.position=="static"&&(viewerdiv.style.position="relative");var UI=null;if(type=null,viewerdiv.dataset.pdb)datauri.push("https://files.rcsb.org/view/"+viewerdiv.dataset.pdb+".pdb"),datatypes.push("pdb");else if(viewerdiv.dataset.cid)datatypes.push("sdf"),datauri.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+viewerdiv.dataset.cid+"/SDF?record_type=3d");else if(viewerdiv.dataset.href||viewerdiv.dataset.url){viewerdiv.dataset.href?uri=viewerdiv.dataset.href:uri=viewerdiv.dataset.url,datauri.push(uri),type=uri.substring(uri.lastIndexOf(".")+1),datatypes.push(type);var molName=uri.substring(uri.lastIndexOf("/")+1,uri.lastIndexOf("."));molName=="/"&&(molName=uri.substring(uri.lastIndexOf("/")+1)),viewerdiv.dataset[datatypes[datatypes.length-1]]=molName}var divdata=viewerdiv.dataset;for(i in divdata)i.substring(0,3)==="pdb"&&i!=="pdb"?(datauri.push("https://files.rcsb.org/view/"+divdata[i]+".pdb"),datatypes.push("pdb")):i.substring(0,4)==="href"&&i!=="href"?(uri=divdata[i],datauri.push(uri),datatypes.push(uri.substring(uri.lastIndexOf(".")+1))):i.substring(0,3)==="cid"&&i!=="cid"&&(datauri.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+divdata[i]+"/SDF?record_type=3d"),datatypes.push("sdf"));var options={};viewerdiv.dataset.options&&(options=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.options));var bgcolor=_colors__WEBPACK_IMPORTED_MODULE_3__.CC.color(viewerdiv.dataset.backgroundcolor),bgalpha=viewerdiv.dataset.backgroundalpha;bgalpha=bgalpha==null?1:parseFloat(bgalpha);var style={line:{}};viewerdiv.dataset.style&&(style=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.style));var select={};viewerdiv.dataset.select&&(select=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.select));var selectstylelist=[],surfaces=[],labels=[],zoomto={},spin=null,d=viewerdiv.dataset,stylere=/style(.+)/,surfre=/surface(.*)/,reslabre=/labelres(.*)/,keys=[];for(dataname in d)Object.prototype.hasOwnProperty.call(d,dataname)&&keys.push(dataname);for(keys.sort(),i=0;i<keys.length;i++){dataname=keys[i];var m=stylere.exec(dataname),selname,newsel,styleobj;m&&(selname="select"+m[1],newsel=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[selname]),styleobj=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]),selectstylelist.push([newsel,styleobj])),m=surfre.exec(dataname),m&&(selname="select"+m[1],newsel=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[selname]),styleobj=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]),surfaces.push([newsel,styleobj])),m=reslabre.exec(dataname),m&&(selname="select"+m[1],newsel=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[selname]),styleobj=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]),labels.push([newsel,styleobj])),dataname=="zoomto"&&(zoomto=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname])),dataname=="spin"&&(spin=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]))}var applyStyles=function(o){for(o.setStyle(select,style),UI&&UI.createSelectionAndStyle(select,style),i=0;i<selectstylelist.length;i++){let _=selectstylelist[i][0]||{},$=selectstylelist[i][1]||{line:{}};o.setStyle(_,$),UI&&UI.createSelectionAndStyle(select,style)}for(i=0;i<surfaces.length;i++){let _=surfaces[i][0]||{},$=surfaces[i][1]||{};UI?o.addSurface(_ProteinSurface4__WEBPACK_IMPORTED_MODULE_1__.SurfaceType.VDW,$,_,_).then(j=>{UI.loadSurface("VDW",_,$,j)}):o.addSurface(_ProteinSurface4__WEBPACK_IMPORTED_MODULE_1__.SurfaceType.VDW,$,_,_)}for(i=0;i<labels.length;i++){let _=labels[i][0]||{},$=labels[i][1]||{};o.addResLabels(_,$)}o.render(),o.zoomTo(zoomto),spin&&o.spin(spin.axis,spin.speed)},glviewer=viewer;try{var config=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.config)||{};config.backgroundColor===void 0&&(config.backgroundColor=bgcolor),config.backgroundAlpha===void 0&&(config.backgroundAlpha=bgalpha),glviewer==null?glviewer=viewers[viewerdiv.id||nviewers++]=(0,_GLViewer__WEBPACK_IMPORTED_MODULE_0__.createViewer)(viewerdiv,config):(glviewer.setBackgroundColor(bgcolor,bgalpha),glviewer.setConfig(config),UI&&UI.initiateUI()),viewerdiv.dataset.ui&&$3Dmol.StateManager&&(UI=new $3Dmol.StateManager(glviewer))}catch(o){console.log(o),viewerdiv.textContent="WebGL appears to be disabled."}if(datauri.length!=0){let i=0;var process=function(moldata){uri=datauri[i];var type=viewerdiv.dataset.type||viewerdiv.dataset.datatype||datatypes[i];if(glviewer.addModel(moldata,type,options),UI){var modelName=viewerdiv.dataset[datatypes[i]];UI.setModelTitle(modelName)}if(i+=1,i<datauri.length)(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.get)(datauri[i]).then(process);else{if(applyStyles(glviewer),viewerdiv.dataset.callback){var runres=eval(viewerdiv.dataset.callback);typeof runres=="function"&&runres(glviewer)}processing_autoinit=!1,callback&&callback(glviewer)}};(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.get)(datauri[0]).then(process)}else{if(viewerdiv.dataset.element){var moldataid="#"+viewerdiv.dataset.element,molelem=document.querySelector(moldataid),moldata=molelem?molelem.textContent:"";type=viewerdiv.dataset.type||viewerdiv.dataset.datatype,glviewer.addModel(moldata,type,options)}if(applyStyles(glviewer),viewerdiv.dataset.callback){var runres=eval(viewerdiv.dataset.callback);typeof runres=="function"&&runres(glviewer)}processing_autoinit=!1,callback&&callback(glviewer)}})}}document.onreadystatechange=()=>{document.readyState==="complete"&&autoload()}},"./src/colors.ts":(o,_,$)=>{$.r(_),$.d(_,{CC:()=>_e,Color:()=>j,builtinColorSchemes:()=>bt,chains:()=>dt,elementColors:()=>it,htmlColors:()=>et,residues:()=>lt,ssColors:()=>tt});class j{constructor(pr,_n,ft){return this.r=0,this.g=0,this.b=0,arguments.length>1&&typeof pr=="number"?(this.r=pr||0,this.g=_n||0,this.b=ft||0,this):this.set(pr||0)}set(pr){return pr instanceof j?pr.clone():(typeof pr=="number"?this.setHex(pr):typeof pr=="object"&&(this.r=(pr==null?void 0:pr.r)||0,this.g=(pr==null?void 0:pr.g)||0,this.b=(pr==null?void 0:pr.b)||0),this)}setHex(pr){return pr=Math.floor(pr),this.r=(pr>>16&255)/255,this.g=(pr>>8&255)/255,this.b=(pr&255)/255,this}getHex(){var pr=Math.round(this.r*255),_n=Math.round(this.g*255),ft=Math.round(this.b*255);return pr<<16|_n<<8|ft}clone(){return new j(this.r,this.g,this.b)}copy(pr){return this.r=pr.r,this.g=pr.g,this.b=pr.b,this}scaled(){var pr={};return pr.r=Math.round(this.r*255),pr.g=Math.round(this.g*255),pr.b=Math.round(this.b*255),pr.a=1,pr}}class _e{static color(pr){if(!pr)return _e.cache[0];if(pr instanceof j)return pr;if(typeof pr=="number"&&typeof _e.cache[pr]<"u")return _e.cache[pr];if(pr&&Array.isArray(pr))return pr.map(_e.color);let _n=_e.getHex(pr),ft=new j(_n);return _e.cache[_n]=ft,ft}static getHex(pr){var _n;if(Array.isArray(pr))return pr.map(_e.getHex);if(typeof pr=="string"){let ft=pr;if(!isNaN(parseInt(ft)))return parseInt(ft);if(ft=ft.trim(),ft.length==4&&ft[0]=="#"&&(ft="#"+ft[1]+ft[1]+ft[2]+ft[2]+ft[3]+ft[3]),ft.length==7&&ft[0]=="#")return parseInt(ft.substring(1),16);let Ct=_e.rgbRegEx.exec(ft);if(Ct){Ct[1]!=""&&console.log("WARNING: Opacity value in rgba ignored.  Specify separately as opacity attribute.");let mr=0;for(let _r=2;_r<5;_r++){mr*=256;let mn=Ct[_r].endsWith("%")?255*parseFloat(Ct[_r])/100:parseFloat(Ct[_r]);mr+=Math.round(mn)}return mr}return((_n=window==null?void 0:window.$3Dmol)===null||_n===void 0?void 0:_n.htmlColors[pr.toLowerCase()])||0}return pr}}_e.rgbRegEx=/rgb(a?)\(\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)/i,_e.cache={0:new j(0)};const et={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},tt={pyMol:{h:16711680,s:16776960,c:65280},Jmol:{h:16711808,s:16762880,c:16777215}},nt={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,Ba:16753920,BA:16753920,Au:14329120,AU:14329120},it={defaultColor:16716947,Jmol:{H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,Be:12779264,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Ne:11789301,NE:11789301,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578e4,SI:1578e4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ar:8442339,AR:8442339,K:9388244,Ca:4062976,CA:4062976,Sc:15132390,SC:15132390,Ti:12567239,TI:12567239,V:10921643,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Co:15765664,CO:15765664,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Ga:12750735,GA:12750735,Ge:6721423,GE:6721423,As:12419299,AS:12419299,Se:16752896,SE:16752896,Br:10889513,BR:10889513,Kr:6076625,KR:6076625,Rb:7351984,RB:7351984,Sr:65280,SR:65280,Y:9764863,Zr:9756896,ZR:9756896,Nb:7586505,NB:7586505,Mo:5551541,MO:5551541,Tc:3907230,TC:3907230,Ru:2396047,RU:2396047,Rh:687500,RH:687500,Pd:27013,PD:27013,Ag:12632256,AG:12632256,Cd:16767375,CD:16767375,In:10909043,IN:10909043,Sn:6717568,SN:6717568,Sb:10380213,SB:10380213,Te:13924864,TE:13924864,I:9699476,Xe:4366e3,XE:4366e3,Cs:5707663,CS:5707663,Ba:51456,BA:51456,La:7394559,LA:7394559,Ce:16777159,CE:16777159,Pr:14286791,PR:14286791,Nd:13107143,ND:13107143,Pm:10747847,PM:10747847,Sm:9437127,SM:9437127,Eu:6422471,EU:6422471,Gd:4587463,GD:4587463,Tb:3211207,TB:3211207,Dy:2097095,DY:2097095,Ho:65436,HO:65436,Er:58997,ER:58997,Tm:54354,TM:54354,Yb:48952,YB:48952,Lu:43812,LU:43812,Hf:5096191,HF:5096191,Ta:5089023,TA:5089023,W:2200790,Re:2522539,RE:2522539,Os:2516630,OS:2516630,Ir:1528967,IR:1528967,Pt:13684960,PT:13684960,Au:16765219,AU:16765219,Hg:12105936,HG:12105936,Tl:10900557,TL:10900557,Pb:5724513,PB:5724513,Bi:10375093,BI:10375093,Po:11230208,PO:11230208,At:7688005,AT:7688005,Rn:4358806,RN:4358806,Fr:4325478,FR:4325478,Ra:32e3,RA:32e3,Ac:7384058,AC:7384058,Th:47871,TH:47871,Pa:41471,PA:41471,U:36863,Np:33023,NP:33023,Pu:27647,PU:27647,Am:5528818,AM:5528818,Cm:7888099,CM:7888099,Bk:9064419,BK:9064419,Cf:10565332,CF:10565332,Es:11739092,ES:11739092,Fm:11739066,FM:11739066,Md:11734438,MD:11734438,No:12389767,NO:12389767,Lr:13041766,LR:13041766,Rf:13369433,RF:13369433,Db:13697103,DB:13697103,Sg:14221381,SG:14221381,Bh:14680120,BH:14680120,Hs:15073326,HS:15073326,Mt:15400998,MT:15400998},rasmol:nt,defaultColors:Object.assign({},nt),greenCarbon:Object.assign(Object.assign({},nt),{C:65280}),cyanCarbon:Object.assign(Object.assign({},nt),{C:65535}),magentaCarbon:Object.assign(Object.assign({},nt),{C:16711935}),yellowCarbon:Object.assign(Object.assign({},nt),{C:16776960}),whiteCarbon:Object.assign(Object.assign({},nt),{C:16777215}),orangeCarbon:Object.assign(Object.assign({},nt),{C:16753920}),purpleCarbon:Object.assign(Object.assign({},nt),{C:8388736}),blueCarbon:Object.assign(Object.assign({},nt),{C:255})},lt={amino:{ALA:13158600,ARG:1334015,ASN:56540,ASP:15075850,CYS:15132160,GLN:56540,GLU:15075850,GLY:15461355,HIS:8553170,ILE:1016335,LEU:1016335,LYS:1334015,MET:15132160,PHE:3289770,PRO:14456450,SER:16422400,THR:16422400,TRP:11819700,TYR:3289770,VAL:1016335,ASX:16738740,GLX:16738740},shapely:{ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935},nucleic:{A:10526975,G:16740464,I:8454143,C:16747595,T:10551200,U:16744576}},dt={atom:{A:12636415,B:11599792,C:16761032,D:16777088,E:16761087,F:11596016,G:16765040,H:15761536,I:16113331,J:49151,K:13458524,L:6737322,M:10145074,N:15631086,O:52945,P:65407,Q:3978097,R:139,S:12433259,T:25600,U:8388608,V:8421376,W:8388736,X:32896,Y:12092939,Z:11674146},hetatm:{A:9478351,B:8441752,C:13602992,D:13619056,E:13603023,F:8437952,G:13607008,H:12603504,I:12955267,J:42959,K:11881548,L:5682578,M:9090346,N:12481214,O:46753,P:53103,Q:3447649,R:187,S:10854235,T:37888,U:11534336,V:11579392,W:11534512,X:45232,Y:15250963,Z:12726834}},bt={ssPyMol:{prop:"ss",map:tt.pyMol},ssJmol:{prop:"ss",map:tt.Jmol},Jmol:{prop:"elem",map:it.Jmol},amino:{prop:"resn",map:lt.amino},shapely:{prop:"resn",map:lt.shapely},nucleic:{prop:"resn",map:lt.nucleic},chain:{prop:"chain",map:dt.atom},rasmol:{prop:"elem",map:it.rasmol},default:{prop:"elem",map:it.defaultColors},greenCarbon:{prop:"elem",map:it.greenCarbon},chainHetatm:{prop:"chain",map:dt.hetatm},cyanCarbon:{prop:"elem",map:it.cyanCarbon},magentaCarbon:{prop:"elem",map:it.magentaCarbon},purpleCarbon:{prop:"elem",map:it.purpleCarbon},whiteCarbon:{prop:"elem",map:it.whiteCarbon},orangeCarbon:{prop:"elem",map:it.orangeCarbon},yellowCarbon:{prop:"elem",map:it.yellowCarbon},blueCarbon:{prop:"elem",map:it.blueCarbon}}},"./src/glcartoon.ts":(o,_,$)=>{$.r(_),$.d(_,{drawCartoon:()=>yp,subdivide_spline:()=>dt});var j=$("./src/WebGL/math/index.ts"),_e=$("./src/WebGL/shapes/index.ts"),et=$("./src/WebGL/index.ts"),tt=$("./src/Gradient.ts"),nt=$("./src/colors.ts"),it=$("./src/GLDraw.ts"),lt=$("./src/utilities.ts");function dt(xs,vs){var Sp=[],wp=xs;wp=[],wp.push(xs[0]);var bp,Ep,Cp,Ap,Mp,Pp,Ip,Op,Wp;for(bp=1,Ep=xs.length-1;bp<Ep;bp++)if(Mp=xs[bp],Pp=xs[bp+1],Mp.smoothen){var Yp=new j.Vector3((Mp.x+Pp.x)/2,(Mp.y+Pp.y)/2,(Mp.z+Pp.z)/2);Yp.atom=Mp.atom,wp.push(Yp)}else wp.push(Mp);for(wp.push(xs[xs.length-1]),bp=-1,Cp=wp.length;bp<=Cp-3;bp++)if(Ap=wp[bp===-1?0:bp],Mp=wp[bp+1],Pp=wp[bp+2],Ip=wp[bp===Cp-3?Cp-1:bp+3],Op=new j.Vector3().subVectors(Pp,Ap).multiplyScalar(.5),Wp=new j.Vector3().subVectors(Ip,Mp).multiplyScalar(.5),!Pp.skip)for(var Zp=0;Zp<vs;Zp++){var Qp=1/vs*Zp,Gp=Mp.x+Qp*Op.x+Qp*Qp*(-3*Mp.x+3*Pp.x-2*Op.x-Wp.x)+Qp*Qp*Qp*(2*Mp.x-2*Pp.x+Op.x+Wp.x),rm=Mp.y+Qp*Op.y+Qp*Qp*(-3*Mp.y+3*Pp.y-2*Op.y-Wp.y)+Qp*Qp*Qp*(2*Mp.y-2*Pp.y+Op.y+Wp.y),Jp=Mp.z+Qp*Op.z+Qp*Qp*(-3*Mp.z+3*Pp.z-2*Op.z-Wp.z)+Qp*Qp*Qp*(2*Mp.z-2*Pp.z+Op.z+Wp.z),Up=new j.Vector3(Gp,rm,Jp);Zp<vs/2?Up.atom=Mp.atom:Up.atom=Pp.atom,Sp.push(Up)}return Sp.push(wp[wp.length-1]),Sp}const bt=.5,Ht=1.3,pr=.8,_n=.4,ft=.4;function Ct(xs,vs,Sp,wp){for(var bp,Ep,Cp,Ap,Mp=0,Pp=vs.length;Mp<Pp;Mp++){Ap=Math.round(Mp*(wp.length-1)/Pp),Cp=nt.CC.color(wp[Ap]);var Ip=xs.updateGeoGroup(2),Op=Ip.vertexArray,Wp=Ip.colorArray,Yp=Ip.faceArray;bp=Ip.vertices,Ep=bp*3,Op[Ep]=vs[Mp].x,Op[Ep+1]=vs[Mp].y,Op[Ep+2]=vs[Mp].z,Op[Ep+3]=Sp[Mp].x,Op[Ep+4]=Sp[Mp].y,Op[Ep+5]=Sp[Mp].z;for(var Zp=0;Zp<6;++Zp)Wp[Ep+3*Zp]=Cp.r,Wp[Ep+1+3*Zp]=Cp.g,Wp[Ep+2+3*Zp]=Cp.b;if(Mp>0){var Qp=[bp,bp+1,bp-1,bp-2],Gp=Ip.faceidx;Yp[Gp]=Qp[0],Yp[Gp+1]=Qp[1],Yp[Gp+2]=Qp[3],Yp[Gp+3]=Qp[1],Yp[Gp+4]=Qp[2],Yp[Gp+5]=Qp[3],Ip.faceidx+=6}Ip.vertices+=2}}function mr(xs,vs,Sp,wp,bp,Ep,Cp){var Ap,Mp,Pp,Ip;if(Pp=vs.length,Pp<2||vs[0].length<2)return;for(Ap=0;Ap<Pp;Ap++)vs[Ap]=dt(vs[Ap],wp);if(Ip=vs[0].length,!bp)return Ct(xs,vs[0],vs[Pp-1],Sp);var Op,Wp,Yp,Zp,Qp,Gp,rm=[],Jp=[],Up=[];for(Mp=0;Mp<Pp;Mp++)rm.push(.25+1.5*Math.sqrt((Pp-1)*Mp-Math.pow(Mp,2))/(Pp-1)),Jp.push(.5),Up.push(2*(Math.pow(Mp/Pp,2)-Mp/Pp)+.6);var im=[];for(Mp=0;Mp<Pp*2-1;Mp++)im[Mp]=[Mp,Mp+1,Mp+1-2*Pp,Mp-2*Pp];im[Pp*2-1]=[Mp,Mp+1-2*Pp,Mp+1-4*Pp,Mp-2*Pp];var em,gm,bm,ym,am,fm,vm,jp,Rp,um;let _m=xs.updateGeoGroup();for(Ap=0;Ap<Ip;Ap++){let Dp=xs.groups,kp=!1;_m=xs.updateGeoGroup(2*Pp),Dp!=xs.groups&&Ap>0&&(Ap=Ap-1,kp=!0),fm=Math.round(Ap*(Sp.length-1)/Ip),am=nt.CC.color(Sp[fm]),Qp=Yp,Gp=Zp,Yp=[],Zp=[],Op=[],vs[0][Ap].atom!==void 0&&(ym=vs[0][Ap].atom,Cp==="oval"?Wp=rm:Cp==="rectangle"?Wp=Jp:Cp==="parabola"&&(Wp=Up)),Wp||(Wp=Jp);var Cm,Sm;for(Mp=0;Mp<Pp;Mp++)Ap<Ip-1?Cm=vs[Mp][Ap+1].clone().sub(vs[Mp][Ap]):Cm=vs[Mp][Ap-1].clone().sub(vs[Mp][Ap]).negate(),Mp<Pp-1?Sm=vs[Mp+1][Ap].clone().sub(vs[Mp][Ap]):Sm=vs[Mp-1][Ap].clone().sub(vs[Mp][Ap]).negate(),Op[Mp]=Sm.cross(Cm).normalize().multiplyScalar(bp*Wp[Mp]);for(Mp=0;Mp<Pp;Mp++)Yp[Mp]=vs[Mp][Ap].clone().add(Op[Mp].clone().negate());for(Mp=0;Mp<Pp;Mp++)Zp[Mp]=vs[Mp][Ap].clone().add(Op[Mp]);for(vm=_m.vertexArray,jp=_m.colorArray,Rp=_m.faceArray,em=_m.vertices,gm=em*3,Mp=0;Mp<Pp;Mp++)vm[gm+3*Mp+0]=Yp[Mp].x,vm[gm+3*Mp+1]=Yp[Mp].y,vm[gm+3*Mp+2]=Yp[Mp].z;for(Mp=0;Mp<Pp;Mp++)vm[gm+3*Mp+0+3*Pp]=Zp[Pp-1-Mp].x,vm[gm+3*Mp+1+3*Pp]=Zp[Pp-1-Mp].y,vm[gm+3*Mp+2+3*Pp]=Zp[Pp-1-Mp].z;for(Mp=0;Mp<2*Pp;++Mp)jp[gm+3*Mp+0]=am.r,jp[gm+3*Mp+1]=am.g,jp[gm+3*Mp+2]=am.b;if(Ap>0&&!kp){for(Mp=0;Mp<Pp*2;Mp++)um=[em+im[Mp][0],em+im[Mp][1],em+im[Mp][2],em+im[Mp][3]],bm=_m.faceidx,Rp[bm]=um[0],Rp[bm+1]=um[1],Rp[bm+2]=um[3],Rp[bm+3]=um[1],Rp[bm+4]=um[2],Rp[bm+5]=um[3],_m.faceidx+=6;if(ym.clickable||ym.hoverable){var zp=[];zp.push(new _e.Triangle(Qp[0],Yp[0],Yp[Pp-1])),zp.push(new _e.Triangle(Qp[0],Yp[Pp-1],Qp[Pp-1])),zp.push(new _e.Triangle(Qp[Pp-1],Yp[Pp-1],Zp[Pp-1])),zp.push(new _e.Triangle(Qp[Pp-1],Zp[Pp-1],Gp[Pp-1])),zp.push(new _e.Triangle(Zp[0],Gp[0],Gp[Pp-1])),zp.push(new _e.Triangle(Zp[Pp-1],Zp[0],Gp[Pp-1])),zp.push(new _e.Triangle(Yp[0],Qp[0],Gp[0])),zp.push(new _e.Triangle(Zp[0],Yp[0],Gp[0]));for(Mp in zp)ym.intersectionShape.triangle.push(zp[Mp])}}_m.vertices+=2*Pp}for(vm=_m.vertexArray,jp=_m.colorArray,Rp=_m.faceArray,em=_m.vertices,gm=em*3,bm=_m.faceidx,Ap=0;Ap<Pp-1;Ap++)um=[Ap,Ap+1,2*Pp-2-Ap,2*Pp-1-Ap],bm=_m.faceidx,Rp[bm]=um[0],Rp[bm+1]=um[1],Rp[bm+2]=um[3],Rp[bm+3]=um[1],Rp[bm+4]=um[2],Rp[bm+5]=um[3],_m.faceidx+=6;for(Ap=0;Ap<Pp-1;Ap++)um=[em-1-Ap,em-2-Ap,em-2*Pp+Ap+1,em-2*Pp+Ap],bm=_m.faceidx,Rp[bm]=um[0],Rp[bm+1]=um[1],Rp[bm+2]=um[3],Rp[bm+3]=um[1],Rp[bm+4]=um[2],Rp[bm+5]=um[3],_m.faceidx+=6}function _r(xs,vs,Sp,wp,bp,Ep){if(!(vs.length<2)){var Cp,Ap;if(Cp=vs[0],Ap=vs[vs.length-1],Cp=dt(Cp,wp),Ap=dt(Ap,wp),!bp)return Ct(xs,Cp,Ap,Sp);var Mp=[],Pp,Ip,Op,Wp,Yp,Zp=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]],Qp,Gp,rm,Jp,Up,im,em,gm,bm,ym,am,fm,vm,jp,Rp,um,_m;for(gm=0,bm=Cp.length;gm<bm;gm++){if(Up=Math.round(gm*(Sp.length-1)/bm),Jp=nt.CC.color(Sp[Up]),Mp.push(Ip=Cp[gm]),Mp.push(Ip),Mp.push(Op=Ap[gm]),Mp.push(Op),gm<bm-1){var Cm=Cp[gm+1].clone().sub(Cp[gm]),Sm=Ap[gm].clone().sub(Cp[gm]);Pp=Sm.cross(Cm).normalize().multiplyScalar(bp)}for(Mp.push(Wp=Cp[gm].clone().add(Pp)),Mp.push(Wp),Mp.push(Yp=Ap[gm].clone().add(Pp)),Mp.push(Yp),Ip.atom!==void 0&&(im=Ip.atom),jp=xs.updateGeoGroup(8),Rp=jp.vertexArray,um=jp.colorArray,_m=jp.faceArray,Qp=jp.vertices,Gp=Qp*3,Rp[Gp]=Ip.x,Rp[Gp+1]=Ip.y,Rp[Gp+2]=Ip.z,Rp[Gp+3]=Ip.x,Rp[Gp+4]=Ip.y,Rp[Gp+5]=Ip.z,Rp[Gp+6]=Op.x,Rp[Gp+7]=Op.y,Rp[Gp+8]=Op.z,Rp[Gp+9]=Op.x,Rp[Gp+10]=Op.y,Rp[Gp+11]=Op.z,Rp[Gp+12]=Wp.x,Rp[Gp+13]=Wp.y,Rp[Gp+14]=Wp.z,Rp[Gp+15]=Wp.x,Rp[Gp+16]=Wp.y,Rp[Gp+17]=Wp.z,Rp[Gp+18]=Yp.x,Rp[Gp+19]=Yp.y,Rp[Gp+20]=Yp.z,Rp[Gp+21]=Yp.x,Rp[Gp+22]=Yp.y,Rp[Gp+23]=Yp.z,ym=0;ym<8;++ym)um[Gp+3*ym]=Jp.r,um[Gp+1+3*ym]=Jp.g,um[Gp+2+3*ym]=Jp.b;if(gm>0){var zp=em!==void 0&&im!==void 0&&em.serial!==im.serial;for(ym=0;ym<4;ym++){var Dp=[Qp+Zp[ym][0],Qp+Zp[ym][1],Qp+Zp[ym][2],Qp+Zp[ym][3]];if(rm=jp.faceidx,_m[rm]=Dp[0],_m[rm+1]=Dp[1],_m[rm+2]=Dp[3],_m[rm+3]=Dp[1],_m[rm+4]=Dp[2],_m[rm+5]=Dp[3],jp.faceidx+=6,im.clickable||em.clickable||im.hoverable||em.hoverable){var kp=Mp[Dp[3]].clone(),nm=Mp[Dp[0]].clone(),lm=Mp[Dp[2]].clone(),hm=Mp[Dp[1]].clone();if(kp.atom=Mp[Dp[3]].atom||null,lm.atom=Mp[Dp[2]].atom||null,nm.atom=Mp[Dp[0]].atom||null,hm.atom=Mp[Dp[1]].atom||null,zp){var Em=kp.clone().add(nm).multiplyScalar(.5),Lp=lm.clone().add(hm).multiplyScalar(.5),cm=kp.clone().add(hm).multiplyScalar(.5);ym%2===0?((em.clickable||em.hoverable)&&(am=new _e.Triangle(Em,cm,kp),fm=new _e.Triangle(Lp,lm,cm),vm=new _e.Triangle(cm,lm,kp),em.intersectionShape.triangle.push(am),em.intersectionShape.triangle.push(fm),em.intersectionShape.triangle.push(vm)),(im.clickable||im.hoverable)&&(am=new _e.Triangle(nm,hm,cm),fm=new _e.Triangle(hm,Lp,cm),vm=new _e.Triangle(nm,cm,Em),im.intersectionShape.triangle.push(am),im.intersectionShape.triangle.push(fm),im.intersectionShape.triangle.push(vm))):((im.clickable||im.hoverable)&&(am=new _e.Triangle(Em,cm,kp),fm=new _e.Triangle(Lp,lm,cm),vm=new _e.Triangle(cm,lm,kp),im.intersectionShape.triangle.push(am),im.intersectionShape.triangle.push(fm),im.intersectionShape.triangle.push(vm)),(em.clickable||em.hoverable)&&(am=new _e.Triangle(nm,hm,cm),fm=new _e.Triangle(hm,Lp,cm),vm=new _e.Triangle(nm,cm,Em),em.intersectionShape.triangle.push(am),em.intersectionShape.triangle.push(fm),em.intersectionShape.triangle.push(vm)))}else(im.clickable||im.hoverable)&&(am=new _e.Triangle(nm,hm,kp),fm=new _e.Triangle(hm,lm,kp),im.intersectionShape.triangle.push(am),im.intersectionShape.triangle.push(fm))}}}jp.vertices+=8,em=im}var mm=Mp.length-8;for(jp=xs.updateGeoGroup(8),Rp=jp.vertexArray,um=jp.colorArray,_m=jp.faceArray,Qp=jp.vertices,Gp=Qp*3,rm=jp.faceidx,gm=0;gm<4;gm++){Mp.push(Mp[gm*2]),Mp.push(Mp[mm+gm*2]);var Vp=Mp[gm*2],qp=Mp[mm+gm*2];Rp[Gp+6*gm]=Vp.x,Rp[Gp+1+6*gm]=Vp.y,Rp[Gp+2+6*gm]=Vp.z,Rp[Gp+3+6*gm]=qp.x,Rp[Gp+4+6*gm]=qp.y,Rp[Gp+5+6*gm]=qp.z,um[Gp+6*gm]=Jp.r,um[Gp+1+6*gm]=Jp.g,um[Gp+2+6*gm]=Jp.b,um[Gp+3+6*gm]=Jp.r,um[Gp+4+6*gm]=Jp.g,um[Gp+5+6*gm]=Jp.b}mm+=8,am=[Qp,Qp+2,Qp+6,Qp+4],fm=[Qp+1,Qp+5,Qp+7,Qp+3],_m[rm]=am[0],_m[rm+1]=am[1],_m[rm+2]=am[3],_m[rm+3]=am[1],_m[rm+4]=am[2],_m[rm+5]=am[3],_m[rm+6]=fm[0],_m[rm+7]=fm[1],_m[rm+8]=fm[3],_m[rm+9]=fm[1],_m[rm+10]=fm[2],_m[rm+11]=fm[3],jp.faceidx+=12,jp.vertices+=8}}function mn(xs,vs,Sp,wp,bp,Ep,Cp){(!Cp||Cp==="default")&&(Cp="rectangle"),Cp==="edged"?_r(xs,vs,Sp,wp,bp):(Cp==="rectangle"||Cp==="oval"||Cp==="parabola")&&mr(xs,vs,Sp,wp,bp,Ep,Cp)}function dr(xs){return xs&&xs.elem==="C"&&xs.atom==="CA"}function pn(xs,vs){if(xs&&vs&&xs.chain===vs.chain){if(!xs.hetflag&&!vs.hetflag&&xs.reschain===vs.reschain&&(xs.resi===vs.resi||xs.resi===vs.resi-1))return!0;if(xs.resi<vs.resi){var Sp=xs.x-vs.x,wp=xs.y-vs.y,bp=xs.z-vs.z,Ep=Sp*Sp+wp*wp+bp*bp;if(xs.atom=="CA"&&vs.atom=="CA"&&Ep<16||(xs.atom=="P"||vs.atom=="P")&&Ep<64)return!0}}return!1}function Do(xs,vs,Sp,wp,bp){if(!(vs==null||vs.vertices==0)){bp&&(vs.initTypedArrays(),vs.setUpNormals());var Ep=new et.MeshDoubleLambertMaterial;Ep.vertexColors=et.Coloring.FaceColors,typeof Sp=="number"&&Sp>=0&&Sp<1&&(Ep.transparent=!0,Ep.opacity=Sp),Ep.outline=wp;var Cp=new et.Mesh(vs,Ep);xs.add(Cp)}}function Io(xs,vs,Sp,wp,bp,Ep,Cp,Ap,Mp){var Pp,Ip,Op,Wp,Yp,Zp;if(!(!wp||!bp||!Cp)){var Qp=bp.sub(wp);Qp.normalize();var Gp=Ap[Mp];for(Ip=Mp+1;Ip<Ap.length&&(Gp=Ap[Ip],Gp.atom!=Cp.atom);Ip++);if(Gp=Gp?new j.Vector3(Gp.x,Gp.y,Gp.z):new j.Vector3(0,0,0),Gp.sub(wp),Cp.ss==="arrow start"){var rm=Gp.clone().multiplyScalar(.3).cross(bp);wp.add(rm);var Jp=Gp.clone().cross(Qp).normalize();Qp.rotateAboutVector(Jp,.43)}for(Cp.style.cartoon.ribbon?Pp=Cp.style.cartoon.thickness||_n:Cp.style.cartoon.width?Pp=Cp.style.cartoon.width:Cp.ss==="c"?Cp.atom==="P"?Pp=pr:Pp=bt:Cp.ss==="arrow start"?(Pp=Ht,Yp=!0):Cp.ss==="arrow end"||Cp.ss==="h"&&Cp.style.cartoon.tubes||Cp.ss==="tube start"?Pp=bt:Pp=Ht,Ep!=null&&Qp.dot(Ep)<0&&Qp.negate(),Qp.multiplyScalar(Pp),Ip=0;Ip<vs;Ip++)Op=-1+Ip*2/(vs-1),Wp=new j.Vector3(wp.x+Op*Qp.x,wp.y+Op*Qp.y,wp.z+Op*Qp.z),Wp.atom=Cp,Cp.ss==="s"&&(Wp.smoothen=!0),xs[Ip].push(Wp);if(Yp)for(Qp.multiplyScalar(2),Ip=0;Ip<vs;Ip++)Op=-1+Ip*2/(vs-1),Wp=new j.Vector3(wp.x+Op*Qp.x,wp.y+Op*Qp.y,wp.z+Op*Qp.z),Wp.atom=Cp,Wp.smoothen=!1,Wp.skip=!0,xs[Ip].push(Wp);return Zp=Cp.style.cartoon.style||"default",xs.style?xs.style!=Zp&&(console.log("Warning: a cartoon chain's strand-style is ambiguous"),xs.style="default"):xs.style=Zp,(Cp.ss==="arrow start"||Cp.ss==="arrow end")&&(Cp.ss="s"),Yp}}const Lo={C:!0,CA:!0,O:!0,P:!0,OP2:!0,O2P:!0,"O5'":!0,"O3'":!0,"C5'":!0,"C2'":!0,"O5*":!0,"O3*":!0,"C5*":!0,"C2*":!0,N1:!0,N3:!0},ms={DA:!0,DG:!0,A:!0,G:!0},Uo={DT:!0,DC:!0,U:!0,C:!0,T:!0},_s={DA:!0,DG:!0,A:!0,G:!0,DT:!0,DC:!0,U:!0,C:!0,T:!0};function yp(xs,vs,Sp,wp=10){let bp=wp,Ep=wp;var Cp,Ap,Mp,Pp,Ip,Op,Wp,Yp,Zp,Qp,Gp,rm,Jp,Up,im,em,gm,bm,ym=new et.Geometry(!0),am=new et.Geometry(!0),fm=[],vm=[],jp=1,Rp=!1,um={};for(var _m in tt.Gradient.builtinGradients)tt.Gradient.builtinGradients.hasOwnProperty(_m)&&(um[_m]=new tt.Gradient.builtinGradients[_m](Sp[1],Sp[0]));var Cm=function(Np,Hp){return Sp&&Hp.color==="spectrum"?Hp.colorscheme in um?um[Hp.colorscheme].valueToHex(Np.resi):um.sinebow.valueToHex(Np.resi):(0,lt.getColorFromStyle)(Np,Hp).getHex()};for(Yp=0;Yp<bp;Yp++)vm[Yp]=[];var Sm=!1,zp=!1,Dp=[];for(Yp in vs){if(Pp=vs[Yp],Pp.elem==="C"&&Pp.atom==="CA"){var kp=pn(Mp,Pp);kp&&Pp.ss==="s"?Sm=!0:Sm&&(Mp&&Ap&&Mp.style.cartoon.arrows&&Ap.style.cartoon.arrows&&(Mp.ss="arrow end",Ap.ss="arrow start"),Sm=!1),kp&&(Mp.ss==="h"||Mp.ss=="tube start")&&Mp.style.cartoon.tubes?!zp&&Mp.ss!="tube start"&&Pp.style.cartoon.tubes&&(Pp.ss="tube start",zp=!0):zp&&(Mp.ss==="tube start"?Mp.ss="tube end":Ap&&Ap.style.cartoon.tubes&&(Ap.ss="tube end"),zp=!1),Ap=Mp,Mp=Pp}Pp&&Pp.atom in Lo&&Dp.push(Pp)}zp&&Mp.style.cartoon.tubes&&(Mp.ss="tube end",zp=!1);var nm=function(Np){vm[0].length>0&&mn(am,vm,fm,Ep,Wp,jp,vm.style);var Hp=[],Mm=null;if(Np){for(Yp=0;Yp<bp;Yp++)Hp[Yp]=vm[Yp][vm[Yp].length-1];Mm=fm[fm.length-1]}for(vm=[],Yp=0;Yp<bp;Yp++)vm[Yp]=[];if(fm=[],Np){for(Yp=0;Yp<bp;Yp++)vm[Yp].push(Hp[Yp]);fm.push(Mm)}Do(xs,am,jp,Rp,!0),Do(xs,ym,jp,Rp,!1),am=new et.Geometry(!0),ym=new et.Geometry(!0)};Mp=void 0;for(var lm=0;lm<Dp.length;lm++){Pp=Dp[lm];var hm=Pp.resn.trim(),Em=hm in _s;if(jp=1,Cp=Pp.style.cartoon,Mp&&Mp.style.cartoon&&(jp=Mp.style.cartoon.opacity),Mp&&Mp.style.cartoon&&Mp.style.cartoon.outline&&(Rp=Mp.style.cartoon.outline),Mp&&Mp.style.cartoon&&(!Pp.style.cartoon||Mp.style.cartoon.opacity!=Pp.style.cartoon.opacity)&&nm(Mp.chain==Pp.chain),Cp.style==="trace"){if(!Pp.hetflag&&(Pp.elem==="C"&&Pp.atom==="CA"||Em&&Pp.atom==="P"||Pp.atom==="BB")){if(Op=Cm(Pp,Cp),(0,lt.isNumeric)(Cp.thickness)?Wp=Cp.thickness:Wp=_n,pn(Mp,Pp))if(Op==Ip){var Lp=nt.CC.color(Op);it.GLDraw.drawCylinder(ym,Mp,Pp,Wp,Lp,2,2)}else{var cm=new j.Vector3().addVectors(Mp,Pp).multiplyScalar(.5),mm=nt.CC.color(Ip),Vp=nt.CC.color(Op);it.GLDraw.drawCylinder(ym,Mp,cm,Wp,mm,2,0),it.GLDraw.drawCylinder(ym,cm,Pp,Wp,Vp,0,2)}if((Pp.clickable===!0||Pp.hoverable)&&Pp.intersectionShape!==void 0){var qp=new j.Vector3(Pp.x,Pp.y,Pp.z);Pp.intersectionShape.sphere.push(new _e.Sphere(qp,Wp))}Mp=Pp,Ip=Op}}else{if(dr(Pp)||Em&&(Pp.atom==="P"||Pp.atom.indexOf("O5")==0)){if(bm)if(Pp.ss==="tube end")bm=!1,gm=new j.Vector3(Pp.x,Pp.y,Pp.z),it.GLDraw.drawCylinder(ym,em,gm,2,nt.CC.color(Ip),1,1),Pp.ss="h";else if(Mp.chain!=Pp.chain||Mp.ss==="tube end")bm=!1,Mp.ss="h",gm=new j.Vector3(Mp.x,Mp.y,Mp.z),it.GLDraw.drawCylinder(ym,em,gm,2,nt.CC.color(Ip),1,1);else continue;if(Mp&&(!pn(Mp,Pp)||Mp.ss==="tube start")){for(Mp.ss==="tube start"&&(bm=!0,em=new j.Vector3(Mp.x,Mp.y,Mp.z),Mp.ss="h"),im&&(rm?Up=new j.Vector3().addVectors(Mp,rm).multiplyScalar(.5):Up=new j.Vector3(Mp.x,Mp.y,Mp.z),it.GLDraw.drawCylinder(ym,Up,im,ft,nt.CC.color(im.color),0,2),Io(vm,bp,!0,rm,Jp,Gp,Mp,Dp,lm),fm.push(Op),Up=null,im=null),vm[0].length>0&&mn(am,vm,fm,Ep,Wp,jp,vm.style),vm=[],Yp=0;Yp<bp;Yp++)vm[Yp]=[];fm=[]}if(Mp===void 0||Mp.rescode!=Pp.rescode||Mp.resi!=Pp.resi){if(im&&Mp!=null){Up=new j.Vector3().addVectors(Mp,Pp).multiplyScalar(.5);var xm=Up.clone().sub(im).multiplyScalar(.02);Up.add(xm),it.GLDraw.drawCylinder(ym,Up,im,ft,nt.CC.color(im.color),0,2),Up=null,im=null}Op=Cm(Pp,Cp),fm.push(Op),(0,lt.isNumeric)(Cp.thickness)?Wp=Cp.thickness:Wp=_n,Mp=Pp,Zp=new j.Vector3(Mp.x,Mp.y,Mp.z),Zp.resi=Mp.resi,Ip=Op}(Pp.clickable===!0||Pp.hoverable===!0)&&(Pp.intersectionShape===void 0||Pp.intersectionShape.triangle===void 0)&&(Pp.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else Mp!=null&&(dr(Mp)&&Pp.atom==="O"||Em&&Mp.atom==="P"&&(Pp.atom==="OP2"||Pp.atom==="O2P")||Em&&Mp.atom.indexOf("O5")==0&&Pp.atom.indexOf("C5")==0)?(Qp=new j.Vector3(Pp.x,Pp.y,Pp.z),Qp.resi=Pp.resi,(Pp.atom==="OP2"||Pp.atom==="O2P")&&(Jp=new j.Vector3(Pp.x,Pp.y,Pp.z))):Em&&Pp.atom.indexOf("O3")==0?rm=new j.Vector3(Pp.x,Pp.y,Pp.z):(Pp.atom==="N1"&&hm in ms||Pp.atom==="N3"&&hm in Uo)&&(im=new j.Vector3(Pp.x,Pp.y,Pp.z),im.color=(0,lt.getColorFromStyle)(Pp,Cp).getHex());Qp&&Zp&&Qp.resi===Zp.resi&&(Io(vm,bp,!0,Zp,Qp,Gp,Mp,Dp,lm),Gp=Qp,Zp=null,Qp=null,fm.push(Op))}}im&&(rm?Up=new j.Vector3().addVectors(Mp,rm).multiplyScalar(.5):Up=new j.Vector3(Mp.x,Mp.y,Mp.z),it.GLDraw.drawCylinder(ym,Up,im,ft,nt.CC.color(im.color),0,2),Io(vm,bp,!0,rm,Jp,Gp,Mp,Dp,lm),fm.push(Op)),nm(!1)}},"./src/index.ts":(o,_,$)=>{$.r(_),$.d(_,{CAP:()=>ft.CAP,CC:()=>_e.CC,Color:()=>_e.Color,CustomLinear:()=>j.CustomLinear,Cylinder:()=>lt.Cylinder,GLDraw:()=>ft.GLDraw,GLModel:()=>mr.GLModel,GLShape:()=>_n.GLShape,GLViewer:()=>_r.GLViewer,GLVolumetricRender:()=>pr.GLVolumetricRender,Gradient:()=>j.Gradient,GradientType:()=>j.GradientType,Label:()=>et.Label,LabelCount:()=>et.LabelCount,MarchingCube:()=>bt.MarchingCube,MarchingCubeInitializer:()=>bt.MarchingCubeInitializer,Matrix3:()=>it.Matrix3,Matrix4:()=>it.Matrix4,Parsers:()=>nt.Parsers,PausableTimer:()=>dt.PausableTimer,PointGrid:()=>bt.PointGrid,ProteinSurface:()=>bt.ProteinSurface,Quaternion:()=>it.Quaternion,ROYGB:()=>j.ROYGB,RWB:()=>j.RWB,Ray:()=>it.Ray,Sinebow:()=>j.Sinebow,Sphere:()=>lt.Sphere,SurfaceType:()=>bt.SurfaceType,Triangle:()=>lt.Triangle,Vector2:()=>it.Vector2,Vector3:()=>it.Vector3,VolumeData:()=>Ht.VolumeData,adjustVolumeStyle:()=>dt.adjustVolumeStyle,applyPartialCharges:()=>tt.applyPartialCharges,autoinit:()=>mn.autoinit,autoload:()=>mn.autoload,base64ToArray:()=>dt.base64ToArray,bondLength:()=>nt.bondLength,builtinColorSchemes:()=>_e.builtinColorSchemes,builtinGradients:()=>j.builtinGradients,chains:()=>_e.chains,clamp:()=>it.clamp,conversionMatrix3:()=>it.conversionMatrix3,createStereoViewer:()=>_r.createStereoViewer,createViewer:()=>_r.createViewer,createViewerGrid:()=>_r.createViewerGrid,deepCopy:()=>dt.deepCopy,degToRad:()=>it.degToRad,download:()=>dt.download,drawCartoon:()=>Ct.drawCartoon,elementColors:()=>_e.elementColors,extend:()=>dt.extend,get:()=>dt.get,getAtomProperty:()=>dt.getAtomProperty,getColorFromStyle:()=>dt.getColorFromStyle,getElement:()=>dt.getElement,getExtent:()=>dt.getExtent,getGradient:()=>j.getGradient,getPropertyRange:()=>dt.getPropertyRange,getbin:()=>dt.getbin,htmlColors:()=>_e.htmlColors,isEmptyObject:()=>dt.isEmptyObject,isNumeric:()=>dt.isNumeric,makeFunction:()=>dt.makeFunction,mergeGeos:()=>dt.mergeGeos,normalizeValue:()=>j.normalizeValue,partialCharges:()=>tt.partialCharges,processing_autoinit:()=>mn.processing_autoinit,residues:()=>_e.residues,setBondLength:()=>nt.setBondLength,setSyncSurface:()=>bt.setSyncSurface,specStringToObject:()=>dt.specStringToObject,splitMesh:()=>_n.splitMesh,ssColors:()=>_e.ssColors,subdivide_spline:()=>Ct.subdivide_spline,syncSurface:()=>bt.syncSurface,viewers:()=>mn.viewers});var j=$("./src/Gradient.ts"),_e=$("./src/colors.ts"),et=$("./src/Label.ts"),tt=$("./src/partialCharges.ts"),nt=$("./src/parsers/index.ts"),it=$("./src/WebGL/math/index.ts"),lt=$("./src/WebGL/shapes/index.ts"),dt=$("./src/utilities.ts"),bt=$("./src/ProteinSurface4.ts"),Ht=$("./src/VolumeData.ts"),pr=$("./src/VolumetricRender.ts"),_n=$("./src/GLShape.ts"),ft=$("./src/GLDraw.ts"),Ct=$("./src/glcartoon.ts"),mr=$("./src/GLModel.ts"),_r=$("./src/GLViewer.ts"),mn=$("./src/autoload.ts");$("./src/specs.ts"),window&&(window.$3Dmol=_)},"./src/parsers/CDJSON.ts":(o,_,$)=>{$.r(_),$.d(_,{CDJSON:()=>j});function j(_e,et){var tt=[[]];typeof _e=="string"&&(_e=JSON.parse(_e));for(var nt=_e.m,it=nt[0].a,lt=nt[0].b,dt=nt[0].s,bt=et!==void 0&&et.parseStyle!==void 0?et.parseStyle:dt!==void 0,Ht=tt[tt.length-1].length,pr=0;pr<it.length;pr++){var _n=it[pr],ft={};ft.id=_n.i,ft.x=_n.x,ft.y=_n.y,ft.z=_n.z||0,ft.bonds=[],ft.bondOrder=[];var Ct=_n.l||"C";ft.elem=Ct[0].toUpperCase()+Ct.substring(1).toLowerCase(),ft.serial=tt[tt.length-1].length,bt&&(ft.style=dt[_n.s||0]),tt[tt.length-1].push(ft)}for(let mr=0;mr<lt.length;mr++){let _r=lt[mr],mn=_r.b+Ht,dr=_r.e+Ht,pn=_r.o||1,Do=tt[tt.length-1][mn],Io=tt[tt.length-1][dr];Do.bonds.push(dr),Do.bondOrder.push(pn),Io.bonds.push(mn),Io.bondOrder.push(pn)}return tt}},"./src/parsers/CIF.ts":(o,_,$)=>{$.r(_),$.d(_,{CIF:()=>nt});var j=$("./src/parsers/utils/computeSecondaryStructure.ts"),_e=$("./src/parsers/utils/processSymmetries.ts"),et=$("./src/WebGL/index.ts"),tt=$("./src/parsers/utils/assignPDBBonds.ts");function nt(it,lt={}){var dt=[],bt=!lt.doAssembly,Ht=dt.modelData=[],pr=lt.assignBonds===void 0?!0:lt.assignBonds,_n=function(Dp,kp,nm,lm){return new et.Vector3(kp,nm,lm).applyMatrix3(Dp)};function ft(Dp,kp){for(var nm=[],lm=0,hm=0;hm<Dp.length;){for(;Dp.substring(hm,hm+kp.length)!==kp&&hm<Dp.length;)if(Dp[hm]==="'"){for(hm++;hm<Dp.length&&Dp[hm]!=="'";)hm++;for(;Dp.substring(hm,hm+kp.length)!==kp&&hm<Dp.length;)hm++}else if(Dp[hm]==='"'){for(hm++;hm<Dp.length&&Dp[hm]!=='"';)hm++;hm++}else hm++;nm.push(Dp.substring(lm,hm)),lm=hm=hm+kp.length}return nm}var Ct=it.split(/\r?\n|\r/),mr=[],_r=!1;for(let Dp=0;Dp<Ct.length;Dp++){var mn=Ct[Dp].split("#")[0];if(_r?mn[0]===";"&&(_r=!1):mn[0]===";"&&(_r=!0),_r||mn!==""){if(!_r&&(mn=mn.trim(),mn[0]==="_")){var dr=mn.split(/\s/)[0].indexOf(".");if(dr>-1){let kp=mn.split("");kp[dr]="_",mn=kp.join(""),mn=mn.substring(0,dr)+"_"+mn.substring(dr+1)}}mr.push(mn)}}for(var pn=0;pn<mr.length;){for(;!mr[pn].startsWith("data_")||mr[pn]==="data_global";)pn++;pn++;for(var Do={};pn<mr.length&&!mr[pn].startsWith("data_");)if(mr[pn][0]===void 0)pn++;else if(mr[pn][0]==="_"){var Io=mr[pn].split(/\s/)[0].toLowerCase(),Lo=Do[Io]=Do[Io]||[],ms=mr[pn].substring(mr[pn].indexOf(Io)+Io.length);if(ms==="")if(pn++,mr[pn][0]===";"){var Uo=mr[pn].substring(1);for(pn++;mr[pn]!==";";)Uo=Uo+`
`+mr[pn],pn++;Lo.push(Uo)}else Lo.push(mr[pn]);else Lo.push(ms.trim());pn++}else if(mr[pn].substring(0,5)==="loop_"){pn++;for(var _s=[];mr[pn]===""||mr[pn][0]==="_";){if(mr[pn]!==""){let Dp=mr[pn].split(/\s/)[0].toLowerCase(),kp=Do[Dp]=Do[Dp]||[];_s.push(kp)}pn++}for(var yp=0;pn<mr.length&&mr[pn][0]!=="_"&&!mr[pn].startsWith("loop_")&&!mr[pn].startsWith("data_");){let Dp=ft(mr[pn]," ");for(var xs=0;xs<Dp.length;xs++)Dp[xs]!==""&&(_s[yp].push(Dp[xs]),yp=(yp+1)%_s.length);pn++}}else pn++;Ht.push({symmetries:[]}),dt.push([]);var vs=Do._atom_site_id!==void 0?Do._atom_site_id.length:Do._atom_site_label.length,Sp;if(Do._cell_length_a!==void 0){var wp=parseFloat(Do._cell_length_a),bp=parseFloat(Do._cell_length_b),Ep=parseFloat(Do._cell_length_c),Cp=parseFloat(Do._cell_angle_alpha)||90,Ap=parseFloat(Do._cell_angle_beta)||90,Mp=parseFloat(Do._cell_angle_gamma)||90;Sp=(0,et.conversionMatrix3)(wp,bp,Ep,Cp,Ap,Mp),Ht[Ht.length-1].cryst={a:wp,b:bp,c:Ep,alpha:Cp,beta:Ap,gamma:Mp}}for(var Pp=0;Pp<vs;Pp++)if(!(Do._atom_site_group_pdb!==void 0&&Do._atom_site_group_pdb[Pp]==="TER")){var Ip={};if(Do._atom_site_cartn_x!==void 0)Ip.x=parseFloat(Do._atom_site_cartn_x[Pp]),Ip.y=parseFloat(Do._atom_site_cartn_y[Pp]),Ip.z=parseFloat(Do._atom_site_cartn_z[Pp]);else{var Op=_n(Sp,parseFloat(Do._atom_site_fract_x[Pp]),parseFloat(Do._atom_site_fract_y[Pp]),parseFloat(Do._atom_site_fract_z[Pp]));Ip.x=Op.x,Ip.y=Op.y,Ip.z=Op.z}Ip.chain=Do._atom_site_auth_asym_id?Do._atom_site_auth_asym_id[Pp]:Do._atom_site_label_asym_id?Do._atom_site_label_asym_id[Pp]:void 0,Ip.resi=Do._atom_site_auth_seq_id?parseInt(Do._atom_site_auth_seq_id[Pp]):Do._atom_site_label_seq_id?Do._atom_site_label_seq_id[Pp]:void 0,Ip.resn=Do._atom_site_auth_comp_id?Do._atom_site_auth_comp_id[Pp].trim():Do._atom_site_label_comp_id?Do._atom_site_label_comp_id[Pp].trim():void 0,Ip.atom=Do._atom_site_auth_atom_id?Do._atom_site_auth_atom_id[Pp].replace(/"/gm,""):Do._atom_site_label_atom_id?Do._atom_site_label_atom_id[Pp].replace(/"/gm,""):void 0,Ip.hetflag=!Do._atom_site_group_pdb||Do._atom_site_group_pdb[Pp]==="HETA"||Do._atom_site_group_pdb[Pp]==="HETATM";var Wp="X";Do._atom_site_type_symbol?Wp=Do._atom_site_type_symbol[Pp].replace(/\(?\+?\d+.*/,""):Do._atom_site_label&&(Wp=Do._atom_site_label[Pp].split("_")[0].replace(/\(?\d+.*/,"")),Ip.elem=Wp[0].toUpperCase()+Wp.substring(1,2).toLowerCase(),Ip.bonds=[],Ip.ss="c",Ip.serial=Pp,Ip.bondOrder=[],Ip.properties={},dt[dt.length-1].push(Ip)}if(Do._pdbx_struct_oper_list_id!==void 0&&!bt)for(let Dp=0;Dp<Do._pdbx_struct_oper_list_id.length;Dp++){var Yp=parseFloat(Do["_pdbx_struct_oper_list_matrix[1][1]"][Dp]),Zp=parseFloat(Do["_pdbx_struct_oper_list_matrix[1][2]"][Dp]),Qp=parseFloat(Do["_pdbx_struct_oper_list_matrix[1][3]"][Dp]),Gp=parseFloat(Do["_pdbx_struct_oper_list_vector[1]"][Dp]),rm=parseFloat(Do["_pdbx_struct_oper_list_matrix[2][1]"][Dp]),Jp=parseFloat(Do["_pdbx_struct_oper_list_matrix[2][2]"][Dp]),Up=parseFloat(Do["_pdbx_struct_oper_list_matrix[2][3]"][Dp]),im=parseFloat(Do["_pdbx_struct_oper_list_vector[2]"][Dp]),em=parseFloat(Do["_pdbx_struct_oper_list_matrix[3][1]"][Dp]),gm=parseFloat(Do["_pdbx_struct_oper_list_matrix[3][2]"][Dp]),bm=parseFloat(Do["_pdbx_struct_oper_list_matrix[3][3]"][Dp]),ym=parseFloat(Do["_pdbx_struct_oper_list_vector[3]"][Dp]),am=new et.Matrix4(Yp,Zp,Qp,Gp,rm,Jp,Up,im,em,gm,bm,ym);Ht[Ht.length-1].symmetries.push(am)}var fm=function(Dp){var kp=Dp.match("-");Dp=Dp.replace(/[-xyz]/g,"");var nm=Dp.split("/"),lm,hm;return nm[1]===void 0?hm=1:hm=parseInt(nm[1]),nm[0]===""?lm=1:lm=parseInt(nm[0]),lm/hm*(kp?-1:1)};if(Do._symmetry_equiv_pos_as_xyz!==void 0&&!bt)for(var vm=0;vm<Do._symmetry_equiv_pos_as_xyz.length;vm++){var jp=Do._symmetry_equiv_pos_as_xyz[vm].replace(/["' ]/g,""),Rp=jp.split(",").map(function(kp){return kp.replace(/-/g,"+-")});let Dp=new et.Matrix4(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1);for(let kp=0;kp<3;kp++){var um=Rp[kp].split("+");for(let nm=0;nm<um.length;nm++){var _m=um[nm];if(_m!==""){var Cm=fm(_m);_m.match("x")?Dp.elements[kp+0]=Cm:_m.match("y")?Dp.elements[kp+4]=Cm:_m.match("z")?Dp.elements[kp+8]=Cm:Dp.elements[kp+12]=Cm}}}var Sm=Sp.getMatrix4(),zp=new et.Matrix4().getInverse(Sm,!0);Dp=new et.Matrix4().multiplyMatrices(Dp,zp),Dp=new et.Matrix4().multiplyMatrices(Sm,Dp),Ht[Ht.length-1].symmetries.push(Dp)}}for(let Dp=0;Dp<dt.length;Dp++)pr&&!(lt.duplicateAssemblyAtoms&&!lt.dontConnectDuplicatedAtoms)&&(0,tt.assignPDBBonds)(dt[Dp],lt),(0,j.computeSecondaryStructure)(dt[Dp],lt.hbondCutoff),(0,_e.processSymmetries)(Ht[Dp].symmetries,dt[Dp],lt,Ht[Dp].cryst),lt.duplicateAssemblyAtoms&&!lt.dontConnectDuplicatedAtoms&&pr&&(0,tt.assignPDBBonds)(dt[Dp],lt);return dt}},"./src/parsers/CUBE.ts":(o,_,$)=>{$.r(_),$.d(_,{CUBE:()=>tt});var j=$("./src/WebGL/index.ts"),_e=$("./src/parsers/utils/assignBonds.ts"),et=$("./src/parsers/utils/anumToSymbol.ts");function tt(nt,it){it=it||{};var lt=[[]],dt=nt.split(/\r?\n/),bt=it.assignBonds===void 0?!0:it.assignBonds;if(dt.length<6)return lt;var Ht=dt[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),pr=Math.abs(parseFloat(Ht[0]));let _n={};var ft=_n.origin=new j.Vector3(parseFloat(Ht[1]),parseFloat(Ht[2]),parseFloat(Ht[3]));Ht=dt[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),Ht=dt[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var Ct=Ht[0]>0?.529177:1;ft.multiplyScalar(Ct);var mr=Math.abs(Ht[0]),_r=new j.Vector3(parseFloat(Ht[1]),parseFloat(Ht[2]),parseFloat(Ht[3])).multiplyScalar(Ct);Ht=dt[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var mn=Math.abs(Ht[0]),dr=new j.Vector3(parseFloat(Ht[1]),parseFloat(Ht[2]),parseFloat(Ht[3])).multiplyScalar(Ct);Ht=dt[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var pn=Math.abs(Ht[0]),Do=new j.Vector3(parseFloat(Ht[1]),parseFloat(Ht[2]),parseFloat(Ht[3])).multiplyScalar(Ct);if(_n.size={x:mr,y:mn,z:pn},_n.unit=new j.Vector3(_r.x,dr.y,Do.z),_r.y!=0||_r.z!=0||dr.x!=0||dr.z!=0||Do.x!=0||Do.y!=0){_n.matrix4=new j.Matrix4(_r.x,dr.x,Do.x,0,_r.y,dr.y,Do.y,0,_r.z,dr.z,Do.z,0,0,0,0,1);let xs=new j.Matrix4().makeTranslation(ft.x,ft.y,ft.z);_n.matrix4=_n.matrix4.multiplyMatrices(xs,_n.matrix4),_n.matrix=_n.matrix4.matrix3FromTopLeft(),_n.origin=new j.Vector3(0,0,0),_n.unit=new j.Vector3(1,1,1)}lt.modelData=[{cryst:_n}],dt=dt.splice(6,pr);for(var Io=lt[lt.length-1].length,Lo=Io+dt.length,ms=Io;ms<Lo;++ms){var Uo={};Uo.serial=ms;var _s=dt[ms-Io],yp=_s.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");Uo.elem=et.anumToSymbol[yp[0]],Uo.x=parseFloat(yp[2])*Ct,Uo.y=parseFloat(yp[3])*Ct,Uo.z=parseFloat(yp[4])*Ct,Uo.hetflag=!0,Uo.bonds=[],Uo.bondOrder=[],Uo.properties={},lt[lt.length-1].push(Uo)}if(bt)for(let xs=0;xs<lt.length;xs++)(0,_e.assignBonds)(lt[xs],it);return lt}},"./src/parsers/GRO.ts":(o,_,$)=>{$.r(_),$.d(_,{GRO:()=>et});var j=$("./src/parsers/utils/assignPDBBonds.ts"),_e=$("./src/parsers/utils/atomNameToElem.ts");function et(tt,nt){for(var it=[],lt=tt.split(/\r?\n|\r/);lt.length>0&&!(lt.length<3);){var dt=parseInt(lt[1]);if(isNaN(dt)||dt<=0||lt.length<dt+3)break;var bt=[];it.push(bt);for(var Ht=2,pr=bt.length,_n=pr+dt,ft=pr;ft<_n;ft++){var Ct=lt[Ht++],mr={};mr.serial=ft,mr.atom=Ct.slice(10,15).trim(),mr.elem=(0,_e.atomNameToElem)(mr.atom,!0),mr.x=10*parseFloat(Ct.slice(20,28)),mr.y=10*parseFloat(Ct.slice(28,36)),mr.z=10*parseFloat(Ct.slice(36,44)),mr.resi=parseInt(Ct.slice(0,5)),mr.resn=Ct.slice(5,10).trim(),mr.bonds=[],mr.bondOrder=[],mr.properties={},Ct.length>44&&(mr.dx=10*parseFloat(Ct.slice(44,52)),mr.dy=10*parseFloat(Ct.slice(52,60)),mr.dz=10*parseFloat(Ct.slice(60,68))),bt[ft]=mr}if(lt.length<=Ht+3){var _r=lt[Ht++],mn=_r.trim().split(/\s+/);if(mn.length==3){for(var dr=0;dr<3;dr++)mn[dr]=parseFloat(mn[dr])*10;it.box=mn}}lt.splice(0,++Ht)}for(let pn=0;pn<it.length;pn++)(0,j.assignPDBBonds)(it[pn],nt);return it}},"./src/parsers/LAMMPSTRJ.ts":(o,_,$)=>{$.r(_),$.d(_,{LAMMPSTRJ:()=>_e});var j=$("./src/parsers/utils/assignBonds.ts");function _e(et,tt){for(var nt=[],it={id:"serial",type:"atom",element:"elem",q:"charge",radius:"radius",x:"x",xu:"x",xs:"x",xsu:"x",y:"y",yu:"y",ys:"y",ysu:"y",z:"z",zu:"z",zs:"z",zsu:"z"},lt=et.split(/\r?\n|\r/),dt=0,bt=0,Ht=0;Ht<lt.length-9;){for(var pr=Ht;pr<lt.length;pr++)if(lt[pr].match(/ITEM: NUMBER OF ATOMS/)&&(bt=parseInt(lt[pr+1])),lt[pr].match(/ITEM: ATOMS/)){dt=pr+1;break}var _n=lt[dt-1].replace("ITEM: ATOMS ","").split(" ");nt.push([]);for(let pn=dt;pn<dt+bt;pn++){for(var ft={},Ct={},mr=lt[pn].split(" "),_r=0;_r<mr.length;_r++){var mn=it[_n[_r]];mn!=null&&(mn=="serial"?ft[mn]=parseInt(mr[_r]):mn=="x"||mn=="y"||mn==="z"?ft[mn]=parseFloat(mr[_r]):mn=="charge"||mn=="radius"?Ct[mn]=parseFloat(mr[_r]):ft[mn]=mr[_r]),ft.properties=Ct,ft.bonds=[],ft.bondOrder=[]}nt[nt.length-1][pn-dt]=ft}Ht=dt+bt-1}if(tt.assignBonds)for(var dr=0;dr<nt.length;dr++)(0,j.assignBonds)(nt[dr],tt);return nt}},"./src/parsers/MMTF.ts":(o,_,$)=>{$.r(_),$.d(_,{MMTFparser:()=>bt});var j=$("./src/utilities.ts"),_e=$("./src/WebGL/index.ts"),et=$("./src/parsers/utils/computeSecondaryStructure.ts"),tt=$("./src/parsers/utils/processSymmetries.ts"),nt=$("./src/vendor/mmtf.js"),it=function(Ht){return String.fromCharCode.apply(null,Ht).replace(/\0/g,"")},lt=function(Ht){return Ht==0||Ht==2||Ht==4?"h":Ht==3?"s":"c"};let dt=new Set(["D-SACCHARIDE","D-SACCHARIDE 1,4 AND 1,4 LINKING","D-SACCHARIDE 1,4 AND 1,6 LINKING","L-SACCHARIDE","L-SACCHARIDE 1,4 AND 1,4 LINKING","L-SACCHARIDE 1,4 AND 1,6 LINKING","NON-POLYMER","OTHER","PEPTIDE-LIKE","SACCHARIDE"]);function bt(Ht,pr){var _n=!pr.keepH,ft=pr.altLoc?pr.altLoc:"A",Ct=!!pr.noSecondaryStructure,mr=!pr.noComputeSecondaryStructure,_r=!pr.doAssembly,mn=pr.assemblyIndex?pr.assemblyIndex:0;typeof Ht=="string"?Ht=(0,j.base64ToArray)(Ht):Ht=new Uint8Array(Ht);var dr=nt.decode(Ht),pn=[[]],Do=pn.modelData=[],Io=0,Lo=0,ms=0,Uo=dr.secStructList,_s=dr.bFactorList,yp=dr.altLocList,xs=dr.occupancyList,vs=dr.bondAtomList,Sp=dr.bondOrderList,wp=dr.numModels;if(wp==0)return pn;pr.multimodel||(wp=1);var bp,Ep,Cp,Ap,Mp,Pp,Ip=[];if(!_r&&dr.bioAssemblyList&&dr.bioAssemblyList.length>0){var Op=dr.bioAssemblyList[mn].transformList;for(bp=0,Pp=Op.length;bp<Pp;bp++){var Wp=new _e.Matrix4(Op[bp].matrix);Wp.transpose(),Ip.push(Wp)}}var Yp=null;if(dr.unitCell){var Zp=dr.unitCell;Yp={a:Zp[0],b:Zp[1],c:Zp[2],alpha:Zp[3],beta:Zp[4],gamma:Zp[5]}}let Qp=[];dr.entityList.forEach(om=>{om.chainIndexList.forEach(Bp=>{Qp[Bp]=om.type=="polymer"})});var Gp=0;for(Mp=0;Mp<wp;Mp++){var rm=dr.chainsPerModel[Mp],Jp=pn[pn.length-1],Up=[];for(Do.push({symmetries:Ip,cryst:Yp}),bp=0;bp<rm;++bp){var im=dr.groupsPerChain[Io],em=it(dr.chainIdList.subarray(Io*4,Io*4+4));dr.chainNameList&&(em=it(dr.chainNameList.subarray(Io*4,Io*4+4)));var gm=Lo,bm="";for(Ep=0;Ep<im;++Ep){var ym=dr.groupList[dr.groupTypeList[Lo]],am=ym.atomNameList.length,fm=0,vm=!1,jp=!1;if(Uo){fm=Uo[Lo];var Rp=lt(fm);(Lo==0||Rp!=bm)&&(vm=!0),bm=Rp;var um=Lo+1;(um>=Uo.length||lt(Uo[um]!=Rp))&&(jp=!0)}var _m=dr.groupIdList[Lo],Cm=ym.groupName;let om=ym.chemCompType;var Sm=ms;let Bp=dt.has(om)||!Qp[Io];for(Cp=0;Cp<am;++Cp){var zp=ym.elementList[Cp];if(_n&&zp=="H"){ms+=1;continue}var Dp="";_s&&(Dp=_s[ms]);var kp="";yp&&yp[ms]&&(kp=String.fromCharCode(yp[ms]));var nm="";if(xs&&(nm=xs[ms]),kp!=""&&kp!=ft&&ft!="*"){ms+=1;continue}var lm=dr.atomIdList[ms],hm=ym.atomNameList[Cp],Em=0;ym.atomChargeList&&(Em=ym.atomChargeList[Cp]);var Lp=dr.xCoordList[ms],cm=dr.yCoordList[ms],mm=dr.zCoordList[ms];Up[ms]=Jp.length,Jp.push({resn:Cm,x:Lp,y:cm,z:mm,elem:zp,hetflag:Bp,chain:em,resi:_m,icode:kp,rescode:_m+(kp!=" "?"^"+kp:""),serial:lm,altLoc:kp,index:ms,atom:hm,bonds:[],ss:lt(fm),ssbegin:vm,ssend:jp,bondOrder:[],properties:{charge:Em,occupancy:nm},b:Dp}),ms+=1}var Vp=ym.bondAtomList;for(Cp=0,Ap=ym.bondOrderList.length;Cp<Ap;++Cp){var qp=Sm+Vp[Cp*2],xm=Sm+Vp[Cp*2+1],Np=ym.bondOrderList[Cp],Hp=Up[qp],Mm=Up[xm],Tp=Jp[Hp],dm=Jp[Mm];Tp&&dm&&(Tp.bonds.push(Mm),Tp.bondOrder.push(Np),dm.bonds.push(Hp),dm.bondOrder.push(Np))}Lo+=1}for(Lo=gm,Ep=0;Ep<im;++Ep)Lo+=1;Io+=1}if(vs)for(let om=Gp,Bp=vs.length;om<Bp;om+=2){let sm=vs[om],$m=vs[om+1],Nm=Sp?Sp[om/2]:1;if(sm>=ms){Gp=om;break}let Im=Up[sm],jm=Up[$m],Bm=Jp[Im],by=Jp[jm];Bm&&by&&(Bm.bonds.push(jm),Bm.bondOrder.push(Nm),by.bonds.push(Im),by.bondOrder.push(Nm))}pr.multimodel&&(pr.onemol||pn.push([]))}if(!_r)for(let om=0;om<pn.length;om++)(0,tt.processSymmetries)(Do[om].symmetries,pn[om],pr,Do[om].cryst);return mr&&!Ct&&(0,et.computeSecondaryStructure)(pn,pr.hbondCutoff),pn}},"./src/parsers/MOL2.ts":(o,_,$)=>{$.r(_),$.d(_,{MOL2:()=>_e});let j={"C.1":"C",C1:"C","C.2":"C",C2:"C","C.3":"C",C3:"C","C.ar":"C",Car:"C","C.cat":"C",Ccat:"C","H.spc":"H",Hspc:"H","H.t3p":"H",Ht3p:"H","N.1":"N",N1:"N","N.2":"N",N2:"N","N.3":"N",N3:"N","N.4":"N",N4:"N","N.am":"N",Nam:"N","N.ar":"N",Nar:"N","N.p13":"N",Np13:"N","O.2":"O",O2:"O","O.3":"O",O3:"O","O.co2":"O",Oco2:"O","O.spc":"O",Ospc:"O","O.t3p":"O",Ot3p:"O","P.3":"P",P3:"P","S.2":"S",S2:"S","S.3":"S",S3:"S","S.o":"S",So:"S","S.o2":"S",So2:"S"};function _e(et,tt){var nt=[[]],it=!1;typeof tt.keepH<"u"&&(it=!tt.keepH);var lt=et.search(/@<TRIPOS>MOLECULE/),dt=et.search(/@<TRIPOS>ATOM/);if(lt==-1||dt==-1)return nt;for(var bt=et.substring(lt).split(/\r?\n|\r/);bt.length>0;){var Ht=[],pr=bt[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),_n=parseInt(pr[0]),ft=0;pr.length>1&&(ft=parseInt(pr[1]));var Ct=4,mr;for(mr=3;mr<bt.length;mr++)if(bt[mr]=="@<TRIPOS>ATOM"){Ct=mr+1;break}var _r=nt[nt.length-1].length,mn=_r+_n,dr;for(mr=_r;mr<mn;mr++){dr=bt[Ct++],pr=dr.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var pn={},Do=pr[5];if(j[Do]!==void 0?Do=j[Do]:(Do=Do.split(".")[0],Do=Do[0].toUpperCase()+Do.substring(1).toLowerCase()),pn.atom=pr[1],pn.elem=Do,!(pn.elem=="H"&&it)){var Io=nt[nt.length-1].length,Lo=parseInt(pr[0]);pn.serial=Lo,pn.x=parseFloat(pr[2]),pn.y=parseFloat(pr[3]),pn.z=parseFloat(pr[4]),pn.atom=pr[5];var ms=parseFloat(pr[8]);pn.index=Io,pn.bonds=[],pn.bondOrder=[],pn.properties={charge:ms,partialCharge:ms},Ht[Lo]=Io,nt[nt.length-1].push(pn)}}for(var Uo=!1;Ct<bt.length;)if(bt[Ct++]=="@<TRIPOS>BOND"){Uo=!0;break}if(Uo&&ft)for(mr=0;mr<ft;mr++){dr=bt[Ct++],pr=dr.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var _s=parseInt(pr[1]),yp=nt[nt.length-1][Ht[_s]],xs=parseInt(pr[2]),vs=nt[nt.length-1][Ht[xs]],Sp=parseInt(pr[3]);isNaN(Sp)&&(Sp=1),yp!==void 0&&vs!==void 0&&(yp.bonds.push(Ht[xs]),yp.bondOrder.push(Sp),vs.bonds.push(Ht[_s]),vs.bondOrder.push(Sp))}if(tt.multimodel){tt.onemol||nt.push([]),bt.splice(0,Ct),et=bt.join(`
`);continue}else break}return nt}},"./src/parsers/PDB.ts":(o,_,$)=>{$.r(_),$.d(_,{PDB:()=>_e});var j=$("./src/parsers/utils/getSinglePDB.ts");function _e(et,tt){tt=tt||{};var nt=[],it={};nt.modelData=[];for(var lt=et.split(/\r?\n|\r/);lt.length>0;){var dt=(0,j.getSinglePDB)(lt,tt,it),bt=dt[0],Ht=dt[1];if(lt=dt[2],bt.length!=0){if(tt.multimodel&&tt.onemol&&nt.length>0)for(var pr=nt[0].length,_n=0;_n<bt.length;_n++){var ft=bt[_n];ft.index=_n;for(var Ct=0;Ct<ft.bonds.length;Ct++)ft.bonds[Ct]+=pr;nt[0].push(ft)}else nt.modelData.push(Ht),nt.push(bt);if(!tt.multimodel)break}}return nt}},"./src/parsers/PQR.ts":(o,_,$)=>{$.r(_),$.d(_,{PQR:()=>et});var j=$("./src/parsers/utils/assignPDBBonds.ts"),_e=$("./src/parsers/utils/computeSecondaryStructure.ts");function et(tt,nt){var it=[[]],lt=!nt.noSecondaryStructure;it.modelData=[{symmetries:[]}];var dt=[],bt=tt.split(/\r?\n|\r/),Ht;for(let Uo=0;Uo<bt.length;Uo++){Ht=bt[Uo].replace(/^\s*/,"");var pr=Ht.substring(0,6);if(pr.indexOf("END")==0)if(nt.multimodel){nt.onemol||it.push([]);continue}else break;else if(pr=="ATOM  "||pr=="HETATM"){var _n;let _s=parseInt(Ht.substring(6,11)),yp=Ht.substring(12,16).replace(/ /g,""),xs=Ht.substring(17,20).trim(),vs=Ht.substring(21,22),Sp=parseInt(Ht.substring(22,26));var ft=Ht.substring(30).trim().split(/\s+/),Ct=parseFloat(ft[0]),mr=parseFloat(ft[1]),_r=parseFloat(ft[2]),mn=parseFloat(ft[3]),dr=parseFloat(ft[4]),pn=yp[0];yp.length>1&&yp[1].toUpperCase()!=yp[1]&&(pn=yp.substring(0,2)),Ht[0]=="H"?_n=!0:_n=!1,dt[_s]=it[it.length-1].length,it[it.length-1].push({resn:xs,x:Ct,y:mr,z:_r,elem:pn,hetflag:_n,chain:vs,resi:Sp,serial:_s,atom:yp,bonds:[],ss:"c",bondOrder:[],properties:{charge:mn,partialCharge:mn,radius:dr},pdbline:Ht})}else if(pr=="CONECT"){var Do=parseInt(Ht.substring(6,11)),Io=it[it.length-1][dt[Do]];for(let _s=0;_s<4;_s++){var Lo=parseInt(Ht.substring([11,16,21,26][_s],[11,16,21,26][_s]+5)),ms=it[it.length-1][dt[Lo]];Io!==void 0&&ms!==void 0&&(Io.bonds.push(dt[Lo]),Io.bondOrder.push(1))}}}for(let Uo=0;Uo<it.length;Uo++)(0,j.assignPDBBonds)(it[Uo],nt),lt&&(0,_e.computeSecondaryStructure)(it[Uo],nt.hbondCutoff);return it}},"./src/parsers/PRMTOP.ts":(o,_,$)=>{$.r(_),$.d(_,{PRMTOP:()=>j});function j(_e){var et=[],tt,nt=0,it=_e.split(/\r?\n|\r/);if(it.length>0&&it[0].includes("VERSION")){var lt=it.filter(function(Ct){return Ct.includes("POINTERS")||Ct.includes("ATOM_NAME")||Ct.includes("CHARGE")||Ct.includes("RADII")||Ct.includes("BONDS_INC_HYDROGEN")||Ct.includes("BONDS_WITHOUT_HYDROGEN")}),dt=_n("POINTERS");if(dt==-1)return[];var bt=ft(dt),Ht=parseInt(it[dt+1].slice(0,bt[1]));if(isNaN(Ht)||Ht<=0)return[];if(dt=_n("ATOM_NAME"),dt==-1)return[];bt=ft(dt);var pr=bt[0];for(let Ct=0;Ct<Ht/bt[0];Ct++){Ct==parseInt(Ht/bt[0])&&(pr=Ht%bt[0]);for(let mr=0;mr<pr;mr++){let _r={},mn={charge:"",radii:""};_r.serial=nt,_r.x=0,_r.y=0,_r.z=0,_r.atom=it[dt+1].slice(bt[1]*mr,bt[1]*(mr+1)),_r.elem=it[dt+1].slice(bt[1]*mr,bt[1]*mr+1),_r.properties=mn,_r.bonds=[],_r.bondOrder=[],et.push(_r),nt++}dt++}if(dt=_n("CHARGE"),dt!=-1){bt=ft(dt),nt=0,pr=bt[0];for(let Ct=0;Ct<Ht/bt[0];Ct++){Ct==parseInt(Ht/bt[0])&&(pr=Ht%bt[0]);for(let mr=0;mr<pr;mr++)et[nt].properties.charge=parseFloat(it[dt+1].slice(bt[1]*mr,bt[1]*(mr+1))),nt++;dt++}}if(dt=_n("RADII"),dt!=-1){bt=ft(dt),nt=0,pr=bt[0];for(let Ct=0;Ct<Ht/bt[0];Ct++){Ct==parseInt(Ht/bt[0])&&(pr=Ht%bt[0]);for(let mr=0;mr<pr;mr++)et[nt].properties.radii=parseFloat(it[dt+1].slice(bt[1]*mr,bt[1]*(mr+1))),nt++;dt++}}if(dt=_n("BONDS_WITHOUT_HYDROGEN"),dt!=-1)for(bt=ft(dt),nt=0,pr=bt[0],dt=dt+1;!it[dt].match(/^%FLAG/);){it[dt+1].match(/^%FLAG/)&&(pr=Ht%bt[0]);for(let Ct=0;Ct<pr;Ct++)nt%3==0?tt=parseInt(it[dt].slice(bt[1]*Ct,bt[1]*(Ct+1))/3):nt%3==1&&et[tt].bonds.push(parseInt(it[dt].slice(bt[1]*Ct,bt[1]*(Ct+1))/3)),nt++;dt++}if(dt=_n("BONDS_INC_HYDROGEN"),dt!=-1)for(bt=ft(dt),nt=0,pr=bt[0],dt=dt+1;!it[dt].match(/^%FLAG/);){it[dt+1].match(/^%FLAG/)&&(pr=Ht%bt[0]);for(let Ct=0;Ct<pr;Ct++)nt%3==0?tt=parseInt(it[dt].slice(bt[1]*Ct,bt[1]*(Ct+1))/3):nt%3==1&&et[tt].bonds.push(parseInt(it[dt].slice(bt[1]*Ct,bt[1]*(Ct+1))/3)),nt++;dt++}}else return[];function _n(Ct){var mr=it.indexOf(lt.filter(function(_r){return _r.includes(Ct)})[0]);if(Number.isInteger(mr)&&mr>0){for(;!it[mr].includes("FORMAT");)mr++;return mr}else return-1}function ft(Ct){var mr=it[Ct].match(/\((\d*)\S*/),_r=it[Ct].match(/[a-zA-Z](\d*)\)\s*/);return _r==null&&(_r=it[Ct].match(/[a-zA-Z](\d*)\.\d*\)\s*/)),[mr[1],_r[1]]}return[et]}},"./src/parsers/SDF.ts":(o,_,$)=>{$.r(_),$.d(_,{SDF:()=>et});var j=function(tt,nt){var it=[[]],lt=!1;for(typeof nt.keepH<"u"&&(lt=!nt.keepH);tt.length>0&&!(tt.length<4);){var dt=parseInt(tt[3].substring(0,3));if(isNaN(dt)||dt<=0)break;var bt=parseInt(tt[3].substring(3,6)),Ht=4;if(tt.length<4+dt+bt)break;var pr=[],_n=it[it.length-1].length,ft=_n+dt,Ct,mr;for(Ct=_n;Ct<ft;Ct++,Ht++){mr=tt[Ht];var _r={},mn=mr.substring(31,34).replace(/ /g,"");_r.atom=_r.elem=mn[0].toUpperCase()+mn.substring(1).toLowerCase(),(_r.elem!=="H"||!lt)&&(_r.serial=Ct,pr[Ct]=it[it.length-1].length,_r.x=parseFloat(mr.substring(0,10)),_r.y=parseFloat(mr.substring(10,20)),_r.z=parseFloat(mr.substring(20,30)),_r.hetflag=!0,_r.bonds=[],_r.bondOrder=[],_r.properties={},_r.index=it[it.length-1].length,it[it.length-1].push(_r))}for(Ct=0;Ct<bt;Ct++,Ht++){mr=tt[Ht];var dr=pr[parseInt(mr.substring(0,3))-1+_n],pn=pr[parseInt(mr.substring(3,6))-1+_n],Do=parseFloat(mr.substring(6));typeof dr<"u"&&typeof pn<"u"&&(it[it.length-1][dr].bonds.push(pn),it[it.length-1][dr].bondOrder.push(Do),it[it.length-1][pn].bonds.push(dr),it[it.length-1][pn].bondOrder.push(Do))}if(nt.multimodel){for(nt.onemol||it.push([]);tt[Ht]!=="$$$$"&&Ht<tt.length;)Ht++;tt.splice(0,++Ht)}else break}return it},_e=function(tt,nt){var it=[[]],lt=!1;for(typeof nt.keepH<"u"&&(lt=!nt.keepH);tt.length>0&&!(tt.length<8||!tt[4].startsWith("M  V30 BEGIN CTAB")||!tt[5].startsWith("M  V30 COUNTS")||tt[5].length<14);){var dt=tt[5].substring(13).match(/\S+/g);if(dt.length<2)break;var bt=parseInt(dt[0]);if(isNaN(bt)||bt<=0)break;var Ht=parseInt(dt[1]),pr=7;if(tt.length<8+bt+Ht)break;var _n=[],ft=it[it.length-1].length,Ct=ft+bt,mr,_r;for(mr=ft;mr<Ct;mr++,pr++){_r=tt[pr];var mn=_r.substring(6).match(/\S+/g);if(mn.length>4){var dr={},pn=mn[1].replace(/ /g,"");dr.atom=dr.elem=pn[0].toUpperCase()+pn.substring(1).toLowerCase(),(dr.elem!=="H"||!lt)&&(dr.serial=mr,_n[mr]=it[it.length-1].length,dr.x=parseFloat(mn[2]),dr.y=parseFloat(mn[3]),dr.z=parseFloat(mn[4]),dr.hetflag=!0,dr.bonds=[],dr.bondOrder=[],dr.properties={},dr.index=it[it.length-1].length,it[it.length-1].push(dr))}}if(tt[pr]==="M  V30 END ATOM")pr++;else break;if(Ht!==0&&tt[pr]==="M  V30 BEGIN BOND")pr++;else break;for(mr=0;mr<Ht;mr++,pr++){_r=tt[pr];var Do=_r.substring(6).match(/\S+/g);if(Do.length>3){var Io=_n[parseInt(Do[2])-1+ft],Lo=_n[parseInt(Do[3])-1+ft],ms=parseFloat(Do[1]);typeof Io<"u"&&typeof Lo<"u"&&(it[it.length-1][Io].bonds.push(Lo),it[it.length-1][Io].bondOrder.push(ms),it[it.length-1][Lo].bonds.push(Io),it[it.length-1][Lo].bondOrder.push(ms))}}if(nt.multimodel){for(nt.onemol||it.push([]);tt[pr]!=="$$$$"&&pr<tt.length;)pr++;tt.splice(0,++pr)}else break}return it};function et(tt,nt){var it="V2000",lt=tt.split(/\r?\n|\r/);return lt.length>3&&lt[3].length>38&&(it=lt[3].substring(34,39)),it==="V2000"?j(lt,nt):it==="V3000"?_e(lt,nt):[[""]]}},"./src/parsers/VASP.ts":(o,_,$)=>{$.r(_),$.d(_,{VASP:()=>_e});var j=$("./src/WebGL/index.ts");function _e(et){var tt=[[]],nt={},it=et.replace(/^\s+/,"").split(/\r?\n/);if(it.length<3)return tt;if(it[1].match(/\d+/))nt.length=parseFloat(it[1]);else return console.log("Warning: second line of the vasp structure file must be a number"),tt;if(nt.length<0)return console.log("Warning: Vasp implementation for negative lattice lengths is not yet available"),tt;nt.xVec=new Float32Array(it[2].replace(/^\s+/,"").split(/\s+/)),nt.yVec=new Float32Array(it[3].replace(/^\s+/,"").split(/\s+/)),nt.zVec=new Float32Array(it[4].replace(/^\s+/,"").split(/\s+/));var lt=new j.Matrix3(nt.xVec[0],nt.xVec[1],nt.xVec[2],nt.yVec[0],nt.yVec[1],nt.yVec[2],nt.zVec[0],nt.zVec[1],nt.zVec[2]);lt.multiplyScalar(nt.length),tt.modelData=[{symmetries:[],cryst:{matrix:lt}}];var dt=it[5].replace(/\s+/,"").replace(/\s+$/,"").split(/\s+/),bt=new Int16Array(it[6].replace(/^\s+/,"").split(/\s+/)),Ht=it[7].replace(/\s+/,"");if(Ht.match(/C/))Ht="cartesian";else if(Ht.match(/D/))Ht="direct";else return console.log("Warning: Unknown vasp mode in POSCAR file: mode must be either C(artesian) or D(irect)"),tt;if(dt.length!=bt.length)return console.log("Warning: declaration of atomary species wrong:"),console.log(dt),console.log(bt),tt;it.splice(0,8);for(var pr=0,_n=0,ft=dt.length;_n<ft;_n++){for(var Ct=dt[_n],mr=0,_r=bt[_n];mr<_r;mr++){var mn=new Float32Array(it[pr+mr].replace(/^\s+/,"").split(/\s+/)),dr={};dr.elem=Ct,Ht=="cartesian"?(dr.x=nt.length*mn[0],dr.y=nt.length*mn[1],dr.z=nt.length*mn[2]):(dr.x=nt.length*(mn[0]*nt.xVec[0]+mn[1]*nt.yVec[0]+mn[2]*nt.zVec[0]),dr.y=nt.length*(mn[0]*nt.xVec[1]+mn[1]*nt.yVec[1]+mn[2]*nt.zVec[1]),dr.z=nt.length*(mn[0]*nt.xVec[2]+mn[1]*nt.yVec[2]+mn[2]*nt.zVec[2])),dr.bonds=[],tt[0].push(dr)}pr+=bt[_n]}return tt}},"./src/parsers/XYZ.ts":(o,_,$)=>{$.r(_),$.d(_,{XYZ:()=>et});var j=$("./src/WebGL/index.ts"),_e=$("./src/parsers/utils/assignBonds.ts");function et(tt,nt){nt=nt||{};for(var it=[[]],lt=nt.assignBonds===void 0?!0:nt.assignBonds,dt=tt.split(/\r?\n|\r/);dt.length>0&&!(dt.length<3);){var bt=parseInt(dt[0]);if(isNaN(bt)||bt<=0||dt.length<bt+2)break;var Ht=/Lattice\s*=\s*["\{\}]([^"\{\}]+)["\{\}]\s*/gi,pr=Ht.exec(dt[1]);if(pr!=null&&pr.length>1){var _n=new Float32Array(pr[1].split(/\s+/)),ft=new j.Matrix3(_n[0],_n[3],_n[6],_n[1],_n[4],_n[7],_n[2],_n[5],_n[8]);it.modelData=[{cryst:{matrix:ft}}]}for(var Ct=2,mr=it[it.length-1].length,_r=mr+bt,mn=mr;mn<_r;mn++){var dr=dt[Ct++],pn=dr.replace(/^\s+/,"").replace(/\s+/g," ").split(" "),Do={};Do.serial=mn;var Io=pn[0];Do.atom=Do.elem=Io[0].toUpperCase()+Io.substring(1,2).toLowerCase(),Do.x=parseFloat(pn[1]),Do.y=parseFloat(pn[2]),Do.z=parseFloat(pn[3]),Do.hetflag=!0,Do.bonds=[],Do.bondOrder=[],Do.properties={},it[it.length-1][mn]=Do,pn.length>=7&&(Do.dx=parseFloat(pn[4]),Do.dy=parseFloat(pn[5]),Do.dz=parseFloat(pn[6]))}if(nt.multimodel)it.push([]),dt.splice(0,Ct);else break}if(lt)for(let ms=0;ms<it.length;ms++)(0,_e.assignBonds)(it[ms],nt);if(nt.onemol){var Lo=it;it=[],it.push(Lo[0]);for(let ms=1;ms<Lo.length;ms++){let Uo=it[0].length;for(let _s=0;_s<Lo[ms].length;_s++){let yp=Lo[ms][_s];for(let xs=0;xs<yp.bonds.length;xs++)yp.bonds[xs]=yp.bonds[xs]+Uo;yp.index=it[0].length,yp.serial=it[0].length,it[0].push(yp)}}}return it}},"./src/parsers/index.ts":(o,_,$)=>{$.r(_),$.d(_,{Parsers:()=>mr,bondLength:()=>Ct.bondLength,setBondLength:()=>Ct.setBondLength});var j=$("./src/parsers/VASP.ts"),_e=$("./src/parsers/CUBE.ts"),et=$("./src/parsers/XYZ.ts"),tt=$("./src/parsers/SDF.ts"),nt=$("./src/parsers/CDJSON.ts"),it=$("./src/parsers/CIF.ts"),lt=$("./src/parsers/MOL2.ts"),dt=$("./src/parsers/PDB.ts"),bt=$("./src/parsers/PQR.ts"),Ht=$("./src/parsers/MMTF.ts"),pr=$("./src/parsers/PRMTOP.ts"),_n=$("./src/parsers/GRO.ts"),ft=$("./src/parsers/LAMMPSTRJ.ts"),Ct=$("./src/parsers/utils/bondLength.ts");const mr={vasp:j.VASP,VASP:j.VASP,cube:_e.CUBE,CUBE:_e.CUBE,xyz:et.XYZ,XYZ:et.XYZ,sdf:tt.SDF,SDF:tt.SDF,json:nt.CDJSON,cdjson:nt.CDJSON,CDJSON:nt.CDJSON,mcif:it.CIF,cif:it.CIF,CIF:it.CIF,mol2:lt.MOL2,MOL2:lt.MOL2,pdb:dt.PDB,PDB:dt.PDB,pdbqt:dt.PDB,PDBQT:dt.PDB,pqr:bt.PQR,PQR:bt.PQR,mmtf:Ht.MMTFparser,MMTF:Ht.MMTFparser,prmtop:pr.PRMTOP,PRMTOP:pr.PRMTOP,gro:_n.GRO,GRO:_n.GRO,lammpstrj:ft.LAMMPSTRJ,LAMMPSTRJ:ft.LAMMPSTRJ}},"./src/parsers/utils/anumToSymbol.ts":(o,_,$)=>{$.r(_),$.d(_,{anumToSymbol:()=>j});const j={1:"H",2:"He",3:"Li",4:"Be",5:"B",6:"C",7:"N",8:"O",9:"F",10:"Ne",11:"Na",12:"Mg",13:"Al",14:"Si",15:"P",16:"S",17:"Cl",18:"Ar",19:"K",20:"Ca",21:"Sc",22:"Ti",23:"V",24:"Cr",25:"Mn",26:"Fe",27:"Co",28:"Ni",29:"Cu",30:"Zn",31:"Ga",32:"Ge",33:"As",34:"Se",35:"Br",36:"Kr",37:"Rb",38:"Sr",39:"Y",40:"Zr",41:"Nb",42:"Mo",43:"Tc",44:"Ru",45:"Rh",46:"Pd",47:"Ag",48:"Cd",49:"In",50:"Sn",51:"Sb",52:"Te",53:"I",54:"Xe",55:"Cs",56:"Ba",71:"Lu",72:"Hf",73:"Ta",74:"W",75:"Re",76:"Os",77:"Ir",78:"Pt",79:"Au",80:"Hg",81:"Tl",82:"Pb",83:"Bi",84:"Po",85:"At",86:"Rn",87:"Fr",88:"Ra",104:"Rf",105:"Db",106:"Sg",107:"Bh",108:"Hs",109:"Mt",110:"Ds",111:"Rg",112:"Cn",113:"Nh",114:"Fl",115:"Mc",116:"Lv",117:"Ts",118:"Og",57:"La",58:"Ce",59:"Pr",60:"Nd",61:"Pm",62:"Sm",63:"Eu",64:"Gd",65:"Tb",66:"Dy",67:"Ho",68:"Er",69:"Tm",70:"Yb",89:"Ac",90:"Th",91:"Pa",92:"U",93:"Np",94:"Pu",95:"Am",96:"Cm",97:"Bk",98:"Cf",99:"Es",100:"Fm",101:"Md",102:"No"}},"./src/parsers/utils/areConnected.ts":(o,_,$)=>{$.r(_),$.d(_,{areConnected:()=>et});var j=$("./src/parsers/utils/bondLength.ts");const _e=new Set(["Na","K","Ca","Mg","Mn","Sr"]);function et(tt,nt,it){if(it&&it.unboundCations&&(_e.has(tt.elem)||_e.has(nt.elem)))return!1;let lt=(0,j.bondLength)(tt.elem)+(0,j.bondLength)(nt.elem);lt+=.25,lt*=lt;let dt=tt.x-nt.x;if(dt*=dt,dt>lt)return!1;let bt=tt.y-nt.y;if(bt*=bt,bt>lt)return!1;let Ht=tt.z-nt.z;if(Ht*=Ht,Ht>lt)return!1;const pr=dt+bt+Ht;return!(isNaN(pr)||pr<.5||pr>lt||tt.altLoc!==nt.altLoc&&tt.altLoc!==" "&&nt.altLoc!==" ")}},"./src/parsers/utils/assignBackboneHBonds.ts":(o,_,$)=>{$.r(_),$.d(_,{assignBackboneHBonds:()=>j});function j(_e,et){const tt=et||3.2,nt=tt*tt,it=[];for(let lt=0,dt=_e.length;lt<dt;lt++){_e[lt].index=lt;const bt=_e[lt];!bt.hetflag&&(bt.atom==="N"||bt.atom==="O")&&(it.push(bt),bt.hbondOther=null,bt.hbondDistanceSq=Number.POSITIVE_INFINITY)}it.sort(function(lt,dt){return lt.z-dt.z});for(let lt=0,dt=it.length;lt<dt;lt++){const bt=it[lt];for(let Ht=lt+1;Ht<dt;Ht++){const pr=it[Ht],_n=pr.z-bt.z;if(_n>tt)break;if(pr.atom==bt.atom)continue;const ft=Math.abs(pr.y-bt.y);if(ft>tt)continue;const Ct=Math.abs(pr.x-bt.x);if(Ct>tt)continue;const mr=Ct*Ct+ft*ft+_n*_n;mr>nt||pr.chain==bt.chain&&Math.abs(pr.resi-bt.resi)<4||(mr<bt.hbondDistanceSq&&(bt.hbondOther=pr,bt.hbondDistanceSq=mr),mr<pr.hbondDistanceSq&&(pr.hbondOther=bt,pr.hbondDistanceSq=mr))}}}},"./src/parsers/utils/assignBonds.ts":(o,_,$)=>{$.r(_),$.d(_,{assignBonds:()=>tt});var j=$("./src/parsers/utils/areConnected.ts");const _e=[{x:0,y:0,z:1},{x:0,y:1,z:-1},{x:0,y:1,z:0},{x:0,y:1,z:1},{x:1,y:-1,z:-1},{x:1,y:-1,z:0},{x:1,y:-1,z:1},{x:1,y:0,z:-1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:-1},{x:1,y:1,z:0},{x:1,y:1,z:1}],et=4.95;function tt(nt,it){for(let bt=0,Ht=nt.length;bt<Ht;bt++)nt[bt].index||(nt[bt].index=bt);const lt={x:{y:{z:[]}}};for(let bt=0;bt<nt.length;bt++){const Ht=nt[bt],pr=Math.floor(Ht.x/et),_n=Math.floor(Ht.y/et),ft=Math.floor(Ht.z/et);lt[pr]||(lt[pr]={}),lt[pr][_n]||(lt[pr][_n]={}),lt[pr][_n][ft]||(lt[pr][_n][ft]=[]),lt[pr][_n][ft].push(Ht)}function dt(bt,Ht){for(let pr=0;pr<bt.length;pr++){const _n=bt[pr];for(let ft=0;ft<Ht.length;ft++){const Ct=Ht[ft];if((0,j.areConnected)(_n,Ct,it)){const mr=_n.bonds.indexOf(Ct.index),_r=Ct.bonds.indexOf(_n.index);mr===-1&&_r===-1?(_n.bonds.push(Ct.index),_n.bondOrder.push(1),Ct.bonds.push(_n.index),Ct.bondOrder.push(1)):mr===-1?(_n.bonds.push(Ct.index),_n.bondOrder.push(Ct.bondOrder[_r])):_r===-1&&(Ct.bonds.push(_n.index),Ct.bondOrder.push(_n.bondOrder[mr]))}}}}for(let bt in lt){const Ht=parseInt(bt);for(let pr in lt[Ht]){const _n=parseInt(pr);for(let ft in lt[Ht][_n]){const Ct=parseInt(ft),mr=lt[Ht][_n][Ct];for(let _r=0;_r<mr.length;_r++){const mn=mr[_r];for(let dr=_r+1;dr<mr.length;dr++){const pn=mr[dr];(0,j.areConnected)(mn,pn,it)&&mn.bonds.indexOf(pn.index)==-1&&(mn.bonds.push(pn.index),mn.bondOrder.push(1),pn.bonds.push(mn.index),pn.bondOrder.push(1))}}for(let _r=0;_r<_e.length;_r++){const mn=_e[_r];if(!lt[Ht+mn.x]||!lt[Ht+mn.x][_n+mn.y]||!lt[Ht+mn.x][_n+mn.y][Ct+mn.z])continue;const dr=lt[Ht+mn.x][_n+mn.y][Ct+mn.z];dt(mr,dr)}}}}}},"./src/parsers/utils/assignPDBBonds.ts":(o,_,$)=>{$.r(_),$.d(_,{assignPDBBonds:()=>tt});var j=$("./src/parsers/utils/areConnected.ts"),_e=$("./src/parsers/utils/assignBonds.ts"),et=$("./src/parsers/utils/standardResidues.ts");function tt(nt,it){const lt=[],dt=[];for(let _n=0,ft=nt.length;_n<ft;_n++){const Ct=nt[_n];Ct.index=_n,Ct.hetflag||!et.standardResidues.has(Ct.resn)?dt.push(Ct):lt.push(Ct)}(0,_e.assignBonds)(dt,it),lt.sort(function(_n,ft){return _n.chain!==ft.chain?_n.chain<ft.chain?-1:1:_n.resi-ft.resi});let bt=-1,Ht=-1,pr;for(let _n=0,ft=lt.length;_n<ft;_n++){const Ct=lt[_n];Ct.resi!==bt&&(bt=Ct.resi,pr||Ht++,pr=!1),Ct.reschain=Ht;for(let mr=_n+1;mr<lt.length;mr++){const _r=lt[mr];if(_r.chain!==Ct.chain||_r.resi-Ct.resi>1)break;(0,j.areConnected)(Ct,_r,it)&&(Ct.bonds.indexOf(_r.index)===-1&&(Ct.bonds.push(_r.index),Ct.bondOrder.push(1),_r.bonds.push(Ct.index),_r.bondOrder.push(1)),Ct.resi!==_r.resi&&(pr=!0))}}}},"./src/parsers/utils/atomNameToElem.ts":(o,_,$)=>{$.r(_),$.d(_,{atomNameToElem:()=>_e});var j=$("./src/parsers/utils/bondLength.ts");function _e(et,tt){let nt=et.replace(/ /g,"");return nt.length>0&&nt[0]==="H"&&nt!=="Hg"&&nt!=="He"&&nt!=="Hf"&&nt!=="Hs"&&nt!=="Ho"&&(nt="H"),nt.length>1&&(nt=nt[0].toUpperCase()+nt.substring(1).toLowerCase(),j.bondTable[nt]===void 0?nt=nt[0]:tt&&(nt==="Ca"||nt==="Cd")&&(nt="C")),nt}},"./src/parsers/utils/bondLength.ts":(o,_,$)=>{$.r(_),$.d(_,{bondLength:()=>_e,bondTable:()=>j,setBondLength:()=>et});let j={H:.37,He:.32,Li:1.34,Be:.9,B:.82,C:.77,N:.75,O:.73,F:.71,Ne:.69,Na:1.54,Mg:1.3,Al:1.18,Si:1.11,P:1.06,S:1.02,Cl:.99,Ar:.97,K:1.96,Ca:1.74,Sc:1.44,Ti:1.56,V:1.25,Mn:1.39,Fe:1.25,Co:1.26,Ni:1.21,Cu:1.38,Zn:1.31,Ga:1.26,Ge:1.22,Se:1.16,Br:1.14,Kr:1.1,Rb:2.11,Sr:1.92,Y:1.62,Zr:1.48,Nb:1.37,Mo:1.45,Tc:1.56,Ru:1.26,Rh:1.35,Pd:1.31,Ag:1.53,Cd:1.48,In:1.44,Sn:1.41,Sb:1.38,Te:1.35,I:1.33,Xe:1.3,Cs:2.25,Ba:1.98,Lu:1.6,Hf:1.5,Ta:1.38,W:1.46,Re:1.59,Os:1.44,Ir:1.37,Pt:1.28,Au:1.44,Hg:1.49,Tl:1.48,Pb:1.47,Bi:1.46,Rn:1.45};function _e(tt){return j[tt]||1.6}function et(tt,nt){nt<0&&(nt=0),j[tt]=nt}},"./src/parsers/utils/computeSecondaryStructure.ts":(o,_,$)=>{$.r(_),$.d(_,{computeSecondaryStructure:()=>_e});var j=$("./src/parsers/utils/assignBackboneHBonds.ts");function _e(et,tt){(0,j.assignBackboneHBonds)(et,tt);const nt={};let it,lt,dt,bt,Ht,pr;for(it=0,lt=et.length;it<lt;it++)if(Ht=et[it],nt[Ht.chain]===void 0&&(nt[Ht.chain]=[]),isFinite(Ht.hbondDistanceSq)){const _n=Ht.hbondOther;nt[_n.chain]===void 0&&(nt[_n.chain]=[]),Math.abs(_n.resi-Ht.resi)===4&&(nt[Ht.chain][Ht.resi]="h")}for(dt in nt)for(bt=1;bt<nt[dt].length-1;bt++){const _n=nt[dt][bt-1],ft=nt[dt][bt+1];pr=nt[dt][bt],_n=="h"&&_n==ft&&pr!=_n&&(nt[dt][bt]=_n)}for(it=0,lt=et.length;it<lt;it++)Ht=et[it],isFinite(Ht.hbondDistanceSq)&&nt[Ht.chain][Ht.resi]!="h"&&Ht.ss!=="h"&&(nt[Ht.chain][Ht.resi]="maybesheet");for(let _n=0,ft=et.length;_n<ft;_n++)if(Ht=et[_n],isFinite(Ht.hbondDistanceSq)&&nt[Ht.chain][Ht.resi]=="maybesheet"){let Ct=Ht.hbondOther,mr=nt[Ct.chain][Ct.resi];(mr=="maybesheet"||mr=="s")&&(nt[Ht.chain][Ht.resi]="s",nt[Ct.chain][Ct.resi]="s")}for(let _n in nt){for(let ft=1;ft<nt[_n].length-1;ft++){const Ct=nt[_n][ft-1],mr=nt[_n][ft+1];pr=nt[_n][ft],Ct=="s"&&Ct==mr&&pr!=Ct&&(nt[_n][ft]=Ct)}for(let ft=0;ft<nt[_n].length;ft++){const Ct=nt[_n][ft];(Ct=="h"||Ct=="s")&&nt[_n][ft-1]!=Ct&&nt[_n][ft+1]!=Ct&&delete nt[_n][ft]}}for(it=0,lt=et.length;it<lt;it++)Ht=et[it],pr=nt[Ht.chain][Ht.resi],delete Ht.hbondOther,delete Ht.hbondDistanceSq,!(pr===void 0||pr==="maybesheet")&&(Ht.ss=pr,nt[Ht.chain][Ht.resi-1]!=pr&&(Ht.ssbegin=!0),nt[Ht.chain][Ht.resi+1]!=pr&&(Ht.ssend=!0))}},"./src/parsers/utils/getSinglePDB.ts":(o,_,$)=>{$.r(_),$.d(_,{getSinglePDB:()=>bt});var j=$("./src/WebGL/index.ts"),_e=$("./src/parsers/utils/atomNameToElem.ts"),et=$("./src/parsers/utils/bondLength.ts"),tt=$("./src/parsers/utils/computeSecondaryStructure.ts"),nt=$("./src/parsers/utils/isEmpty.ts"),it=$("./src/parsers/utils/processSymmetries.ts"),lt=$("./src/parsers/utils/assignPDBBonds.ts"),dt=$("./src/parsers/utils/validateBonds.ts");function bt(Ht,pr,_n){const ft=[],Ct=pr.assignBonds===void 0?!0:pr.assignBonds,mr=!pr.keepH,_r=!!pr.noSecondaryStructure,mn=!pr.noComputeSecondaryStructure,dr=!pr.doAssembly,pn=pr.altLoc?pr.altLoc:"A",Do={symmetries:[],cryst:void 0};let Io,Lo=[];const ms=[];let Uo;const _s={};for(let yp=0;yp<Ht.length;yp++){Uo=Ht[yp].replace(/^\s*/,"");const xs=Uo.substring(0,6);let vs,Sp,wp;if(xs.indexOf("END")===0){if(Lo=Ht.slice(yp+1),xs==="END")for(const bp in _n)_n.hasOwnProperty(bp)&&delete _n[bp];break}else if(xs==="ATOM  "||xs==="HETATM"){let bp,Ep,Cp,Ap,Mp,Pp,Ip,Op,Wp,Yp,Zp,Qp;if(Zp=Uo.substring(16,17),Zp!==" "&&Zp!==pn&&pn!=="*"||(Yp=parseInt(Uo.substring(6,11)),Io=Uo.substring(12,16).replace(/ /g,""),bp=Uo.substring(17,20).replace(/ /g,""),Ep=Uo.substring(21,22),Cp=parseInt(Uo.substring(22,26)),Ap=Uo.substring(26,27),Mp=parseFloat(Uo.substring(30,38)),Pp=parseFloat(Uo.substring(38,46)),Ip=parseFloat(Uo.substring(46,54)),Qp=parseFloat(Uo.substring(60,68)),Wp=Uo.substring(76,78).replace(/ /g,""),Wp===""||et.bondTable[Wp]===void 0?Wp=(0,_e.atomNameToElem)(Uo.substring(12,14),Uo[0]=="A"):Wp=Wp[0].toUpperCase()+Wp.substring(1).toLowerCase(),Wp==="H"&&mr))continue;xs[0]=="H"?Op=!0:Op=!1,ms[Yp]=ft.length,ft.push({resn:bp,x:Mp,y:Pp,z:Ip,elem:Wp,hetflag:Op,altLoc:Zp,chain:Ep,resi:Cp,icode:Ap,rescode:Cp+(Ap!==" "?"^"+Ap:""),serial:Yp,atom:Io,bonds:[],ss:"c",bondOrder:[],properties:{},b:Qp,pdbline:Uo})}else if(xs==="SHEET "){vs=Uo.substring(21,22),Sp=parseInt(Uo.substring(22,26)),wp=parseInt(Uo.substring(33,37)),vs in _n||(_n[vs]={}),_n[vs][Sp]="s1";for(let bp=Sp+1;bp<wp;bp++)_n[vs][bp]="s";_n[vs][wp]="s2"}else if(xs==="CONECT"){const bp=parseInt(Uo.substring(6,11)),Ep=ms[bp],Cp=ft[Ep],Ap=[11,16,21,26];for(let Mp=0;Mp<4;Mp++){const Pp=parseInt(Uo.substring(Ap[Mp],Ap[Mp]+5)),Ip=ms[Pp];let Op=Ep+":"+Ip;const Wp=ft[Ip];if(Cp!==void 0&&Wp!==void 0)if(!_s[Op])_s[Op]=1,(Cp.bonds.length==0||Cp.bonds[Cp.bonds.length-1]!==Ip)&&(Cp.bonds.push(Ip),Cp.bondOrder.push(1));else{_s[Op]+=1;for(let Yp=0;Yp<Cp.bonds.length;Yp++)if(Cp.bonds[Yp]==Ip){const Zp=_s[Op];Zp>=4?Cp.bondOrder[Yp]=1:Cp.bondOrder[Yp]=Zp}}}}else if(xs==="HELIX "){vs=Uo.substring(19,20),Sp=parseInt(Uo.substring(21,25)),wp=parseInt(Uo.substring(33,37)),vs in _n||(_n[vs]={}),_n[vs][Sp]="h1";for(let bp=Sp+1;bp<wp;bp++)_n[vs][bp]="h";_n[vs][wp]="h2"}else if(!dr&&xs==="REMARK"&&Uo.substring(13,18)==="BIOMT"){let bp,Ep=new j.Matrix4;for(bp=1;bp<=3;bp++)if(Uo=Ht[yp].replace(/^\s*/,""),parseInt(Uo.substring(18,19))==bp)Ep.elements[bp-1]=parseFloat(Uo.substring(23,33)),Ep.elements[bp-1+4]=parseFloat(Uo.substring(33,43)),Ep.elements[bp-1+8]=parseFloat(Uo.substring(43,53)),Ep.elements[bp-1+12]=parseFloat(Uo.substring(53)),yp++;else for(;Uo.substring(13,18)==="BIOMT";)yp++,Uo=Ht[yp].replace(/^\s*/,"");Ep.elements[3]=0,Ep.elements[7]=0,Ep.elements[11]=0,Ep.elements[15]=1,Do.symmetries.push(Ep),yp--}else if(xs==="CRYST1"){let bp,Ep,Cp,Ap,Mp,Pp;bp=parseFloat(Uo.substring(7,15)),Ep=parseFloat(Uo.substring(16,24)),Cp=parseFloat(Uo.substring(25,33)),Ap=parseFloat(Uo.substring(34,40)),Mp=parseFloat(Uo.substring(41,47)),Pp=parseFloat(Uo.substring(48,54)),Do.cryst={a:bp,b:Ep,c:Cp,alpha:Ap,beta:Mp,gamma:Pp}}else if(xs==="ANISOU"){const bp=parseInt(Uo.substring(6,11)),Ep=ms[bp],Cp=ft[Ep];if(Cp){const Ap=Uo.substring(30).trim().split(/\s+/),Mp={u11:parseInt(Ap[0]),u22:parseInt(Ap[1]),u33:parseInt(Ap[2]),u12:parseInt(Ap[3]),u13:parseInt(Ap[4]),u23:parseInt(Ap[5])};Cp.uMat=Mp}}}if((0,dt.validateBonds)(ft,ms),Ct&&(0,lt.assignPDBBonds)(ft,pr),dr||(0,it.processSymmetries)(Do.symmetries,ft,pr,Do.cryst),mn&&!_r&&(0,tt.computeSecondaryStructure)(ft,pr.hbondCutoff),!(0,nt.isEmpty)(_n))for(let yp=0;yp<ft.length;yp++){const xs=ft[yp];if(xs!==void 0&&xs.chain in _n&&xs.resi in _n[xs.chain]){const vs=_n[xs.chain][xs.resi];xs.ss=vs[0],vs.length>1&&(vs[1]=="1"?xs.ssbegin=!0:vs[1]=="2"&&(xs.ssend=!0))}}return[ft,Do,Lo]}},"./src/parsers/utils/isEmpty.ts":(o,_,$)=>{$.r(_),$.d(_,{isEmpty:()=>j});function j(_e){for(const et in _e)return!1;return!0}},"./src/parsers/utils/processSymmetries.ts":(o,_,$)=>{$.r(_),$.d(_,{processSymmetries:()=>_e});var j=$("./src/WebGL/index.ts");function _e(et,tt,nt,it){const lt=!nt.duplicateAssemblyAtoms,dt=tt.length;let bt=dt,Ht=-1,pr=null,_n=null;(nt.normalizeAssembly||nt.wrapAtoms)&&it&&(pr=(0,j.conversionMatrix3)(it.a,it.b,it.c,it.alpha,it.beta,it.gamma),_n=new j.Matrix3,_n.getInverse3(pr));let ft=function(_r){let mn=_r.clone().applyMatrix3(_n);const dr=[mn.x,mn.y,mn.z],pn=[0,0,0];for(let Io=0;Io<3;Io++){for(;dr[Io]<-.001;)dr[Io]+=1,pn[Io]+=1;for(;dr[Io]>1.001;)dr[Io]-=1,pn[Io]-=1}const Do=new j.Vector3(pn[0],pn[1],pn[2]);return Do.applyMatrix3(pr),Do};if(nt.normalizeAssembly&&it)for(let _r=0;_r<et.length;_r++){const mn=new j.Vector3(0,0,0);for(let pn=0;pn<dt;pn++){const Do=new j.Vector3(tt[pn].x,tt[pn].y,tt[pn].z);Do.applyMatrix4(et[_r]),mn.add(Do)}mn.divideScalar(dt);const dr=ft(mn);et[_r].isNearlyIdentity()&&dr.lengthSq()>.001&&(Ht=_r),et[_r].translate(dr)}if(lt){if(et.length>1)for(let _r=0;_r<tt.length;_r++){var Ct=[];for(let mn=0;mn<et.length;mn++)if(!et[mn].isNearlyIdentity()){var mr=new j.Vector3;mr.set(tt[_r].x,tt[_r].y,tt[_r].z),mr.applyMatrix4(et[mn]),Ct.push(mr)}tt[_r].symmetries=Ct}}else{for(let _r=0;_r<dt;_r++)tt[_r].sym=-1;for(let _r=0;_r<et.length;_r++)if(!et[_r].isNearlyIdentity()&&Ht!=_r){let mn=new j.Vector3;for(let dr=0;dr<dt;dr++){const pn=[];for(let Io=0;Io<tt[dr].bonds.length;Io++)pn.push(tt[dr].bonds[Io]+bt);if(mn.set(tt[dr].x,tt[dr].y,tt[dr].z),mn.applyMatrix4(et[_r]),nt.wrapAtoms&&it){let Io=ft(mn);mn.add(Io)}const Do={};for(const Io in tt[dr])Do[Io]=tt[dr][Io];Do.x=mn.x,Do.y=mn.y,Do.z=mn.z,Do.bonds=pn,Do.sym=_r,Do.index=tt.length,tt.push(Do)}bt=tt.length}else for(let mn=0;mn<dt;mn++)tt[mn].sym=_r;if(nt.wrapAtoms&&it){let _r=new j.Vector3;for(let mn=0;mn<dt;mn++){_r.set(tt[mn].x,tt[mn].y,tt[mn].z);let dr=ft(_r);_r.add(dr),tt[mn].x=_r.x,tt[mn].y=_r.y,tt[mn].z=_r.z}}if(Ht>=0){const _r=new j.Vector3;for(let mn=0;mn<dt;mn++)_r.set(tt[mn].x,tt[mn].y,tt[mn].z),_r.applyMatrix4(et[Ht]),tt[mn].x=_r.x,tt[mn].y=_r.y,tt[mn].z=_r.z}et.length=0}}},"./src/parsers/utils/standardResidues.ts":(o,_,$)=>{$.r(_),$.d(_,{standardResidues:()=>j});const j=new Set(["ABU","ACD","ALA","ALB","ALI","ARG","AR0","ASN","ASP","ASX","BAS","CYS","CYH","CYX","CSS","CSH","GLN","GLU","GLX","GLY","HIS","HIE","HID","HIP","HYP","ILE","ILU","LEU","LYS","MET","PCA","PGA","PHE","PR0","PRO","PRZ","SER","THR","TRP","TYR","VAL","A","1MA","C","5MC","OMC","G","1MG","2MG","M2G","7MG","OMG","YG","I","T","U","+U","H2U","5MU","PSU","ACE","F0R","H2O","HOH","WAT"])},"./src/parsers/utils/validateBonds.ts":(o,_,$)=>{$.r(_),$.d(_,{validateBonds:()=>j});function j(_e,et){for(let tt=0,nt=_e.length;tt<nt;tt++){const it=_e[tt];for(let lt=0;lt<it.bonds.length;lt++){const dt=it.bonds[lt],bt=_e[dt],Ht=et[it.serial];bt&&Ht&&bt.bonds.indexOf(Ht)<0&&(bt.bonds.push(Ht),bt.bondOrder.push(it.bondOrder[lt]))}}}},"./src/partialCharges.ts":(o,_,$)=>{$.r(_),$.d(_,{applyPartialCharges:()=>_e,partialCharges:()=>j});const j={"ALA:N":-.15,"ALA:CA":.1,"ALA:CB":0,"ALA:C":.6,"ALA:O":-.55,"ARG:N":-.15,"ARG:CA":.1,"ARG:CB":0,"ARG:CG":0,"ARG:CD":.1,"ARG:NE":-.1,"ARG:CZ":.5,"ARG:NH1":.25,"ARG:NH2":.25,"ARG:C":.6,"ARG:O":-.55,"ASN:N":-.15,"ASN:CA":.1,"ASN:CB":0,"ASN:CG":.55,"ASN:OD1":-.55,"ASN:ND2":0,"ASN:C":.6,"ASN:O":-.55,"ASP:N":-.15,"ASP:CA":.1,"ASP:CB":0,"ASP:CG":.14,"ASP:OD1":-.57,"ASP:OD2":-.57,"ASP:C":.6,"ASP:O":-.55,"CYS:N":-.15,"CYS:CA":.1,"CYS:CB":.19,"CYS:SG":-.19,"CYS:C":.6,"CYS:O":-.55,"GLN:N":-.15,"GLN:CA":.1,"GLN:CB":0,"GLN:CG":0,"GLN:CD":.55,"GLN:OE1":-.55,"GLN:NE2":0,"GLN:C":.6,"GLN:O":-.55,"GLU:N":-.15,"GLU:CA":.1,"GLU:CB":0,"GLU:CG":0,"GLU:CD":.14,"GLU:OE1":-.57,"GLU:OE2":-.57,"GLU:C":.6,"GLU:O":-.55,"GLY:N":-.15,"GLY:CA":.1,"GLY:C":.6,"GLY:O":-.55,"HIS:N":-.15,"HIS:CA":.1,"HIS:CB":0,"HIS:CG":.1,"HIS:ND1":-.1,"HIS:CD2":.1,"HIS:NE2":-.4,"HIS:CE1":.3,"HIS:C":.6,"HIS:O":-.55,"ILE:N":-.15,"ILE:CA":.1,"ILE:CB":0,"ILE:CG2":0,"ILE:CG1":0,"ILE:CD":0,"ILE:C":.6,"ILE:O":-.55,"LEU:N":-.15,"LEU:CA":.1,"LEU:CB":0,"LEU:CG":0,"LEU:CD1":0,"LEU:CD2":0,"LEU:C":.6,"LEU:O":-.55,"LYS:N":-.15,"LYS:CA":.1,"LYS:CB":0,"LYS:CG":0,"LYS:CD":0,"LYS:CE":.25,"LYS:NZ":.75,"LYS:C":.6,"LYS:O":-.55,"MET:N":-.15,"MET:CA":.1,"MET:CB":0,"MET:CG":.06,"MET:SD":-.12,"MET:CE":.06,"MET:C":.6,"MET:O":-.55,"PHE:N":-.15,"PHE:CA":.1,"PHE:CB":0,"PHE:CG":0,"PHE:CD1":0,"PHE:CD2":0,"PHE:CE1":0,"PHE:CE2":0,"PHE:CZ":0,"PHE:C":.6,"PHE:O":-.55,"PRO:N":-.25,"PRO:CD":.1,"PRO:CA":.1,"PRO:CB":0,"PRO:CG":0,"PRO:C":.6,"PRO:O":-.55,"SER:N":-.15,"SER:CA":.1,"SER:CB":.25,"SER:OG":-.25,"SER:C":.6,"SER:O":-.55,"THR:N":-.15,"THR:CA":.1,"THR:CB":.25,"THR:OG1":-.25,"THR:CG2":0,"THR:C":.6,"THR:O":-.55,"TRP:N":-.15,"TRP:CA":.1,"TRP:CB":0,"TRP:CG":-.03,"TRP:CD2":.1,"TRP:CE2":-.04,"TRP:CE3":-.03,"TRP:CD1":.06,"TRP:NE1":-.06,"TRP:CZ2":0,"TRP:CZ3":0,"TRP:CH2":0,"TRP:C":.6,"TRP:O":-.55,"TYR:N":-.15,"TYR:CA":.1,"TYR:CB":0,"TYR:CG":0,"TYR:CD1":0,"TYR:CE1":0,"TYR:CD2":0,"TYR:CE2":0,"TYR:CZ":.25,"TYR:OH":-.25,"TYR:C":.6,"TYR:O":-.55,"VAL:N":-.15,"VAL:CA":.1,"VAL:CB":0,"VAL:CG1":0,"VAL:CG2":0,"VAL:C":.6,"VAL:O":-.55};function _e(et,tt){if((!tt||typeof et.partialCharge>"u")&&et.resn&&et.atom){var nt=et.resn+":"+et.atom;et.properties.partialCharge=j[nt]}}},"./src/specs.ts":(o,_,$)=>{$.r(_)},"./src/utilities.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PausableTimer:()=>PausableTimer,adjustVolumeStyle:()=>adjustVolumeStyle,base64ToArray:()=>base64ToArray,deepCopy:()=>deepCopy,download:()=>download,extend:()=>extend,get:()=>get,getAtomProperty:()=>getAtomProperty,getColorFromStyle:()=>getColorFromStyle,getElement:()=>getElement,getExtent:()=>getExtent,getPropertyRange:()=>getPropertyRange,getbin:()=>getbin,isEmptyObject:()=>isEmptyObject,isNumeric:()=>isNumeric,makeFunction:()=>makeFunction,mergeGeos:()=>mergeGeos,specStringToObject:()=>specStringToObject});var _Gradient__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/Gradient.ts"),_VolumeData__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/VolumeData.ts"),_colors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/colors.ts");function extend(o,_){for(var $ in _)_.hasOwnProperty($)&&_[$]!==void 0&&(o[$]=_[$]);return o}function deepCopy(o){let _,$,j;if(o==null)return{};if(typeof o!="object"||o===null)return o;_=Array.isArray(o)?[]:{};for(j in o)$=o[j],_[j]=deepCopy($);return _}function isNumeric(o){var _=typeof o;return(_==="number"||_==="string")&&!isNaN(o-parseFloat(o))}function isEmptyObject(o){var _;for(_ in o)return!1;return!0}function makeFunction(callback){return callback&&typeof callback=="string"&&(callback=eval("("+callback+")")),callback&&typeof callback!="function"?null:callback}function adjustVolumeStyle(o){o&&(o.volformat&&!(o.voldata instanceof _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData)&&(o.voldata=new _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData(o.voldata,o.volformat)),o.volscheme&&(o.volscheme=_Gradient__WEBPACK_IMPORTED_MODULE_0__.Gradient.getGradient(o.volscheme)))}function getExtent(o,_){var $,j,_e,et,tt,nt,it,lt,dt,bt,Ht=!_;if($=j=_e=9999,et=tt=nt=-9999,it=lt=dt=bt=0,o.length===0)return[[0,0,0],[0,0,0],[0,0,0]];for(var pr=0;pr<o.length;pr++){var _n=o[pr];if(!(typeof _n>"u"||!isFinite(_n.x)||!isFinite(_n.y)||!isFinite(_n.z))&&(bt++,it+=_n.x,lt+=_n.y,dt+=_n.z,$=$<_n.x?$:_n.x,j=j<_n.y?j:_n.y,_e=_e<_n.z?_e:_n.z,et=et>_n.x?et:_n.x,tt=tt>_n.y?tt:_n.y,nt=nt>_n.z?nt:_n.z,_n.symmetries&&Ht))for(var ft=0;ft<_n.symmetries.length;ft++)bt++,it+=_n.symmetries[ft].x,lt+=_n.symmetries[ft].y,dt+=_n.symmetries[ft].z,$=$<_n.symmetries[ft].x?$:_n.symmetries[ft].x,j=j<_n.symmetries[ft].y?j:_n.symmetries[ft].y,_e=_e<_n.symmetries[ft].z?_e:_n.symmetries[ft].z,et=et>_n.symmetries[ft].x?et:_n.symmetries[ft].x,tt=tt>_n.symmetries[ft].y?tt:_n.symmetries[ft].y,nt=nt>_n.symmetries[ft].z?nt:_n.symmetries[ft].z}return[[$,j,_e],[et,tt,nt],[it/bt,lt/bt,dt/bt]]}function getPropertyRange(o,_){for(var $=Number.POSITIVE_INFINITY,j=Number.NEGATIVE_INFINITY,_e=0,et=o.length;_e<et;_e++){var tt=o[_e],nt=getAtomProperty(tt,_);nt!=null&&(nt<$&&($=nt),nt>j&&(j=nt))}return!isFinite($)&&!isFinite(j)?$=j=0:isFinite($)?isFinite(j)||(j=$):$=j,[$,j]}class PausableTimer{constructor(_,$,j){this.total_time_run=0,this.fn=_,this.arg=j,this.countdown=$,this.start_time=new Date().getTime(),this.ident=setTimeout(_,$,j)}cancel(){clearTimeout(this.ident)}pause(){clearTimeout(this.ident),this.total_time_run=new Date().getTime()-this.start_time}resume(){this.ident=setTimeout(this.fn,Math.max(0,this.countdown-this.total_time_run),this.arg)}}function base64ToArray(o){for(var _=window.atob(o),$=_.length,j=new Uint8Array($),_e=0;_e<$;_e++)j[_e]=_.charCodeAt(_e);return j}function getAtomProperty(o,_){var $=null;return o.properties&&typeof o.properties[_]<"u"?$=o.properties[_]:typeof o[_]<"u"&&($=o[_]),$}function mergeGeos(o,_){var $=_.geometry;$!==void 0&&o.geometryGroups.push($.geometryGroups[0])}function specStringToObject(o){if(typeof o=="object"||typeof o>"u"||o==null)return o;try{return JSON.parse(o)}catch{}o=o.replace(/%7E/g,"~");var _=function(Ht){return isNumeric(Ht)?Math.floor(parseFloat(Ht))==parseInt(Ht)||Ht.indexOf(".")>=0?parseFloat(Ht):parseInt(Ht):Ht==="true"?!0:Ht==="false"?!1:Ht},$={};if(o==="all")return $;for(var j=o.split(";"),_e=0;_e<j.length;_e++){var et=j[_e].split(":"),tt=et[0],nt={},it=et[1];if(it)if(it=it.replace(/~/g,"="),it.indexOf("=")!==-1)for(var lt=it.split(","),dt=0;dt<lt.length;dt++){var bt=lt[dt].split("=",2);nt[bt[0]]=_(bt[1])}else it.indexOf(",")!==-1?nt=it.split(","):nt=_(it);$[tt]=nt}return $}function checkStatus(o){if(!o.ok)throw new Error(`HTTP ${o.status} - ${o.statusText}`);return o}function get(o,_){var $=fetch(o).then(checkStatus).then(j=>j.text());return _?$.then(_):$}function getbin(o,_,$,j){var _e;return $=="POST"?_e=fetch(o,{method:"POST",body:j}).then(et=>checkStatus(et)).then(et=>et.arrayBuffer()):_e=fetch(o).then(et=>checkStatus(et)).then(et=>et.arrayBuffer()),_?_e.then(_):_e}function download(o,_,$,j){var _e="",et="",tt="",nt="",it=null,lt=_.addModel();if(o.indexOf(":")<0&&(o.length==4?o="pdb:"+o:isNaN(o)?o="url:"+o:o="cid:"+o),o.substring(0,5)==="mmtf:")et=$&&$.pdbUri?$.pdbUri:"https://mmtf.rcsb.org/v1.0/full/",o=o.substring(5).toUpperCase(),nt=et+o,$&&typeof $.noComputeSecondaryStructure>"u"&&($.noComputeSecondaryStructure=!0),it=new Promise(function(bt){getbin(nt).then(function(Ht){lt.addMolData(Ht,"mmtf",$),_.zoomTo(),_.render(),bt(lt)},function(){console.log("fetch of "+nt+" failed.")})});else{if(o.substring(0,4)==="pdb:"){if(_e="mmtf",$&&$.format&&(_e=$.format),$&&typeof $.noComputeSecondaryStructure>"u"&&($.noComputeSecondaryStructure=!0),o=o.substring(4).toUpperCase(),!o.match(/^[1-9][A-Za-z0-9]{3}$/)){alert("Wrong PDB ID");return}_e=="mmtf"?(tt=$&&$.mmtfUri?$.mmtfUri:"https://mmtf.rcsb.org/v1.0/full/",nt=tt+o.toUpperCase()):(et=$&&$.pdbUri?$.pdbUri:"https://files.rcsb.org/view/",nt=et+o+"."+_e)}else if(o.substring(0,4)=="cid:"){if(_e="sdf",o=o.substring(4),!o.match(/^[0-9]+$/)){alert("Wrong Compound ID");return}nt="https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+o+"/SDF?record_type=3d"}else o.substring(0,4)=="url:"&&(nt=o.substring(4),_e=nt);var dt=function(bt){lt.addMolData(bt,_e,$),_.zoomTo(),_.render()};it=new Promise(function(bt){_e=="mmtf"?getbin(nt).then(function(Ht){dt(Ht),bt(lt)}).catch(function(){et=$&&$.pdbUri?$.pdbUri:"https://files.rcsb.org/view/",nt=et+o+".pdb",_e="pdb",console.log("falling back to pdb format"),get(nt).then(function(Ht){dt(Ht),bt(lt)}).catch(function(Ht){dt(""),bt(lt),console.log("fetch of "+nt+" failed: "+Ht.statusText)})}):get(nt).then(function(Ht){dt(Ht),bt(lt)}).catch(function(Ht){dt(""),bt(lt),console.log("fetch of "+nt+" failed: "+Ht.statusText)})})}return j?(it.then(function(bt){j(bt)}),lt):it}function getColorFromStyle(o,_){let $=_.colorscheme;if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[$]<"u")$=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[$];else if(typeof $=="string"&&$.endsWith("Carbon")){let et=$.substring(0,$.lastIndexOf("Carbon")).toLowerCase();if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[et]<"u"){let tt=Object.assign({},_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors.defaultColors);tt.C=_colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[et],_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[$]={prop:"elem",map:tt},$=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[$]}}let j=o.color;if(typeof _.color<"u"&&_.color!="spectrum"&&(j=_.color),typeof $<"u"){let et,tt;if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[$]<"u")$=_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[$],typeof $[o[$.prop]]<"u"&&(j=$.map[o[$.prop]]);else if(typeof $[o[$.prop]]<"u")j=$.map[o[$.prop]];else if(typeof $.prop<"u"&&typeof $.gradient<"u"){et=$.prop;var _e=$.gradient;typeof _Gradient__WEBPACK_IMPORTED_MODULE_0__.builtinGradients[_e]<"u"&&(_e=new _Gradient__WEBPACK_IMPORTED_MODULE_0__.builtinGradients[_e]($.min,$.max,$.mid?$.mid:$.colors));let nt=_e.range()||[-1,1];tt=getAtomProperty(o,et),tt!=null&&(j=_e.valueToHex(tt,nt))}else typeof $.prop<"u"&&typeof $.map<"u"?(et=$.prop,tt=getAtomProperty(o,et),typeof $.map[tt]<"u"&&(j=$.map[tt])):typeof _.colorscheme[o.elem]<"u"?j=_.colorscheme[o.elem]:console.log("Could not interpret colorscheme "+$)}else typeof _.colorfunc<"u"&&(j=_.colorfunc(o));return _colors__WEBPACK_IMPORTED_MODULE_2__.CC.color(j)}function getElement(o){let _=o;return typeof o=="string"?_=document.querySelector("#"+o):typeof o=="object"&&o.get&&(_=o.get(0)),_}},"./node_modules/upng-js/UPNG.js":(o,_,$)=>{(function(){var j={},_e;o.exports=j,_e=$("./node_modules/upng-js/node_modules/pako/index.js"),function(et,tt){et.toRGBA8=function(nt){var it=nt.width,lt=nt.height;if(nt.tabs.acTL==null)return[et.toRGBA8.decodeImage(nt.data,it,lt,nt).buffer];var dt=[];nt.frames[0].data==null&&(nt.frames[0].data=nt.data);for(var bt,Ht=new Uint8Array(it*lt*4),pr=0;pr<nt.frames.length;pr++){var _n=nt.frames[pr],ft=_n.rect.x,Ct=_n.rect.y,mr=_n.rect.width,_r=_n.rect.height,mn=et.toRGBA8.decodeImage(_n.data,mr,_r,nt);if(pr==0?bt=mn:_n.blend==0?et._copyTile(mn,mr,_r,bt,it,lt,ft,Ct,0):_n.blend==1&&et._copyTile(mn,mr,_r,bt,it,lt,ft,Ct,1),dt.push(bt.buffer),bt=bt.slice(0),_n.dispose!=0){if(_n.dispose==1)et._copyTile(Ht,mr,_r,bt,it,lt,ft,Ct,0);else if(_n.dispose==2){for(var dr=pr-1;nt.frames[dr].dispose==2;)dr--;bt=new Uint8Array(dt[dr]).slice(0)}}}return dt},et.toRGBA8.decodeImage=function(nt,it,lt,dt){var bt=it*lt,Ht=et.decode._getBPP(dt),pr=Math.ceil(it*Ht/8),_n=new Uint8Array(bt*4),ft=new Uint32Array(_n.buffer),Ct=dt.ctype,mr=dt.depth,_r=et._bin.readUshort;if(Ct==6){var mn=bt<<2;if(mr==8)for(var dr=0;dr<mn;dr++)_n[dr]=nt[dr];if(mr==16)for(var dr=0;dr<mn;dr++)_n[dr]=nt[dr<<1]}else if(Ct==2){var pn=dt.tabs.tRNS,Do=-1,Io=-1,Lo=-1;if(pn&&(Do=pn[0],Io=pn[1],Lo=pn[2]),mr==8)for(var dr=0;dr<bt;dr++){var ms=dr<<2,Uo=dr*3;_n[ms]=nt[Uo],_n[ms+1]=nt[Uo+1],_n[ms+2]=nt[Uo+2],_n[ms+3]=255,Do!=-1&&nt[Uo]==Do&&nt[Uo+1]==Io&&nt[Uo+2]==Lo&&(_n[ms+3]=0)}if(mr==16)for(var dr=0;dr<bt;dr++){var ms=dr<<2,Uo=dr*6;_n[ms]=nt[Uo],_n[ms+1]=nt[Uo+2],_n[ms+2]=nt[Uo+4],_n[ms+3]=255,Do!=-1&&_r(nt,Uo)==Do&&_r(nt,Uo+2)==Io&&_r(nt,Uo+4)==Lo&&(_n[ms+3]=0)}}else if(Ct==3){var _s=dt.tabs.PLTE,yp=dt.tabs.tRNS,xs=yp?yp.length:0;if(mr==1)for(var vs=0;vs<lt;vs++)for(var Sp=vs*pr,wp=vs*it,dr=0;dr<it;dr++){var ms=wp+dr<<2,bp=nt[Sp+(dr>>3)]>>7-((dr&7)<<0)&1,Ep=3*bp;_n[ms]=_s[Ep],_n[ms+1]=_s[Ep+1],_n[ms+2]=_s[Ep+2],_n[ms+3]=bp<xs?yp[bp]:255}if(mr==2)for(var vs=0;vs<lt;vs++)for(var Sp=vs*pr,wp=vs*it,dr=0;dr<it;dr++){var ms=wp+dr<<2,bp=nt[Sp+(dr>>2)]>>6-((dr&3)<<1)&3,Ep=3*bp;_n[ms]=_s[Ep],_n[ms+1]=_s[Ep+1],_n[ms+2]=_s[Ep+2],_n[ms+3]=bp<xs?yp[bp]:255}if(mr==4)for(var vs=0;vs<lt;vs++)for(var Sp=vs*pr,wp=vs*it,dr=0;dr<it;dr++){var ms=wp+dr<<2,bp=nt[Sp+(dr>>1)]>>4-((dr&1)<<2)&15,Ep=3*bp;_n[ms]=_s[Ep],_n[ms+1]=_s[Ep+1],_n[ms+2]=_s[Ep+2],_n[ms+3]=bp<xs?yp[bp]:255}if(mr==8)for(var dr=0;dr<bt;dr++){var ms=dr<<2,bp=nt[dr],Ep=3*bp;_n[ms]=_s[Ep],_n[ms+1]=_s[Ep+1],_n[ms+2]=_s[Ep+2],_n[ms+3]=bp<xs?yp[bp]:255}}else if(Ct==4){if(mr==8)for(var dr=0;dr<bt;dr++){var ms=dr<<2,Cp=dr<<1,Ap=nt[Cp];_n[ms]=Ap,_n[ms+1]=Ap,_n[ms+2]=Ap,_n[ms+3]=nt[Cp+1]}if(mr==16)for(var dr=0;dr<bt;dr++){var ms=dr<<2,Cp=dr<<2,Ap=nt[Cp];_n[ms]=Ap,_n[ms+1]=Ap,_n[ms+2]=Ap,_n[ms+3]=nt[Cp+2]}}else if(Ct==0){var Do=dt.tabs.tRNS?dt.tabs.tRNS:-1;if(mr==1)for(var dr=0;dr<bt;dr++){var Ap=255*(nt[dr>>3]>>7-(dr&7)&1),Mp=Ap==Do*255?0:255;ft[dr]=Mp<<24|Ap<<16|Ap<<8|Ap}if(mr==2)for(var dr=0;dr<bt;dr++){var Ap=85*(nt[dr>>2]>>6-((dr&3)<<1)&3),Mp=Ap==Do*85?0:255;ft[dr]=Mp<<24|Ap<<16|Ap<<8|Ap}if(mr==4)for(var dr=0;dr<bt;dr++){var Ap=17*(nt[dr>>1]>>4-((dr&1)<<2)&15),Mp=Ap==Do*17?0:255;ft[dr]=Mp<<24|Ap<<16|Ap<<8|Ap}if(mr==8)for(var dr=0;dr<bt;dr++){var Ap=nt[dr],Mp=Ap==Do?0:255;ft[dr]=Mp<<24|Ap<<16|Ap<<8|Ap}if(mr==16)for(var dr=0;dr<bt;dr++){var Ap=nt[dr<<1],Mp=_r(nt,dr<<1)==Do?0:255;ft[dr]=Mp<<24|Ap<<16|Ap<<8|Ap}}return _n},et.decode=function(nt){for(var it=new Uint8Array(nt),lt=8,dt=et._bin,bt=dt.readUshort,Ht=dt.readUint,pr={tabs:{},frames:[]},_n=new Uint8Array(it.length),ft=0,Ct,mr=0,_r=[137,80,78,71,13,10,26,10],mn=0;mn<8;mn++)if(it[mn]!=_r[mn])throw"The input is not a PNG file!";for(;lt<it.length;){var dr=dt.readUint(it,lt);lt+=4;var pn=dt.readASCII(it,lt,4);if(lt+=4,pn=="IHDR")et.decode._IHDR(it,lt,pr);else if(pn=="IDAT"){for(var mn=0;mn<dr;mn++)_n[ft+mn]=it[lt+mn];ft+=dr}else if(pn=="acTL")pr.tabs[pn]={num_frames:Ht(it,lt),num_plays:Ht(it,lt+4)},Ct=new Uint8Array(it.length);else if(pn=="fcTL"){if(mr!=0){var Do=pr.frames[pr.frames.length-1];Do.data=et.decode._decompress(pr,Ct.slice(0,mr),Do.rect.width,Do.rect.height),mr=0}var Io={x:Ht(it,lt+12),y:Ht(it,lt+16),width:Ht(it,lt+4),height:Ht(it,lt+8)},Lo=bt(it,lt+22);Lo=bt(it,lt+20)/(Lo==0?100:Lo);var ms={rect:Io,delay:Math.round(Lo*1e3),dispose:it[lt+24],blend:it[lt+25]};pr.frames.push(ms)}else if(pn=="fdAT"){for(var mn=0;mn<dr-4;mn++)Ct[mr+mn]=it[lt+mn+4];mr+=dr-4}else if(pn=="pHYs")pr.tabs[pn]=[dt.readUint(it,lt),dt.readUint(it,lt+4),it[lt+8]];else if(pn=="cHRM"){pr.tabs[pn]=[];for(var mn=0;mn<8;mn++)pr.tabs[pn].push(dt.readUint(it,lt+mn*4))}else if(pn=="tEXt"){pr.tabs[pn]==null&&(pr.tabs[pn]={});var Uo=dt.nextZero(it,lt),_s=dt.readASCII(it,lt,Uo-lt),yp=dt.readASCII(it,Uo+1,lt+dr-Uo-1);pr.tabs[pn][_s]=yp}else if(pn=="iTXt"){pr.tabs[pn]==null&&(pr.tabs[pn]={});var Uo=0,xs=lt;Uo=dt.nextZero(it,xs);var _s=dt.readASCII(it,xs,Uo-xs);xs=Uo+1,it[xs],it[xs+1],xs+=2,Uo=dt.nextZero(it,xs),dt.readASCII(it,xs,Uo-xs),xs=Uo+1,Uo=dt.nextZero(it,xs),dt.readUTF8(it,xs,Uo-xs),xs=Uo+1;var yp=dt.readUTF8(it,xs,dr-(xs-lt));pr.tabs[pn][_s]=yp}else if(pn=="PLTE")pr.tabs[pn]=dt.readBytes(it,lt,dr);else if(pn=="hIST"){var vs=pr.tabs.PLTE.length/3;pr.tabs[pn]=[];for(var mn=0;mn<vs;mn++)pr.tabs[pn].push(bt(it,lt+mn*2))}else if(pn=="tRNS")pr.ctype==3?pr.tabs[pn]=dt.readBytes(it,lt,dr):pr.ctype==0?pr.tabs[pn]=bt(it,lt):pr.ctype==2&&(pr.tabs[pn]=[bt(it,lt),bt(it,lt+2),bt(it,lt+4)]);else if(pn=="gAMA")pr.tabs[pn]=dt.readUint(it,lt)/1e5;else if(pn=="sRGB")pr.tabs[pn]=it[lt];else if(pn=="bKGD")pr.ctype==0||pr.ctype==4?pr.tabs[pn]=[bt(it,lt)]:pr.ctype==2||pr.ctype==6?pr.tabs[pn]=[bt(it,lt),bt(it,lt+2),bt(it,lt+4)]:pr.ctype==3&&(pr.tabs[pn]=it[lt]);else if(pn=="IEND"){if(mr!=0){var Do=pr.frames[pr.frames.length-1];Do.data=et.decode._decompress(pr,Ct.slice(0,mr),Do.rect.width,Do.rect.height),mr=0}pr.data=et.decode._decompress(pr,_n,pr.width,pr.height);break}lt+=dr,dt.readUint(it,lt),lt+=4}return delete pr.compress,delete pr.interlace,delete pr.filter,pr},et.decode._decompress=function(nt,it,lt,dt){return nt.compress==0&&(it=et.decode._inflate(it)),nt.interlace==0?it=et.decode._filterZero(it,nt,0,lt,dt):nt.interlace==1&&(it=et.decode._readInterlace(it,nt)),it},et.decode._inflate=function(nt){return tt.inflate(nt)},et.decode._readInterlace=function(nt,it){for(var lt=it.width,dt=it.height,bt=et.decode._getBPP(it),Ht=bt>>3,pr=Math.ceil(lt*bt/8),_n=new Uint8Array(dt*pr),ft=0,Ct=[0,0,4,0,2,0,1],mr=[0,4,0,2,0,1,0],_r=[8,8,8,4,4,2,2],mn=[8,8,4,4,2,2,1],dr=0;dr<7;){for(var pn=_r[dr],Do=mn[dr],Io=0,Lo=0,ms=Ct[dr];ms<dt;)ms+=pn,Lo++;for(var Uo=mr[dr];Uo<lt;)Uo+=Do,Io++;var _s=Math.ceil(Io*bt/8);et.decode._filterZero(nt,it,ft,Io,Lo);for(var yp=0,xs=Ct[dr];xs<dt;){for(var vs=mr[dr],Sp=ft+yp*_s<<3;vs<lt;){if(bt==1){var wp=nt[Sp>>3];wp=wp>>7-(Sp&7)&1,_n[xs*pr+(vs>>3)]|=wp<<7-((vs&3)<<0)}if(bt==2){var wp=nt[Sp>>3];wp=wp>>6-(Sp&7)&3,_n[xs*pr+(vs>>2)]|=wp<<6-((vs&3)<<1)}if(bt==4){var wp=nt[Sp>>3];wp=wp>>4-(Sp&7)&15,_n[xs*pr+(vs>>1)]|=wp<<4-((vs&1)<<2)}if(bt>=8)for(var bp=xs*pr+vs*Ht,Ep=0;Ep<Ht;Ep++)_n[bp+Ep]=nt[(Sp>>3)+Ep];Sp+=bt,vs+=Do}yp++,xs+=pn}Io*Lo!=0&&(ft+=Lo*(1+_s)),dr=dr+1}return _n},et.decode._getBPP=function(nt){var it=[1,null,3,1,2,null,4][nt.ctype];return it*nt.depth},et.decode._filterZero=function(nt,it,lt,dt,bt){var Ht=et.decode._getBPP(it),pr=Math.ceil(dt*Ht/8),_n=et.decode._paeth;Ht=Math.ceil(Ht/8);for(var ft=0;ft<bt;ft++){var Ct=lt+ft*pr,mr=Ct+ft+1,_r=nt[mr-1];if(_r==0)for(var mn=0;mn<pr;mn++)nt[Ct+mn]=nt[mr+mn];else if(_r==1){for(var mn=0;mn<Ht;mn++)nt[Ct+mn]=nt[mr+mn];for(var mn=Ht;mn<pr;mn++)nt[Ct+mn]=nt[mr+mn]+nt[Ct+mn-Ht]&255}else if(ft==0){for(var mn=0;mn<Ht;mn++)nt[Ct+mn]=nt[mr+mn];if(_r==2)for(var mn=Ht;mn<pr;mn++)nt[Ct+mn]=nt[mr+mn]&255;if(_r==3)for(var mn=Ht;mn<pr;mn++)nt[Ct+mn]=nt[mr+mn]+(nt[Ct+mn-Ht]>>1)&255;if(_r==4)for(var mn=Ht;mn<pr;mn++)nt[Ct+mn]=nt[mr+mn]+_n(nt[Ct+mn-Ht],0,0)&255}else{if(_r==2)for(var mn=0;mn<pr;mn++)nt[Ct+mn]=nt[mr+mn]+nt[Ct+mn-pr]&255;if(_r==3){for(var mn=0;mn<Ht;mn++)nt[Ct+mn]=nt[mr+mn]+(nt[Ct+mn-pr]>>1)&255;for(var mn=Ht;mn<pr;mn++)nt[Ct+mn]=nt[mr+mn]+(nt[Ct+mn-pr]+nt[Ct+mn-Ht]>>1)&255}if(_r==4){for(var mn=0;mn<Ht;mn++)nt[Ct+mn]=nt[mr+mn]+_n(0,nt[Ct+mn-pr],0)&255;for(var mn=Ht;mn<pr;mn++)nt[Ct+mn]=nt[mr+mn]+_n(nt[Ct+mn-Ht],nt[Ct+mn-pr],nt[Ct+mn-Ht-pr])&255}}}return nt},et.decode._paeth=function(nt,it,lt){var dt=nt+it-lt,bt=Math.abs(dt-nt),Ht=Math.abs(dt-it),pr=Math.abs(dt-lt);return bt<=Ht&&bt<=pr?nt:Ht<=pr?it:lt},et.decode._IHDR=function(nt,it,lt){var dt=et._bin;lt.width=dt.readUint(nt,it),it+=4,lt.height=dt.readUint(nt,it),it+=4,lt.depth=nt[it],it++,lt.ctype=nt[it],it++,lt.compress=nt[it],it++,lt.filter=nt[it],it++,lt.interlace=nt[it],it++},et._bin={nextZero:function(nt,it){for(;nt[it]!=0;)it++;return it},readUshort:function(nt,it){return nt[it]<<8|nt[it+1]},writeUshort:function(nt,it,lt){nt[it]=lt>>8&255,nt[it+1]=lt&255},readUint:function(nt,it){return nt[it]*16777216+(nt[it+1]<<16|nt[it+2]<<8|nt[it+3])},writeUint:function(nt,it,lt){nt[it]=lt>>24&255,nt[it+1]=lt>>16&255,nt[it+2]=lt>>8&255,nt[it+3]=lt&255},readASCII:function(nt,it,lt){for(var dt="",bt=0;bt<lt;bt++)dt+=String.fromCharCode(nt[it+bt]);return dt},writeASCII:function(nt,it,lt){for(var dt=0;dt<lt.length;dt++)nt[it+dt]=lt.charCodeAt(dt)},readBytes:function(nt,it,lt){for(var dt=[],bt=0;bt<lt;bt++)dt.push(nt[it+bt]);return dt},pad:function(nt){return nt.length<2?"0"+nt:nt},readUTF8:function(nt,it,lt){for(var dt="",bt,Ht=0;Ht<lt;Ht++)dt+="%"+et._bin.pad(nt[it+Ht].toString(16));try{bt=decodeURIComponent(dt)}catch{return et._bin.readASCII(nt,it,lt)}return bt}},et._copyTile=function(nt,it,lt,dt,bt,Ht,pr,_n,ft){for(var Ct=Math.min(it,bt),mr=Math.min(lt,Ht),_r=0,mn=0,dr=0;dr<mr;dr++)for(var pn=0;pn<Ct;pn++)if(pr>=0&&_n>=0?(_r=dr*it+pn<<2,mn=(_n+dr)*bt+pr+pn<<2):(_r=(-_n+dr)*it-pr+pn<<2,mn=dr*bt+pn<<2),ft==0)dt[mn]=nt[_r],dt[mn+1]=nt[_r+1],dt[mn+2]=nt[_r+2],dt[mn+3]=nt[_r+3];else if(ft==1){var Do=nt[_r+3]*.00392156862745098,Io=nt[_r]*Do,Lo=nt[_r+1]*Do,ms=nt[_r+2]*Do,Uo=dt[mn+3]*(1/255),_s=dt[mn]*Uo,yp=dt[mn+1]*Uo,xs=dt[mn+2]*Uo,vs=1-Do,Sp=Do+Uo*vs,wp=Sp==0?0:1/Sp;dt[mn+3]=255*Sp,dt[mn+0]=(Io+_s*vs)*wp,dt[mn+1]=(Lo+yp*vs)*wp,dt[mn+2]=(ms+xs*vs)*wp}else if(ft==2){var Do=nt[_r+3],Io=nt[_r],Lo=nt[_r+1],ms=nt[_r+2],Uo=dt[mn+3],_s=dt[mn],yp=dt[mn+1],xs=dt[mn+2];Do==Uo&&Io==_s&&Lo==yp&&ms==xs?(dt[mn]=0,dt[mn+1]=0,dt[mn+2]=0,dt[mn+3]=0):(dt[mn]=Io,dt[mn+1]=Lo,dt[mn+2]=ms,dt[mn+3]=Do)}else if(ft==3){var Do=nt[_r+3],Io=nt[_r],Lo=nt[_r+1],ms=nt[_r+2],Uo=dt[mn+3],_s=dt[mn],yp=dt[mn+1],xs=dt[mn+2];if(Do==Uo&&Io==_s&&Lo==yp&&ms==xs)continue;if(Do<220&&Uo>20)return!1}return!0},et.encode=function(nt,it,lt,dt,bt,Ht){dt==null&&(dt=0),Ht==null&&(Ht=!1);for(var pr=new Uint8Array(nt[0].byteLength*nt.length+100),_n=[137,80,78,71,13,10,26,10],ft=0;ft<8;ft++)pr[ft]=_n[ft];var Ct=8,mr=et._bin,_r=et.crc.crc,mn=mr.writeUint,dr=mr.writeUshort,pn=mr.writeASCII,Do=et.encode.compressPNG(nt,it,lt,dt,Ht);mn(pr,Ct,13),Ct+=4,pn(pr,Ct,"IHDR"),Ct+=4,mn(pr,Ct,it),Ct+=4,mn(pr,Ct,lt),Ct+=4,pr[Ct]=Do.depth,Ct++,pr[Ct]=Do.ctype,Ct++,pr[Ct]=0,Ct++,pr[Ct]=0,Ct++,pr[Ct]=0,Ct++,mn(pr,Ct,_r(pr,Ct-17,17)),Ct+=4,mn(pr,Ct,1),Ct+=4,pn(pr,Ct,"sRGB"),Ct+=4,pr[Ct]=1,Ct++,mn(pr,Ct,_r(pr,Ct-5,5)),Ct+=4;var Io=nt.length>1;if(Io&&(mn(pr,Ct,8),Ct+=4,pn(pr,Ct,"acTL"),Ct+=4,mn(pr,Ct,nt.length),Ct+=4,mn(pr,Ct,0),Ct+=4,mn(pr,Ct,_r(pr,Ct-12,12)),Ct+=4),Do.ctype==3){var Lo=Do.plte.length;mn(pr,Ct,Lo*3),Ct+=4,pn(pr,Ct,"PLTE"),Ct+=4;for(var ft=0;ft<Lo;ft++){var ms=ft*3,Uo=Do.plte[ft],_s=Uo&255,yp=Uo>>8&255,xs=Uo>>16&255;pr[Ct+ms+0]=_s,pr[Ct+ms+1]=yp,pr[Ct+ms+2]=xs}if(Ct+=Lo*3,mn(pr,Ct,_r(pr,Ct-Lo*3-4,Lo*3+4)),Ct+=4,Do.gotAlpha){mn(pr,Ct,Lo),Ct+=4,pn(pr,Ct,"tRNS"),Ct+=4;for(var ft=0;ft<Lo;ft++)pr[Ct+ft]=Do.plte[ft]>>24&255;Ct+=Lo,mn(pr,Ct,_r(pr,Ct-Lo-4,Lo+4)),Ct+=4}}for(var vs=0,Sp=0;Sp<Do.frames.length;Sp++){var wp=Do.frames[Sp];Io&&(mn(pr,Ct,26),Ct+=4,pn(pr,Ct,"fcTL"),Ct+=4,mn(pr,Ct,vs++),Ct+=4,mn(pr,Ct,wp.rect.width),Ct+=4,mn(pr,Ct,wp.rect.height),Ct+=4,mn(pr,Ct,wp.rect.x),Ct+=4,mn(pr,Ct,wp.rect.y),Ct+=4,dr(pr,Ct,bt[Sp]),Ct+=2,dr(pr,Ct,1e3),Ct+=2,pr[Ct]=wp.dispose,Ct++,pr[Ct]=wp.blend,Ct++,mn(pr,Ct,_r(pr,Ct-30,30)),Ct+=4);var bp=wp.cimg,Lo=bp.length;mn(pr,Ct,Lo+(Sp==0?0:4)),Ct+=4;var Ep=Ct;pn(pr,Ct,Sp==0?"IDAT":"fdAT"),Ct+=4,Sp!=0&&(mn(pr,Ct,vs++),Ct+=4);for(var ft=0;ft<Lo;ft++)pr[Ct+ft]=bp[ft];Ct+=Lo,mn(pr,Ct,_r(pr,Ep,Ct-Ep)),Ct+=4}return mn(pr,Ct,0),Ct+=4,pn(pr,Ct,"IEND"),Ct+=4,mn(pr,Ct,_r(pr,Ct-4,4)),Ct+=4,pr.buffer.slice(0,Ct)},et.encode.compressPNG=function(nt,it,lt,dt,bt){for(var Ht=et.encode.compress(nt,it,lt,dt,!1,bt),pr=0;pr<nt.length;pr++){var _n=Ht.frames[pr];_n.rect.width;var ft=_n.rect.height,Ct=_n.bpl,mr=_n.bpp,_r=new Uint8Array(ft*Ct+ft);_n.cimg=et.encode._filterZero(_n.img,ft,mr,Ct,_r)}return Ht},et.encode.compress=function(nt,it,lt,dt,bt,Ht){Ht==null&&(Ht=!1);for(var pr=6,_n=8,ft=4,Ct=255,mr=0;mr<nt.length;mr++)for(var _r=new Uint8Array(nt[mr]),mn=_r.length,dr=0;dr<mn;dr+=4)Ct&=_r[dr+3];var pn=Ct!=255,Do={},Io=[];if(nt.length!=0&&(Do[0]=0,Io.push(0),dt!=0&&dt--),dt!=0){var Lo=et.quantize(nt,dt,bt);nt=Lo.bufs;for(var dr=0;dr<Lo.plte.length;dr++){var ms=Lo.plte[dr].est.rgba;Do[ms]==null&&(Do[ms]=Io.length,Io.push(ms))}}else for(var mr=0;mr<nt.length;mr++)for(var Uo=new Uint32Array(nt[mr]),mn=Uo.length,dr=0;dr<mn;dr++){var ms=Uo[dr];if((dr<it||ms!=Uo[dr-1]&&ms!=Uo[dr-it])&&Do[ms]==null&&(Do[ms]=Io.length,Io.push(ms),Io.length>=300))break}var _s=pn?bt:!1,yp=Io.length;yp<=256&&Ht==!1&&(yp<=2?_n=1:yp<=4?_n=2:yp<=16?_n=4:_n=8,bt&&(_n=8),pn=!0);for(var xs=[],mr=0;mr<nt.length;mr++){var vs=new Uint8Array(nt[mr]),Sp=new Uint32Array(vs.buffer),wp=0,bp=0,Ep=it,Cp=lt,Ap=0;if(mr!=0&&!_s){for(var Mp=bt||mr==1||xs[xs.length-2].dispose==2?1:2,Pp=0,Ip=1e9,Op=0;Op<Mp;Op++){for(var im=new Uint8Array(nt[mr-1-Op]),Wp=new Uint32Array(nt[mr-1-Op]),Yp=it,Zp=lt,Qp=-1,Gp=-1,rm=0;rm<lt;rm++)for(var Jp=0;Jp<it;Jp++){var dr=rm*it+Jp;Sp[dr]!=Wp[dr]&&(Jp<Yp&&(Yp=Jp),Jp>Qp&&(Qp=Jp),rm<Zp&&(Zp=rm),rm>Gp&&(Gp=rm))}var Up=Qp==-1?1:(Qp-Yp+1)*(Gp-Zp+1);Up<Ip&&(Ip=Up,Pp=Op,Qp==-1?(wp=bp=0,Ep=Cp=1):(wp=Yp,bp=Zp,Ep=Qp-Yp+1,Cp=Gp-Zp+1))}var im=new Uint8Array(nt[mr-1-Pp]);Pp==1&&(xs[xs.length-1].dispose=2);var em=new Uint8Array(Ep*Cp*4);new Uint32Array(em.buffer),et._copyTile(im,it,lt,em,Ep,Cp,-wp,-bp,0),et._copyTile(vs,it,lt,em,Ep,Cp,-wp,-bp,3)?(et._copyTile(vs,it,lt,em,Ep,Cp,-wp,-bp,2),Ap=1):(et._copyTile(vs,it,lt,em,Ep,Cp,-wp,-bp,0),Ap=0),vs=em,Sp=new Uint32Array(vs.buffer)}var gm=4*Ep;if(yp<=256&&Ht==!1){gm=Math.ceil(_n*Ep/8);for(var em=new Uint8Array(gm*Cp),rm=0;rm<Cp;rm++){var dr=rm*gm,bm=rm*Ep;if(_n==8)for(var Jp=0;Jp<Ep;Jp++)em[dr+Jp]=Do[Sp[bm+Jp]];else if(_n==4)for(var Jp=0;Jp<Ep;Jp++)em[dr+(Jp>>1)]|=Do[Sp[bm+Jp]]<<4-(Jp&1)*4;else if(_n==2)for(var Jp=0;Jp<Ep;Jp++)em[dr+(Jp>>2)]|=Do[Sp[bm+Jp]]<<6-(Jp&3)*2;else if(_n==1)for(var Jp=0;Jp<Ep;Jp++)em[dr+(Jp>>3)]|=Do[Sp[bm+Jp]]<<7-(Jp&7)*1}vs=em,pr=3,ft=1}else if(pn==!1&&nt.length==1){for(var em=new Uint8Array(Ep*Cp*3),ym=Ep*Cp,dr=0;dr<ym;dr++){var am=dr*3,fm=dr*4;em[am]=vs[fm],em[am+1]=vs[fm+1],em[am+2]=vs[fm+2]}vs=em,pr=2,ft=3,gm=3*Ep}xs.push({rect:{x:wp,y:bp,width:Ep,height:Cp},img:vs,bpl:gm,bpp:ft,blend:Ap,dispose:_s?1:0})}return{ctype:pr,depth:_n,plte:Io,gotAlpha:pn,frames:xs}},et.encode._filterZero=function(nt,it,lt,dt,bt){for(var Ht=[],pr=0;pr<5;pr++)if(!(it*dt>5e5&&(pr==2||pr==3||pr==4))){for(var _n=0;_n<it;_n++)et.encode._filterLine(bt,nt,_n,dt,lt,pr);if(Ht.push(tt.deflate(bt)),lt==1)break}for(var ft,Ct=1e9,mr=0;mr<Ht.length;mr++)Ht[mr].length<Ct&&(ft=mr,Ct=Ht[mr].length);return Ht[ft]},et.encode._filterLine=function(nt,it,lt,dt,bt,Ht){var pr=lt*dt,_n=pr+lt,ft=et.decode._paeth;if(nt[_n]=Ht,_n++,Ht==0)for(var Ct=0;Ct<dt;Ct++)nt[_n+Ct]=it[pr+Ct];else if(Ht==1){for(var Ct=0;Ct<bt;Ct++)nt[_n+Ct]=it[pr+Ct];for(var Ct=bt;Ct<dt;Ct++)nt[_n+Ct]=it[pr+Ct]-it[pr+Ct-bt]+256&255}else if(lt==0){for(var Ct=0;Ct<bt;Ct++)nt[_n+Ct]=it[pr+Ct];if(Ht==2)for(var Ct=bt;Ct<dt;Ct++)nt[_n+Ct]=it[pr+Ct];if(Ht==3)for(var Ct=bt;Ct<dt;Ct++)nt[_n+Ct]=it[pr+Ct]-(it[pr+Ct-bt]>>1)+256&255;if(Ht==4)for(var Ct=bt;Ct<dt;Ct++)nt[_n+Ct]=it[pr+Ct]-ft(it[pr+Ct-bt],0,0)+256&255}else{if(Ht==2)for(var Ct=0;Ct<dt;Ct++)nt[_n+Ct]=it[pr+Ct]+256-it[pr+Ct-dt]&255;if(Ht==3){for(var Ct=0;Ct<bt;Ct++)nt[_n+Ct]=it[pr+Ct]+256-(it[pr+Ct-dt]>>1)&255;for(var Ct=bt;Ct<dt;Ct++)nt[_n+Ct]=it[pr+Ct]+256-(it[pr+Ct-dt]+it[pr+Ct-bt]>>1)&255}if(Ht==4){for(var Ct=0;Ct<bt;Ct++)nt[_n+Ct]=it[pr+Ct]+256-ft(0,it[pr+Ct-dt],0)&255;for(var Ct=bt;Ct<dt;Ct++)nt[_n+Ct]=it[pr+Ct]+256-ft(it[pr+Ct-bt],it[pr+Ct-dt],it[pr+Ct-bt-dt])&255}}},et.crc={table:function(){for(var nt=new Uint32Array(256),it=0;it<256;it++){for(var lt=it,dt=0;dt<8;dt++)lt&1?lt=3988292384^lt>>>1:lt=lt>>>1;nt[it]=lt}return nt}(),update:function(nt,it,lt,dt){for(var bt=0;bt<dt;bt++)nt=et.crc.table[(nt^it[lt+bt])&255]^nt>>>8;return nt},crc:function(nt,it,lt){return et.crc.update(4294967295,nt,it,lt)^4294967295}},et.quantize=function(nt,it,lt){for(var dt=[],bt=0,Ht=0;Ht<nt.length;Ht++)dt.push(et.encode.alphaMul(new Uint8Array(nt[Ht]),lt)),bt+=nt[Ht].byteLength;for(var pr=new Uint8Array(bt),_n=new Uint32Array(pr.buffer),ft=0,Ht=0;Ht<dt.length;Ht++){for(var Ct=dt[Ht],mr=Ct.length,_r=0;_r<mr;_r++)pr[ft+_r]=Ct[_r];ft+=mr}var mn={i0:0,i1:pr.length,bst:null,est:null,tdst:0,left:null,right:null};mn.bst=et.quantize.stats(pr,mn.i0,mn.i1),mn.est=et.quantize.estats(mn.bst);for(var dr=[mn];dr.length<it;){for(var pn=0,Do=0,Ht=0;Ht<dr.length;Ht++)dr[Ht].est.L>pn&&(pn=dr[Ht].est.L,Do=Ht);if(pn<.001)break;var Io=dr[Do],Lo=et.quantize.splitPixels(pr,_n,Io.i0,Io.i1,Io.est.e,Io.est.eMq255),ms={i0:Io.i0,i1:Lo,bst:null,est:null,tdst:0,left:null,right:null};ms.bst=et.quantize.stats(pr,ms.i0,ms.i1),ms.est=et.quantize.estats(ms.bst);var Uo={i0:Lo,i1:Io.i1,bst:null,est:null,tdst:0,left:null,right:null};Uo.bst={R:[],m:[],N:Io.bst.N-ms.bst.N};for(var Ht=0;Ht<16;Ht++)Uo.bst.R[Ht]=Io.bst.R[Ht]-ms.bst.R[Ht];for(var Ht=0;Ht<4;Ht++)Uo.bst.m[Ht]=Io.bst.m[Ht]-ms.bst.m[Ht];Uo.est=et.quantize.estats(Uo.bst),Io.left=ms,Io.right=Uo,dr[Do]=ms,dr.push(Uo)}dr.sort(function(Mp,Pp){return Pp.bst.N-Mp.bst.N});for(var _s=0;_s<dt.length;_s++){for(var yp=et.quantize.planeDst,xs=new Uint8Array(dt[_s].buffer),vs=new Uint32Array(dt[_s].buffer),Sp=xs.length,Ht=0;Ht<Sp;Ht+=4){for(var wp=xs[Ht]*.00392156862745098,bp=xs[Ht+1]*.00392156862745098,Ep=xs[Ht+2]*.00392156862745098,Cp=xs[Ht+3]*.00392156862745098,Ap=mn;Ap.left;)Ap=yp(Ap.est,wp,bp,Ep,Cp)<=0?Ap.left:Ap.right;vs[Ht>>2]=Ap.est.rgba}dt[_s]=vs.buffer}return{bufs:dt,plte:dr}},et.quantize.getNearest=function(nt,it,lt,dt,bt){if(nt.left==null)return nt.tdst=et.quantize.dist(nt.est.q,it,lt,dt,bt),nt;var Ht=et.quantize.planeDst(nt.est,it,lt,dt,bt),pr=nt.left,_n=nt.right;Ht>0&&(pr=nt.right,_n=nt.left);var ft=et.quantize.getNearest(pr,it,lt,dt,bt);if(ft.tdst<=Ht*Ht)return ft;var Ct=et.quantize.getNearest(_n,it,lt,dt,bt);return Ct.tdst<ft.tdst?Ct:ft},et.quantize.planeDst=function(nt,it,lt,dt,bt){var Ht=nt.e;return Ht[0]*it+Ht[1]*lt+Ht[2]*dt+Ht[3]*bt-nt.eMq},et.quantize.dist=function(nt,it,lt,dt,bt){var Ht=it-nt[0],pr=lt-nt[1],_n=dt-nt[2],ft=bt-nt[3];return Ht*Ht+pr*pr+_n*_n+ft*ft},et.quantize.splitPixels=function(nt,it,lt,dt,bt,Ht){var pr=et.quantize.vecDot;for(dt-=4;lt<dt;){for(;pr(nt,lt,bt)<=Ht;)lt+=4;for(;pr(nt,dt,bt)>Ht;)dt-=4;if(lt>=dt)break;var _n=it[lt>>2];it[lt>>2]=it[dt>>2],it[dt>>2]=_n,lt+=4,dt-=4}for(;pr(nt,lt,bt)>Ht;)lt-=4;return lt+4},et.quantize.vecDot=function(nt,it,lt){return nt[it]*lt[0]+nt[it+1]*lt[1]+nt[it+2]*lt[2]+nt[it+3]*lt[3]},et.quantize.stats=function(nt,it,lt){for(var dt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],bt=[0,0,0,0],Ht=lt-it>>2,pr=it;pr<lt;pr+=4){var _n=nt[pr]*.00392156862745098,ft=nt[pr+1]*(1/255),Ct=nt[pr+2]*(1/255),mr=nt[pr+3]*(1/255);bt[0]+=_n,bt[1]+=ft,bt[2]+=Ct,bt[3]+=mr,dt[0]+=_n*_n,dt[1]+=_n*ft,dt[2]+=_n*Ct,dt[3]+=_n*mr,dt[5]+=ft*ft,dt[6]+=ft*Ct,dt[7]+=ft*mr,dt[10]+=Ct*Ct,dt[11]+=Ct*mr,dt[15]+=mr*mr}return dt[4]=dt[1],dt[8]=dt[2],dt[12]=dt[3],dt[9]=dt[6],dt[13]=dt[7],dt[14]=dt[11],{R:dt,m:bt,N:Ht}},et.quantize.estats=function(nt){var it=nt.R,lt=nt.m,dt=nt.N,bt=lt[0],Ht=lt[1],pr=lt[2],_n=lt[3],ft=dt==0?0:1/dt,Ct=[it[0]-bt*bt*ft,it[1]-bt*Ht*ft,it[2]-bt*pr*ft,it[3]-bt*_n*ft,it[4]-Ht*bt*ft,it[5]-Ht*Ht*ft,it[6]-Ht*pr*ft,it[7]-Ht*_n*ft,it[8]-pr*bt*ft,it[9]-pr*Ht*ft,it[10]-pr*pr*ft,it[11]-pr*_n*ft,it[12]-_n*bt*ft,it[13]-_n*Ht*ft,it[14]-_n*pr*ft,it[15]-_n*_n*ft],mr=Ct,_r=et.M4,mn=[.5,.5,.5,.5],dr=0,pn=0;if(dt!=0)for(var Do=0;Do<10&&(mn=_r.multVec(mr,mn),pn=Math.sqrt(_r.dot(mn,mn)),mn=_r.sml(1/pn,mn),!(Math.abs(pn-dr)<1e-9));Do++)dr=pn;var Io=[bt*ft,Ht*ft,pr*ft,_n*ft],Lo=_r.dot(_r.sml(255,Io),mn),ms=Io[3]<.001?0:1/Io[3];return{Cov:Ct,q:Io,e:mn,L:dr,eMq255:Lo,eMq:_r.dot(mn,Io),rgba:(Math.round(255*Io[3])<<24|Math.round(255*Io[2]*ms)<<16|Math.round(255*Io[1]*ms)<<8|Math.round(255*Io[0]*ms)<<0)>>>0}},et.M4={multVec:function(nt,it){return[nt[0]*it[0]+nt[1]*it[1]+nt[2]*it[2]+nt[3]*it[3],nt[4]*it[0]+nt[5]*it[1]+nt[6]*it[2]+nt[7]*it[3],nt[8]*it[0]+nt[9]*it[1]+nt[10]*it[2]+nt[11]*it[3],nt[12]*it[0]+nt[13]*it[1]+nt[14]*it[2]+nt[15]*it[3]]},dot:function(nt,it){return nt[0]*it[0]+nt[1]*it[1]+nt[2]*it[2]+nt[3]*it[3]},sml:function(nt,it){return[nt*it[0],nt*it[1],nt*it[2],nt*it[3]]}},et.encode.alphaMul=function(nt,it){for(var lt=new Uint8Array(nt.length),dt=nt.length>>2,bt=0;bt<dt;bt++){var Ht=bt<<2,pr=nt[Ht+3];it&&(pr=pr<128?0:255);var _n=pr*(1/255);lt[Ht+0]=nt[Ht+0]*_n,lt[Ht+1]=nt[Ht+1]*_n,lt[Ht+2]=nt[Ht+2]*_n,lt[Ht+3]=pr}return lt}}(j,_e)})()},"./node_modules/upng-js/node_modules/pako/index.js":(o,_,$)=>{var j=$("./node_modules/upng-js/node_modules/pako/lib/utils/common.js").assign,_e=$("./node_modules/upng-js/node_modules/pako/lib/deflate.js"),et=$("./node_modules/upng-js/node_modules/pako/lib/inflate.js"),tt=$("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"),nt={};j(nt,_e,et,tt),o.exports=nt},"./node_modules/upng-js/node_modules/pako/lib/deflate.js":(o,_,$)=>{var j=$("./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js"),_e=$("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),et=$("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),tt=$("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),nt=$("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),it=Object.prototype.toString,lt=0,dt=4,bt=0,Ht=1,pr=2,_n=-1,ft=0,Ct=8;function mr(pn){if(!(this instanceof mr))return new mr(pn);this.options=_e.assign({level:_n,method:Ct,chunkSize:16384,windowBits:15,memLevel:8,strategy:ft,to:""},pn||{});var Do=this.options;Do.raw&&Do.windowBits>0?Do.windowBits=-Do.windowBits:Do.gzip&&Do.windowBits>0&&Do.windowBits<16&&(Do.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new nt,this.strm.avail_out=0;var Io=j.deflateInit2(this.strm,Do.level,Do.method,Do.windowBits,Do.memLevel,Do.strategy);if(Io!==bt)throw new Error(tt[Io]);if(Do.header&&j.deflateSetHeader(this.strm,Do.header),Do.dictionary){var Lo;if(typeof Do.dictionary=="string"?Lo=et.string2buf(Do.dictionary):it.call(Do.dictionary)==="[object ArrayBuffer]"?Lo=new Uint8Array(Do.dictionary):Lo=Do.dictionary,Io=j.deflateSetDictionary(this.strm,Lo),Io!==bt)throw new Error(tt[Io]);this._dict_set=!0}}mr.prototype.push=function(pn,Do){var Io=this.strm,Lo=this.options.chunkSize,ms,Uo;if(this.ended)return!1;Uo=Do===~~Do?Do:Do===!0?dt:lt,typeof pn=="string"?Io.input=et.string2buf(pn):it.call(pn)==="[object ArrayBuffer]"?Io.input=new Uint8Array(pn):Io.input=pn,Io.next_in=0,Io.avail_in=Io.input.length;do{if(Io.avail_out===0&&(Io.output=new _e.Buf8(Lo),Io.next_out=0,Io.avail_out=Lo),ms=j.deflate(Io,Uo),ms!==Ht&&ms!==bt)return this.onEnd(ms),this.ended=!0,!1;(Io.avail_out===0||Io.avail_in===0&&(Uo===dt||Uo===pr))&&(this.options.to==="string"?this.onData(et.buf2binstring(_e.shrinkBuf(Io.output,Io.next_out))):this.onData(_e.shrinkBuf(Io.output,Io.next_out)))}while((Io.avail_in>0||Io.avail_out===0)&&ms!==Ht);return Uo===dt?(ms=j.deflateEnd(this.strm),this.onEnd(ms),this.ended=!0,ms===bt):(Uo===pr&&(this.onEnd(bt),Io.avail_out=0),!0)},mr.prototype.onData=function(pn){this.chunks.push(pn)},mr.prototype.onEnd=function(pn){pn===bt&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_e.flattenChunks(this.chunks)),this.chunks=[],this.err=pn,this.msg=this.strm.msg};function _r(pn,Do){var Io=new mr(Do);if(Io.push(pn,!0),Io.err)throw Io.msg||tt[Io.err];return Io.result}function mn(pn,Do){return Do=Do||{},Do.raw=!0,_r(pn,Do)}function dr(pn,Do){return Do=Do||{},Do.gzip=!0,_r(pn,Do)}_.Deflate=mr,_.deflate=_r,_.deflateRaw=mn,_.gzip=dr},"./node_modules/upng-js/node_modules/pako/lib/inflate.js":(o,_,$)=>{var j=$("./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js"),_e=$("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),et=$("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),tt=$("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"),nt=$("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),it=$("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),lt=$("./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js"),dt=Object.prototype.toString;function bt(_n){if(!(this instanceof bt))return new bt(_n);this.options=_e.assign({chunkSize:16384,windowBits:0,to:""},_n||{});var ft=this.options;ft.raw&&ft.windowBits>=0&&ft.windowBits<16&&(ft.windowBits=-ft.windowBits,ft.windowBits===0&&(ft.windowBits=-15)),ft.windowBits>=0&&ft.windowBits<16&&!(_n&&_n.windowBits)&&(ft.windowBits+=32),ft.windowBits>15&&ft.windowBits<48&&(ft.windowBits&15||(ft.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new it,this.strm.avail_out=0;var Ct=j.inflateInit2(this.strm,ft.windowBits);if(Ct!==tt.Z_OK)throw new Error(nt[Ct]);if(this.header=new lt,j.inflateGetHeader(this.strm,this.header),ft.dictionary&&(typeof ft.dictionary=="string"?ft.dictionary=et.string2buf(ft.dictionary):dt.call(ft.dictionary)==="[object ArrayBuffer]"&&(ft.dictionary=new Uint8Array(ft.dictionary)),ft.raw&&(Ct=j.inflateSetDictionary(this.strm,ft.dictionary),Ct!==tt.Z_OK)))throw new Error(nt[Ct])}bt.prototype.push=function(_n,ft){var Ct=this.strm,mr=this.options.chunkSize,_r=this.options.dictionary,mn,dr,pn,Do,Io,Lo=!1;if(this.ended)return!1;dr=ft===~~ft?ft:ft===!0?tt.Z_FINISH:tt.Z_NO_FLUSH,typeof _n=="string"?Ct.input=et.binstring2buf(_n):dt.call(_n)==="[object ArrayBuffer]"?Ct.input=new Uint8Array(_n):Ct.input=_n,Ct.next_in=0,Ct.avail_in=Ct.input.length;do{if(Ct.avail_out===0&&(Ct.output=new _e.Buf8(mr),Ct.next_out=0,Ct.avail_out=mr),mn=j.inflate(Ct,tt.Z_NO_FLUSH),mn===tt.Z_NEED_DICT&&_r&&(mn=j.inflateSetDictionary(this.strm,_r)),mn===tt.Z_BUF_ERROR&&Lo===!0&&(mn=tt.Z_OK,Lo=!1),mn!==tt.Z_STREAM_END&&mn!==tt.Z_OK)return this.onEnd(mn),this.ended=!0,!1;Ct.next_out&&(Ct.avail_out===0||mn===tt.Z_STREAM_END||Ct.avail_in===0&&(dr===tt.Z_FINISH||dr===tt.Z_SYNC_FLUSH))&&(this.options.to==="string"?(pn=et.utf8border(Ct.output,Ct.next_out),Do=Ct.next_out-pn,Io=et.buf2string(Ct.output,pn),Ct.next_out=Do,Ct.avail_out=mr-Do,Do&&_e.arraySet(Ct.output,Ct.output,pn,Do,0),this.onData(Io)):this.onData(_e.shrinkBuf(Ct.output,Ct.next_out))),Ct.avail_in===0&&Ct.avail_out===0&&(Lo=!0)}while((Ct.avail_in>0||Ct.avail_out===0)&&mn!==tt.Z_STREAM_END);return mn===tt.Z_STREAM_END&&(dr=tt.Z_FINISH),dr===tt.Z_FINISH?(mn=j.inflateEnd(this.strm),this.onEnd(mn),this.ended=!0,mn===tt.Z_OK):(dr===tt.Z_SYNC_FLUSH&&(this.onEnd(tt.Z_OK),Ct.avail_out=0),!0)},bt.prototype.onData=function(_n){this.chunks.push(_n)},bt.prototype.onEnd=function(_n){_n===tt.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_e.flattenChunks(this.chunks)),this.chunks=[],this.err=_n,this.msg=this.strm.msg};function Ht(_n,ft){var Ct=new bt(ft);if(Ct.push(_n,!0),Ct.err)throw Ct.msg||nt[Ct.err];return Ct.result}function pr(_n,ft){return ft=ft||{},ft.raw=!0,Ht(_n,ft)}_.Inflate=bt,_.inflate=Ht,_.inflateRaw=pr,_.ungzip=Ht},"./node_modules/upng-js/node_modules/pako/lib/utils/common.js":(o,_)=>{var $=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function j(tt,nt){return Object.prototype.hasOwnProperty.call(tt,nt)}_.assign=function(tt){for(var nt=Array.prototype.slice.call(arguments,1);nt.length;){var it=nt.shift();if(it){if(typeof it!="object")throw new TypeError(it+"must be non-object");for(var lt in it)j(it,lt)&&(tt[lt]=it[lt])}}return tt},_.shrinkBuf=function(tt,nt){return tt.length===nt?tt:tt.subarray?tt.subarray(0,nt):(tt.length=nt,tt)};var _e={arraySet:function(tt,nt,it,lt,dt){if(nt.subarray&&tt.subarray){tt.set(nt.subarray(it,it+lt),dt);return}for(var bt=0;bt<lt;bt++)tt[dt+bt]=nt[it+bt]},flattenChunks:function(tt){var nt,it,lt,dt,bt,Ht;for(lt=0,nt=0,it=tt.length;nt<it;nt++)lt+=tt[nt].length;for(Ht=new Uint8Array(lt),dt=0,nt=0,it=tt.length;nt<it;nt++)bt=tt[nt],Ht.set(bt,dt),dt+=bt.length;return Ht}},et={arraySet:function(tt,nt,it,lt,dt){for(var bt=0;bt<lt;bt++)tt[dt+bt]=nt[it+bt]},flattenChunks:function(tt){return[].concat.apply([],tt)}};_.setTyped=function(tt){tt?(_.Buf8=Uint8Array,_.Buf16=Uint16Array,_.Buf32=Int32Array,_.assign(_,_e)):(_.Buf8=Array,_.Buf16=Array,_.Buf32=Array,_.assign(_,et))},_.setTyped($)},"./node_modules/upng-js/node_modules/pako/lib/utils/strings.js":(o,_,$)=>{var j=$("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),_e=!0,et=!0;try{String.fromCharCode.apply(null,[0])}catch{_e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{et=!1}for(var tt=new j.Buf8(256),nt=0;nt<256;nt++)tt[nt]=nt>=252?6:nt>=248?5:nt>=240?4:nt>=224?3:nt>=192?2:1;tt[254]=tt[254]=1,_.string2buf=function(lt){var dt,bt,Ht,pr,_n,ft=lt.length,Ct=0;for(pr=0;pr<ft;pr++)bt=lt.charCodeAt(pr),(bt&64512)===55296&&pr+1<ft&&(Ht=lt.charCodeAt(pr+1),(Ht&64512)===56320&&(bt=65536+(bt-55296<<10)+(Ht-56320),pr++)),Ct+=bt<128?1:bt<2048?2:bt<65536?3:4;for(dt=new j.Buf8(Ct),_n=0,pr=0;_n<Ct;pr++)bt=lt.charCodeAt(pr),(bt&64512)===55296&&pr+1<ft&&(Ht=lt.charCodeAt(pr+1),(Ht&64512)===56320&&(bt=65536+(bt-55296<<10)+(Ht-56320),pr++)),bt<128?dt[_n++]=bt:bt<2048?(dt[_n++]=192|bt>>>6,dt[_n++]=128|bt&63):bt<65536?(dt[_n++]=224|bt>>>12,dt[_n++]=128|bt>>>6&63,dt[_n++]=128|bt&63):(dt[_n++]=240|bt>>>18,dt[_n++]=128|bt>>>12&63,dt[_n++]=128|bt>>>6&63,dt[_n++]=128|bt&63);return dt};function it(lt,dt){if(dt<65534&&(lt.subarray&&et||!lt.subarray&&_e))return String.fromCharCode.apply(null,j.shrinkBuf(lt,dt));for(var bt="",Ht=0;Ht<dt;Ht++)bt+=String.fromCharCode(lt[Ht]);return bt}_.buf2binstring=function(lt){return it(lt,lt.length)},_.binstring2buf=function(lt){for(var dt=new j.Buf8(lt.length),bt=0,Ht=dt.length;bt<Ht;bt++)dt[bt]=lt.charCodeAt(bt);return dt},_.buf2string=function(lt,dt){var bt,Ht,pr,_n,ft=dt||lt.length,Ct=new Array(ft*2);for(Ht=0,bt=0;bt<ft;){if(pr=lt[bt++],pr<128){Ct[Ht++]=pr;continue}if(_n=tt[pr],_n>4){Ct[Ht++]=65533,bt+=_n-1;continue}for(pr&=_n===2?31:_n===3?15:7;_n>1&&bt<ft;)pr=pr<<6|lt[bt++]&63,_n--;if(_n>1){Ct[Ht++]=65533;continue}pr<65536?Ct[Ht++]=pr:(pr-=65536,Ct[Ht++]=55296|pr>>10&1023,Ct[Ht++]=56320|pr&1023)}return it(Ct,Ht)},_.utf8border=function(lt,dt){var bt;for(dt=dt||lt.length,dt>lt.length&&(dt=lt.length),bt=dt-1;bt>=0&&(lt[bt]&192)===128;)bt--;return bt<0||bt===0?dt:bt+tt[lt[bt]]>dt?bt:dt}},"./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js":o=>{function _($,j,_e,et){for(var tt=$&65535|0,nt=$>>>16&65535|0,it=0;_e!==0;){it=_e>2e3?2e3:_e,_e-=it;do tt=tt+j[et++]|0,nt=nt+tt|0;while(--it);tt%=65521,nt%=65521}return tt|nt<<16|0}o.exports=_},"./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js":o=>{o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js":o=>{function _(){for(var _e,et=[],tt=0;tt<256;tt++){_e=tt;for(var nt=0;nt<8;nt++)_e=_e&1?3988292384^_e>>>1:_e>>>1;et[tt]=_e}return et}var $=_();function j(_e,et,tt,nt){var it=$,lt=nt+tt;_e^=-1;for(var dt=nt;dt<lt;dt++)_e=_e>>>8^it[(_e^et[dt])&255];return _e^-1}o.exports=j},"./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js":(o,_,$)=>{var j=$("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),_e=$("./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js"),et=$("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),tt=$("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),nt=$("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),it=0,lt=1,dt=3,bt=4,Ht=5,pr=0,_n=1,ft=-2,Ct=-3,mr=-5,_r=-1,mn=1,dr=2,pn=3,Do=4,Io=0,Lo=2,ms=8,Uo=9,_s=15,yp=8,xs=29,vs=256,Sp=vs+1+xs,wp=30,bp=19,Ep=2*Sp+1,Cp=15,Ap=3,Mp=258,Pp=Mp+Ap+1,Ip=32,Op=42,Wp=69,Yp=73,Zp=91,Qp=103,Gp=113,rm=666,Jp=1,Up=2,im=3,em=4,gm=3;function bm(Tp,dm){return Tp.msg=nt[dm],dm}function ym(Tp){return(Tp<<1)-(Tp>4?9:0)}function am(Tp){for(var dm=Tp.length;--dm>=0;)Tp[dm]=0}function fm(Tp){var dm=Tp.state,om=dm.pending;om>Tp.avail_out&&(om=Tp.avail_out),om!==0&&(j.arraySet(Tp.output,dm.pending_buf,dm.pending_out,om,Tp.next_out),Tp.next_out+=om,dm.pending_out+=om,Tp.total_out+=om,Tp.avail_out-=om,dm.pending-=om,dm.pending===0&&(dm.pending_out=0))}function vm(Tp,dm){_e._tr_flush_block(Tp,Tp.block_start>=0?Tp.block_start:-1,Tp.strstart-Tp.block_start,dm),Tp.block_start=Tp.strstart,fm(Tp.strm)}function jp(Tp,dm){Tp.pending_buf[Tp.pending++]=dm}function Rp(Tp,dm){Tp.pending_buf[Tp.pending++]=dm>>>8&255,Tp.pending_buf[Tp.pending++]=dm&255}function um(Tp,dm,om,Bp){var sm=Tp.avail_in;return sm>Bp&&(sm=Bp),sm===0?0:(Tp.avail_in-=sm,j.arraySet(dm,Tp.input,Tp.next_in,sm,om),Tp.state.wrap===1?Tp.adler=et(Tp.adler,dm,sm,om):Tp.state.wrap===2&&(Tp.adler=tt(Tp.adler,dm,sm,om)),Tp.next_in+=sm,Tp.total_in+=sm,sm)}function _m(Tp,dm){var om=Tp.max_chain_length,Bp=Tp.strstart,sm,$m,Nm=Tp.prev_length,Im=Tp.nice_match,jm=Tp.strstart>Tp.w_size-Pp?Tp.strstart-(Tp.w_size-Pp):0,Bm=Tp.window,by=Tp.w_mask,Zm=Tp.prev,Jm=Tp.strstart+Mp,ny=Bm[Bp+Nm-1],gy=Bm[Bp+Nm];Tp.prev_length>=Tp.good_match&&(om>>=2),Im>Tp.lookahead&&(Im=Tp.lookahead);do if(sm=dm,!(Bm[sm+Nm]!==gy||Bm[sm+Nm-1]!==ny||Bm[sm]!==Bm[Bp]||Bm[++sm]!==Bm[Bp+1])){Bp+=2,sm++;do;while(Bm[++Bp]===Bm[++sm]&&Bm[++Bp]===Bm[++sm]&&Bm[++Bp]===Bm[++sm]&&Bm[++Bp]===Bm[++sm]&&Bm[++Bp]===Bm[++sm]&&Bm[++Bp]===Bm[++sm]&&Bm[++Bp]===Bm[++sm]&&Bm[++Bp]===Bm[++sm]&&Bp<Jm);if($m=Mp-(Jm-Bp),Bp=Jm-Mp,$m>Nm){if(Tp.match_start=dm,Nm=$m,$m>=Im)break;ny=Bm[Bp+Nm-1],gy=Bm[Bp+Nm]}}while((dm=Zm[dm&by])>jm&&--om!==0);return Nm<=Tp.lookahead?Nm:Tp.lookahead}function Cm(Tp){var dm=Tp.w_size,om,Bp,sm,$m,Nm;do{if($m=Tp.window_size-Tp.lookahead-Tp.strstart,Tp.strstart>=dm+(dm-Pp)){j.arraySet(Tp.window,Tp.window,dm,dm,0),Tp.match_start-=dm,Tp.strstart-=dm,Tp.block_start-=dm,Bp=Tp.hash_size,om=Bp;do sm=Tp.head[--om],Tp.head[om]=sm>=dm?sm-dm:0;while(--Bp);Bp=dm,om=Bp;do sm=Tp.prev[--om],Tp.prev[om]=sm>=dm?sm-dm:0;while(--Bp);$m+=dm}if(Tp.strm.avail_in===0)break;if(Bp=um(Tp.strm,Tp.window,Tp.strstart+Tp.lookahead,$m),Tp.lookahead+=Bp,Tp.lookahead+Tp.insert>=Ap)for(Nm=Tp.strstart-Tp.insert,Tp.ins_h=Tp.window[Nm],Tp.ins_h=(Tp.ins_h<<Tp.hash_shift^Tp.window[Nm+1])&Tp.hash_mask;Tp.insert&&(Tp.ins_h=(Tp.ins_h<<Tp.hash_shift^Tp.window[Nm+Ap-1])&Tp.hash_mask,Tp.prev[Nm&Tp.w_mask]=Tp.head[Tp.ins_h],Tp.head[Tp.ins_h]=Nm,Nm++,Tp.insert--,!(Tp.lookahead+Tp.insert<Ap)););}while(Tp.lookahead<Pp&&Tp.strm.avail_in!==0)}function Sm(Tp,dm){var om=65535;for(om>Tp.pending_buf_size-5&&(om=Tp.pending_buf_size-5);;){if(Tp.lookahead<=1){if(Cm(Tp),Tp.lookahead===0&&dm===it)return Jp;if(Tp.lookahead===0)break}Tp.strstart+=Tp.lookahead,Tp.lookahead=0;var Bp=Tp.block_start+om;if((Tp.strstart===0||Tp.strstart>=Bp)&&(Tp.lookahead=Tp.strstart-Bp,Tp.strstart=Bp,vm(Tp,!1),Tp.strm.avail_out===0)||Tp.strstart-Tp.block_start>=Tp.w_size-Pp&&(vm(Tp,!1),Tp.strm.avail_out===0))return Jp}return Tp.insert=0,dm===bt?(vm(Tp,!0),Tp.strm.avail_out===0?im:em):(Tp.strstart>Tp.block_start&&(vm(Tp,!1),Tp.strm.avail_out),Jp)}function zp(Tp,dm){for(var om,Bp;;){if(Tp.lookahead<Pp){if(Cm(Tp),Tp.lookahead<Pp&&dm===it)return Jp;if(Tp.lookahead===0)break}if(om=0,Tp.lookahead>=Ap&&(Tp.ins_h=(Tp.ins_h<<Tp.hash_shift^Tp.window[Tp.strstart+Ap-1])&Tp.hash_mask,om=Tp.prev[Tp.strstart&Tp.w_mask]=Tp.head[Tp.ins_h],Tp.head[Tp.ins_h]=Tp.strstart),om!==0&&Tp.strstart-om<=Tp.w_size-Pp&&(Tp.match_length=_m(Tp,om)),Tp.match_length>=Ap)if(Bp=_e._tr_tally(Tp,Tp.strstart-Tp.match_start,Tp.match_length-Ap),Tp.lookahead-=Tp.match_length,Tp.match_length<=Tp.max_lazy_match&&Tp.lookahead>=Ap){Tp.match_length--;do Tp.strstart++,Tp.ins_h=(Tp.ins_h<<Tp.hash_shift^Tp.window[Tp.strstart+Ap-1])&Tp.hash_mask,om=Tp.prev[Tp.strstart&Tp.w_mask]=Tp.head[Tp.ins_h],Tp.head[Tp.ins_h]=Tp.strstart;while(--Tp.match_length!==0);Tp.strstart++}else Tp.strstart+=Tp.match_length,Tp.match_length=0,Tp.ins_h=Tp.window[Tp.strstart],Tp.ins_h=(Tp.ins_h<<Tp.hash_shift^Tp.window[Tp.strstart+1])&Tp.hash_mask;else Bp=_e._tr_tally(Tp,0,Tp.window[Tp.strstart]),Tp.lookahead--,Tp.strstart++;if(Bp&&(vm(Tp,!1),Tp.strm.avail_out===0))return Jp}return Tp.insert=Tp.strstart<Ap-1?Tp.strstart:Ap-1,dm===bt?(vm(Tp,!0),Tp.strm.avail_out===0?im:em):Tp.last_lit&&(vm(Tp,!1),Tp.strm.avail_out===0)?Jp:Up}function Dp(Tp,dm){for(var om,Bp,sm;;){if(Tp.lookahead<Pp){if(Cm(Tp),Tp.lookahead<Pp&&dm===it)return Jp;if(Tp.lookahead===0)break}if(om=0,Tp.lookahead>=Ap&&(Tp.ins_h=(Tp.ins_h<<Tp.hash_shift^Tp.window[Tp.strstart+Ap-1])&Tp.hash_mask,om=Tp.prev[Tp.strstart&Tp.w_mask]=Tp.head[Tp.ins_h],Tp.head[Tp.ins_h]=Tp.strstart),Tp.prev_length=Tp.match_length,Tp.prev_match=Tp.match_start,Tp.match_length=Ap-1,om!==0&&Tp.prev_length<Tp.max_lazy_match&&Tp.strstart-om<=Tp.w_size-Pp&&(Tp.match_length=_m(Tp,om),Tp.match_length<=5&&(Tp.strategy===mn||Tp.match_length===Ap&&Tp.strstart-Tp.match_start>4096)&&(Tp.match_length=Ap-1)),Tp.prev_length>=Ap&&Tp.match_length<=Tp.prev_length){sm=Tp.strstart+Tp.lookahead-Ap,Bp=_e._tr_tally(Tp,Tp.strstart-1-Tp.prev_match,Tp.prev_length-Ap),Tp.lookahead-=Tp.prev_length-1,Tp.prev_length-=2;do++Tp.strstart<=sm&&(Tp.ins_h=(Tp.ins_h<<Tp.hash_shift^Tp.window[Tp.strstart+Ap-1])&Tp.hash_mask,om=Tp.prev[Tp.strstart&Tp.w_mask]=Tp.head[Tp.ins_h],Tp.head[Tp.ins_h]=Tp.strstart);while(--Tp.prev_length!==0);if(Tp.match_available=0,Tp.match_length=Ap-1,Tp.strstart++,Bp&&(vm(Tp,!1),Tp.strm.avail_out===0))return Jp}else if(Tp.match_available){if(Bp=_e._tr_tally(Tp,0,Tp.window[Tp.strstart-1]),Bp&&vm(Tp,!1),Tp.strstart++,Tp.lookahead--,Tp.strm.avail_out===0)return Jp}else Tp.match_available=1,Tp.strstart++,Tp.lookahead--}return Tp.match_available&&(Bp=_e._tr_tally(Tp,0,Tp.window[Tp.strstart-1]),Tp.match_available=0),Tp.insert=Tp.strstart<Ap-1?Tp.strstart:Ap-1,dm===bt?(vm(Tp,!0),Tp.strm.avail_out===0?im:em):Tp.last_lit&&(vm(Tp,!1),Tp.strm.avail_out===0)?Jp:Up}function kp(Tp,dm){for(var om,Bp,sm,$m,Nm=Tp.window;;){if(Tp.lookahead<=Mp){if(Cm(Tp),Tp.lookahead<=Mp&&dm===it)return Jp;if(Tp.lookahead===0)break}if(Tp.match_length=0,Tp.lookahead>=Ap&&Tp.strstart>0&&(sm=Tp.strstart-1,Bp=Nm[sm],Bp===Nm[++sm]&&Bp===Nm[++sm]&&Bp===Nm[++sm])){$m=Tp.strstart+Mp;do;while(Bp===Nm[++sm]&&Bp===Nm[++sm]&&Bp===Nm[++sm]&&Bp===Nm[++sm]&&Bp===Nm[++sm]&&Bp===Nm[++sm]&&Bp===Nm[++sm]&&Bp===Nm[++sm]&&sm<$m);Tp.match_length=Mp-($m-sm),Tp.match_length>Tp.lookahead&&(Tp.match_length=Tp.lookahead)}if(Tp.match_length>=Ap?(om=_e._tr_tally(Tp,1,Tp.match_length-Ap),Tp.lookahead-=Tp.match_length,Tp.strstart+=Tp.match_length,Tp.match_length=0):(om=_e._tr_tally(Tp,0,Tp.window[Tp.strstart]),Tp.lookahead--,Tp.strstart++),om&&(vm(Tp,!1),Tp.strm.avail_out===0))return Jp}return Tp.insert=0,dm===bt?(vm(Tp,!0),Tp.strm.avail_out===0?im:em):Tp.last_lit&&(vm(Tp,!1),Tp.strm.avail_out===0)?Jp:Up}function nm(Tp,dm){for(var om;;){if(Tp.lookahead===0&&(Cm(Tp),Tp.lookahead===0)){if(dm===it)return Jp;break}if(Tp.match_length=0,om=_e._tr_tally(Tp,0,Tp.window[Tp.strstart]),Tp.lookahead--,Tp.strstart++,om&&(vm(Tp,!1),Tp.strm.avail_out===0))return Jp}return Tp.insert=0,dm===bt?(vm(Tp,!0),Tp.strm.avail_out===0?im:em):Tp.last_lit&&(vm(Tp,!1),Tp.strm.avail_out===0)?Jp:Up}function lm(Tp,dm,om,Bp,sm){this.good_length=Tp,this.max_lazy=dm,this.nice_length=om,this.max_chain=Bp,this.func=sm}var hm;hm=[new lm(0,0,0,0,Sm),new lm(4,4,8,4,zp),new lm(4,5,16,8,zp),new lm(4,6,32,32,zp),new lm(4,4,16,16,Dp),new lm(8,16,32,32,Dp),new lm(8,16,128,128,Dp),new lm(8,32,128,256,Dp),new lm(32,128,258,1024,Dp),new lm(32,258,258,4096,Dp)];function Em(Tp){Tp.window_size=2*Tp.w_size,am(Tp.head),Tp.max_lazy_match=hm[Tp.level].max_lazy,Tp.good_match=hm[Tp.level].good_length,Tp.nice_match=hm[Tp.level].nice_length,Tp.max_chain_length=hm[Tp.level].max_chain,Tp.strstart=0,Tp.block_start=0,Tp.lookahead=0,Tp.insert=0,Tp.match_length=Tp.prev_length=Ap-1,Tp.match_available=0,Tp.ins_h=0}function Lp(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ms,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new j.Buf16(Ep*2),this.dyn_dtree=new j.Buf16((2*wp+1)*2),this.bl_tree=new j.Buf16((2*bp+1)*2),am(this.dyn_ltree),am(this.dyn_dtree),am(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new j.Buf16(Cp+1),this.heap=new j.Buf16(2*Sp+1),am(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new j.Buf16(2*Sp+1),am(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function cm(Tp){var dm;return!Tp||!Tp.state?bm(Tp,ft):(Tp.total_in=Tp.total_out=0,Tp.data_type=Lo,dm=Tp.state,dm.pending=0,dm.pending_out=0,dm.wrap<0&&(dm.wrap=-dm.wrap),dm.status=dm.wrap?Op:Gp,Tp.adler=dm.wrap===2?0:1,dm.last_flush=it,_e._tr_init(dm),pr)}function mm(Tp){var dm=cm(Tp);return dm===pr&&Em(Tp.state),dm}function Vp(Tp,dm){return!Tp||!Tp.state||Tp.state.wrap!==2?ft:(Tp.state.gzhead=dm,pr)}function qp(Tp,dm,om,Bp,sm,$m){if(!Tp)return ft;var Nm=1;if(dm===_r&&(dm=6),Bp<0?(Nm=0,Bp=-Bp):Bp>15&&(Nm=2,Bp-=16),sm<1||sm>Uo||om!==ms||Bp<8||Bp>15||dm<0||dm>9||$m<0||$m>Do)return bm(Tp,ft);Bp===8&&(Bp=9);var Im=new Lp;return Tp.state=Im,Im.strm=Tp,Im.wrap=Nm,Im.gzhead=null,Im.w_bits=Bp,Im.w_size=1<<Im.w_bits,Im.w_mask=Im.w_size-1,Im.hash_bits=sm+7,Im.hash_size=1<<Im.hash_bits,Im.hash_mask=Im.hash_size-1,Im.hash_shift=~~((Im.hash_bits+Ap-1)/Ap),Im.window=new j.Buf8(Im.w_size*2),Im.head=new j.Buf16(Im.hash_size),Im.prev=new j.Buf16(Im.w_size),Im.lit_bufsize=1<<sm+6,Im.pending_buf_size=Im.lit_bufsize*4,Im.pending_buf=new j.Buf8(Im.pending_buf_size),Im.d_buf=1*Im.lit_bufsize,Im.l_buf=3*Im.lit_bufsize,Im.level=dm,Im.strategy=$m,Im.method=om,mm(Tp)}function xm(Tp,dm){return qp(Tp,dm,ms,_s,yp,Io)}function Np(Tp,dm){var om,Bp,sm,$m;if(!Tp||!Tp.state||dm>Ht||dm<0)return Tp?bm(Tp,ft):ft;if(Bp=Tp.state,!Tp.output||!Tp.input&&Tp.avail_in!==0||Bp.status===rm&&dm!==bt)return bm(Tp,Tp.avail_out===0?mr:ft);if(Bp.strm=Tp,om=Bp.last_flush,Bp.last_flush=dm,Bp.status===Op)if(Bp.wrap===2)Tp.adler=0,jp(Bp,31),jp(Bp,139),jp(Bp,8),Bp.gzhead?(jp(Bp,(Bp.gzhead.text?1:0)+(Bp.gzhead.hcrc?2:0)+(Bp.gzhead.extra?4:0)+(Bp.gzhead.name?8:0)+(Bp.gzhead.comment?16:0)),jp(Bp,Bp.gzhead.time&255),jp(Bp,Bp.gzhead.time>>8&255),jp(Bp,Bp.gzhead.time>>16&255),jp(Bp,Bp.gzhead.time>>24&255),jp(Bp,Bp.level===9?2:Bp.strategy>=dr||Bp.level<2?4:0),jp(Bp,Bp.gzhead.os&255),Bp.gzhead.extra&&Bp.gzhead.extra.length&&(jp(Bp,Bp.gzhead.extra.length&255),jp(Bp,Bp.gzhead.extra.length>>8&255)),Bp.gzhead.hcrc&&(Tp.adler=tt(Tp.adler,Bp.pending_buf,Bp.pending,0)),Bp.gzindex=0,Bp.status=Wp):(jp(Bp,0),jp(Bp,0),jp(Bp,0),jp(Bp,0),jp(Bp,0),jp(Bp,Bp.level===9?2:Bp.strategy>=dr||Bp.level<2?4:0),jp(Bp,gm),Bp.status=Gp);else{var Nm=ms+(Bp.w_bits-8<<4)<<8,Im=-1;Bp.strategy>=dr||Bp.level<2?Im=0:Bp.level<6?Im=1:Bp.level===6?Im=2:Im=3,Nm|=Im<<6,Bp.strstart!==0&&(Nm|=Ip),Nm+=31-Nm%31,Bp.status=Gp,Rp(Bp,Nm),Bp.strstart!==0&&(Rp(Bp,Tp.adler>>>16),Rp(Bp,Tp.adler&65535)),Tp.adler=1}if(Bp.status===Wp)if(Bp.gzhead.extra){for(sm=Bp.pending;Bp.gzindex<(Bp.gzhead.extra.length&65535)&&!(Bp.pending===Bp.pending_buf_size&&(Bp.gzhead.hcrc&&Bp.pending>sm&&(Tp.adler=tt(Tp.adler,Bp.pending_buf,Bp.pending-sm,sm)),fm(Tp),sm=Bp.pending,Bp.pending===Bp.pending_buf_size));)jp(Bp,Bp.gzhead.extra[Bp.gzindex]&255),Bp.gzindex++;Bp.gzhead.hcrc&&Bp.pending>sm&&(Tp.adler=tt(Tp.adler,Bp.pending_buf,Bp.pending-sm,sm)),Bp.gzindex===Bp.gzhead.extra.length&&(Bp.gzindex=0,Bp.status=Yp)}else Bp.status=Yp;if(Bp.status===Yp)if(Bp.gzhead.name){sm=Bp.pending;do{if(Bp.pending===Bp.pending_buf_size&&(Bp.gzhead.hcrc&&Bp.pending>sm&&(Tp.adler=tt(Tp.adler,Bp.pending_buf,Bp.pending-sm,sm)),fm(Tp),sm=Bp.pending,Bp.pending===Bp.pending_buf_size)){$m=1;break}Bp.gzindex<Bp.gzhead.name.length?$m=Bp.gzhead.name.charCodeAt(Bp.gzindex++)&255:$m=0,jp(Bp,$m)}while($m!==0);Bp.gzhead.hcrc&&Bp.pending>sm&&(Tp.adler=tt(Tp.adler,Bp.pending_buf,Bp.pending-sm,sm)),$m===0&&(Bp.gzindex=0,Bp.status=Zp)}else Bp.status=Zp;if(Bp.status===Zp)if(Bp.gzhead.comment){sm=Bp.pending;do{if(Bp.pending===Bp.pending_buf_size&&(Bp.gzhead.hcrc&&Bp.pending>sm&&(Tp.adler=tt(Tp.adler,Bp.pending_buf,Bp.pending-sm,sm)),fm(Tp),sm=Bp.pending,Bp.pending===Bp.pending_buf_size)){$m=1;break}Bp.gzindex<Bp.gzhead.comment.length?$m=Bp.gzhead.comment.charCodeAt(Bp.gzindex++)&255:$m=0,jp(Bp,$m)}while($m!==0);Bp.gzhead.hcrc&&Bp.pending>sm&&(Tp.adler=tt(Tp.adler,Bp.pending_buf,Bp.pending-sm,sm)),$m===0&&(Bp.status=Qp)}else Bp.status=Qp;if(Bp.status===Qp&&(Bp.gzhead.hcrc?(Bp.pending+2>Bp.pending_buf_size&&fm(Tp),Bp.pending+2<=Bp.pending_buf_size&&(jp(Bp,Tp.adler&255),jp(Bp,Tp.adler>>8&255),Tp.adler=0,Bp.status=Gp)):Bp.status=Gp),Bp.pending!==0){if(fm(Tp),Tp.avail_out===0)return Bp.last_flush=-1,pr}else if(Tp.avail_in===0&&ym(dm)<=ym(om)&&dm!==bt)return bm(Tp,mr);if(Bp.status===rm&&Tp.avail_in!==0)return bm(Tp,mr);if(Tp.avail_in!==0||Bp.lookahead!==0||dm!==it&&Bp.status!==rm){var jm=Bp.strategy===dr?nm(Bp,dm):Bp.strategy===pn?kp(Bp,dm):hm[Bp.level].func(Bp,dm);if((jm===im||jm===em)&&(Bp.status=rm),jm===Jp||jm===im)return Tp.avail_out===0&&(Bp.last_flush=-1),pr;if(jm===Up&&(dm===lt?_e._tr_align(Bp):dm!==Ht&&(_e._tr_stored_block(Bp,0,0,!1),dm===dt&&(am(Bp.head),Bp.lookahead===0&&(Bp.strstart=0,Bp.block_start=0,Bp.insert=0))),fm(Tp),Tp.avail_out===0))return Bp.last_flush=-1,pr}return dm!==bt?pr:Bp.wrap<=0?_n:(Bp.wrap===2?(jp(Bp,Tp.adler&255),jp(Bp,Tp.adler>>8&255),jp(Bp,Tp.adler>>16&255),jp(Bp,Tp.adler>>24&255),jp(Bp,Tp.total_in&255),jp(Bp,Tp.total_in>>8&255),jp(Bp,Tp.total_in>>16&255),jp(Bp,Tp.total_in>>24&255)):(Rp(Bp,Tp.adler>>>16),Rp(Bp,Tp.adler&65535)),fm(Tp),Bp.wrap>0&&(Bp.wrap=-Bp.wrap),Bp.pending!==0?pr:_n)}function Hp(Tp){var dm;return!Tp||!Tp.state?ft:(dm=Tp.state.status,dm!==Op&&dm!==Wp&&dm!==Yp&&dm!==Zp&&dm!==Qp&&dm!==Gp&&dm!==rm?bm(Tp,ft):(Tp.state=null,dm===Gp?bm(Tp,Ct):pr))}function Mm(Tp,dm){var om=dm.length,Bp,sm,$m,Nm,Im,jm,Bm,by;if(!Tp||!Tp.state||(Bp=Tp.state,Nm=Bp.wrap,Nm===2||Nm===1&&Bp.status!==Op||Bp.lookahead))return ft;for(Nm===1&&(Tp.adler=et(Tp.adler,dm,om,0)),Bp.wrap=0,om>=Bp.w_size&&(Nm===0&&(am(Bp.head),Bp.strstart=0,Bp.block_start=0,Bp.insert=0),by=new j.Buf8(Bp.w_size),j.arraySet(by,dm,om-Bp.w_size,Bp.w_size,0),dm=by,om=Bp.w_size),Im=Tp.avail_in,jm=Tp.next_in,Bm=Tp.input,Tp.avail_in=om,Tp.next_in=0,Tp.input=dm,Cm(Bp);Bp.lookahead>=Ap;){sm=Bp.strstart,$m=Bp.lookahead-(Ap-1);do Bp.ins_h=(Bp.ins_h<<Bp.hash_shift^Bp.window[sm+Ap-1])&Bp.hash_mask,Bp.prev[sm&Bp.w_mask]=Bp.head[Bp.ins_h],Bp.head[Bp.ins_h]=sm,sm++;while(--$m);Bp.strstart=sm,Bp.lookahead=Ap-1,Cm(Bp)}return Bp.strstart+=Bp.lookahead,Bp.block_start=Bp.strstart,Bp.insert=Bp.lookahead,Bp.lookahead=0,Bp.match_length=Bp.prev_length=Ap-1,Bp.match_available=0,Tp.next_in=jm,Tp.input=Bm,Tp.avail_in=Im,Bp.wrap=Nm,pr}_.deflateInit=xm,_.deflateInit2=qp,_.deflateReset=mm,_.deflateResetKeep=cm,_.deflateSetHeader=Vp,_.deflate=Np,_.deflateEnd=Hp,_.deflateSetDictionary=Mm,_.deflateInfo="pako deflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js":o=>{function _(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}o.exports=_},"./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js":o=>{var _=30,$=12;o.exports=function(j,_e){var et,tt,nt,it,lt,dt,bt,Ht,pr,_n,ft,Ct,mr,_r,mn,dr,pn,Do,Io,Lo,ms,Uo,_s,yp,xs;et=j.state,tt=j.next_in,yp=j.input,nt=tt+(j.avail_in-5),it=j.next_out,xs=j.output,lt=it-(_e-j.avail_out),dt=it+(j.avail_out-257),bt=et.dmax,Ht=et.wsize,pr=et.whave,_n=et.wnext,ft=et.window,Ct=et.hold,mr=et.bits,_r=et.lencode,mn=et.distcode,dr=(1<<et.lenbits)-1,pn=(1<<et.distbits)-1;e:do{mr<15&&(Ct+=yp[tt++]<<mr,mr+=8,Ct+=yp[tt++]<<mr,mr+=8),Do=_r[Ct&dr];t:for(;;){if(Io=Do>>>24,Ct>>>=Io,mr-=Io,Io=Do>>>16&255,Io===0)xs[it++]=Do&65535;else if(Io&16){Lo=Do&65535,Io&=15,Io&&(mr<Io&&(Ct+=yp[tt++]<<mr,mr+=8),Lo+=Ct&(1<<Io)-1,Ct>>>=Io,mr-=Io),mr<15&&(Ct+=yp[tt++]<<mr,mr+=8,Ct+=yp[tt++]<<mr,mr+=8),Do=mn[Ct&pn];r:for(;;){if(Io=Do>>>24,Ct>>>=Io,mr-=Io,Io=Do>>>16&255,Io&16){if(ms=Do&65535,Io&=15,mr<Io&&(Ct+=yp[tt++]<<mr,mr+=8,mr<Io&&(Ct+=yp[tt++]<<mr,mr+=8)),ms+=Ct&(1<<Io)-1,ms>bt){j.msg="invalid distance too far back",et.mode=_;break e}if(Ct>>>=Io,mr-=Io,Io=it-lt,ms>Io){if(Io=ms-Io,Io>pr&&et.sane){j.msg="invalid distance too far back",et.mode=_;break e}if(Uo=0,_s=ft,_n===0){if(Uo+=Ht-Io,Io<Lo){Lo-=Io;do xs[it++]=ft[Uo++];while(--Io);Uo=it-ms,_s=xs}}else if(_n<Io){if(Uo+=Ht+_n-Io,Io-=_n,Io<Lo){Lo-=Io;do xs[it++]=ft[Uo++];while(--Io);if(Uo=0,_n<Lo){Io=_n,Lo-=Io;do xs[it++]=ft[Uo++];while(--Io);Uo=it-ms,_s=xs}}}else if(Uo+=_n-Io,Io<Lo){Lo-=Io;do xs[it++]=ft[Uo++];while(--Io);Uo=it-ms,_s=xs}for(;Lo>2;)xs[it++]=_s[Uo++],xs[it++]=_s[Uo++],xs[it++]=_s[Uo++],Lo-=3;Lo&&(xs[it++]=_s[Uo++],Lo>1&&(xs[it++]=_s[Uo++]))}else{Uo=it-ms;do xs[it++]=xs[Uo++],xs[it++]=xs[Uo++],xs[it++]=xs[Uo++],Lo-=3;while(Lo>2);Lo&&(xs[it++]=xs[Uo++],Lo>1&&(xs[it++]=xs[Uo++]))}}else if(Io&64){j.msg="invalid distance code",et.mode=_;break e}else{Do=mn[(Do&65535)+(Ct&(1<<Io)-1)];continue r}break}}else if(Io&64)if(Io&32){et.mode=$;break e}else{j.msg="invalid literal/length code",et.mode=_;break e}else{Do=_r[(Do&65535)+(Ct&(1<<Io)-1)];continue t}break}}while(tt<nt&&it<dt);Lo=mr>>3,tt-=Lo,mr-=Lo<<3,Ct&=(1<<mr)-1,j.next_in=tt,j.next_out=it,j.avail_in=tt<nt?5+(nt-tt):5-(tt-nt),j.avail_out=it<dt?257+(dt-it):257-(it-dt),et.hold=Ct,et.bits=mr}},"./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js":(o,_,$)=>{var j=$("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),_e=$("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),et=$("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),tt=$("./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js"),nt=$("./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js"),it=0,lt=1,dt=2,bt=4,Ht=5,pr=6,_n=0,ft=1,Ct=2,mr=-2,_r=-3,mn=-4,dr=-5,pn=8,Do=1,Io=2,Lo=3,ms=4,Uo=5,_s=6,yp=7,xs=8,vs=9,Sp=10,wp=11,bp=12,Ep=13,Cp=14,Ap=15,Mp=16,Pp=17,Ip=18,Op=19,Wp=20,Yp=21,Zp=22,Qp=23,Gp=24,rm=25,Jp=26,Up=27,im=28,em=29,gm=30,bm=31,ym=32,am=852,fm=592,vm=15,jp=vm;function Rp(qp){return(qp>>>24&255)+(qp>>>8&65280)+((qp&65280)<<8)+((qp&255)<<24)}function um(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new j.Buf16(320),this.work=new j.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _m(qp){var xm;return!qp||!qp.state?mr:(xm=qp.state,qp.total_in=qp.total_out=xm.total=0,qp.msg="",xm.wrap&&(qp.adler=xm.wrap&1),xm.mode=Do,xm.last=0,xm.havedict=0,xm.dmax=32768,xm.head=null,xm.hold=0,xm.bits=0,xm.lencode=xm.lendyn=new j.Buf32(am),xm.distcode=xm.distdyn=new j.Buf32(fm),xm.sane=1,xm.back=-1,_n)}function Cm(qp){var xm;return!qp||!qp.state?mr:(xm=qp.state,xm.wsize=0,xm.whave=0,xm.wnext=0,_m(qp))}function Sm(qp,xm){var Np,Hp;return!qp||!qp.state||(Hp=qp.state,xm<0?(Np=0,xm=-xm):(Np=(xm>>4)+1,xm<48&&(xm&=15)),xm&&(xm<8||xm>15))?mr:(Hp.window!==null&&Hp.wbits!==xm&&(Hp.window=null),Hp.wrap=Np,Hp.wbits=xm,Cm(qp))}function zp(qp,xm){var Np,Hp;return qp?(Hp=new um,qp.state=Hp,Hp.window=null,Np=Sm(qp,xm),Np!==_n&&(qp.state=null),Np):mr}function Dp(qp){return zp(qp,jp)}var kp=!0,nm,lm;function hm(qp){if(kp){var xm;for(nm=new j.Buf32(512),lm=new j.Buf32(32),xm=0;xm<144;)qp.lens[xm++]=8;for(;xm<256;)qp.lens[xm++]=9;for(;xm<280;)qp.lens[xm++]=7;for(;xm<288;)qp.lens[xm++]=8;for(nt(lt,qp.lens,0,288,nm,0,qp.work,{bits:9}),xm=0;xm<32;)qp.lens[xm++]=5;nt(dt,qp.lens,0,32,lm,0,qp.work,{bits:5}),kp=!1}qp.lencode=nm,qp.lenbits=9,qp.distcode=lm,qp.distbits=5}function Em(qp,xm,Np,Hp){var Mm,Tp=qp.state;return Tp.window===null&&(Tp.wsize=1<<Tp.wbits,Tp.wnext=0,Tp.whave=0,Tp.window=new j.Buf8(Tp.wsize)),Hp>=Tp.wsize?(j.arraySet(Tp.window,xm,Np-Tp.wsize,Tp.wsize,0),Tp.wnext=0,Tp.whave=Tp.wsize):(Mm=Tp.wsize-Tp.wnext,Mm>Hp&&(Mm=Hp),j.arraySet(Tp.window,xm,Np-Hp,Mm,Tp.wnext),Hp-=Mm,Hp?(j.arraySet(Tp.window,xm,Np-Hp,Hp,0),Tp.wnext=Hp,Tp.whave=Tp.wsize):(Tp.wnext+=Mm,Tp.wnext===Tp.wsize&&(Tp.wnext=0),Tp.whave<Tp.wsize&&(Tp.whave+=Mm))),0}function Lp(qp,xm){var Np,Hp,Mm,Tp,dm,om,Bp,sm,$m,Nm,Im,jm,Bm,by,Zm=0,Jm,ny,gy,yy,Ty,Ay,ly,my,Xp=new j.Buf8(4),Tm,Pm,km=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!qp||!qp.state||!qp.output||!qp.input&&qp.avail_in!==0)return mr;Np=qp.state,Np.mode===bp&&(Np.mode=Ep),dm=qp.next_out,Mm=qp.output,Bp=qp.avail_out,Tp=qp.next_in,Hp=qp.input,om=qp.avail_in,sm=Np.hold,$m=Np.bits,Nm=om,Im=Bp,my=_n;e:for(;;)switch(Np.mode){case Do:if(Np.wrap===0){Np.mode=Ep;break}for(;$m<16;){if(om===0)break e;om--,sm+=Hp[Tp++]<<$m,$m+=8}if(Np.wrap&2&&sm===35615){Np.check=0,Xp[0]=sm&255,Xp[1]=sm>>>8&255,Np.check=et(Np.check,Xp,2,0),sm=0,$m=0,Np.mode=Io;break}if(Np.flags=0,Np.head&&(Np.head.done=!1),!(Np.wrap&1)||(((sm&255)<<8)+(sm>>8))%31){qp.msg="incorrect header check",Np.mode=gm;break}if((sm&15)!==pn){qp.msg="unknown compression method",Np.mode=gm;break}if(sm>>>=4,$m-=4,ly=(sm&15)+8,Np.wbits===0)Np.wbits=ly;else if(ly>Np.wbits){qp.msg="invalid window size",Np.mode=gm;break}Np.dmax=1<<ly,qp.adler=Np.check=1,Np.mode=sm&512?Sp:bp,sm=0,$m=0;break;case Io:for(;$m<16;){if(om===0)break e;om--,sm+=Hp[Tp++]<<$m,$m+=8}if(Np.flags=sm,(Np.flags&255)!==pn){qp.msg="unknown compression method",Np.mode=gm;break}if(Np.flags&57344){qp.msg="unknown header flags set",Np.mode=gm;break}Np.head&&(Np.head.text=sm>>8&1),Np.flags&512&&(Xp[0]=sm&255,Xp[1]=sm>>>8&255,Np.check=et(Np.check,Xp,2,0)),sm=0,$m=0,Np.mode=Lo;case Lo:for(;$m<32;){if(om===0)break e;om--,sm+=Hp[Tp++]<<$m,$m+=8}Np.head&&(Np.head.time=sm),Np.flags&512&&(Xp[0]=sm&255,Xp[1]=sm>>>8&255,Xp[2]=sm>>>16&255,Xp[3]=sm>>>24&255,Np.check=et(Np.check,Xp,4,0)),sm=0,$m=0,Np.mode=ms;case ms:for(;$m<16;){if(om===0)break e;om--,sm+=Hp[Tp++]<<$m,$m+=8}Np.head&&(Np.head.xflags=sm&255,Np.head.os=sm>>8),Np.flags&512&&(Xp[0]=sm&255,Xp[1]=sm>>>8&255,Np.check=et(Np.check,Xp,2,0)),sm=0,$m=0,Np.mode=Uo;case Uo:if(Np.flags&1024){for(;$m<16;){if(om===0)break e;om--,sm+=Hp[Tp++]<<$m,$m+=8}Np.length=sm,Np.head&&(Np.head.extra_len=sm),Np.flags&512&&(Xp[0]=sm&255,Xp[1]=sm>>>8&255,Np.check=et(Np.check,Xp,2,0)),sm=0,$m=0}else Np.head&&(Np.head.extra=null);Np.mode=_s;case _s:if(Np.flags&1024&&(jm=Np.length,jm>om&&(jm=om),jm&&(Np.head&&(ly=Np.head.extra_len-Np.length,Np.head.extra||(Np.head.extra=new Array(Np.head.extra_len)),j.arraySet(Np.head.extra,Hp,Tp,jm,ly)),Np.flags&512&&(Np.check=et(Np.check,Hp,jm,Tp)),om-=jm,Tp+=jm,Np.length-=jm),Np.length))break e;Np.length=0,Np.mode=yp;case yp:if(Np.flags&2048){if(om===0)break e;jm=0;do ly=Hp[Tp+jm++],Np.head&&ly&&Np.length<65536&&(Np.head.name+=String.fromCharCode(ly));while(ly&&jm<om);if(Np.flags&512&&(Np.check=et(Np.check,Hp,jm,Tp)),om-=jm,Tp+=jm,ly)break e}else Np.head&&(Np.head.name=null);Np.length=0,Np.mode=xs;case xs:if(Np.flags&4096){if(om===0)break e;jm=0;do ly=Hp[Tp+jm++],Np.head&&ly&&Np.length<65536&&(Np.head.comment+=String.fromCharCode(ly));while(ly&&jm<om);if(Np.flags&512&&(Np.check=et(Np.check,Hp,jm,Tp)),om-=jm,Tp+=jm,ly)break e}else Np.head&&(Np.head.comment=null);Np.mode=vs;case vs:if(Np.flags&512){for(;$m<16;){if(om===0)break e;om--,sm+=Hp[Tp++]<<$m,$m+=8}if(sm!==(Np.check&65535)){qp.msg="header crc mismatch",Np.mode=gm;break}sm=0,$m=0}Np.head&&(Np.head.hcrc=Np.flags>>9&1,Np.head.done=!0),qp.adler=Np.check=0,Np.mode=bp;break;case Sp:for(;$m<32;){if(om===0)break e;om--,sm+=Hp[Tp++]<<$m,$m+=8}qp.adler=Np.check=Rp(sm),sm=0,$m=0,Np.mode=wp;case wp:if(Np.havedict===0)return qp.next_out=dm,qp.avail_out=Bp,qp.next_in=Tp,qp.avail_in=om,Np.hold=sm,Np.bits=$m,Ct;qp.adler=Np.check=1,Np.mode=bp;case bp:if(xm===Ht||xm===pr)break e;case Ep:if(Np.last){sm>>>=$m&7,$m-=$m&7,Np.mode=Up;break}for(;$m<3;){if(om===0)break e;om--,sm+=Hp[Tp++]<<$m,$m+=8}switch(Np.last=sm&1,sm>>>=1,$m-=1,sm&3){case 0:Np.mode=Cp;break;case 1:if(hm(Np),Np.mode=Wp,xm===pr){sm>>>=2,$m-=2;break e}break;case 2:Np.mode=Pp;break;case 3:qp.msg="invalid block type",Np.mode=gm}sm>>>=2,$m-=2;break;case Cp:for(sm>>>=$m&7,$m-=$m&7;$m<32;){if(om===0)break e;om--,sm+=Hp[Tp++]<<$m,$m+=8}if((sm&65535)!==(sm>>>16^65535)){qp.msg="invalid stored block lengths",Np.mode=gm;break}if(Np.length=sm&65535,sm=0,$m=0,Np.mode=Ap,xm===pr)break e;case Ap:Np.mode=Mp;case Mp:if(jm=Np.length,jm){if(jm>om&&(jm=om),jm>Bp&&(jm=Bp),jm===0)break e;j.arraySet(Mm,Hp,Tp,jm,dm),om-=jm,Tp+=jm,Bp-=jm,dm+=jm,Np.length-=jm;break}Np.mode=bp;break;case Pp:for(;$m<14;){if(om===0)break e;om--,sm+=Hp[Tp++]<<$m,$m+=8}if(Np.nlen=(sm&31)+257,sm>>>=5,$m-=5,Np.ndist=(sm&31)+1,sm>>>=5,$m-=5,Np.ncode=(sm&15)+4,sm>>>=4,$m-=4,Np.nlen>286||Np.ndist>30){qp.msg="too many length or distance symbols",Np.mode=gm;break}Np.have=0,Np.mode=Ip;case Ip:for(;Np.have<Np.ncode;){for(;$m<3;){if(om===0)break e;om--,sm+=Hp[Tp++]<<$m,$m+=8}Np.lens[km[Np.have++]]=sm&7,sm>>>=3,$m-=3}for(;Np.have<19;)Np.lens[km[Np.have++]]=0;if(Np.lencode=Np.lendyn,Np.lenbits=7,Tm={bits:Np.lenbits},my=nt(it,Np.lens,0,19,Np.lencode,0,Np.work,Tm),Np.lenbits=Tm.bits,my){qp.msg="invalid code lengths set",Np.mode=gm;break}Np.have=0,Np.mode=Op;case Op:for(;Np.have<Np.nlen+Np.ndist;){for(;Zm=Np.lencode[sm&(1<<Np.lenbits)-1],Jm=Zm>>>24,ny=Zm>>>16&255,gy=Zm&65535,!(Jm<=$m);){if(om===0)break e;om--,sm+=Hp[Tp++]<<$m,$m+=8}if(gy<16)sm>>>=Jm,$m-=Jm,Np.lens[Np.have++]=gy;else{if(gy===16){for(Pm=Jm+2;$m<Pm;){if(om===0)break e;om--,sm+=Hp[Tp++]<<$m,$m+=8}if(sm>>>=Jm,$m-=Jm,Np.have===0){qp.msg="invalid bit length repeat",Np.mode=gm;break}ly=Np.lens[Np.have-1],jm=3+(sm&3),sm>>>=2,$m-=2}else if(gy===17){for(Pm=Jm+3;$m<Pm;){if(om===0)break e;om--,sm+=Hp[Tp++]<<$m,$m+=8}sm>>>=Jm,$m-=Jm,ly=0,jm=3+(sm&7),sm>>>=3,$m-=3}else{for(Pm=Jm+7;$m<Pm;){if(om===0)break e;om--,sm+=Hp[Tp++]<<$m,$m+=8}sm>>>=Jm,$m-=Jm,ly=0,jm=11+(sm&127),sm>>>=7,$m-=7}if(Np.have+jm>Np.nlen+Np.ndist){qp.msg="invalid bit length repeat",Np.mode=gm;break}for(;jm--;)Np.lens[Np.have++]=ly}}if(Np.mode===gm)break;if(Np.lens[256]===0){qp.msg="invalid code -- missing end-of-block",Np.mode=gm;break}if(Np.lenbits=9,Tm={bits:Np.lenbits},my=nt(lt,Np.lens,0,Np.nlen,Np.lencode,0,Np.work,Tm),Np.lenbits=Tm.bits,my){qp.msg="invalid literal/lengths set",Np.mode=gm;break}if(Np.distbits=6,Np.distcode=Np.distdyn,Tm={bits:Np.distbits},my=nt(dt,Np.lens,Np.nlen,Np.ndist,Np.distcode,0,Np.work,Tm),Np.distbits=Tm.bits,my){qp.msg="invalid distances set",Np.mode=gm;break}if(Np.mode=Wp,xm===pr)break e;case Wp:Np.mode=Yp;case Yp:if(om>=6&&Bp>=258){qp.next_out=dm,qp.avail_out=Bp,qp.next_in=Tp,qp.avail_in=om,Np.hold=sm,Np.bits=$m,tt(qp,Im),dm=qp.next_out,Mm=qp.output,Bp=qp.avail_out,Tp=qp.next_in,Hp=qp.input,om=qp.avail_in,sm=Np.hold,$m=Np.bits,Np.mode===bp&&(Np.back=-1);break}for(Np.back=0;Zm=Np.lencode[sm&(1<<Np.lenbits)-1],Jm=Zm>>>24,ny=Zm>>>16&255,gy=Zm&65535,!(Jm<=$m);){if(om===0)break e;om--,sm+=Hp[Tp++]<<$m,$m+=8}if(ny&&!(ny&240)){for(yy=Jm,Ty=ny,Ay=gy;Zm=Np.lencode[Ay+((sm&(1<<yy+Ty)-1)>>yy)],Jm=Zm>>>24,ny=Zm>>>16&255,gy=Zm&65535,!(yy+Jm<=$m);){if(om===0)break e;om--,sm+=Hp[Tp++]<<$m,$m+=8}sm>>>=yy,$m-=yy,Np.back+=yy}if(sm>>>=Jm,$m-=Jm,Np.back+=Jm,Np.length=gy,ny===0){Np.mode=Jp;break}if(ny&32){Np.back=-1,Np.mode=bp;break}if(ny&64){qp.msg="invalid literal/length code",Np.mode=gm;break}Np.extra=ny&15,Np.mode=Zp;case Zp:if(Np.extra){for(Pm=Np.extra;$m<Pm;){if(om===0)break e;om--,sm+=Hp[Tp++]<<$m,$m+=8}Np.length+=sm&(1<<Np.extra)-1,sm>>>=Np.extra,$m-=Np.extra,Np.back+=Np.extra}Np.was=Np.length,Np.mode=Qp;case Qp:for(;Zm=Np.distcode[sm&(1<<Np.distbits)-1],Jm=Zm>>>24,ny=Zm>>>16&255,gy=Zm&65535,!(Jm<=$m);){if(om===0)break e;om--,sm+=Hp[Tp++]<<$m,$m+=8}if(!(ny&240)){for(yy=Jm,Ty=ny,Ay=gy;Zm=Np.distcode[Ay+((sm&(1<<yy+Ty)-1)>>yy)],Jm=Zm>>>24,ny=Zm>>>16&255,gy=Zm&65535,!(yy+Jm<=$m);){if(om===0)break e;om--,sm+=Hp[Tp++]<<$m,$m+=8}sm>>>=yy,$m-=yy,Np.back+=yy}if(sm>>>=Jm,$m-=Jm,Np.back+=Jm,ny&64){qp.msg="invalid distance code",Np.mode=gm;break}Np.offset=gy,Np.extra=ny&15,Np.mode=Gp;case Gp:if(Np.extra){for(Pm=Np.extra;$m<Pm;){if(om===0)break e;om--,sm+=Hp[Tp++]<<$m,$m+=8}Np.offset+=sm&(1<<Np.extra)-1,sm>>>=Np.extra,$m-=Np.extra,Np.back+=Np.extra}if(Np.offset>Np.dmax){qp.msg="invalid distance too far back",Np.mode=gm;break}Np.mode=rm;case rm:if(Bp===0)break e;if(jm=Im-Bp,Np.offset>jm){if(jm=Np.offset-jm,jm>Np.whave&&Np.sane){qp.msg="invalid distance too far back",Np.mode=gm;break}jm>Np.wnext?(jm-=Np.wnext,Bm=Np.wsize-jm):Bm=Np.wnext-jm,jm>Np.length&&(jm=Np.length),by=Np.window}else by=Mm,Bm=dm-Np.offset,jm=Np.length;jm>Bp&&(jm=Bp),Bp-=jm,Np.length-=jm;do Mm[dm++]=by[Bm++];while(--jm);Np.length===0&&(Np.mode=Yp);break;case Jp:if(Bp===0)break e;Mm[dm++]=Np.length,Bp--,Np.mode=Yp;break;case Up:if(Np.wrap){for(;$m<32;){if(om===0)break e;om--,sm|=Hp[Tp++]<<$m,$m+=8}if(Im-=Bp,qp.total_out+=Im,Np.total+=Im,Im&&(qp.adler=Np.check=Np.flags?et(Np.check,Mm,Im,dm-Im):_e(Np.check,Mm,Im,dm-Im)),Im=Bp,(Np.flags?sm:Rp(sm))!==Np.check){qp.msg="incorrect data check",Np.mode=gm;break}sm=0,$m=0}Np.mode=im;case im:if(Np.wrap&&Np.flags){for(;$m<32;){if(om===0)break e;om--,sm+=Hp[Tp++]<<$m,$m+=8}if(sm!==(Np.total&4294967295)){qp.msg="incorrect length check",Np.mode=gm;break}sm=0,$m=0}Np.mode=em;case em:my=ft;break e;case gm:my=_r;break e;case bm:return mn;case ym:default:return mr}return qp.next_out=dm,qp.avail_out=Bp,qp.next_in=Tp,qp.avail_in=om,Np.hold=sm,Np.bits=$m,(Np.wsize||Im!==qp.avail_out&&Np.mode<gm&&(Np.mode<Up||xm!==bt))&&Em(qp,qp.output,qp.next_out,Im-qp.avail_out),Nm-=qp.avail_in,Im-=qp.avail_out,qp.total_in+=Nm,qp.total_out+=Im,Np.total+=Im,Np.wrap&&Im&&(qp.adler=Np.check=Np.flags?et(Np.check,Mm,Im,qp.next_out-Im):_e(Np.check,Mm,Im,qp.next_out-Im)),qp.data_type=Np.bits+(Np.last?64:0)+(Np.mode===bp?128:0)+(Np.mode===Wp||Np.mode===Ap?256:0),(Nm===0&&Im===0||xm===bt)&&my===_n&&(my=dr),my}function cm(qp){if(!qp||!qp.state)return mr;var xm=qp.state;return xm.window&&(xm.window=null),qp.state=null,_n}function mm(qp,xm){var Np;return!qp||!qp.state||(Np=qp.state,!(Np.wrap&2))?mr:(Np.head=xm,xm.done=!1,_n)}function Vp(qp,xm){var Np=xm.length,Hp,Mm,Tp;return!qp||!qp.state||(Hp=qp.state,Hp.wrap!==0&&Hp.mode!==wp)?mr:Hp.mode===wp&&(Mm=1,Mm=_e(Mm,xm,Np,0),Mm!==Hp.check)?_r:(Tp=Em(qp,xm,Np,Np),Tp?(Hp.mode=bm,mn):(Hp.havedict=1,_n))}_.inflateReset=Cm,_.inflateReset2=Sm,_.inflateResetKeep=_m,_.inflateInit=Dp,_.inflateInit2=zp,_.inflate=Lp,_.inflateEnd=cm,_.inflateGetHeader=mm,_.inflateSetDictionary=Vp,_.inflateInfo="pako inflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js":(o,_,$)=>{var j=$("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),_e=15,et=852,tt=592,nt=0,it=1,lt=2,dt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],bt=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Ht=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],pr=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(_n,ft,Ct,mr,_r,mn,dr,pn){var Do=pn.bits,Io=0,Lo=0,ms=0,Uo=0,_s=0,yp=0,xs=0,vs=0,Sp=0,wp=0,bp,Ep,Cp,Ap,Mp,Pp=null,Ip=0,Op,Wp=new j.Buf16(_e+1),Yp=new j.Buf16(_e+1),Zp=null,Qp=0,Gp,rm,Jp;for(Io=0;Io<=_e;Io++)Wp[Io]=0;for(Lo=0;Lo<mr;Lo++)Wp[ft[Ct+Lo]]++;for(_s=Do,Uo=_e;Uo>=1&&Wp[Uo]===0;Uo--);if(_s>Uo&&(_s=Uo),Uo===0)return _r[mn++]=20971520,_r[mn++]=20971520,pn.bits=1,0;for(ms=1;ms<Uo&&Wp[ms]===0;ms++);for(_s<ms&&(_s=ms),vs=1,Io=1;Io<=_e;Io++)if(vs<<=1,vs-=Wp[Io],vs<0)return-1;if(vs>0&&(_n===nt||Uo!==1))return-1;for(Yp[1]=0,Io=1;Io<_e;Io++)Yp[Io+1]=Yp[Io]+Wp[Io];for(Lo=0;Lo<mr;Lo++)ft[Ct+Lo]!==0&&(dr[Yp[ft[Ct+Lo]]++]=Lo);if(_n===nt?(Pp=Zp=dr,Op=19):_n===it?(Pp=dt,Ip-=257,Zp=bt,Qp-=257,Op=256):(Pp=Ht,Zp=pr,Op=-1),wp=0,Lo=0,Io=ms,Mp=mn,yp=_s,xs=0,Cp=-1,Sp=1<<_s,Ap=Sp-1,_n===it&&Sp>et||_n===lt&&Sp>tt)return 1;for(;;){Gp=Io-xs,dr[Lo]<Op?(rm=0,Jp=dr[Lo]):dr[Lo]>Op?(rm=Zp[Qp+dr[Lo]],Jp=Pp[Ip+dr[Lo]]):(rm=96,Jp=0),bp=1<<Io-xs,Ep=1<<yp,ms=Ep;do Ep-=bp,_r[Mp+(wp>>xs)+Ep]=Gp<<24|rm<<16|Jp|0;while(Ep!==0);for(bp=1<<Io-1;wp&bp;)bp>>=1;if(bp!==0?(wp&=bp-1,wp+=bp):wp=0,Lo++,--Wp[Io]===0){if(Io===Uo)break;Io=ft[Ct+dr[Lo]]}if(Io>_s&&(wp&Ap)!==Cp){for(xs===0&&(xs=_s),Mp+=ms,yp=Io-xs,vs=1<<yp;yp+xs<Uo&&(vs-=Wp[yp+xs],!(vs<=0));)yp++,vs<<=1;if(Sp+=1<<yp,_n===it&&Sp>et||_n===lt&&Sp>tt)return 1;Cp=wp&Ap,_r[Cp]=_s<<24|yp<<16|Mp-mn|0}}return wp!==0&&(_r[Mp+wp]=Io-xs<<24|4194304|0),pn.bits=_s,0}},"./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js":o=>{o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js":(o,_,$)=>{var j=$("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),_e=4,et=0,tt=1,nt=2;function it(Lp){for(var cm=Lp.length;--cm>=0;)Lp[cm]=0}var lt=0,dt=1,bt=2,Ht=3,pr=258,_n=29,ft=256,Ct=ft+1+_n,mr=30,_r=19,mn=2*Ct+1,dr=15,pn=16,Do=7,Io=256,Lo=16,ms=17,Uo=18,_s=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],yp=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],xs=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],vs=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Sp=512,wp=new Array((Ct+2)*2);it(wp);var bp=new Array(mr*2);it(bp);var Ep=new Array(Sp);it(Ep);var Cp=new Array(pr-Ht+1);it(Cp);var Ap=new Array(_n);it(Ap);var Mp=new Array(mr);it(Mp);function Pp(Lp,cm,mm,Vp,qp){this.static_tree=Lp,this.extra_bits=cm,this.extra_base=mm,this.elems=Vp,this.max_length=qp,this.has_stree=Lp&&Lp.length}var Ip,Op,Wp;function Yp(Lp,cm){this.dyn_tree=Lp,this.max_code=0,this.stat_desc=cm}function Zp(Lp){return Lp<256?Ep[Lp]:Ep[256+(Lp>>>7)]}function Qp(Lp,cm){Lp.pending_buf[Lp.pending++]=cm&255,Lp.pending_buf[Lp.pending++]=cm>>>8&255}function Gp(Lp,cm,mm){Lp.bi_valid>pn-mm?(Lp.bi_buf|=cm<<Lp.bi_valid&65535,Qp(Lp,Lp.bi_buf),Lp.bi_buf=cm>>pn-Lp.bi_valid,Lp.bi_valid+=mm-pn):(Lp.bi_buf|=cm<<Lp.bi_valid&65535,Lp.bi_valid+=mm)}function rm(Lp,cm,mm){Gp(Lp,mm[cm*2],mm[cm*2+1])}function Jp(Lp,cm){var mm=0;do mm|=Lp&1,Lp>>>=1,mm<<=1;while(--cm>0);return mm>>>1}function Up(Lp){Lp.bi_valid===16?(Qp(Lp,Lp.bi_buf),Lp.bi_buf=0,Lp.bi_valid=0):Lp.bi_valid>=8&&(Lp.pending_buf[Lp.pending++]=Lp.bi_buf&255,Lp.bi_buf>>=8,Lp.bi_valid-=8)}function im(Lp,cm){var mm=cm.dyn_tree,Vp=cm.max_code,qp=cm.stat_desc.static_tree,xm=cm.stat_desc.has_stree,Np=cm.stat_desc.extra_bits,Hp=cm.stat_desc.extra_base,Mm=cm.stat_desc.max_length,Tp,dm,om,Bp,sm,$m,Nm=0;for(Bp=0;Bp<=dr;Bp++)Lp.bl_count[Bp]=0;for(mm[Lp.heap[Lp.heap_max]*2+1]=0,Tp=Lp.heap_max+1;Tp<mn;Tp++)dm=Lp.heap[Tp],Bp=mm[mm[dm*2+1]*2+1]+1,Bp>Mm&&(Bp=Mm,Nm++),mm[dm*2+1]=Bp,!(dm>Vp)&&(Lp.bl_count[Bp]++,sm=0,dm>=Hp&&(sm=Np[dm-Hp]),$m=mm[dm*2],Lp.opt_len+=$m*(Bp+sm),xm&&(Lp.static_len+=$m*(qp[dm*2+1]+sm)));if(Nm!==0){do{for(Bp=Mm-1;Lp.bl_count[Bp]===0;)Bp--;Lp.bl_count[Bp]--,Lp.bl_count[Bp+1]+=2,Lp.bl_count[Mm]--,Nm-=2}while(Nm>0);for(Bp=Mm;Bp!==0;Bp--)for(dm=Lp.bl_count[Bp];dm!==0;)om=Lp.heap[--Tp],!(om>Vp)&&(mm[om*2+1]!==Bp&&(Lp.opt_len+=(Bp-mm[om*2+1])*mm[om*2],mm[om*2+1]=Bp),dm--)}}function em(Lp,cm,mm){var Vp=new Array(dr+1),qp=0,xm,Np;for(xm=1;xm<=dr;xm++)Vp[xm]=qp=qp+mm[xm-1]<<1;for(Np=0;Np<=cm;Np++){var Hp=Lp[Np*2+1];Hp!==0&&(Lp[Np*2]=Jp(Vp[Hp]++,Hp))}}function gm(){var Lp,cm,mm,Vp,qp,xm=new Array(dr+1);for(mm=0,Vp=0;Vp<_n-1;Vp++)for(Ap[Vp]=mm,Lp=0;Lp<1<<_s[Vp];Lp++)Cp[mm++]=Vp;for(Cp[mm-1]=Vp,qp=0,Vp=0;Vp<16;Vp++)for(Mp[Vp]=qp,Lp=0;Lp<1<<yp[Vp];Lp++)Ep[qp++]=Vp;for(qp>>=7;Vp<mr;Vp++)for(Mp[Vp]=qp<<7,Lp=0;Lp<1<<yp[Vp]-7;Lp++)Ep[256+qp++]=Vp;for(cm=0;cm<=dr;cm++)xm[cm]=0;for(Lp=0;Lp<=143;)wp[Lp*2+1]=8,Lp++,xm[8]++;for(;Lp<=255;)wp[Lp*2+1]=9,Lp++,xm[9]++;for(;Lp<=279;)wp[Lp*2+1]=7,Lp++,xm[7]++;for(;Lp<=287;)wp[Lp*2+1]=8,Lp++,xm[8]++;for(em(wp,Ct+1,xm),Lp=0;Lp<mr;Lp++)bp[Lp*2+1]=5,bp[Lp*2]=Jp(Lp,5);Ip=new Pp(wp,_s,ft+1,Ct,dr),Op=new Pp(bp,yp,0,mr,dr),Wp=new Pp(new Array(0),xs,0,_r,Do)}function bm(Lp){var cm;for(cm=0;cm<Ct;cm++)Lp.dyn_ltree[cm*2]=0;for(cm=0;cm<mr;cm++)Lp.dyn_dtree[cm*2]=0;for(cm=0;cm<_r;cm++)Lp.bl_tree[cm*2]=0;Lp.dyn_ltree[Io*2]=1,Lp.opt_len=Lp.static_len=0,Lp.last_lit=Lp.matches=0}function ym(Lp){Lp.bi_valid>8?Qp(Lp,Lp.bi_buf):Lp.bi_valid>0&&(Lp.pending_buf[Lp.pending++]=Lp.bi_buf),Lp.bi_buf=0,Lp.bi_valid=0}function am(Lp,cm,mm,Vp){ym(Lp),Qp(Lp,mm),Qp(Lp,~mm),j.arraySet(Lp.pending_buf,Lp.window,cm,mm,Lp.pending),Lp.pending+=mm}function fm(Lp,cm,mm,Vp){var qp=cm*2,xm=mm*2;return Lp[qp]<Lp[xm]||Lp[qp]===Lp[xm]&&Vp[cm]<=Vp[mm]}function vm(Lp,cm,mm){for(var Vp=Lp.heap[mm],qp=mm<<1;qp<=Lp.heap_len&&(qp<Lp.heap_len&&fm(cm,Lp.heap[qp+1],Lp.heap[qp],Lp.depth)&&qp++,!fm(cm,Vp,Lp.heap[qp],Lp.depth));)Lp.heap[mm]=Lp.heap[qp],mm=qp,qp<<=1;Lp.heap[mm]=Vp}function jp(Lp,cm,mm){var Vp,qp,xm=0,Np,Hp;if(Lp.last_lit!==0)do Vp=Lp.pending_buf[Lp.d_buf+xm*2]<<8|Lp.pending_buf[Lp.d_buf+xm*2+1],qp=Lp.pending_buf[Lp.l_buf+xm],xm++,Vp===0?rm(Lp,qp,cm):(Np=Cp[qp],rm(Lp,Np+ft+1,cm),Hp=_s[Np],Hp!==0&&(qp-=Ap[Np],Gp(Lp,qp,Hp)),Vp--,Np=Zp(Vp),rm(Lp,Np,mm),Hp=yp[Np],Hp!==0&&(Vp-=Mp[Np],Gp(Lp,Vp,Hp)));while(xm<Lp.last_lit);rm(Lp,Io,cm)}function Rp(Lp,cm){var mm=cm.dyn_tree,Vp=cm.stat_desc.static_tree,qp=cm.stat_desc.has_stree,xm=cm.stat_desc.elems,Np,Hp,Mm=-1,Tp;for(Lp.heap_len=0,Lp.heap_max=mn,Np=0;Np<xm;Np++)mm[Np*2]!==0?(Lp.heap[++Lp.heap_len]=Mm=Np,Lp.depth[Np]=0):mm[Np*2+1]=0;for(;Lp.heap_len<2;)Tp=Lp.heap[++Lp.heap_len]=Mm<2?++Mm:0,mm[Tp*2]=1,Lp.depth[Tp]=0,Lp.opt_len--,qp&&(Lp.static_len-=Vp[Tp*2+1]);for(cm.max_code=Mm,Np=Lp.heap_len>>1;Np>=1;Np--)vm(Lp,mm,Np);Tp=xm;do Np=Lp.heap[1],Lp.heap[1]=Lp.heap[Lp.heap_len--],vm(Lp,mm,1),Hp=Lp.heap[1],Lp.heap[--Lp.heap_max]=Np,Lp.heap[--Lp.heap_max]=Hp,mm[Tp*2]=mm[Np*2]+mm[Hp*2],Lp.depth[Tp]=(Lp.depth[Np]>=Lp.depth[Hp]?Lp.depth[Np]:Lp.depth[Hp])+1,mm[Np*2+1]=mm[Hp*2+1]=Tp,Lp.heap[1]=Tp++,vm(Lp,mm,1);while(Lp.heap_len>=2);Lp.heap[--Lp.heap_max]=Lp.heap[1],im(Lp,cm),em(mm,Mm,Lp.bl_count)}function um(Lp,cm,mm){var Vp,qp=-1,xm,Np=cm[0*2+1],Hp=0,Mm=7,Tp=4;for(Np===0&&(Mm=138,Tp=3),cm[(mm+1)*2+1]=65535,Vp=0;Vp<=mm;Vp++)xm=Np,Np=cm[(Vp+1)*2+1],!(++Hp<Mm&&xm===Np)&&(Hp<Tp?Lp.bl_tree[xm*2]+=Hp:xm!==0?(xm!==qp&&Lp.bl_tree[xm*2]++,Lp.bl_tree[Lo*2]++):Hp<=10?Lp.bl_tree[ms*2]++:Lp.bl_tree[Uo*2]++,Hp=0,qp=xm,Np===0?(Mm=138,Tp=3):xm===Np?(Mm=6,Tp=3):(Mm=7,Tp=4))}function _m(Lp,cm,mm){var Vp,qp=-1,xm,Np=cm[0*2+1],Hp=0,Mm=7,Tp=4;for(Np===0&&(Mm=138,Tp=3),Vp=0;Vp<=mm;Vp++)if(xm=Np,Np=cm[(Vp+1)*2+1],!(++Hp<Mm&&xm===Np)){if(Hp<Tp)do rm(Lp,xm,Lp.bl_tree);while(--Hp!==0);else xm!==0?(xm!==qp&&(rm(Lp,xm,Lp.bl_tree),Hp--),rm(Lp,Lo,Lp.bl_tree),Gp(Lp,Hp-3,2)):Hp<=10?(rm(Lp,ms,Lp.bl_tree),Gp(Lp,Hp-3,3)):(rm(Lp,Uo,Lp.bl_tree),Gp(Lp,Hp-11,7));Hp=0,qp=xm,Np===0?(Mm=138,Tp=3):xm===Np?(Mm=6,Tp=3):(Mm=7,Tp=4)}}function Cm(Lp){var cm;for(um(Lp,Lp.dyn_ltree,Lp.l_desc.max_code),um(Lp,Lp.dyn_dtree,Lp.d_desc.max_code),Rp(Lp,Lp.bl_desc),cm=_r-1;cm>=3&&Lp.bl_tree[vs[cm]*2+1]===0;cm--);return Lp.opt_len+=3*(cm+1)+5+5+4,cm}function Sm(Lp,cm,mm,Vp){var qp;for(Gp(Lp,cm-257,5),Gp(Lp,mm-1,5),Gp(Lp,Vp-4,4),qp=0;qp<Vp;qp++)Gp(Lp,Lp.bl_tree[vs[qp]*2+1],3);_m(Lp,Lp.dyn_ltree,cm-1),_m(Lp,Lp.dyn_dtree,mm-1)}function zp(Lp){var cm=4093624447,mm;for(mm=0;mm<=31;mm++,cm>>>=1)if(cm&1&&Lp.dyn_ltree[mm*2]!==0)return et;if(Lp.dyn_ltree[18]!==0||Lp.dyn_ltree[20]!==0||Lp.dyn_ltree[26]!==0)return tt;for(mm=32;mm<ft;mm++)if(Lp.dyn_ltree[mm*2]!==0)return tt;return et}var Dp=!1;function kp(Lp){Dp||(gm(),Dp=!0),Lp.l_desc=new Yp(Lp.dyn_ltree,Ip),Lp.d_desc=new Yp(Lp.dyn_dtree,Op),Lp.bl_desc=new Yp(Lp.bl_tree,Wp),Lp.bi_buf=0,Lp.bi_valid=0,bm(Lp)}function nm(Lp,cm,mm,Vp){Gp(Lp,(lt<<1)+(Vp?1:0),3),am(Lp,cm,mm)}function lm(Lp){Gp(Lp,dt<<1,3),rm(Lp,Io,wp),Up(Lp)}function hm(Lp,cm,mm,Vp){var qp,xm,Np=0;Lp.level>0?(Lp.strm.data_type===nt&&(Lp.strm.data_type=zp(Lp)),Rp(Lp,Lp.l_desc),Rp(Lp,Lp.d_desc),Np=Cm(Lp),qp=Lp.opt_len+3+7>>>3,xm=Lp.static_len+3+7>>>3,xm<=qp&&(qp=xm)):qp=xm=mm+5,mm+4<=qp&&cm!==-1?nm(Lp,cm,mm,Vp):Lp.strategy===_e||xm===qp?(Gp(Lp,(dt<<1)+(Vp?1:0),3),jp(Lp,wp,bp)):(Gp(Lp,(bt<<1)+(Vp?1:0),3),Sm(Lp,Lp.l_desc.max_code+1,Lp.d_desc.max_code+1,Np+1),jp(Lp,Lp.dyn_ltree,Lp.dyn_dtree)),bm(Lp),Vp&&ym(Lp)}function Em(Lp,cm,mm){return Lp.pending_buf[Lp.d_buf+Lp.last_lit*2]=cm>>>8&255,Lp.pending_buf[Lp.d_buf+Lp.last_lit*2+1]=cm&255,Lp.pending_buf[Lp.l_buf+Lp.last_lit]=mm&255,Lp.last_lit++,cm===0?Lp.dyn_ltree[mm*2]++:(Lp.matches++,cm--,Lp.dyn_ltree[(Cp[mm]+ft+1)*2]++,Lp.dyn_dtree[Zp(cm)*2]++),Lp.last_lit===Lp.lit_bufsize-1}_._tr_init=kp,_._tr_stored_block=nm,_._tr_flush_block=hm,_._tr_tally=Em,_._tr_align=lm},"./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js":o=>{function _(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}o.exports=_},"./src/SurfaceWorker.js":()=>{$3Dmol.workerString=(function(){self.onmessage=function(o){var _=o.data,$=_.type;if($<0)self.atomData=_.atoms,self.volume=_.volume,self.ps=new ProteinSurface;else{var j=self.ps;j.initparm(_.expandedExtent,$!=1,self.volume),j.fillvoxels(self.atomData,_.extendedAtoms),j.buildboundary(),($===4||$===2)&&(j.fastdistancemap(),j.boundingatom(!1),j.fillvoxelswaals(self.atomData,_.extendedAtoms)),j.marchingcube($);var _e=j.getFacesAndVertices(_.atomsToShow);self.postMessage(_e)}}}).toString().replace(/(^.*?\{|\}$)/g,""),$3Dmol.workerString+=`;
function _classCallCheck() {};`,$3Dmol.workerString+=`;
`+$3Dmol.Vector3.toString(),$3Dmol.workerString+=`;
`+$3Dmol.MarchingCubeInitializer.toString()+`;

`,$3Dmol.workerString+=`;
`+$3Dmol.PointGrid.toString()+`;
`,$3Dmol.workerString+=`;
var ProteinSurface = `+$3Dmol.ProteinSurface.toString()+`;
`,$3Dmol.SurfaceWorker=window.URL?window.URL.createObjectURL(new Blob([$3Dmol.workerString],{type:"text/javascript"})):void 0},"./src/exporter.js":o=>{typeof o.exports=="object"&&(o.exports=window.$3Dmol)},"./src/vendor/mmtf.js":function(o,_){(function($,j){j(_)})(this,function($){function j(zp,Dp,kp){for(var nm=(zp.byteLength,0),lm=kp.length;lm>nm;nm++){var hm=kp.charCodeAt(nm);if(128>hm)zp.setUint8(Dp++,hm>>>0&127|0);else if(2048>hm)zp.setUint8(Dp++,hm>>>6&31|192),zp.setUint8(Dp++,hm>>>0&63|128);else if(65536>hm)zp.setUint8(Dp++,hm>>>12&15|224),zp.setUint8(Dp++,hm>>>6&63|128),zp.setUint8(Dp++,hm>>>0&63|128);else{if(!(1114112>hm))throw new Error("bad codepoint "+hm);zp.setUint8(Dp++,hm>>>18&7|240),zp.setUint8(Dp++,hm>>>12&63|128),zp.setUint8(Dp++,hm>>>6&63|128),zp.setUint8(Dp++,hm>>>0&63|128)}}}function _e(zp){for(var Dp=0,kp=0,nm=zp.length;nm>kp;kp++){var lm=zp.charCodeAt(kp);if(128>lm)Dp+=1;else if(2048>lm)Dp+=2;else if(65536>lm)Dp+=3;else{if(!(1114112>lm))throw new Error("bad codepoint "+lm);Dp+=4}}return Dp}function et(zp,Dp,kp){var nm=typeof zp;if(nm==="string"){var lm=_e(zp);if(32>lm)return Dp.setUint8(kp,160|lm),j(Dp,kp+1,zp),1+lm;if(256>lm)return Dp.setUint8(kp,217),Dp.setUint8(kp+1,lm),j(Dp,kp+2,zp),2+lm;if(65536>lm)return Dp.setUint8(kp,218),Dp.setUint16(kp+1,lm),j(Dp,kp+3,zp),3+lm;if(4294967296>lm)return Dp.setUint8(kp,219),Dp.setUint32(kp+1,lm),j(Dp,kp+5,zp),5+lm}if(zp instanceof Uint8Array){var lm=zp.byteLength,hm=new Uint8Array(Dp.buffer);if(256>lm)return Dp.setUint8(kp,196),Dp.setUint8(kp+1,lm),hm.set(zp,kp+2),2+lm;if(65536>lm)return Dp.setUint8(kp,197),Dp.setUint16(kp+1,lm),hm.set(zp,kp+3),3+lm;if(4294967296>lm)return Dp.setUint8(kp,198),Dp.setUint32(kp+1,lm),hm.set(zp,kp+5),5+lm}if(nm==="number"){if(!isFinite(zp))throw new Error("Number not finite: "+zp);if(Math.floor(zp)!==zp)return Dp.setUint8(kp,203),Dp.setFloat64(kp+1,zp),9;if(zp>=0){if(128>zp)return Dp.setUint8(kp,zp),1;if(256>zp)return Dp.setUint8(kp,204),Dp.setUint8(kp+1,zp),2;if(65536>zp)return Dp.setUint8(kp,205),Dp.setUint16(kp+1,zp),3;if(4294967296>zp)return Dp.setUint8(kp,206),Dp.setUint32(kp+1,zp),5;throw new Error("Number too big 0x"+zp.toString(16))}if(zp>=-32)return Dp.setInt8(kp,zp),1;if(zp>=-128)return Dp.setUint8(kp,208),Dp.setInt8(kp+1,zp),2;if(zp>=-32768)return Dp.setUint8(kp,209),Dp.setInt16(kp+1,zp),3;if(zp>=-2147483648)return Dp.setUint8(kp,210),Dp.setInt32(kp+1,zp),5;throw new Error("Number too small -0x"+(-zp).toString(16).substr(1))}if(zp===null)return Dp.setUint8(kp,192),1;if(nm==="boolean")return Dp.setUint8(kp,zp?195:194),1;if(nm==="object"){var lm,cm=0,Em=Array.isArray(zp);if(Em)lm=zp.length;else{var Lp=Object.keys(zp);lm=Lp.length}var cm;if(16>lm?(Dp.setUint8(kp,lm|(Em?144:128)),cm=1):65536>lm?(Dp.setUint8(kp,Em?220:222),Dp.setUint16(kp+1,lm),cm=3):4294967296>lm&&(Dp.setUint8(kp,Em?221:223),Dp.setUint32(kp+1,lm),cm=5),Em)for(var mm=0;lm>mm;mm++)cm+=et(zp[mm],Dp,kp+cm);else for(var mm=0;lm>mm;mm++){var Vp=Lp[mm];cm+=et(Vp,Dp,kp+cm),cm+=et(zp[Vp],Dp,kp+cm)}return cm}throw new Error("Unknown type "+nm)}function tt(zp){var Dp=typeof zp;if(Dp==="string"){var kp=_e(zp);if(32>kp)return 1+kp;if(256>kp)return 2+kp;if(65536>kp)return 3+kp;if(4294967296>kp)return 5+kp}if(zp instanceof Uint8Array){var kp=zp.byteLength;if(256>kp)return 2+kp;if(65536>kp)return 3+kp;if(4294967296>kp)return 5+kp}if(Dp==="number"){if(Math.floor(zp)!==zp)return 9;if(zp>=0){if(128>zp)return 1;if(256>zp)return 2;if(65536>zp)return 3;if(4294967296>zp)return 5;throw new Error("Number too big 0x"+zp.toString(16))}if(zp>=-32)return 1;if(zp>=-128)return 2;if(zp>=-32768)return 3;if(zp>=-2147483648)return 5;throw new Error("Number too small -0x"+zp.toString(16).substr(1))}if(Dp==="boolean"||zp===null)return 1;if(Dp==="object"){var kp,nm=0;if(Array.isArray(zp)){kp=zp.length;for(var lm=0;kp>lm;lm++)nm+=tt(zp[lm])}else{var hm=Object.keys(zp);kp=hm.length;for(var lm=0;kp>lm;lm++){var Em=hm[lm];nm+=tt(Em)+tt(zp[Em])}}if(16>kp)return 1+nm;if(65536>kp)return 3+nm;if(4294967296>kp)return 5+nm;throw new Error("Array or object too long 0x"+kp.toString(16))}throw new Error("Unknown type "+Dp)}function nt(zp){var Dp=new ArrayBuffer(tt(zp)),kp=new DataView(Dp);return et(zp,kp,0),new Uint8Array(Dp)}function it(zp,Dp,kp){return Dp?new zp(Dp.buffer,Dp.byteOffset,Dp.byteLength/(kp||1)):void 0}function lt(zp){return it(DataView,zp)}function dt(zp){return it(Uint8Array,zp)}function bt(zp){return it(Int8Array,zp)}function Ht(zp){return it(Int32Array,zp,4)}function pr(zp){return it(Float32Array,zp,4)}function _n(zp,Dp){var kp=zp.length/2;Dp||(Dp=new Int16Array(kp));for(var nm=0,lm=0;kp>nm;++nm,lm+=2)Dp[nm]=zp[lm]<<8^zp[lm+1]<<0;return Dp}function ft(zp,Dp){var kp=zp.length;Dp||(Dp=new Uint8Array(2*kp));for(var nm=lt(Dp),lm=0;kp>lm;++lm)nm.setInt16(2*lm,zp[lm]);return dt(Dp)}function Ct(zp,Dp){var kp=zp.length/4;Dp||(Dp=new Int32Array(kp));for(var nm=0,lm=0;kp>nm;++nm,lm+=4)Dp[nm]=zp[lm]<<24^zp[lm+1]<<16^zp[lm+2]<<8^zp[lm+3]<<0;return Dp}function mr(zp,Dp){var kp=zp.length;Dp||(Dp=new Uint8Array(4*kp));for(var nm=lt(Dp),lm=0;kp>lm;++lm)nm.setInt32(4*lm,zp[lm]);return dt(Dp)}function _r(zp,Dp){var kp=zp.length;Dp||(Dp=new Float32Array(kp/4));for(var nm=lt(Dp),lm=lt(zp),hm=0,Em=0,Lp=kp/4;Lp>hm;++hm,Em+=4)nm.setFloat32(Em,lm.getFloat32(Em),!0);return Dp}function mn(zp,Dp,kp){var nm=zp.length,lm=1/Dp;kp||(kp=new Float32Array(nm));for(var hm=0;nm>hm;++hm)kp[hm]=zp[hm]*lm;return kp}function dr(zp,Dp,kp){var nm=zp.length;kp||(kp=new Int32Array(nm));for(var lm=0;nm>lm;++lm)kp[lm]=Math.round(zp[lm]*Dp);return kp}function pn(zp,Dp){var kp,nm;if(!Dp){var lm=0;for(kp=0,nm=zp.length;nm>kp;kp+=2)lm+=zp[kp+1];Dp=new zp.constructor(lm)}var hm=0;for(kp=0,nm=zp.length;nm>kp;kp+=2)for(var Em=zp[kp],Lp=zp[kp+1],cm=0;Lp>cm;++cm)Dp[hm]=Em,++hm;return Dp}function Do(zp){if(zp.length===0)return new Int32Array;var Dp,kp,nm=2;for(Dp=1,kp=zp.length;kp>Dp;++Dp)zp[Dp-1]!==zp[Dp]&&(nm+=2);var lm=new Int32Array(nm),hm=0,Em=1;for(Dp=1,kp=zp.length;kp>Dp;++Dp)zp[Dp-1]!==zp[Dp]?(lm[hm]=zp[Dp-1],lm[hm+1]=Em,Em=1,hm+=2):++Em;return lm[hm]=zp[zp.length-1],lm[hm+1]=Em,lm}function Io(zp,Dp){var kp=zp.length;Dp||(Dp=new zp.constructor(kp)),kp&&(Dp[0]=zp[0]);for(var nm=1;kp>nm;++nm)Dp[nm]=zp[nm]+Dp[nm-1];return Dp}function Lo(zp,Dp){var kp=zp.length;Dp||(Dp=new zp.constructor(kp)),Dp[0]=zp[0];for(var nm=1;kp>nm;++nm)Dp[nm]=zp[nm]-zp[nm-1];return Dp}function ms(zp,Dp){var kp,nm,lm=zp instanceof Int8Array?127:32767,hm=-lm-1,Em=zp.length;if(!Dp){var Lp=0;for(kp=0;Em>kp;++kp)zp[kp]<lm&&zp[kp]>hm&&++Lp;Dp=new Int32Array(Lp)}for(kp=0,nm=0;Em>kp;){for(var cm=0;zp[kp]===lm||zp[kp]===hm;)cm+=zp[kp],++kp;cm+=zp[kp],++kp,Dp[nm]=cm,++nm}return Dp}function Uo(zp,Dp){var kp,nm=32767,lm=-nm-1,hm=zp.length,Em=0;for(kp=0;hm>kp;++kp){var Lp=zp[kp];Lp===0?++Em:Lp>0?(Em+=Math.ceil(Lp/nm),Lp%nm===0&&(Em+=1)):(Em+=Math.ceil(Lp/lm),Lp%lm===0&&(Em+=1))}var cm=new Int16Array(Em),mm=0;for(kp=0;hm>kp;++kp){var Lp=zp[kp];if(Lp>=0)for(;Lp>=nm;)cm[mm]=nm,++mm,Lp-=nm;else for(;lm>=Lp;)cm[mm]=lm,++mm,Lp-=lm;cm[mm]=Lp,++mm}return cm}function _s(zp,Dp){return Io(pn(zp),Dp)}function yp(zp){return Do(Lo(zp))}function xs(zp,Dp,kp){return mn(pn(zp,Ht(kp)),Dp,kp)}function vs(zp,Dp){return Do(dr(zp,Dp))}function Sp(zp,Dp,kp){return mn(Io(zp,Ht(kp)),Dp,kp)}function wp(zp,Dp,kp){return Lo(dr(zp,Dp),kp)}function bp(zp,Dp,kp){return mn(ms(zp,Ht(kp)),Dp,kp)}function Ep(zp,Dp,kp){var nm=ms(zp,Ht(kp));return Sp(nm,Dp,pr(nm))}function Cp(zp,Dp,kp){return Uo(wp(zp,Dp))}function Ap(hm){var Dp=lt(hm),kp=Dp.getInt32(0),nm=Dp.getInt32(4),lm=hm.subarray(8,12),hm=hm.subarray(12);return[kp,hm,nm,lm]}function Mp(zp,Dp,kp,nm){var lm=new ArrayBuffer(12+nm.byteLength),hm=new Uint8Array(lm),Em=new DataView(lm);return Em.setInt32(0,zp),Em.setInt32(4,Dp),kp&&hm.set(kp,8),hm.set(nm,12),hm}function Pp(zp){var Dp=zp.length,kp=dt(zp);return Mp(2,Dp,void 0,kp)}function Ip(zp){var Dp=zp.length,kp=mr(zp);return Mp(4,Dp,void 0,kp)}function Op(zp,Dp){var kp=zp.length/Dp,nm=mr([Dp]),lm=dt(zp);return Mp(5,kp,nm,lm)}function Wp(zp){var Dp=zp.length,kp=mr(Do(zp));return Mp(6,Dp,void 0,kp)}function Yp(zp){var Dp=zp.length,kp=mr(yp(zp));return Mp(8,Dp,void 0,kp)}function Zp(zp,Dp){var kp=zp.length,nm=mr([Dp]),lm=mr(vs(zp,Dp));return Mp(9,kp,nm,lm)}function Qp(zp,Dp){var kp=zp.length,nm=mr([Dp]),lm=ft(Cp(zp,Dp));return Mp(10,kp,nm,lm)}function Gp(zp){var Dp={};return vm.forEach(function(kp){zp[kp]!==void 0&&(Dp[kp]=zp[kp])}),zp.bondAtomList&&(Dp.bondAtomList=Ip(zp.bondAtomList)),zp.bondOrderList&&(Dp.bondOrderList=Pp(zp.bondOrderList)),Dp.xCoordList=Qp(zp.xCoordList,1e3),Dp.yCoordList=Qp(zp.yCoordList,1e3),Dp.zCoordList=Qp(zp.zCoordList,1e3),zp.bFactorList&&(Dp.bFactorList=Qp(zp.bFactorList,100)),zp.atomIdList&&(Dp.atomIdList=Yp(zp.atomIdList)),zp.altLocList&&(Dp.altLocList=Wp(zp.altLocList)),zp.occupancyList&&(Dp.occupancyList=Zp(zp.occupancyList,100)),Dp.groupIdList=Yp(zp.groupIdList),Dp.groupTypeList=Ip(zp.groupTypeList),zp.secStructList&&(Dp.secStructList=Pp(zp.secStructList)),zp.insCodeList&&(Dp.insCodeList=Wp(zp.insCodeList)),zp.sequenceIndexList&&(Dp.sequenceIndexList=Yp(zp.sequenceIndexList)),Dp.chainIdList=Op(zp.chainIdList,4),zp.chainNameList&&(Dp.chainNameList=Op(zp.chainNameList,4)),Dp}function rm(zp){function Dp(cm){for(var mm={},Vp=0;cm>Vp;Vp++){var qp=hm();mm[qp]=hm()}return mm}function kp(cm){var mm=zp.subarray(Em,Em+cm);return Em+=cm,mm}function nm(cm){var mm=zp.subarray(Em,Em+cm);Em+=cm;var Vp=65535;if(cm>Vp){for(var qp=[],xm=0;xm<mm.length;xm+=Vp)qp.push(String.fromCharCode.apply(null,mm.subarray(xm,xm+Vp)));return qp.join("")}return String.fromCharCode.apply(null,mm)}function lm(cm){for(var mm=new Array(cm),Vp=0;cm>Vp;Vp++)mm[Vp]=hm();return mm}function hm(){var cm,mm,Vp=zp[Em];if(!(128&Vp))return Em++,Vp;if((240&Vp)===128)return mm=15&Vp,Em++,Dp(mm);if((240&Vp)===144)return mm=15&Vp,Em++,lm(mm);if((224&Vp)===160)return mm=31&Vp,Em++,nm(mm);if((224&Vp)===224)return cm=Lp.getInt8(Em),Em++,cm;switch(Vp){case 192:return Em++,null;case 194:return Em++,!1;case 195:return Em++,!0;case 196:return mm=Lp.getUint8(Em+1),Em+=2,kp(mm);case 197:return mm=Lp.getUint16(Em+1),Em+=3,kp(mm);case 198:return mm=Lp.getUint32(Em+1),Em+=5,kp(mm);case 202:return cm=Lp.getFloat32(Em+1),Em+=5,cm;case 203:return cm=Lp.getFloat64(Em+1),Em+=9,cm;case 204:return cm=zp[Em+1],Em+=2,cm;case 205:return cm=Lp.getUint16(Em+1),Em+=3,cm;case 206:return cm=Lp.getUint32(Em+1),Em+=5,cm;case 208:return cm=Lp.getInt8(Em+1),Em+=2,cm;case 209:return cm=Lp.getInt16(Em+1),Em+=3,cm;case 210:return cm=Lp.getInt32(Em+1),Em+=5,cm;case 217:return mm=Lp.getUint8(Em+1),Em+=2,nm(mm);case 218:return mm=Lp.getUint16(Em+1),Em+=3,nm(mm);case 219:return mm=Lp.getUint32(Em+1),Em+=5,nm(mm);case 220:return mm=Lp.getUint16(Em+1),Em+=3,lm(mm);case 221:return mm=Lp.getUint32(Em+1),Em+=5,lm(mm);case 222:return mm=Lp.getUint16(Em+1),Em+=3,Dp(mm);case 223:return mm=Lp.getUint32(Em+1),Em+=5,Dp(mm)}throw new Error("Unknown type 0x"+Vp.toString(16))}var Em=0,Lp=new DataView(zp.buffer);return hm()}function Jp(zp,Dp,kp,nm){switch(zp){case 1:return _r(Dp);case 2:return bt(Dp);case 3:return _n(Dp);case 4:return Ct(Dp);case 5:return dt(Dp);case 6:return pn(Ct(Dp),new Uint8Array(kp));case 7:return pn(Ct(Dp));case 8:return _s(Ct(Dp));case 9:return xs(Ct(Dp),Ct(nm)[0]);case 10:return Ep(_n(Dp),Ct(nm)[0]);case 11:return mn(_n(Dp),Ct(nm)[0]);case 12:return bp(_n(Dp),Ct(nm)[0]);case 13:return bp(bt(Dp),Ct(nm)[0]);case 14:return ms(_n(Dp));case 15:return ms(bt(Dp))}}function Up(zp,Dp){Dp=Dp||{};var kp=Dp.ignoreFields,nm={};return Rp.forEach(function(lm){var hm=kp?kp.indexOf(lm)!==-1:!1,Em=zp[lm];hm||Em===void 0||(Em instanceof Uint8Array?nm[lm]=Jp.apply(null,Ap(Em)):nm[lm]=Em)}),nm}function im(zp){return String.fromCharCode.apply(null,zp).replace(/\0/g,"")}function em(zp,Dp,kp){kp=kp||{};var nm,lm,hm,Em,Lp,cm,mm=kp.firstModelOnly,Vp=Dp.onModel,qp=Dp.onChain,xm=Dp.onGroup,Np=Dp.onAtom,Hp=Dp.onBond,Mm=0,Tp=0,dm=0,om=0,Bp=0,sm=-1,$m=zp.chainNameList,Nm=zp.secStructList,Im=zp.insCodeList,jm=zp.sequenceIndexList,Bm=zp.atomIdList,by=zp.bFactorList,Zm=zp.altLocList,Jm=zp.occupancyList,ny=zp.bondAtomList,gy=zp.bondOrderList;for(nm=0,lm=zp.chainsPerModel.length;lm>nm&&!(mm&&Mm>0);++nm){var yy=zp.chainsPerModel[Mm];for(Vp&&Vp({chainCount:yy,modelIndex:Mm}),hm=0;yy>hm;++hm){var Ty=zp.groupsPerChain[Tp];if(qp){var Ay=im(zp.chainIdList.subarray(4*Tp,4*Tp+4)),ly=null;$m&&(ly=im($m.subarray(4*Tp,4*Tp+4))),qp({groupCount:Ty,chainIndex:Tp,modelIndex:Mm,chainId:Ay,chainName:ly})}for(Em=0;Ty>Em;++Em){var my=zp.groupList[zp.groupTypeList[dm]],Xp=my.atomNameList.length;if(xm){var Tm=null;Nm&&(Tm=Nm[dm]);var Pm=null;zp.insCodeList&&(Pm=String.fromCharCode(Im[dm]));var km=null;jm&&(km=jm[dm]),xm({atomCount:Xp,groupIndex:dm,chainIndex:Tp,modelIndex:Mm,groupId:zp.groupIdList[dm],groupType:zp.groupTypeList[dm],groupName:my.groupName,singleLetterCode:my.singleLetterCode,chemCompType:my.chemCompType,secStruct:Tm,insCode:Pm,sequenceIndex:km})}for(Lp=0;Xp>Lp;++Lp){if(Np){var Rm=null;Bm&&(Rm=Bm[om]);var Fm=null;by&&(Fm=by[om]);var Wm=null;Zm&&(Wm=String.fromCharCode(Zm[om]));var Hm=null;Jm&&(Hm=Jm[om]),Np({atomIndex:om,groupIndex:dm,chainIndex:Tp,modelIndex:Mm,atomId:Rm,element:my.elementList[Lp],atomName:my.atomNameList[Lp],formalCharge:my.formalChargeList[Lp],xCoord:zp.xCoordList[om],yCoord:zp.yCoordList[om],zCoord:zp.zCoordList[om],bFactor:Fm,altLoc:Wm,occupancy:Hm})}om+=1}if(Hp){var qm=my.bondAtomList;for(Lp=0,cm=my.bondOrderList.length;cm>Lp;++Lp)Hp({atomIndex1:om-Xp+qm[2*Lp],atomIndex2:om-Xp+qm[2*Lp+1],bondOrder:my.bondOrderList[Lp]})}dm+=1}Tp+=1}if(Bp=sm+1,sm=om-1,Hp&&ny)for(Lp=0,cm=ny.length;cm>Lp;Lp+=2){var _g=ny[Lp],Qm=ny[Lp+1];(_g>=Bp&&sm>=_g||Qm>=Bp&&sm>=Qm)&&Hp({atomIndex1:_g,atomIndex2:Qm,bondOrder:gy?gy[Lp/2]:null})}Mm+=1}}function gm(zp){return nt(Gp(zp))}function bm(zp,Dp){zp instanceof ArrayBuffer&&(zp=new Uint8Array(zp));var kp;return kp=zp instanceof Uint8Array?rm(zp):zp,Up(kp,Dp)}function ym(zp,Dp,kp,nm){function lm(){try{var Em=bm(hm.response);kp(Em)}catch(Lp){nm(Lp)}}var hm=new XMLHttpRequest;hm.addEventListener("load",lm,!0),hm.addEventListener("error",nm,!0),hm.responseType="arraybuffer",hm.open("GET",Dp+zp.toUpperCase()),hm.send()}function am(zp,Dp,kp){ym(zp,Cm,Dp,kp)}function fm(zp,Dp,kp){ym(zp,Sm,Dp,kp)}var vm=["mmtfVersion","mmtfProducer","unitCell","spaceGroup","structureId","title","depositionDate","releaseDate","experimentalMethods","resolution","rFree","rWork","bioAssemblyList","ncsOperatorList","entityList","groupList","numBonds","numAtoms","numGroups","numChains","numModels","groupsPerChain","chainsPerModel"],jp=["xCoordList","yCoordList","zCoordList","groupIdList","groupTypeList","chainIdList","bFactorList","atomIdList","altLocList","occupancyList","secStructList","insCodeList","sequenceIndexList","chainNameList","bondAtomList","bondOrderList"],Rp=vm.concat(jp),um="v1.0.1",_m="//mmtf.rcsb.org/v1.0/",Cm=_m+"full/",Sm=_m+"reduced/";$.encode=gm,$.decode=bm,$.traverse=em,$.fetch=am,$.fetchReduced=fm,$.version=um,$.fetchUrl=Cm,$.fetchReducedUrl=Sm,$.encodeMsgpack=nt,$.encodeMmtf=Gp,$.decodeMsgpack=rm,$.decodeMmtf=Up})},"./node_modules/pako/dist/pako.esm.mjs":(o,_,$)=>{$.r(_),$.d(_,{Deflate:()=>Rv,Inflate:()=>Iv,constants:()=>Fv,default:()=>A_,deflate:()=>Dv,deflateRaw:()=>Ov,gzip:()=>kv,inflate:()=>Lv,inflateRaw:()=>Nv,ungzip:()=>jv});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const j=4,_e=0,et=1,tt=2;function nt(gs){let Fp=gs.length;for(;--Fp>=0;)gs[Fp]=0}const it=0,lt=1,dt=2,bt=3,Ht=258,pr=29,_n=256,ft=_n+1+pr,Ct=30,mr=19,_r=2*ft+1,mn=15,dr=16,pn=7,Do=256,Io=16,Lo=17,ms=18,Uo=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),_s=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),yp=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),xs=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vs=512,Sp=new Array((ft+2)*2);nt(Sp);const wp=new Array(Ct*2);nt(wp);const bp=new Array(vs);nt(bp);const Ep=new Array(Ht-bt+1);nt(Ep);const Cp=new Array(pr);nt(Cp);const Ap=new Array(Ct);nt(Ap);function Mp(gs,Fp,$p,Kp,tm){this.static_tree=gs,this.extra_bits=Fp,this.extra_base=$p,this.elems=Kp,this.max_length=tm,this.has_stree=gs&&gs.length}let Pp,Ip,Op;function Wp(gs,Fp){this.dyn_tree=gs,this.max_code=0,this.stat_desc=Fp}const Yp=gs=>gs<256?bp[gs]:bp[256+(gs>>>7)],Zp=(gs,Fp)=>{gs.pending_buf[gs.pending++]=Fp&255,gs.pending_buf[gs.pending++]=Fp>>>8&255},Qp=(gs,Fp,$p)=>{gs.bi_valid>dr-$p?(gs.bi_buf|=Fp<<gs.bi_valid&65535,Zp(gs,gs.bi_buf),gs.bi_buf=Fp>>dr-gs.bi_valid,gs.bi_valid+=$p-dr):(gs.bi_buf|=Fp<<gs.bi_valid&65535,gs.bi_valid+=$p)},Gp=(gs,Fp,$p)=>{Qp(gs,$p[Fp*2],$p[Fp*2+1])},rm=(gs,Fp)=>{let $p=0;do $p|=gs&1,gs>>>=1,$p<<=1;while(--Fp>0);return $p>>>1},Jp=gs=>{gs.bi_valid===16?(Zp(gs,gs.bi_buf),gs.bi_buf=0,gs.bi_valid=0):gs.bi_valid>=8&&(gs.pending_buf[gs.pending++]=gs.bi_buf&255,gs.bi_buf>>=8,gs.bi_valid-=8)},Up=(gs,Fp)=>{const $p=Fp.dyn_tree,Kp=Fp.max_code,tm=Fp.stat_desc.static_tree,pm=Fp.stat_desc.has_stree,Om=Fp.stat_desc.extra_bits,Am=Fp.stat_desc.extra_base,Vm=Fp.stat_desc.max_length;let wm,Dm,py,zm,Lm,xy,Sy=0;for(zm=0;zm<=mn;zm++)gs.bl_count[zm]=0;for($p[gs.heap[gs.heap_max]*2+1]=0,wm=gs.heap_max+1;wm<_r;wm++)Dm=gs.heap[wm],zm=$p[$p[Dm*2+1]*2+1]+1,zm>Vm&&(zm=Vm,Sy++),$p[Dm*2+1]=zm,!(Dm>Kp)&&(gs.bl_count[zm]++,Lm=0,Dm>=Am&&(Lm=Om[Dm-Am]),xy=$p[Dm*2],gs.opt_len+=xy*(zm+Lm),pm&&(gs.static_len+=xy*(tm[Dm*2+1]+Lm)));if(Sy!==0){do{for(zm=Vm-1;gs.bl_count[zm]===0;)zm--;gs.bl_count[zm]--,gs.bl_count[zm+1]+=2,gs.bl_count[Vm]--,Sy-=2}while(Sy>0);for(zm=Vm;zm!==0;zm--)for(Dm=gs.bl_count[zm];Dm!==0;)py=gs.heap[--wm],!(py>Kp)&&($p[py*2+1]!==zm&&(gs.opt_len+=(zm-$p[py*2+1])*$p[py*2],$p[py*2+1]=zm),Dm--)}},im=(gs,Fp,$p)=>{const Kp=new Array(mn+1);let tm=0,pm,Om;for(pm=1;pm<=mn;pm++)tm=tm+$p[pm-1]<<1,Kp[pm]=tm;for(Om=0;Om<=Fp;Om++){let Am=gs[Om*2+1];Am!==0&&(gs[Om*2]=rm(Kp[Am]++,Am))}},em=()=>{let gs,Fp,$p,Kp,tm;const pm=new Array(mn+1);for($p=0,Kp=0;Kp<pr-1;Kp++)for(Cp[Kp]=$p,gs=0;gs<1<<Uo[Kp];gs++)Ep[$p++]=Kp;for(Ep[$p-1]=Kp,tm=0,Kp=0;Kp<16;Kp++)for(Ap[Kp]=tm,gs=0;gs<1<<_s[Kp];gs++)bp[tm++]=Kp;for(tm>>=7;Kp<Ct;Kp++)for(Ap[Kp]=tm<<7,gs=0;gs<1<<_s[Kp]-7;gs++)bp[256+tm++]=Kp;for(Fp=0;Fp<=mn;Fp++)pm[Fp]=0;for(gs=0;gs<=143;)Sp[gs*2+1]=8,gs++,pm[8]++;for(;gs<=255;)Sp[gs*2+1]=9,gs++,pm[9]++;for(;gs<=279;)Sp[gs*2+1]=7,gs++,pm[7]++;for(;gs<=287;)Sp[gs*2+1]=8,gs++,pm[8]++;for(im(Sp,ft+1,pm),gs=0;gs<Ct;gs++)wp[gs*2+1]=5,wp[gs*2]=rm(gs,5);Pp=new Mp(Sp,Uo,_n+1,ft,mn),Ip=new Mp(wp,_s,0,Ct,mn),Op=new Mp(new Array(0),yp,0,mr,pn)},gm=gs=>{let Fp;for(Fp=0;Fp<ft;Fp++)gs.dyn_ltree[Fp*2]=0;for(Fp=0;Fp<Ct;Fp++)gs.dyn_dtree[Fp*2]=0;for(Fp=0;Fp<mr;Fp++)gs.bl_tree[Fp*2]=0;gs.dyn_ltree[Do*2]=1,gs.opt_len=gs.static_len=0,gs.sym_next=gs.matches=0},bm=gs=>{gs.bi_valid>8?Zp(gs,gs.bi_buf):gs.bi_valid>0&&(gs.pending_buf[gs.pending++]=gs.bi_buf),gs.bi_buf=0,gs.bi_valid=0},ym=(gs,Fp,$p,Kp)=>{const tm=Fp*2,pm=$p*2;return gs[tm]<gs[pm]||gs[tm]===gs[pm]&&Kp[Fp]<=Kp[$p]},am=(gs,Fp,$p)=>{const Kp=gs.heap[$p];let tm=$p<<1;for(;tm<=gs.heap_len&&(tm<gs.heap_len&&ym(Fp,gs.heap[tm+1],gs.heap[tm],gs.depth)&&tm++,!ym(Fp,Kp,gs.heap[tm],gs.depth));)gs.heap[$p]=gs.heap[tm],$p=tm,tm<<=1;gs.heap[$p]=Kp},fm=(gs,Fp,$p)=>{let Kp,tm,pm=0,Om,Am;if(gs.sym_next!==0)do Kp=gs.pending_buf[gs.sym_buf+pm++]&255,Kp+=(gs.pending_buf[gs.sym_buf+pm++]&255)<<8,tm=gs.pending_buf[gs.sym_buf+pm++],Kp===0?Gp(gs,tm,Fp):(Om=Ep[tm],Gp(gs,Om+_n+1,Fp),Am=Uo[Om],Am!==0&&(tm-=Cp[Om],Qp(gs,tm,Am)),Kp--,Om=Yp(Kp),Gp(gs,Om,$p),Am=_s[Om],Am!==0&&(Kp-=Ap[Om],Qp(gs,Kp,Am)));while(pm<gs.sym_next);Gp(gs,Do,Fp)},vm=(gs,Fp)=>{const $p=Fp.dyn_tree,Kp=Fp.stat_desc.static_tree,tm=Fp.stat_desc.has_stree,pm=Fp.stat_desc.elems;let Om,Am,Vm=-1,wm;for(gs.heap_len=0,gs.heap_max=_r,Om=0;Om<pm;Om++)$p[Om*2]!==0?(gs.heap[++gs.heap_len]=Vm=Om,gs.depth[Om]=0):$p[Om*2+1]=0;for(;gs.heap_len<2;)wm=gs.heap[++gs.heap_len]=Vm<2?++Vm:0,$p[wm*2]=1,gs.depth[wm]=0,gs.opt_len--,tm&&(gs.static_len-=Kp[wm*2+1]);for(Fp.max_code=Vm,Om=gs.heap_len>>1;Om>=1;Om--)am(gs,$p,Om);wm=pm;do Om=gs.heap[1],gs.heap[1]=gs.heap[gs.heap_len--],am(gs,$p,1),Am=gs.heap[1],gs.heap[--gs.heap_max]=Om,gs.heap[--gs.heap_max]=Am,$p[wm*2]=$p[Om*2]+$p[Am*2],gs.depth[wm]=(gs.depth[Om]>=gs.depth[Am]?gs.depth[Om]:gs.depth[Am])+1,$p[Om*2+1]=$p[Am*2+1]=wm,gs.heap[1]=wm++,am(gs,$p,1);while(gs.heap_len>=2);gs.heap[--gs.heap_max]=gs.heap[1],Up(gs,Fp),im($p,Vm,gs.bl_count)},jp=(gs,Fp,$p)=>{let Kp,tm=-1,pm,Om=Fp[0*2+1],Am=0,Vm=7,wm=4;for(Om===0&&(Vm=138,wm=3),Fp[($p+1)*2+1]=65535,Kp=0;Kp<=$p;Kp++)pm=Om,Om=Fp[(Kp+1)*2+1],!(++Am<Vm&&pm===Om)&&(Am<wm?gs.bl_tree[pm*2]+=Am:pm!==0?(pm!==tm&&gs.bl_tree[pm*2]++,gs.bl_tree[Io*2]++):Am<=10?gs.bl_tree[Lo*2]++:gs.bl_tree[ms*2]++,Am=0,tm=pm,Om===0?(Vm=138,wm=3):pm===Om?(Vm=6,wm=3):(Vm=7,wm=4))},Rp=(gs,Fp,$p)=>{let Kp,tm=-1,pm,Om=Fp[0*2+1],Am=0,Vm=7,wm=4;for(Om===0&&(Vm=138,wm=3),Kp=0;Kp<=$p;Kp++)if(pm=Om,Om=Fp[(Kp+1)*2+1],!(++Am<Vm&&pm===Om)){if(Am<wm)do Gp(gs,pm,gs.bl_tree);while(--Am!==0);else pm!==0?(pm!==tm&&(Gp(gs,pm,gs.bl_tree),Am--),Gp(gs,Io,gs.bl_tree),Qp(gs,Am-3,2)):Am<=10?(Gp(gs,Lo,gs.bl_tree),Qp(gs,Am-3,3)):(Gp(gs,ms,gs.bl_tree),Qp(gs,Am-11,7));Am=0,tm=pm,Om===0?(Vm=138,wm=3):pm===Om?(Vm=6,wm=3):(Vm=7,wm=4)}},um=gs=>{let Fp;for(jp(gs,gs.dyn_ltree,gs.l_desc.max_code),jp(gs,gs.dyn_dtree,gs.d_desc.max_code),vm(gs,gs.bl_desc),Fp=mr-1;Fp>=3&&gs.bl_tree[xs[Fp]*2+1]===0;Fp--);return gs.opt_len+=3*(Fp+1)+5+5+4,Fp},_m=(gs,Fp,$p,Kp)=>{let tm;for(Qp(gs,Fp-257,5),Qp(gs,$p-1,5),Qp(gs,Kp-4,4),tm=0;tm<Kp;tm++)Qp(gs,gs.bl_tree[xs[tm]*2+1],3);Rp(gs,gs.dyn_ltree,Fp-1),Rp(gs,gs.dyn_dtree,$p-1)},Cm=gs=>{let Fp=4093624447,$p;for($p=0;$p<=31;$p++,Fp>>>=1)if(Fp&1&&gs.dyn_ltree[$p*2]!==0)return _e;if(gs.dyn_ltree[9*2]!==0||gs.dyn_ltree[10*2]!==0||gs.dyn_ltree[13*2]!==0)return et;for($p=32;$p<_n;$p++)if(gs.dyn_ltree[$p*2]!==0)return et;return _e};let Sm=!1;const zp=gs=>{Sm||(em(),Sm=!0),gs.l_desc=new Wp(gs.dyn_ltree,Pp),gs.d_desc=new Wp(gs.dyn_dtree,Ip),gs.bl_desc=new Wp(gs.bl_tree,Op),gs.bi_buf=0,gs.bi_valid=0,gm(gs)},Dp=(gs,Fp,$p,Kp)=>{Qp(gs,(it<<1)+(Kp?1:0),3),bm(gs),Zp(gs,$p),Zp(gs,~$p),$p&&gs.pending_buf.set(gs.window.subarray(Fp,Fp+$p),gs.pending),gs.pending+=$p},kp=gs=>{Qp(gs,lt<<1,3),Gp(gs,Do,Sp),Jp(gs)},nm=(gs,Fp,$p,Kp)=>{let tm,pm,Om=0;gs.level>0?(gs.strm.data_type===tt&&(gs.strm.data_type=Cm(gs)),vm(gs,gs.l_desc),vm(gs,gs.d_desc),Om=um(gs),tm=gs.opt_len+3+7>>>3,pm=gs.static_len+3+7>>>3,pm<=tm&&(tm=pm)):tm=pm=$p+5,$p+4<=tm&&Fp!==-1?Dp(gs,Fp,$p,Kp):gs.strategy===j||pm===tm?(Qp(gs,(lt<<1)+(Kp?1:0),3),fm(gs,Sp,wp)):(Qp(gs,(dt<<1)+(Kp?1:0),3),_m(gs,gs.l_desc.max_code+1,gs.d_desc.max_code+1,Om+1),fm(gs,gs.dyn_ltree,gs.dyn_dtree)),gm(gs),Kp&&bm(gs)},lm=(gs,Fp,$p)=>(gs.pending_buf[gs.sym_buf+gs.sym_next++]=Fp,gs.pending_buf[gs.sym_buf+gs.sym_next++]=Fp>>8,gs.pending_buf[gs.sym_buf+gs.sym_next++]=$p,Fp===0?gs.dyn_ltree[$p*2]++:(gs.matches++,Fp--,gs.dyn_ltree[(Ep[$p]+_n+1)*2]++,gs.dyn_dtree[Yp(Fp)*2]++),gs.sym_next===gs.sym_end);var hm=zp,Em=Dp,Lp=nm,cm=lm,mm=kp,Vp={_tr_init:hm,_tr_stored_block:Em,_tr_flush_block:Lp,_tr_tally:cm,_tr_align:mm},qp=(gs,Fp,$p,Kp)=>{let tm=gs&65535|0,pm=gs>>>16&65535|0,Om=0;for(;$p!==0;){Om=$p>2e3?2e3:$p,$p-=Om;do tm=tm+Fp[Kp++]|0,pm=pm+tm|0;while(--Om);tm%=65521,pm%=65521}return tm|pm<<16|0};const xm=()=>{let gs,Fp=[];for(var $p=0;$p<256;$p++){gs=$p;for(var Kp=0;Kp<8;Kp++)gs=gs&1?3988292384^gs>>>1:gs>>>1;Fp[$p]=gs}return Fp},Np=new Uint32Array(xm());var Hp=(gs,Fp,$p,Kp)=>{const tm=Np,pm=Kp+$p;gs^=-1;for(let Om=Kp;Om<pm;Om++)gs=gs>>>8^tm[(gs^Fp[Om])&255];return gs^-1},Mm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Tp={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:dm,_tr_stored_block:om,_tr_flush_block:Bp,_tr_tally:sm,_tr_align:$m}=Vp,{Z_NO_FLUSH:Nm,Z_PARTIAL_FLUSH:Im,Z_FULL_FLUSH:jm,Z_FINISH:Bm,Z_BLOCK:by,Z_OK:Zm,Z_STREAM_END:Jm,Z_STREAM_ERROR:ny,Z_DATA_ERROR:gy,Z_BUF_ERROR:yy,Z_DEFAULT_COMPRESSION:Ty,Z_FILTERED:Ay,Z_HUFFMAN_ONLY:ly,Z_RLE:my,Z_FIXED:Xp,Z_DEFAULT_STRATEGY:Tm,Z_UNKNOWN:Pm,Z_DEFLATED:km}=Tp,Rm=9,Fm=15,Wm=8,Hm=286,qm=30,_g=19,Qm=2*Hm+1,ey=15,Ym=3,dy=258,_y=dy+Ym+1,Py=32,hy=42,Xm=57,Wy=69,Hy=73,Iy=91,Xy=103,Ry=113,Fy=666,cy=1,My=2,Ly=3,Ey=4,e0=3,zy=(gs,Fp)=>(gs.msg=Mm[Fp],Fp),r0=gs=>gs*2-(gs>4?9:0),Gy=gs=>{let Fp=gs.length;for(;--Fp>=0;)gs[Fp]=0},Uv=gs=>{let Fp,$p,Kp,tm=gs.w_size;Fp=gs.hash_size,Kp=Fp;do $p=gs.head[--Kp],gs.head[Kp]=$p>=tm?$p-tm:0;while(--Fp);Fp=tm,Kp=Fp;do $p=gs.prev[--Kp],gs.prev[Kp]=$p>=tm?$p-tm:0;while(--Fp)};let Vy=(gs,Fp,$p)=>(Fp<<gs.hash_shift^$p)&gs.hash_mask;const Dy=gs=>{const Fp=gs.state;let $p=Fp.pending;$p>gs.avail_out&&($p=gs.avail_out),$p!==0&&(gs.output.set(Fp.pending_buf.subarray(Fp.pending_out,Fp.pending_out+$p),gs.next_out),gs.next_out+=$p,Fp.pending_out+=$p,gs.total_out+=$p,gs.avail_out-=$p,Fp.pending-=$p,Fp.pending===0&&(Fp.pending_out=0))},Oy=(gs,Fp)=>{Bp(gs,gs.block_start>=0?gs.block_start:-1,gs.strstart-gs.block_start,Fp),gs.block_start=gs.strstart,Dy(gs.strm)},fy=(gs,Fp)=>{gs.pending_buf[gs.pending++]=Fp},n0=(gs,Fp)=>{gs.pending_buf[gs.pending++]=Fp>>>8&255,gs.pending_buf[gs.pending++]=Fp&255},S0=(gs,Fp,$p,Kp)=>{let tm=gs.avail_in;return tm>Kp&&(tm=Kp),tm===0?0:(gs.avail_in-=tm,Fp.set(gs.input.subarray(gs.next_in,gs.next_in+tm),$p),gs.state.wrap===1?gs.adler=qp(gs.adler,Fp,tm,$p):gs.state.wrap===2&&(gs.adler=Hp(gs.adler,Fp,tm,$p)),gs.next_in+=tm,gs.total_in+=tm,tm)},I0=(gs,Fp)=>{let $p=gs.max_chain_length,Kp=gs.strstart,tm,pm,Om=gs.prev_length,Am=gs.nice_match;const Vm=gs.strstart>gs.w_size-_y?gs.strstart-(gs.w_size-_y):0,wm=gs.window,Dm=gs.w_mask,py=gs.prev,zm=gs.strstart+dy;let Lm=wm[Kp+Om-1],xy=wm[Kp+Om];gs.prev_length>=gs.good_match&&($p>>=2),Am>gs.lookahead&&(Am=gs.lookahead);do if(tm=Fp,!(wm[tm+Om]!==xy||wm[tm+Om-1]!==Lm||wm[tm]!==wm[Kp]||wm[++tm]!==wm[Kp+1])){Kp+=2,tm++;do;while(wm[++Kp]===wm[++tm]&&wm[++Kp]===wm[++tm]&&wm[++Kp]===wm[++tm]&&wm[++Kp]===wm[++tm]&&wm[++Kp]===wm[++tm]&&wm[++Kp]===wm[++tm]&&wm[++Kp]===wm[++tm]&&wm[++Kp]===wm[++tm]&&Kp<zm);if(pm=dy-(zm-Kp),Kp=zm-dy,pm>Om){if(gs.match_start=Fp,Om=pm,pm>=Am)break;Lm=wm[Kp+Om-1],xy=wm[Kp+Om]}}while((Fp=py[Fp&Dm])>Vm&&--$p!==0);return Om<=gs.lookahead?Om:gs.lookahead},Zy=gs=>{const Fp=gs.w_size;let $p,Kp,tm;do{if(Kp=gs.window_size-gs.lookahead-gs.strstart,gs.strstart>=Fp+(Fp-_y)&&(gs.window.set(gs.window.subarray(Fp,Fp+Fp-Kp),0),gs.match_start-=Fp,gs.strstart-=Fp,gs.block_start-=Fp,gs.insert>gs.strstart&&(gs.insert=gs.strstart),Uv(gs),Kp+=Fp),gs.strm.avail_in===0)break;if($p=S0(gs.strm,gs.window,gs.strstart+gs.lookahead,Kp),gs.lookahead+=$p,gs.lookahead+gs.insert>=Ym)for(tm=gs.strstart-gs.insert,gs.ins_h=gs.window[tm],gs.ins_h=Vy(gs,gs.ins_h,gs.window[tm+1]);gs.insert&&(gs.ins_h=Vy(gs,gs.ins_h,gs.window[tm+Ym-1]),gs.prev[tm&gs.w_mask]=gs.head[gs.ins_h],gs.head[gs.ins_h]=tm,tm++,gs.insert--,!(gs.lookahead+gs.insert<Ym)););}while(gs.lookahead<_y&&gs.strm.avail_in!==0)},L0=(gs,Fp)=>{let $p=gs.pending_buf_size-5>gs.w_size?gs.w_size:gs.pending_buf_size-5,Kp,tm,pm,Om=0,Am=gs.strm.avail_in;do{if(Kp=65535,pm=gs.bi_valid+42>>3,gs.strm.avail_out<pm||(pm=gs.strm.avail_out-pm,tm=gs.strstart-gs.block_start,Kp>tm+gs.strm.avail_in&&(Kp=tm+gs.strm.avail_in),Kp>pm&&(Kp=pm),Kp<$p&&(Kp===0&&Fp!==Bm||Fp===Nm||Kp!==tm+gs.strm.avail_in)))break;Om=Fp===Bm&&Kp===tm+gs.strm.avail_in?1:0,om(gs,0,0,Om),gs.pending_buf[gs.pending-4]=Kp,gs.pending_buf[gs.pending-3]=Kp>>8,gs.pending_buf[gs.pending-2]=~Kp,gs.pending_buf[gs.pending-1]=~Kp>>8,Dy(gs.strm),tm&&(tm>Kp&&(tm=Kp),gs.strm.output.set(gs.window.subarray(gs.block_start,gs.block_start+tm),gs.strm.next_out),gs.strm.next_out+=tm,gs.strm.avail_out-=tm,gs.strm.total_out+=tm,gs.block_start+=tm,Kp-=tm),Kp&&(S0(gs.strm,gs.strm.output,gs.strm.next_out,Kp),gs.strm.next_out+=Kp,gs.strm.avail_out-=Kp,gs.strm.total_out+=Kp)}while(Om===0);return Am-=gs.strm.avail_in,Am&&(Am>=gs.w_size?(gs.matches=2,gs.window.set(gs.strm.input.subarray(gs.strm.next_in-gs.w_size,gs.strm.next_in),0),gs.strstart=gs.w_size,gs.insert=gs.strstart):(gs.window_size-gs.strstart<=Am&&(gs.strstart-=gs.w_size,gs.window.set(gs.window.subarray(gs.w_size,gs.w_size+gs.strstart),0),gs.matches<2&&gs.matches++,gs.insert>gs.strstart&&(gs.insert=gs.strstart)),gs.window.set(gs.strm.input.subarray(gs.strm.next_in-Am,gs.strm.next_in),gs.strstart),gs.strstart+=Am,gs.insert+=Am>gs.w_size-gs.insert?gs.w_size-gs.insert:Am),gs.block_start=gs.strstart),gs.high_water<gs.strstart&&(gs.high_water=gs.strstart),Om?Ey:Fp!==Nm&&Fp!==Bm&&gs.strm.avail_in===0&&gs.strstart===gs.block_start?My:(pm=gs.window_size-gs.strstart,gs.strm.avail_in>pm&&gs.block_start>=gs.w_size&&(gs.block_start-=gs.w_size,gs.strstart-=gs.w_size,gs.window.set(gs.window.subarray(gs.w_size,gs.w_size+gs.strstart),0),gs.matches<2&&gs.matches++,pm+=gs.w_size,gs.insert>gs.strstart&&(gs.insert=gs.strstart)),pm>gs.strm.avail_in&&(pm=gs.strm.avail_in),pm&&(S0(gs.strm,gs.window,gs.strstart,pm),gs.strstart+=pm,gs.insert+=pm>gs.w_size-gs.insert?gs.w_size-gs.insert:pm),gs.high_water<gs.strstart&&(gs.high_water=gs.strstart),pm=gs.bi_valid+42>>3,pm=gs.pending_buf_size-pm>65535?65535:gs.pending_buf_size-pm,$p=pm>gs.w_size?gs.w_size:pm,tm=gs.strstart-gs.block_start,(tm>=$p||(tm||Fp===Bm)&&Fp!==Nm&&gs.strm.avail_in===0&&tm<=pm)&&(Kp=tm>pm?pm:tm,Om=Fp===Bm&&gs.strm.avail_in===0&&Kp===tm?1:0,om(gs,gs.block_start,Kp,Om),gs.block_start+=Kp,Dy(gs.strm)),Om?Ly:cy)},E0=(gs,Fp)=>{let $p,Kp;for(;;){if(gs.lookahead<_y){if(Zy(gs),gs.lookahead<_y&&Fp===Nm)return cy;if(gs.lookahead===0)break}if($p=0,gs.lookahead>=Ym&&(gs.ins_h=Vy(gs,gs.ins_h,gs.window[gs.strstart+Ym-1]),$p=gs.prev[gs.strstart&gs.w_mask]=gs.head[gs.ins_h],gs.head[gs.ins_h]=gs.strstart),$p!==0&&gs.strstart-$p<=gs.w_size-_y&&(gs.match_length=I0(gs,$p)),gs.match_length>=Ym)if(Kp=sm(gs,gs.strstart-gs.match_start,gs.match_length-Ym),gs.lookahead-=gs.match_length,gs.match_length<=gs.max_lazy_match&&gs.lookahead>=Ym){gs.match_length--;do gs.strstart++,gs.ins_h=Vy(gs,gs.ins_h,gs.window[gs.strstart+Ym-1]),$p=gs.prev[gs.strstart&gs.w_mask]=gs.head[gs.ins_h],gs.head[gs.ins_h]=gs.strstart;while(--gs.match_length!==0);gs.strstart++}else gs.strstart+=gs.match_length,gs.match_length=0,gs.ins_h=gs.window[gs.strstart],gs.ins_h=Vy(gs,gs.ins_h,gs.window[gs.strstart+1]);else Kp=sm(gs,0,gs.window[gs.strstart]),gs.lookahead--,gs.strstart++;if(Kp&&(Oy(gs,!1),gs.strm.avail_out===0))return cy}return gs.insert=gs.strstart<Ym-1?gs.strstart:Ym-1,Fp===Bm?(Oy(gs,!0),gs.strm.avail_out===0?Ly:Ey):gs.sym_next&&(Oy(gs,!1),gs.strm.avail_out===0)?cy:My},Qy=(gs,Fp)=>{let $p,Kp,tm;for(;;){if(gs.lookahead<_y){if(Zy(gs),gs.lookahead<_y&&Fp===Nm)return cy;if(gs.lookahead===0)break}if($p=0,gs.lookahead>=Ym&&(gs.ins_h=Vy(gs,gs.ins_h,gs.window[gs.strstart+Ym-1]),$p=gs.prev[gs.strstart&gs.w_mask]=gs.head[gs.ins_h],gs.head[gs.ins_h]=gs.strstart),gs.prev_length=gs.match_length,gs.prev_match=gs.match_start,gs.match_length=Ym-1,$p!==0&&gs.prev_length<gs.max_lazy_match&&gs.strstart-$p<=gs.w_size-_y&&(gs.match_length=I0(gs,$p),gs.match_length<=5&&(gs.strategy===Ay||gs.match_length===Ym&&gs.strstart-gs.match_start>4096)&&(gs.match_length=Ym-1)),gs.prev_length>=Ym&&gs.match_length<=gs.prev_length){tm=gs.strstart+gs.lookahead-Ym,Kp=sm(gs,gs.strstart-1-gs.prev_match,gs.prev_length-Ym),gs.lookahead-=gs.prev_length-1,gs.prev_length-=2;do++gs.strstart<=tm&&(gs.ins_h=Vy(gs,gs.ins_h,gs.window[gs.strstart+Ym-1]),$p=gs.prev[gs.strstart&gs.w_mask]=gs.head[gs.ins_h],gs.head[gs.ins_h]=gs.strstart);while(--gs.prev_length!==0);if(gs.match_available=0,gs.match_length=Ym-1,gs.strstart++,Kp&&(Oy(gs,!1),gs.strm.avail_out===0))return cy}else if(gs.match_available){if(Kp=sm(gs,0,gs.window[gs.strstart-1]),Kp&&Oy(gs,!1),gs.strstart++,gs.lookahead--,gs.strm.avail_out===0)return cy}else gs.match_available=1,gs.strstart++,gs.lookahead--}return gs.match_available&&(Kp=sm(gs,0,gs.window[gs.strstart-1]),gs.match_available=0),gs.insert=gs.strstart<Ym-1?gs.strstart:Ym-1,Fp===Bm?(Oy(gs,!0),gs.strm.avail_out===0?Ly:Ey):gs.sym_next&&(Oy(gs,!1),gs.strm.avail_out===0)?cy:My},Bv=(gs,Fp)=>{let $p,Kp,tm,pm;const Om=gs.window;for(;;){if(gs.lookahead<=dy){if(Zy(gs),gs.lookahead<=dy&&Fp===Nm)return cy;if(gs.lookahead===0)break}if(gs.match_length=0,gs.lookahead>=Ym&&gs.strstart>0&&(tm=gs.strstart-1,Kp=Om[tm],Kp===Om[++tm]&&Kp===Om[++tm]&&Kp===Om[++tm])){pm=gs.strstart+dy;do;while(Kp===Om[++tm]&&Kp===Om[++tm]&&Kp===Om[++tm]&&Kp===Om[++tm]&&Kp===Om[++tm]&&Kp===Om[++tm]&&Kp===Om[++tm]&&Kp===Om[++tm]&&tm<pm);gs.match_length=dy-(pm-tm),gs.match_length>gs.lookahead&&(gs.match_length=gs.lookahead)}if(gs.match_length>=Ym?($p=sm(gs,1,gs.match_length-Ym),gs.lookahead-=gs.match_length,gs.strstart+=gs.match_length,gs.match_length=0):($p=sm(gs,0,gs.window[gs.strstart]),gs.lookahead--,gs.strstart++),$p&&(Oy(gs,!1),gs.strm.avail_out===0))return cy}return gs.insert=0,Fp===Bm?(Oy(gs,!0),gs.strm.avail_out===0?Ly:Ey):gs.sym_next&&(Oy(gs,!1),gs.strm.avail_out===0)?cy:My},Gv=(gs,Fp)=>{let $p;for(;;){if(gs.lookahead===0&&(Zy(gs),gs.lookahead===0)){if(Fp===Nm)return cy;break}if(gs.match_length=0,$p=sm(gs,0,gs.window[gs.strstart]),gs.lookahead--,gs.strstart++,$p&&(Oy(gs,!1),gs.strm.avail_out===0))return cy}return gs.insert=0,Fp===Bm?(Oy(gs,!0),gs.strm.avail_out===0?Ly:Ey):gs.sym_next&&(Oy(gs,!1),gs.strm.avail_out===0)?cy:My};function jy(gs,Fp,$p,Kp,tm){this.good_length=gs,this.max_lazy=Fp,this.nice_length=$p,this.max_chain=Kp,this.func=tm}const i0=[new jy(0,0,0,0,L0),new jy(4,4,8,4,E0),new jy(4,5,16,8,E0),new jy(4,6,32,32,E0),new jy(4,4,16,16,Qy),new jy(8,16,32,32,Qy),new jy(8,16,128,128,Qy),new jy(8,32,128,256,Qy),new jy(32,128,258,1024,Qy),new jy(32,258,258,4096,Qy)],Vv=gs=>{gs.window_size=2*gs.w_size,Gy(gs.head),gs.max_lazy_match=i0[gs.level].max_lazy,gs.good_match=i0[gs.level].good_length,gs.nice_match=i0[gs.level].nice_length,gs.max_chain_length=i0[gs.level].max_chain,gs.strstart=0,gs.block_start=0,gs.lookahead=0,gs.insert=0,gs.match_length=gs.prev_length=Ym-1,gs.match_available=0,gs.ins_h=0};function Wv(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=km,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Qm*2),this.dyn_dtree=new Uint16Array((2*qm+1)*2),this.bl_tree=new Uint16Array((2*_g+1)*2),Gy(this.dyn_ltree),Gy(this.dyn_dtree),Gy(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(ey+1),this.heap=new Uint16Array(2*Hm+1),Gy(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Hm+1),Gy(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const a0=gs=>{if(!gs)return 1;const Fp=gs.state;return!Fp||Fp.strm!==gs||Fp.status!==hy&&Fp.status!==Xm&&Fp.status!==Wy&&Fp.status!==Hy&&Fp.status!==Iy&&Fp.status!==Xy&&Fp.status!==Ry&&Fp.status!==Fy?1:0},N0=gs=>{if(a0(gs))return zy(gs,ny);gs.total_in=gs.total_out=0,gs.data_type=Pm;const Fp=gs.state;return Fp.pending=0,Fp.pending_out=0,Fp.wrap<0&&(Fp.wrap=-Fp.wrap),Fp.status=Fp.wrap===2?Xm:Fp.wrap?hy:Ry,gs.adler=Fp.wrap===2?0:1,Fp.last_flush=-2,dm(Fp),Zm},j0=gs=>{const Fp=N0(gs);return Fp===Zm&&Vv(gs.state),Fp},Hv=(gs,Fp)=>a0(gs)||gs.state.wrap!==2?ny:(gs.state.gzhead=Fp,Zm),F0=(gs,Fp,$p,Kp,tm,pm)=>{if(!gs)return ny;let Om=1;if(Fp===Ty&&(Fp=6),Kp<0?(Om=0,Kp=-Kp):Kp>15&&(Om=2,Kp-=16),tm<1||tm>Rm||$p!==km||Kp<8||Kp>15||Fp<0||Fp>9||pm<0||pm>Xp||Kp===8&&Om!==1)return zy(gs,ny);Kp===8&&(Kp=9);const Am=new Wv;return gs.state=Am,Am.strm=gs,Am.status=hy,Am.wrap=Om,Am.gzhead=null,Am.w_bits=Kp,Am.w_size=1<<Am.w_bits,Am.w_mask=Am.w_size-1,Am.hash_bits=tm+7,Am.hash_size=1<<Am.hash_bits,Am.hash_mask=Am.hash_size-1,Am.hash_shift=~~((Am.hash_bits+Ym-1)/Ym),Am.window=new Uint8Array(Am.w_size*2),Am.head=new Uint16Array(Am.hash_size),Am.prev=new Uint16Array(Am.w_size),Am.lit_bufsize=1<<tm+6,Am.pending_buf_size=Am.lit_bufsize*4,Am.pending_buf=new Uint8Array(Am.pending_buf_size),Am.sym_buf=Am.lit_bufsize,Am.sym_end=(Am.lit_bufsize-1)*3,Am.level=Fp,Am.strategy=pm,Am.method=$p,j0(gs)},Yv=(gs,Fp)=>F0(gs,Fp,km,Fm,Wm,Tm),qv=(gs,Fp)=>{if(a0(gs)||Fp>by||Fp<0)return gs?zy(gs,ny):ny;const $p=gs.state;if(!gs.output||gs.avail_in!==0&&!gs.input||$p.status===Fy&&Fp!==Bm)return zy(gs,gs.avail_out===0?yy:ny);const Kp=$p.last_flush;if($p.last_flush=Fp,$p.pending!==0){if(Dy(gs),gs.avail_out===0)return $p.last_flush=-1,Zm}else if(gs.avail_in===0&&r0(Fp)<=r0(Kp)&&Fp!==Bm)return zy(gs,yy);if($p.status===Fy&&gs.avail_in!==0)return zy(gs,yy);if($p.status===hy&&$p.wrap===0&&($p.status=Ry),$p.status===hy){let tm=km+($p.w_bits-8<<4)<<8,pm=-1;if($p.strategy>=ly||$p.level<2?pm=0:$p.level<6?pm=1:$p.level===6?pm=2:pm=3,tm|=pm<<6,$p.strstart!==0&&(tm|=Py),tm+=31-tm%31,n0($p,tm),$p.strstart!==0&&(n0($p,gs.adler>>>16),n0($p,gs.adler&65535)),gs.adler=1,$p.status=Ry,Dy(gs),$p.pending!==0)return $p.last_flush=-1,Zm}if($p.status===Xm){if(gs.adler=0,fy($p,31),fy($p,139),fy($p,8),$p.gzhead)fy($p,($p.gzhead.text?1:0)+($p.gzhead.hcrc?2:0)+($p.gzhead.extra?4:0)+($p.gzhead.name?8:0)+($p.gzhead.comment?16:0)),fy($p,$p.gzhead.time&255),fy($p,$p.gzhead.time>>8&255),fy($p,$p.gzhead.time>>16&255),fy($p,$p.gzhead.time>>24&255),fy($p,$p.level===9?2:$p.strategy>=ly||$p.level<2?4:0),fy($p,$p.gzhead.os&255),$p.gzhead.extra&&$p.gzhead.extra.length&&(fy($p,$p.gzhead.extra.length&255),fy($p,$p.gzhead.extra.length>>8&255)),$p.gzhead.hcrc&&(gs.adler=Hp(gs.adler,$p.pending_buf,$p.pending,0)),$p.gzindex=0,$p.status=Wy;else if(fy($p,0),fy($p,0),fy($p,0),fy($p,0),fy($p,0),fy($p,$p.level===9?2:$p.strategy>=ly||$p.level<2?4:0),fy($p,e0),$p.status=Ry,Dy(gs),$p.pending!==0)return $p.last_flush=-1,Zm}if($p.status===Wy){if($p.gzhead.extra){let tm=$p.pending,pm=($p.gzhead.extra.length&65535)-$p.gzindex;for(;$p.pending+pm>$p.pending_buf_size;){let Am=$p.pending_buf_size-$p.pending;if($p.pending_buf.set($p.gzhead.extra.subarray($p.gzindex,$p.gzindex+Am),$p.pending),$p.pending=$p.pending_buf_size,$p.gzhead.hcrc&&$p.pending>tm&&(gs.adler=Hp(gs.adler,$p.pending_buf,$p.pending-tm,tm)),$p.gzindex+=Am,Dy(gs),$p.pending!==0)return $p.last_flush=-1,Zm;tm=0,pm-=Am}let Om=new Uint8Array($p.gzhead.extra);$p.pending_buf.set(Om.subarray($p.gzindex,$p.gzindex+pm),$p.pending),$p.pending+=pm,$p.gzhead.hcrc&&$p.pending>tm&&(gs.adler=Hp(gs.adler,$p.pending_buf,$p.pending-tm,tm)),$p.gzindex=0}$p.status=Hy}if($p.status===Hy){if($p.gzhead.name){let tm=$p.pending,pm;do{if($p.pending===$p.pending_buf_size){if($p.gzhead.hcrc&&$p.pending>tm&&(gs.adler=Hp(gs.adler,$p.pending_buf,$p.pending-tm,tm)),Dy(gs),$p.pending!==0)return $p.last_flush=-1,Zm;tm=0}$p.gzindex<$p.gzhead.name.length?pm=$p.gzhead.name.charCodeAt($p.gzindex++)&255:pm=0,fy($p,pm)}while(pm!==0);$p.gzhead.hcrc&&$p.pending>tm&&(gs.adler=Hp(gs.adler,$p.pending_buf,$p.pending-tm,tm)),$p.gzindex=0}$p.status=Iy}if($p.status===Iy){if($p.gzhead.comment){let tm=$p.pending,pm;do{if($p.pending===$p.pending_buf_size){if($p.gzhead.hcrc&&$p.pending>tm&&(gs.adler=Hp(gs.adler,$p.pending_buf,$p.pending-tm,tm)),Dy(gs),$p.pending!==0)return $p.last_flush=-1,Zm;tm=0}$p.gzindex<$p.gzhead.comment.length?pm=$p.gzhead.comment.charCodeAt($p.gzindex++)&255:pm=0,fy($p,pm)}while(pm!==0);$p.gzhead.hcrc&&$p.pending>tm&&(gs.adler=Hp(gs.adler,$p.pending_buf,$p.pending-tm,tm))}$p.status=Xy}if($p.status===Xy){if($p.gzhead.hcrc){if($p.pending+2>$p.pending_buf_size&&(Dy(gs),$p.pending!==0))return $p.last_flush=-1,Zm;fy($p,gs.adler&255),fy($p,gs.adler>>8&255),gs.adler=0}if($p.status=Ry,Dy(gs),$p.pending!==0)return $p.last_flush=-1,Zm}if(gs.avail_in!==0||$p.lookahead!==0||Fp!==Nm&&$p.status!==Fy){let tm=$p.level===0?L0($p,Fp):$p.strategy===ly?Gv($p,Fp):$p.strategy===my?Bv($p,Fp):i0[$p.level].func($p,Fp);if((tm===Ly||tm===Ey)&&($p.status=Fy),tm===cy||tm===Ly)return gs.avail_out===0&&($p.last_flush=-1),Zm;if(tm===My&&(Fp===Im?$m($p):Fp!==by&&(om($p,0,0,!1),Fp===jm&&(Gy($p.head),$p.lookahead===0&&($p.strstart=0,$p.block_start=0,$p.insert=0))),Dy(gs),gs.avail_out===0))return $p.last_flush=-1,Zm}return Fp!==Bm?Zm:$p.wrap<=0?Jm:($p.wrap===2?(fy($p,gs.adler&255),fy($p,gs.adler>>8&255),fy($p,gs.adler>>16&255),fy($p,gs.adler>>24&255),fy($p,gs.total_in&255),fy($p,gs.total_in>>8&255),fy($p,gs.total_in>>16&255),fy($p,gs.total_in>>24&255)):(n0($p,gs.adler>>>16),n0($p,gs.adler&65535)),Dy(gs),$p.wrap>0&&($p.wrap=-$p.wrap),$p.pending!==0?Zm:Jm)},Kv=gs=>{if(a0(gs))return ny;const Fp=gs.state.status;return gs.state=null,Fp===Ry?zy(gs,gy):Zm},Xv=(gs,Fp)=>{let $p=Fp.length;if(a0(gs))return ny;const Kp=gs.state,tm=Kp.wrap;if(tm===2||tm===1&&Kp.status!==hy||Kp.lookahead)return ny;if(tm===1&&(gs.adler=qp(gs.adler,Fp,$p,0)),Kp.wrap=0,$p>=Kp.w_size){tm===0&&(Gy(Kp.head),Kp.strstart=0,Kp.block_start=0,Kp.insert=0);let Vm=new Uint8Array(Kp.w_size);Vm.set(Fp.subarray($p-Kp.w_size,$p),0),Fp=Vm,$p=Kp.w_size}const pm=gs.avail_in,Om=gs.next_in,Am=gs.input;for(gs.avail_in=$p,gs.next_in=0,gs.input=Fp,Zy(Kp);Kp.lookahead>=Ym;){let Vm=Kp.strstart,wm=Kp.lookahead-(Ym-1);do Kp.ins_h=Vy(Kp,Kp.ins_h,Kp.window[Vm+Ym-1]),Kp.prev[Vm&Kp.w_mask]=Kp.head[Kp.ins_h],Kp.head[Kp.ins_h]=Vm,Vm++;while(--wm);Kp.strstart=Vm,Kp.lookahead=Ym-1,Zy(Kp)}return Kp.strstart+=Kp.lookahead,Kp.block_start=Kp.strstart,Kp.insert=Kp.lookahead,Kp.lookahead=0,Kp.match_length=Kp.prev_length=Ym-1,Kp.match_available=0,gs.next_in=Om,gs.input=Am,gs.avail_in=pm,Kp.wrap=tm,Zm};var Zv=Yv,Qv=F0,Jv=j0,e1=N0,r1=Hv,n1=qv,i1=Kv,a1=Xv,o1="pako deflate (from Nodeca project)",o0={deflateInit:Zv,deflateInit2:Qv,deflateReset:Jv,deflateResetKeep:e1,deflateSetHeader:r1,deflate:n1,deflateEnd:i1,deflateSetDictionary:a1,deflateInfo:o1};const s1=(gs,Fp)=>Object.prototype.hasOwnProperty.call(gs,Fp);var l1=function(gs){const Fp=Array.prototype.slice.call(arguments,1);for(;Fp.length;){const $p=Fp.shift();if($p){if(typeof $p!="object")throw new TypeError($p+"must be non-object");for(const Kp in $p)s1($p,Kp)&&(gs[Kp]=$p[Kp])}}return gs},c1=gs=>{let Fp=0;for(let Kp=0,tm=gs.length;Kp<tm;Kp++)Fp+=gs[Kp].length;const $p=new Uint8Array(Fp);for(let Kp=0,tm=0,pm=gs.length;Kp<pm;Kp++){let Om=gs[Kp];$p.set(Om,tm),tm+=Om.length}return $p},h0={assign:l1,flattenChunks:c1};let z0=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{z0=!1}const s0=new Uint8Array(256);for(let gs=0;gs<256;gs++)s0[gs]=gs>=252?6:gs>=248?5:gs>=240?4:gs>=224?3:gs>=192?2:1;s0[254]=s0[254]=1;var u1=gs=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(gs);let Fp,$p,Kp,tm,pm,Om=gs.length,Am=0;for(tm=0;tm<Om;tm++)$p=gs.charCodeAt(tm),($p&64512)===55296&&tm+1<Om&&(Kp=gs.charCodeAt(tm+1),(Kp&64512)===56320&&($p=65536+($p-55296<<10)+(Kp-56320),tm++)),Am+=$p<128?1:$p<2048?2:$p<65536?3:4;for(Fp=new Uint8Array(Am),pm=0,tm=0;pm<Am;tm++)$p=gs.charCodeAt(tm),($p&64512)===55296&&tm+1<Om&&(Kp=gs.charCodeAt(tm+1),(Kp&64512)===56320&&($p=65536+($p-55296<<10)+(Kp-56320),tm++)),$p<128?Fp[pm++]=$p:$p<2048?(Fp[pm++]=192|$p>>>6,Fp[pm++]=128|$p&63):$p<65536?(Fp[pm++]=224|$p>>>12,Fp[pm++]=128|$p>>>6&63,Fp[pm++]=128|$p&63):(Fp[pm++]=240|$p>>>18,Fp[pm++]=128|$p>>>12&63,Fp[pm++]=128|$p>>>6&63,Fp[pm++]=128|$p&63);return Fp};const d1=(gs,Fp)=>{if(Fp<65534&&gs.subarray&&z0)return String.fromCharCode.apply(null,gs.length===Fp?gs:gs.subarray(0,Fp));let $p="";for(let Kp=0;Kp<Fp;Kp++)$p+=String.fromCharCode(gs[Kp]);return $p};var f1=(gs,Fp)=>{const $p=Fp||gs.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(gs.subarray(0,Fp));let Kp,tm;const pm=new Array($p*2);for(tm=0,Kp=0;Kp<$p;){let Om=gs[Kp++];if(Om<128){pm[tm++]=Om;continue}let Am=s0[Om];if(Am>4){pm[tm++]=65533,Kp+=Am-1;continue}for(Om&=Am===2?31:Am===3?15:7;Am>1&&Kp<$p;)Om=Om<<6|gs[Kp++]&63,Am--;if(Am>1){pm[tm++]=65533;continue}Om<65536?pm[tm++]=Om:(Om-=65536,pm[tm++]=55296|Om>>10&1023,pm[tm++]=56320|Om&1023)}return d1(pm,tm)},h1=(gs,Fp)=>{Fp=Fp||gs.length,Fp>gs.length&&(Fp=gs.length);let $p=Fp-1;for(;$p>=0&&(gs[$p]&192)===128;)$p--;return $p<0||$p===0?Fp:$p+s0[gs[$p]]>Fp?$p:Fp},l0={string2buf:u1,buf2string:f1,utf8border:h1};function p1(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var U0=p1;const B0=Object.prototype.toString,{Z_NO_FLUSH:m1,Z_SYNC_FLUSH:g1,Z_FULL_FLUSH:y1,Z_FINISH:v1,Z_OK:p0,Z_STREAM_END:_1,Z_DEFAULT_COMPRESSION:x1,Z_DEFAULT_STRATEGY:b1,Z_DEFLATED:w1}=Tp;function c0(gs){this.options=h0.assign({level:x1,method:w1,chunkSize:16384,windowBits:15,memLevel:8,strategy:b1},gs||{});let Fp=this.options;Fp.raw&&Fp.windowBits>0?Fp.windowBits=-Fp.windowBits:Fp.gzip&&Fp.windowBits>0&&Fp.windowBits<16&&(Fp.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new U0,this.strm.avail_out=0;let $p=o0.deflateInit2(this.strm,Fp.level,Fp.method,Fp.windowBits,Fp.memLevel,Fp.strategy);if($p!==p0)throw new Error(Mm[$p]);if(Fp.header&&o0.deflateSetHeader(this.strm,Fp.header),Fp.dictionary){let Kp;if(typeof Fp.dictionary=="string"?Kp=l0.string2buf(Fp.dictionary):B0.call(Fp.dictionary)==="[object ArrayBuffer]"?Kp=new Uint8Array(Fp.dictionary):Kp=Fp.dictionary,$p=o0.deflateSetDictionary(this.strm,Kp),$p!==p0)throw new Error(Mm[$p]);this._dict_set=!0}}c0.prototype.push=function(gs,Fp){const $p=this.strm,Kp=this.options.chunkSize;let tm,pm;if(this.ended)return!1;for(Fp===~~Fp?pm=Fp:pm=Fp===!0?v1:m1,typeof gs=="string"?$p.input=l0.string2buf(gs):B0.call(gs)==="[object ArrayBuffer]"?$p.input=new Uint8Array(gs):$p.input=gs,$p.next_in=0,$p.avail_in=$p.input.length;;){if($p.avail_out===0&&($p.output=new Uint8Array(Kp),$p.next_out=0,$p.avail_out=Kp),(pm===g1||pm===y1)&&$p.avail_out<=6){this.onData($p.output.subarray(0,$p.next_out)),$p.avail_out=0;continue}if(tm=o0.deflate($p,pm),tm===_1)return $p.next_out>0&&this.onData($p.output.subarray(0,$p.next_out)),tm=o0.deflateEnd(this.strm),this.onEnd(tm),this.ended=!0,tm===p0;if($p.avail_out===0){this.onData($p.output);continue}if(pm>0&&$p.next_out>0){this.onData($p.output.subarray(0,$p.next_out)),$p.avail_out=0;continue}if($p.avail_in===0)break}return!0},c0.prototype.onData=function(gs){this.chunks.push(gs)},c0.prototype.onEnd=function(gs){gs===p0&&(this.result=h0.flattenChunks(this.chunks)),this.chunks=[],this.err=gs,this.msg=this.strm.msg};function $0(gs,Fp){const $p=new c0(Fp);if($p.push(gs,!0),$p.err)throw $p.msg||Mm[$p.err];return $p.result}function S1(gs,Fp){return Fp=Fp||{},Fp.raw=!0,$0(gs,Fp)}function E1(gs,Fp){return Fp=Fp||{},Fp.gzip=!0,$0(gs,Fp)}var $1=c0,C1=$0,T1=S1,M1=E1,A1=Tp,P1={Deflate:$1,deflate:C1,deflateRaw:T1,gzip:M1,constants:A1};const m0=16209,R1=16191;var D1=function(gs,Fp){let $p,Kp,tm,pm,Om,Am,Vm,wm,Dm,py,zm,Lm,xy,Sy,sy,iy,ry,Um,ty,$y,uy,oy,vy,Km;const ay=gs.state;$p=gs.next_in,vy=gs.input,Kp=$p+(gs.avail_in-5),tm=gs.next_out,Km=gs.output,pm=tm-(Fp-gs.avail_out),Om=tm+(gs.avail_out-257),Am=ay.dmax,Vm=ay.wsize,wm=ay.whave,Dm=ay.wnext,py=ay.window,zm=ay.hold,Lm=ay.bits,xy=ay.lencode,Sy=ay.distcode,sy=(1<<ay.lenbits)-1,iy=(1<<ay.distbits)-1;e:do{Lm<15&&(zm+=vy[$p++]<<Lm,Lm+=8,zm+=vy[$p++]<<Lm,Lm+=8),ry=xy[zm&sy];t:for(;;){if(Um=ry>>>24,zm>>>=Um,Lm-=Um,Um=ry>>>16&255,Um===0)Km[tm++]=ry&65535;else if(Um&16){ty=ry&65535,Um&=15,Um&&(Lm<Um&&(zm+=vy[$p++]<<Lm,Lm+=8),ty+=zm&(1<<Um)-1,zm>>>=Um,Lm-=Um),Lm<15&&(zm+=vy[$p++]<<Lm,Lm+=8,zm+=vy[$p++]<<Lm,Lm+=8),ry=Sy[zm&iy];r:for(;;){if(Um=ry>>>24,zm>>>=Um,Lm-=Um,Um=ry>>>16&255,Um&16){if($y=ry&65535,Um&=15,Lm<Um&&(zm+=vy[$p++]<<Lm,Lm+=8,Lm<Um&&(zm+=vy[$p++]<<Lm,Lm+=8)),$y+=zm&(1<<Um)-1,$y>Am){gs.msg="invalid distance too far back",ay.mode=m0;break e}if(zm>>>=Um,Lm-=Um,Um=tm-pm,$y>Um){if(Um=$y-Um,Um>wm&&ay.sane){gs.msg="invalid distance too far back",ay.mode=m0;break e}if(uy=0,oy=py,Dm===0){if(uy+=Vm-Um,Um<ty){ty-=Um;do Km[tm++]=py[uy++];while(--Um);uy=tm-$y,oy=Km}}else if(Dm<Um){if(uy+=Vm+Dm-Um,Um-=Dm,Um<ty){ty-=Um;do Km[tm++]=py[uy++];while(--Um);if(uy=0,Dm<ty){Um=Dm,ty-=Um;do Km[tm++]=py[uy++];while(--Um);uy=tm-$y,oy=Km}}}else if(uy+=Dm-Um,Um<ty){ty-=Um;do Km[tm++]=py[uy++];while(--Um);uy=tm-$y,oy=Km}for(;ty>2;)Km[tm++]=oy[uy++],Km[tm++]=oy[uy++],Km[tm++]=oy[uy++],ty-=3;ty&&(Km[tm++]=oy[uy++],ty>1&&(Km[tm++]=oy[uy++]))}else{uy=tm-$y;do Km[tm++]=Km[uy++],Km[tm++]=Km[uy++],Km[tm++]=Km[uy++],ty-=3;while(ty>2);ty&&(Km[tm++]=Km[uy++],ty>1&&(Km[tm++]=Km[uy++]))}}else if(Um&64){gs.msg="invalid distance code",ay.mode=m0;break e}else{ry=Sy[(ry&65535)+(zm&(1<<Um)-1)];continue r}break}}else if(Um&64)if(Um&32){ay.mode=R1;break e}else{gs.msg="invalid literal/length code",ay.mode=m0;break e}else{ry=xy[(ry&65535)+(zm&(1<<Um)-1)];continue t}break}}while($p<Kp&&tm<Om);ty=Lm>>3,$p-=ty,Lm-=ty<<3,zm&=(1<<Lm)-1,gs.next_in=$p,gs.next_out=tm,gs.avail_in=$p<Kp?5+(Kp-$p):5-($p-Kp),gs.avail_out=tm<Om?257+(Om-tm):257-(tm-Om),ay.hold=zm,ay.bits=Lm};const Jy=15,G0=852,V0=592,W0=0,C0=1,H0=2,O1=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),k1=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),I1=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),L1=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var u0=(gs,Fp,$p,Kp,tm,pm,Om,Am)=>{const Vm=Am.bits;let wm=0,Dm=0,py=0,zm=0,Lm=0,xy=0,Sy=0,sy=0,iy=0,ry=0,Um,ty,$y,uy,oy,vy=null,Km;const ay=new Uint16Array(Jy+1),Cy=new Uint16Array(Jy+1);let Ky=null,zv,b0,w0;for(wm=0;wm<=Jy;wm++)ay[wm]=0;for(Dm=0;Dm<Kp;Dm++)ay[Fp[$p+Dm]]++;for(Lm=Vm,zm=Jy;zm>=1&&ay[zm]===0;zm--);if(Lm>zm&&(Lm=zm),zm===0)return tm[pm++]=1<<24|64<<16|0,tm[pm++]=1<<24|64<<16|0,Am.bits=1,0;for(py=1;py<zm&&ay[py]===0;py++);for(Lm<py&&(Lm=py),sy=1,wm=1;wm<=Jy;wm++)if(sy<<=1,sy-=ay[wm],sy<0)return-1;if(sy>0&&(gs===W0||zm!==1))return-1;for(Cy[1]=0,wm=1;wm<Jy;wm++)Cy[wm+1]=Cy[wm]+ay[wm];for(Dm=0;Dm<Kp;Dm++)Fp[$p+Dm]!==0&&(Om[Cy[Fp[$p+Dm]]++]=Dm);if(gs===W0?(vy=Ky=Om,Km=20):gs===C0?(vy=O1,Ky=k1,Km=257):(vy=I1,Ky=L1,Km=0),ry=0,Dm=0,wm=py,oy=pm,xy=Lm,Sy=0,$y=-1,iy=1<<Lm,uy=iy-1,gs===C0&&iy>G0||gs===H0&&iy>V0)return 1;for(;;){zv=wm-Sy,Om[Dm]+1<Km?(b0=0,w0=Om[Dm]):Om[Dm]>=Km?(b0=Ky[Om[Dm]-Km],w0=vy[Om[Dm]-Km]):(b0=96,w0=0),Um=1<<wm-Sy,ty=1<<xy,py=ty;do ty-=Um,tm[oy+(ry>>Sy)+ty]=zv<<24|b0<<16|w0|0;while(ty!==0);for(Um=1<<wm-1;ry&Um;)Um>>=1;if(Um!==0?(ry&=Um-1,ry+=Um):ry=0,Dm++,--ay[wm]===0){if(wm===zm)break;wm=Fp[$p+Om[Dm]]}if(wm>Lm&&(ry&uy)!==$y){for(Sy===0&&(Sy=Lm),oy+=py,xy=wm-Sy,sy=1<<xy;xy+Sy<zm&&(sy-=ay[xy+Sy],!(sy<=0));)xy++,sy<<=1;if(iy+=1<<xy,gs===C0&&iy>G0||gs===H0&&iy>V0)return 1;$y=ry&uy,tm[$y]=Lm<<24|xy<<16|oy-pm|0}}return ry!==0&&(tm[oy+ry]=wm-Sy<<24|64<<16|0),Am.bits=Lm,0};const N1=0,Y0=1,q0=2,{Z_FINISH:K0,Z_BLOCK:j1,Z_TREES:g0,Z_OK:Yy,Z_STREAM_END:F1,Z_NEED_DICT:z1,Z_STREAM_ERROR:Ny,Z_DATA_ERROR:X0,Z_MEM_ERROR:Z0,Z_BUF_ERROR:U1,Z_DEFLATED:Q0}=Tp,y0=16180,J0=16181,ev=16182,tv=16183,rv=16184,nv=16185,iv=16186,av=16187,ov=16188,sv=16189,v0=16190,Uy=16191,T0=16192,lv=16193,M0=16194,cv=16195,uv=16196,dv=16197,fv=16198,_0=16199,x0=16200,hv=16201,pv=16202,mv=16203,gv=16204,yv=16205,A0=16206,vv=16207,_v=16208,wy=16209,xv=16210,bv=16211,B1=852,G1=592,V1=15,wv=gs=>(gs>>>24&255)+(gs>>>8&65280)+((gs&65280)<<8)+((gs&255)<<24);function W1(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const qy=gs=>{if(!gs)return 1;const Fp=gs.state;return!Fp||Fp.strm!==gs||Fp.mode<y0||Fp.mode>bv?1:0},Sv=gs=>{if(qy(gs))return Ny;const Fp=gs.state;return gs.total_in=gs.total_out=Fp.total=0,gs.msg="",Fp.wrap&&(gs.adler=Fp.wrap&1),Fp.mode=y0,Fp.last=0,Fp.havedict=0,Fp.flags=-1,Fp.dmax=32768,Fp.head=null,Fp.hold=0,Fp.bits=0,Fp.lencode=Fp.lendyn=new Int32Array(B1),Fp.distcode=Fp.distdyn=new Int32Array(G1),Fp.sane=1,Fp.back=-1,Yy},Ev=gs=>{if(qy(gs))return Ny;const Fp=gs.state;return Fp.wsize=0,Fp.whave=0,Fp.wnext=0,Sv(gs)},$v=(gs,Fp)=>{let $p;if(qy(gs))return Ny;const Kp=gs.state;return Fp<0?($p=0,Fp=-Fp):($p=(Fp>>4)+5,Fp<48&&(Fp&=15)),Fp&&(Fp<8||Fp>15)?Ny:(Kp.window!==null&&Kp.wbits!==Fp&&(Kp.window=null),Kp.wrap=$p,Kp.wbits=Fp,Ev(gs))},Cv=(gs,Fp)=>{if(!gs)return Ny;const $p=new W1;gs.state=$p,$p.strm=gs,$p.window=null,$p.mode=y0;const Kp=$v(gs,Fp);return Kp!==Yy&&(gs.state=null),Kp},H1=gs=>Cv(gs,V1);let Tv=!0,P0,R0;const Y1=gs=>{if(Tv){P0=new Int32Array(512),R0=new Int32Array(32);let Fp=0;for(;Fp<144;)gs.lens[Fp++]=8;for(;Fp<256;)gs.lens[Fp++]=9;for(;Fp<280;)gs.lens[Fp++]=7;for(;Fp<288;)gs.lens[Fp++]=8;for(u0(Y0,gs.lens,0,288,P0,0,gs.work,{bits:9}),Fp=0;Fp<32;)gs.lens[Fp++]=5;u0(q0,gs.lens,0,32,R0,0,gs.work,{bits:5}),Tv=!1}gs.lencode=P0,gs.lenbits=9,gs.distcode=R0,gs.distbits=5},Mv=(gs,Fp,$p,Kp)=>{let tm;const pm=gs.state;return pm.window===null&&(pm.wsize=1<<pm.wbits,pm.wnext=0,pm.whave=0,pm.window=new Uint8Array(pm.wsize)),Kp>=pm.wsize?(pm.window.set(Fp.subarray($p-pm.wsize,$p),0),pm.wnext=0,pm.whave=pm.wsize):(tm=pm.wsize-pm.wnext,tm>Kp&&(tm=Kp),pm.window.set(Fp.subarray($p-Kp,$p-Kp+tm),pm.wnext),Kp-=tm,Kp?(pm.window.set(Fp.subarray($p-Kp,$p),0),pm.wnext=Kp,pm.whave=pm.wsize):(pm.wnext+=tm,pm.wnext===pm.wsize&&(pm.wnext=0),pm.whave<pm.wsize&&(pm.whave+=tm))),0},q1=(gs,Fp)=>{let $p,Kp,tm,pm,Om,Am,Vm,wm,Dm,py,zm,Lm,xy,Sy,sy=0,iy,ry,Um,ty,$y,uy,oy,vy;const Km=new Uint8Array(4);let ay,Cy;const Ky=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(qy(gs)||!gs.output||!gs.input&&gs.avail_in!==0)return Ny;$p=gs.state,$p.mode===Uy&&($p.mode=T0),Om=gs.next_out,tm=gs.output,Vm=gs.avail_out,pm=gs.next_in,Kp=gs.input,Am=gs.avail_in,wm=$p.hold,Dm=$p.bits,py=Am,zm=Vm,vy=Yy;e:for(;;)switch($p.mode){case y0:if($p.wrap===0){$p.mode=T0;break}for(;Dm<16;){if(Am===0)break e;Am--,wm+=Kp[pm++]<<Dm,Dm+=8}if($p.wrap&2&&wm===35615){$p.wbits===0&&($p.wbits=15),$p.check=0,Km[0]=wm&255,Km[1]=wm>>>8&255,$p.check=Hp($p.check,Km,2,0),wm=0,Dm=0,$p.mode=J0;break}if($p.head&&($p.head.done=!1),!($p.wrap&1)||(((wm&255)<<8)+(wm>>8))%31){gs.msg="incorrect header check",$p.mode=wy;break}if((wm&15)!==Q0){gs.msg="unknown compression method",$p.mode=wy;break}if(wm>>>=4,Dm-=4,oy=(wm&15)+8,$p.wbits===0&&($p.wbits=oy),oy>15||oy>$p.wbits){gs.msg="invalid window size",$p.mode=wy;break}$p.dmax=1<<$p.wbits,$p.flags=0,gs.adler=$p.check=1,$p.mode=wm&512?sv:Uy,wm=0,Dm=0;break;case J0:for(;Dm<16;){if(Am===0)break e;Am--,wm+=Kp[pm++]<<Dm,Dm+=8}if($p.flags=wm,($p.flags&255)!==Q0){gs.msg="unknown compression method",$p.mode=wy;break}if($p.flags&57344){gs.msg="unknown header flags set",$p.mode=wy;break}$p.head&&($p.head.text=wm>>8&1),$p.flags&512&&$p.wrap&4&&(Km[0]=wm&255,Km[1]=wm>>>8&255,$p.check=Hp($p.check,Km,2,0)),wm=0,Dm=0,$p.mode=ev;case ev:for(;Dm<32;){if(Am===0)break e;Am--,wm+=Kp[pm++]<<Dm,Dm+=8}$p.head&&($p.head.time=wm),$p.flags&512&&$p.wrap&4&&(Km[0]=wm&255,Km[1]=wm>>>8&255,Km[2]=wm>>>16&255,Km[3]=wm>>>24&255,$p.check=Hp($p.check,Km,4,0)),wm=0,Dm=0,$p.mode=tv;case tv:for(;Dm<16;){if(Am===0)break e;Am--,wm+=Kp[pm++]<<Dm,Dm+=8}$p.head&&($p.head.xflags=wm&255,$p.head.os=wm>>8),$p.flags&512&&$p.wrap&4&&(Km[0]=wm&255,Km[1]=wm>>>8&255,$p.check=Hp($p.check,Km,2,0)),wm=0,Dm=0,$p.mode=rv;case rv:if($p.flags&1024){for(;Dm<16;){if(Am===0)break e;Am--,wm+=Kp[pm++]<<Dm,Dm+=8}$p.length=wm,$p.head&&($p.head.extra_len=wm),$p.flags&512&&$p.wrap&4&&(Km[0]=wm&255,Km[1]=wm>>>8&255,$p.check=Hp($p.check,Km,2,0)),wm=0,Dm=0}else $p.head&&($p.head.extra=null);$p.mode=nv;case nv:if($p.flags&1024&&(Lm=$p.length,Lm>Am&&(Lm=Am),Lm&&($p.head&&(oy=$p.head.extra_len-$p.length,$p.head.extra||($p.head.extra=new Uint8Array($p.head.extra_len)),$p.head.extra.set(Kp.subarray(pm,pm+Lm),oy)),$p.flags&512&&$p.wrap&4&&($p.check=Hp($p.check,Kp,Lm,pm)),Am-=Lm,pm+=Lm,$p.length-=Lm),$p.length))break e;$p.length=0,$p.mode=iv;case iv:if($p.flags&2048){if(Am===0)break e;Lm=0;do oy=Kp[pm+Lm++],$p.head&&oy&&$p.length<65536&&($p.head.name+=String.fromCharCode(oy));while(oy&&Lm<Am);if($p.flags&512&&$p.wrap&4&&($p.check=Hp($p.check,Kp,Lm,pm)),Am-=Lm,pm+=Lm,oy)break e}else $p.head&&($p.head.name=null);$p.length=0,$p.mode=av;case av:if($p.flags&4096){if(Am===0)break e;Lm=0;do oy=Kp[pm+Lm++],$p.head&&oy&&$p.length<65536&&($p.head.comment+=String.fromCharCode(oy));while(oy&&Lm<Am);if($p.flags&512&&$p.wrap&4&&($p.check=Hp($p.check,Kp,Lm,pm)),Am-=Lm,pm+=Lm,oy)break e}else $p.head&&($p.head.comment=null);$p.mode=ov;case ov:if($p.flags&512){for(;Dm<16;){if(Am===0)break e;Am--,wm+=Kp[pm++]<<Dm,Dm+=8}if($p.wrap&4&&wm!==($p.check&65535)){gs.msg="header crc mismatch",$p.mode=wy;break}wm=0,Dm=0}$p.head&&($p.head.hcrc=$p.flags>>9&1,$p.head.done=!0),gs.adler=$p.check=0,$p.mode=Uy;break;case sv:for(;Dm<32;){if(Am===0)break e;Am--,wm+=Kp[pm++]<<Dm,Dm+=8}gs.adler=$p.check=wv(wm),wm=0,Dm=0,$p.mode=v0;case v0:if($p.havedict===0)return gs.next_out=Om,gs.avail_out=Vm,gs.next_in=pm,gs.avail_in=Am,$p.hold=wm,$p.bits=Dm,z1;gs.adler=$p.check=1,$p.mode=Uy;case Uy:if(Fp===j1||Fp===g0)break e;case T0:if($p.last){wm>>>=Dm&7,Dm-=Dm&7,$p.mode=A0;break}for(;Dm<3;){if(Am===0)break e;Am--,wm+=Kp[pm++]<<Dm,Dm+=8}switch($p.last=wm&1,wm>>>=1,Dm-=1,wm&3){case 0:$p.mode=lv;break;case 1:if(Y1($p),$p.mode=_0,Fp===g0){wm>>>=2,Dm-=2;break e}break;case 2:$p.mode=uv;break;case 3:gs.msg="invalid block type",$p.mode=wy}wm>>>=2,Dm-=2;break;case lv:for(wm>>>=Dm&7,Dm-=Dm&7;Dm<32;){if(Am===0)break e;Am--,wm+=Kp[pm++]<<Dm,Dm+=8}if((wm&65535)!==(wm>>>16^65535)){gs.msg="invalid stored block lengths",$p.mode=wy;break}if($p.length=wm&65535,wm=0,Dm=0,$p.mode=M0,Fp===g0)break e;case M0:$p.mode=cv;case cv:if(Lm=$p.length,Lm){if(Lm>Am&&(Lm=Am),Lm>Vm&&(Lm=Vm),Lm===0)break e;tm.set(Kp.subarray(pm,pm+Lm),Om),Am-=Lm,pm+=Lm,Vm-=Lm,Om+=Lm,$p.length-=Lm;break}$p.mode=Uy;break;case uv:for(;Dm<14;){if(Am===0)break e;Am--,wm+=Kp[pm++]<<Dm,Dm+=8}if($p.nlen=(wm&31)+257,wm>>>=5,Dm-=5,$p.ndist=(wm&31)+1,wm>>>=5,Dm-=5,$p.ncode=(wm&15)+4,wm>>>=4,Dm-=4,$p.nlen>286||$p.ndist>30){gs.msg="too many length or distance symbols",$p.mode=wy;break}$p.have=0,$p.mode=dv;case dv:for(;$p.have<$p.ncode;){for(;Dm<3;){if(Am===0)break e;Am--,wm+=Kp[pm++]<<Dm,Dm+=8}$p.lens[Ky[$p.have++]]=wm&7,wm>>>=3,Dm-=3}for(;$p.have<19;)$p.lens[Ky[$p.have++]]=0;if($p.lencode=$p.lendyn,$p.lenbits=7,ay={bits:$p.lenbits},vy=u0(N1,$p.lens,0,19,$p.lencode,0,$p.work,ay),$p.lenbits=ay.bits,vy){gs.msg="invalid code lengths set",$p.mode=wy;break}$p.have=0,$p.mode=fv;case fv:for(;$p.have<$p.nlen+$p.ndist;){for(;sy=$p.lencode[wm&(1<<$p.lenbits)-1],iy=sy>>>24,ry=sy>>>16&255,Um=sy&65535,!(iy<=Dm);){if(Am===0)break e;Am--,wm+=Kp[pm++]<<Dm,Dm+=8}if(Um<16)wm>>>=iy,Dm-=iy,$p.lens[$p.have++]=Um;else{if(Um===16){for(Cy=iy+2;Dm<Cy;){if(Am===0)break e;Am--,wm+=Kp[pm++]<<Dm,Dm+=8}if(wm>>>=iy,Dm-=iy,$p.have===0){gs.msg="invalid bit length repeat",$p.mode=wy;break}oy=$p.lens[$p.have-1],Lm=3+(wm&3),wm>>>=2,Dm-=2}else if(Um===17){for(Cy=iy+3;Dm<Cy;){if(Am===0)break e;Am--,wm+=Kp[pm++]<<Dm,Dm+=8}wm>>>=iy,Dm-=iy,oy=0,Lm=3+(wm&7),wm>>>=3,Dm-=3}else{for(Cy=iy+7;Dm<Cy;){if(Am===0)break e;Am--,wm+=Kp[pm++]<<Dm,Dm+=8}wm>>>=iy,Dm-=iy,oy=0,Lm=11+(wm&127),wm>>>=7,Dm-=7}if($p.have+Lm>$p.nlen+$p.ndist){gs.msg="invalid bit length repeat",$p.mode=wy;break}for(;Lm--;)$p.lens[$p.have++]=oy}}if($p.mode===wy)break;if($p.lens[256]===0){gs.msg="invalid code -- missing end-of-block",$p.mode=wy;break}if($p.lenbits=9,ay={bits:$p.lenbits},vy=u0(Y0,$p.lens,0,$p.nlen,$p.lencode,0,$p.work,ay),$p.lenbits=ay.bits,vy){gs.msg="invalid literal/lengths set",$p.mode=wy;break}if($p.distbits=6,$p.distcode=$p.distdyn,ay={bits:$p.distbits},vy=u0(q0,$p.lens,$p.nlen,$p.ndist,$p.distcode,0,$p.work,ay),$p.distbits=ay.bits,vy){gs.msg="invalid distances set",$p.mode=wy;break}if($p.mode=_0,Fp===g0)break e;case _0:$p.mode=x0;case x0:if(Am>=6&&Vm>=258){gs.next_out=Om,gs.avail_out=Vm,gs.next_in=pm,gs.avail_in=Am,$p.hold=wm,$p.bits=Dm,D1(gs,zm),Om=gs.next_out,tm=gs.output,Vm=gs.avail_out,pm=gs.next_in,Kp=gs.input,Am=gs.avail_in,wm=$p.hold,Dm=$p.bits,$p.mode===Uy&&($p.back=-1);break}for($p.back=0;sy=$p.lencode[wm&(1<<$p.lenbits)-1],iy=sy>>>24,ry=sy>>>16&255,Um=sy&65535,!(iy<=Dm);){if(Am===0)break e;Am--,wm+=Kp[pm++]<<Dm,Dm+=8}if(ry&&!(ry&240)){for(ty=iy,$y=ry,uy=Um;sy=$p.lencode[uy+((wm&(1<<ty+$y)-1)>>ty)],iy=sy>>>24,ry=sy>>>16&255,Um=sy&65535,!(ty+iy<=Dm);){if(Am===0)break e;Am--,wm+=Kp[pm++]<<Dm,Dm+=8}wm>>>=ty,Dm-=ty,$p.back+=ty}if(wm>>>=iy,Dm-=iy,$p.back+=iy,$p.length=Um,ry===0){$p.mode=yv;break}if(ry&32){$p.back=-1,$p.mode=Uy;break}if(ry&64){gs.msg="invalid literal/length code",$p.mode=wy;break}$p.extra=ry&15,$p.mode=hv;case hv:if($p.extra){for(Cy=$p.extra;Dm<Cy;){if(Am===0)break e;Am--,wm+=Kp[pm++]<<Dm,Dm+=8}$p.length+=wm&(1<<$p.extra)-1,wm>>>=$p.extra,Dm-=$p.extra,$p.back+=$p.extra}$p.was=$p.length,$p.mode=pv;case pv:for(;sy=$p.distcode[wm&(1<<$p.distbits)-1],iy=sy>>>24,ry=sy>>>16&255,Um=sy&65535,!(iy<=Dm);){if(Am===0)break e;Am--,wm+=Kp[pm++]<<Dm,Dm+=8}if(!(ry&240)){for(ty=iy,$y=ry,uy=Um;sy=$p.distcode[uy+((wm&(1<<ty+$y)-1)>>ty)],iy=sy>>>24,ry=sy>>>16&255,Um=sy&65535,!(ty+iy<=Dm);){if(Am===0)break e;Am--,wm+=Kp[pm++]<<Dm,Dm+=8}wm>>>=ty,Dm-=ty,$p.back+=ty}if(wm>>>=iy,Dm-=iy,$p.back+=iy,ry&64){gs.msg="invalid distance code",$p.mode=wy;break}$p.offset=Um,$p.extra=ry&15,$p.mode=mv;case mv:if($p.extra){for(Cy=$p.extra;Dm<Cy;){if(Am===0)break e;Am--,wm+=Kp[pm++]<<Dm,Dm+=8}$p.offset+=wm&(1<<$p.extra)-1,wm>>>=$p.extra,Dm-=$p.extra,$p.back+=$p.extra}if($p.offset>$p.dmax){gs.msg="invalid distance too far back",$p.mode=wy;break}$p.mode=gv;case gv:if(Vm===0)break e;if(Lm=zm-Vm,$p.offset>Lm){if(Lm=$p.offset-Lm,Lm>$p.whave&&$p.sane){gs.msg="invalid distance too far back",$p.mode=wy;break}Lm>$p.wnext?(Lm-=$p.wnext,xy=$p.wsize-Lm):xy=$p.wnext-Lm,Lm>$p.length&&(Lm=$p.length),Sy=$p.window}else Sy=tm,xy=Om-$p.offset,Lm=$p.length;Lm>Vm&&(Lm=Vm),Vm-=Lm,$p.length-=Lm;do tm[Om++]=Sy[xy++];while(--Lm);$p.length===0&&($p.mode=x0);break;case yv:if(Vm===0)break e;tm[Om++]=$p.length,Vm--,$p.mode=x0;break;case A0:if($p.wrap){for(;Dm<32;){if(Am===0)break e;Am--,wm|=Kp[pm++]<<Dm,Dm+=8}if(zm-=Vm,gs.total_out+=zm,$p.total+=zm,$p.wrap&4&&zm&&(gs.adler=$p.check=$p.flags?Hp($p.check,tm,zm,Om-zm):qp($p.check,tm,zm,Om-zm)),zm=Vm,$p.wrap&4&&($p.flags?wm:wv(wm))!==$p.check){gs.msg="incorrect data check",$p.mode=wy;break}wm=0,Dm=0}$p.mode=vv;case vv:if($p.wrap&&$p.flags){for(;Dm<32;){if(Am===0)break e;Am--,wm+=Kp[pm++]<<Dm,Dm+=8}if($p.wrap&4&&wm!==($p.total&4294967295)){gs.msg="incorrect length check",$p.mode=wy;break}wm=0,Dm=0}$p.mode=_v;case _v:vy=F1;break e;case wy:vy=X0;break e;case xv:return Z0;case bv:default:return Ny}return gs.next_out=Om,gs.avail_out=Vm,gs.next_in=pm,gs.avail_in=Am,$p.hold=wm,$p.bits=Dm,($p.wsize||zm!==gs.avail_out&&$p.mode<wy&&($p.mode<A0||Fp!==K0))&&Mv(gs,gs.output,gs.next_out,zm-gs.avail_out),py-=gs.avail_in,zm-=gs.avail_out,gs.total_in+=py,gs.total_out+=zm,$p.total+=zm,$p.wrap&4&&zm&&(gs.adler=$p.check=$p.flags?Hp($p.check,tm,zm,gs.next_out-zm):qp($p.check,tm,zm,gs.next_out-zm)),gs.data_type=$p.bits+($p.last?64:0)+($p.mode===Uy?128:0)+($p.mode===_0||$p.mode===M0?256:0),(py===0&&zm===0||Fp===K0)&&vy===Yy&&(vy=U1),vy},K1=gs=>{if(qy(gs))return Ny;let Fp=gs.state;return Fp.window&&(Fp.window=null),gs.state=null,Yy},X1=(gs,Fp)=>{if(qy(gs))return Ny;const $p=gs.state;return $p.wrap&2?($p.head=Fp,Fp.done=!1,Yy):Ny},Z1=(gs,Fp)=>{const $p=Fp.length;let Kp,tm,pm;return qy(gs)||(Kp=gs.state,Kp.wrap!==0&&Kp.mode!==v0)?Ny:Kp.mode===v0&&(tm=1,tm=qp(tm,Fp,$p,0),tm!==Kp.check)?X0:(pm=Mv(gs,Fp,$p,$p),pm?(Kp.mode=xv,Z0):(Kp.havedict=1,Yy))};var Q1=Ev,J1=$v,e_=Sv,t_=H1,r_=Cv,n_=q1,i_=K1,a_=X1,o_=Z1,s_="pako inflate (from Nodeca project)",By={inflateReset:Q1,inflateReset2:J1,inflateResetKeep:e_,inflateInit:t_,inflateInit2:r_,inflate:n_,inflateEnd:i_,inflateGetHeader:a_,inflateSetDictionary:o_,inflateInfo:s_};function l_(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var c_=l_;const Av=Object.prototype.toString,{Z_NO_FLUSH:u_,Z_FINISH:d_,Z_OK:d0,Z_STREAM_END:D0,Z_NEED_DICT:O0,Z_STREAM_ERROR:f_,Z_DATA_ERROR:Pv,Z_MEM_ERROR:h_}=Tp;function f0(gs){this.options=h0.assign({chunkSize:65536,windowBits:15,to:""},gs||{});const Fp=this.options;Fp.raw&&Fp.windowBits>=0&&Fp.windowBits<16&&(Fp.windowBits=-Fp.windowBits,Fp.windowBits===0&&(Fp.windowBits=-15)),Fp.windowBits>=0&&Fp.windowBits<16&&!(gs&&gs.windowBits)&&(Fp.windowBits+=32),Fp.windowBits>15&&Fp.windowBits<48&&(Fp.windowBits&15||(Fp.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new U0,this.strm.avail_out=0;let $p=By.inflateInit2(this.strm,Fp.windowBits);if($p!==d0)throw new Error(Mm[$p]);if(this.header=new c_,By.inflateGetHeader(this.strm,this.header),Fp.dictionary&&(typeof Fp.dictionary=="string"?Fp.dictionary=l0.string2buf(Fp.dictionary):Av.call(Fp.dictionary)==="[object ArrayBuffer]"&&(Fp.dictionary=new Uint8Array(Fp.dictionary)),Fp.raw&&($p=By.inflateSetDictionary(this.strm,Fp.dictionary),$p!==d0)))throw new Error(Mm[$p])}f0.prototype.push=function(gs,Fp){const $p=this.strm,Kp=this.options.chunkSize,tm=this.options.dictionary;let pm,Om,Am;if(this.ended)return!1;for(Fp===~~Fp?Om=Fp:Om=Fp===!0?d_:u_,Av.call(gs)==="[object ArrayBuffer]"?$p.input=new Uint8Array(gs):$p.input=gs,$p.next_in=0,$p.avail_in=$p.input.length;;){for($p.avail_out===0&&($p.output=new Uint8Array(Kp),$p.next_out=0,$p.avail_out=Kp),pm=By.inflate($p,Om),pm===O0&&tm&&(pm=By.inflateSetDictionary($p,tm),pm===d0?pm=By.inflate($p,Om):pm===Pv&&(pm=O0));$p.avail_in>0&&pm===D0&&$p.state.wrap>0&&gs[$p.next_in]!==0;)By.inflateReset($p),pm=By.inflate($p,Om);switch(pm){case f_:case Pv:case O0:case h_:return this.onEnd(pm),this.ended=!0,!1}if(Am=$p.avail_out,$p.next_out&&($p.avail_out===0||pm===D0))if(this.options.to==="string"){let Vm=l0.utf8border($p.output,$p.next_out),wm=$p.next_out-Vm,Dm=l0.buf2string($p.output,Vm);$p.next_out=wm,$p.avail_out=Kp-wm,wm&&$p.output.set($p.output.subarray(Vm,Vm+wm),0),this.onData(Dm)}else this.onData($p.output.length===$p.next_out?$p.output:$p.output.subarray(0,$p.next_out));if(!(pm===d0&&Am===0)){if(pm===D0)return pm=By.inflateEnd(this.strm),this.onEnd(pm),this.ended=!0,!0;if($p.avail_in===0)break}}return!0},f0.prototype.onData=function(gs){this.chunks.push(gs)},f0.prototype.onEnd=function(gs){gs===d0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h0.flattenChunks(this.chunks)),this.chunks=[],this.err=gs,this.msg=this.strm.msg};function k0(gs,Fp){const $p=new f0(Fp);if($p.push(gs),$p.err)throw $p.msg||Mm[$p.err];return $p.result}function p_(gs,Fp){return Fp=Fp||{},Fp.raw=!0,k0(gs,Fp)}var m_=f0,g_=k0,y_=p_,v_=k0,__=Tp,x_={Inflate:m_,inflate:g_,inflateRaw:y_,ungzip:v_,constants:__};const{Deflate:b_,deflate:w_,deflateRaw:S_,gzip:E_}=P1,{Inflate:$_,inflate:C_,inflateRaw:T_,ungzip:M_}=x_;var Rv=b_,Dv=w_,Ov=S_,kv=E_,Iv=$_,Lv=C_,Nv=T_,jv=M_,Fv=Tp,A_={Deflate:Rv,deflate:Dv,deflateRaw:Ov,gzip:kv,Inflate:Iv,inflate:Lv,inflateRaw:Nv,ungzip:jv,constants:Fv}}},__webpack_module_cache__={};function __webpack_require__(o){var _=__webpack_module_cache__[o];if(_!==void 0)return _.exports;var $=__webpack_module_cache__[o]={exports:{}};return __webpack_modules__[o].call($.exports,$,$.exports,__webpack_require__),$.exports}__webpack_require__.n=o=>{var _=o&&o.__esModule?()=>o.default:()=>o;return __webpack_require__.d(_,{a:_}),_},__webpack_require__.d=(o,_)=>{for(var $ in _)__webpack_require__.o(_,$)&&!__webpack_require__.o(o,$)&&Object.defineProperty(o,$,{enumerable:!0,get:_[$]})},__webpack_require__.o=(o,_)=>Object.prototype.hasOwnProperty.call(o,_),__webpack_require__.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},__webpack_require__("./src/index.ts"),__webpack_require__("./src/SurfaceWorker.js");var __webpack_exports__=__webpack_require__("./src/exporter.js");return __webpack_exports__})())})(_3Dmol);var _3DmolExports=_3Dmol.exports;const covalentRadii={H:.31,He:.28,Li:1.28,Be:.96,B:.84,C:.76,N:.71,O:.66,F:.57,Ne:.58,Na:1.66,Mg:1.41,Al:1.21,Si:1.11,P:1.07,S:1.05,Cl:1.02,Ar:1.06,K:2.03,Ca:1.76,Sc:1.7,Ti:1.6,V:1.53,Cr:1.39,Mn:1.61,Fe:1.52,Co:1.5,Ni:1.24,Cu:1.32,Zn:1.22,Ga:1.22,Ge:1.2,As:1.19,Se:1.2,Br:1.2,Kr:1.16,Rb:2.2,Sr:1.95,Y:1.9,Zr:1.75,Nb:1.64,Mo:1.54,Tc:1.47,Ru:1.46,Rh:1.42,Pd:1.39,Ag:1.45,Cd:1.44,In:1.42,Sn:1.39,Sb:1.39,Te:1.38,I:1.39,Xe:1.4,Cs:2.44,Ba:2.15,La:2.07,Ce:2.04,Pr:2.03,Nd:2.01,Pm:1.99,Sm:1.98,Eu:1.98,Gd:1.96,Tb:1.94,Dy:1.92,Ho:1.92,Er:1.89,Tm:1.9,Yb:1.87,Lu:1.75,Hf:1.87,Ta:1.7,W:1.62,Re:1.51,Os:1.44,Ir:1.41,Pt:1.36,Au:1.36,Hg:1.32,Tl:1.45,Pb:1.46,Bi:1.48,Po:1.4,At:1.5,Rn:1.5,Fr:2.6,Ra:2.21,Ac:2.15,Th:2.06,Pa:2,U:1.96,Np:1.9,Pu:1.87,Am:1.8,Cm:1.69};function mod(o,_){return(o%_+_)%_}function setCustomBondLengths(){function o(_,$){_3DmolExports.setBondLength(_,$)}Object.keys(covalentRadii).forEach(_=>{o(_,covalentRadii[_])})}class Visualizer3dmol extends React.Component{constructor(_){super(_),setCustomBondLengths(),this.viewer=null,this.model=null,this.divId="gldiv-"+(Math.random()+1).toString(36).substring(7)}componentDidMount(){let _={backgroundColor:"white",orthographic:!0};this.viewer=_3DmolExports.createViewer(this.divId,_),this.updateView()}componentDidUpdate(_){(_.viewerParams!=this.props.viewerParams||_.cifText!=this.props.cifText)&&this.updateView()}custom3dmolSetup(){if(this.model=this.viewer.addModel(),this.props.cifText){let _=_3DmolExports.Parsers.CIF(this.props.cifText),$=_[0],j=_.modelData[0].cryst;this.model.setCrystData(j.a,j.b,j.c,j.alpha,j.beta,j.gamma);let _e=this.model.modelData.cryst.matrix,et=new _3DmolExports.Matrix3().getInverse3(_e),tt=[],nt=[];$.forEach(lt=>{let dt=new _3DmolExports.Vector3(lt.x,lt.y,lt.z);if(this.props.viewerParams.packedCell){let bt=dt.clone().applyMatrix3(et);dt=new _3DmolExports.Vector3(mod(bt.x,1),mod(bt.y,1),mod(bt.z,1)).applyMatrix3(_e)}nt.push({elem:lt.elem,x:dt.x,y:dt.y,z:dt.z})});let it=this.props.viewerParams.supercell;for(let lt=-1;lt<it[0]+1;lt++)for(let dt=-1;dt<it[1]+1;dt++)for(let bt=-1;bt<it[2]+1;bt++){let Ht=new _3DmolExports.Vector3(lt,dt,bt);if(Ht.applyMatrix3(_e),lt==-1||lt==it[0]||dt==-1||dt==it[1]||bt==-1||bt==it[2])if(this.props.viewerParams.packedCell)nt.forEach(pr=>{let _n=new _3DmolExports.Vector3(pr.x,pr.y,pr.z);_n.add(Ht);let ft=_n.clone().applyMatrix3(et);ft.x>-1e-4&&ft.x<it[0]+1e-4&&ft.y>-1e-4&&ft.y<it[1]+1e-4&&ft.z>-1e-4&&ft.z<it[2]+1e-4&&tt.push({elem:pr.elem,x:_n.x,y:_n.y,z:_n.z})});else continue;else nt.forEach(pr=>{tt.push({elem:pr.elem,x:pr.x+Ht.x,y:pr.y+Ht.y,z:pr.z+Ht.z})})}this.model.addAtoms(tt)}}updateView(){this.viewer.removeAllModels(),this.custom3dmolSetup();let _={sphere:{scale:.3,colorscheme:"Jmol"}};this.props.viewerParams.vdwRadius&&(_.sphere.scale=1),this.props.viewerParams.bonds&&(_.stick={radius:.15,colorscheme:"Jmol"}),this.viewer.setStyle(_),this.viewer.addUnitCell(this.model),this.model.assignBonds(),this.viewer.removeAllLabels(),this.props.viewerParams.atomLabels&&this.model.atoms.forEach($=>{this.viewer.addLabel($.elem,{position:{x:$.x,y:$.y,z:$.z},fontColor:"black",bold:!0,fontSize:18,showBackground:!1,backgroundOpacity:1,inFront:!0},null,!0)}),this.viewer.zoomTo(),this.viewer.zoom(1.4),this.viewer.render()}handleEvent(_,$){_=="camera"&&($=="x"&&this.viewer.setView([0,0,0,0,-.5,-.5,-.5,.5]),$=="y"&&this.viewer.setView([0,0,0,0,.5,.5,.5,.5]),$=="z"&&this.viewer.setView([0,0,0,0,0,0,0,1]),this.viewer.zoomTo(),this.viewer.zoom(1.4))}render(){return jsxRuntimeExports.jsx("div",{id:this.divId,className:"gldiv",children:"No data!"})}}class StructureWindow extends React.Component{constructor(_){super(_)}render(){let _="structure-window";this.props.mouseEnabled||(_+=" disable-mouse");let $="Interaction off",j="mouse-disabled-note";return this.props.mouseEnabled&&($="Interaction on",j="mouse-disabled-note on"),jsxRuntimeExports.jsxs("div",{className:"structure-window-outer",children:[jsxRuntimeExports.jsx("div",{onClick:()=>this.props.setMouseEnabledState(!0),children:jsxRuntimeExports.jsx("div",{className:_,children:jsxRuntimeExports.jsx(Visualizer3dmol,{ref:this.props.visualizerRef,viewerParams:this.props.viewerParams,cifText:this.props.cifText})})}),jsxRuntimeExports.jsx("div",{className:j,onClick:()=>this.props.setMouseEnabledState(!this.props.mouseEnabled),children:$})]})}}const StructureVisualizer=o=>{const[_,$]=reactExports.useState({supercell:o.initSupercell||[2,2,2],bonds:!0,packedCell:!0,atomLabels:!1,vdwRadius:!1}),[j,_e]=reactExports.useState(!1),et=reactExports.useRef(null),tt=reactExports.useRef(null);reactExports.useEffect(()=>{const dt=bt=>{tt&&!tt.current.contains(bt.target)&&_e(!1)};return document.addEventListener("mousedown",dt),()=>{document.removeEventListener("mousedown",dt)}},[]);const nt=dt=>{_e(dt)},it=(dt,bt)=>{$(Ht=>({...Ht,[dt]:bt}))},lt=(dt,bt)=>{et.current.handleEvent(dt,bt)};return jsxRuntimeExports.jsxs("div",{ref:tt,className:"structure-visualizer",children:[jsxRuntimeExports.jsx(StructureWindow,{visualizerRef:et,viewerParams:_,cifText:o.cifText,mouseEnabled:j,setMouseEnabledState:nt}),jsxRuntimeExports.jsx(ControlBox,{viewerParams:_,onViewerParamChange:it,onViewerEvent:lt})]})};var cssUnit={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function parseLengthAndUnit(o){if(typeof o=="number")return{value:o,unit:"px"};var _,$=(o.match(/^[0-9.]*/)||"").toString();$.includes(".")?_=parseFloat($):_=parseInt($,10);var j=(o.match(/[^0-9]*$/)||"").toString();return cssUnit[j]?{value:_,unit:j}:(console.warn("React Spinners: ".concat(o," is not a valid css value. Defaulting to ").concat(_,"px.")),{value:_,unit:"px"})}function cssValue(o){var _=parseLengthAndUnit(o);return"".concat(_.value).concat(_.unit)}var createAnimation=function(o,_,$){var j="react-spinners-".concat(o,"-").concat($);if(typeof window>"u"||!window.document)return j;var _e=document.createElement("style");document.head.appendChild(_e);var et=_e.sheet,tt=`
    @keyframes `.concat(j,` {
      `).concat(_,`
    }
  `);return et&&et.insertRule(tt,0),j},__assign=function(){return __assign=Object.assign||function(o){for(var _,$=1,j=arguments.length;$<j;$++){_=arguments[$];for(var _e in _)Object.prototype.hasOwnProperty.call(_,_e)&&(o[_e]=_[_e])}return o},__assign.apply(this,arguments)},__rest=function(o,_){var $={};for(var j in o)Object.prototype.hasOwnProperty.call(o,j)&&_.indexOf(j)<0&&($[j]=o[j]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _e=0,j=Object.getOwnPropertySymbols(o);_e<j.length;_e++)_.indexOf(j[_e])<0&&Object.prototype.propertyIsEnumerable.call(o,j[_e])&&($[j[_e]]=o[j[_e]]);return $},clip=createAnimation("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function ClipLoader(o){var _=o.loading,$=_===void 0?!0:_,j=o.color,_e=j===void 0?"#000000":j,et=o.speedMultiplier,tt=et===void 0?1:et,nt=o.cssOverride,it=nt===void 0?{}:nt,lt=o.size,dt=lt===void 0?35:lt,bt=__rest(o,["loading","color","speedMultiplier","cssOverride","size"]),Ht=__assign({background:"transparent !important",width:cssValue(dt),height:cssValue(dt),borderRadius:"100%",border:"2px solid",borderTopColor:_e,borderBottomColor:"transparent",borderLeftColor:_e,borderRightColor:_e,display:"inline-block",animation:"".concat(clip," ").concat(.75/tt,"s 0s infinite linear"),animationFillMode:"both"},it);return $?reactExports.createElement("span",__assign({style:Ht},bt)):null}var Component={},toggleSelection=function(){var o=document.getSelection();if(!o.rangeCount)return function(){};for(var _=document.activeElement,$=[],j=0;j<o.rangeCount;j++)$.push(o.getRangeAt(j));switch(_.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":_.blur();break;default:_=null;break}return o.removeAllRanges(),function(){o.type==="Caret"&&o.removeAllRanges(),o.rangeCount||$.forEach(function(_e){o.addRange(_e)}),_&&_.focus()}},deselectCurrent=toggleSelection,clipboardToIE11Formatting={"text/plain":"Text","text/html":"Url",default:"Text"},defaultMessage="Copy to clipboard: #{key}, Enter";function format$2(o){var _=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return o.replace(/#{\s*key\s*}/g,_)}function copy$3(o,_){var $,j,_e,et,tt,nt,it=!1;_||(_={}),$=_.debug||!1;try{_e=deselectCurrent(),et=document.createRange(),tt=document.getSelection(),nt=document.createElement("span"),nt.textContent=o,nt.ariaHidden="true",nt.style.all="unset",nt.style.position="fixed",nt.style.top=0,nt.style.clip="rect(0, 0, 0, 0)",nt.style.whiteSpace="pre",nt.style.webkitUserSelect="text",nt.style.MozUserSelect="text",nt.style.msUserSelect="text",nt.style.userSelect="text",nt.addEventListener("copy",function(dt){if(dt.stopPropagation(),_.format)if(dt.preventDefault(),typeof dt.clipboardData>"u"){$&&console.warn("unable to use e.clipboardData"),$&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var bt=clipboardToIE11Formatting[_.format]||clipboardToIE11Formatting.default;window.clipboardData.setData(bt,o)}else dt.clipboardData.clearData(),dt.clipboardData.setData(_.format,o);_.onCopy&&(dt.preventDefault(),_.onCopy(dt.clipboardData))}),document.body.appendChild(nt),et.selectNodeContents(nt),tt.addRange(et);var lt=document.execCommand("copy");if(!lt)throw new Error("copy command was unsuccessful");it=!0}catch(dt){$&&console.error("unable to copy using execCommand: ",dt),$&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(_.format||"text",o),_.onCopy&&_.onCopy(window.clipboardData),it=!0}catch(bt){$&&console.error("unable to copy using clipboardData: ",bt),$&&console.error("falling back to prompt"),j=format$2("message"in _?_.message:defaultMessage),window.prompt(j,o)}}finally{tt&&(typeof tt.removeRange=="function"?tt.removeRange(et):tt.removeAllRanges()),nt&&document.body.removeChild(nt),_e()}return it}var copyToClipboard=copy$3;const copyToClipboard$1=getDefaultExportFromCjs(copyToClipboard);function _typeof$I(o){"@babel/helpers - typeof";return _typeof$I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$I(o)}Object.defineProperty(Component,"__esModule",{value:!0});Component.CopyToClipboard=void 0;var _react=_interopRequireDefault$2(reactExports),_copyToClipboard=_interopRequireDefault$2(copyToClipboard),_excluded$y=["text","onCopy","options","children"];function _interopRequireDefault$2(o){return o&&o.__esModule?o:{default:o}}function ownKeys$D(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$C(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$D(Object($),!0).forEach(function(j){_defineProperty$G(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$D(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _objectWithoutProperties$j(o,_){if(o==null)return{};var $=_objectWithoutPropertiesLoose$k(o,_),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for(_e=0;_e<et.length;_e++)j=et[_e],!(_.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(o,j)&&($[j]=o[j])}return $}function _objectWithoutPropertiesLoose$k(o,_){if(o==null)return{};var $={},j=Object.keys(o),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(_.indexOf(_e)>=0)&&($[_e]=o[_e]);return $}function _classCallCheck$g(o,_){if(!(o instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$g(o,_){for(var $=0;$<_.length;$++){var j=_[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(o,j.key,j)}}function _createClass$g(o,_,$){return _&&_defineProperties$g(o.prototype,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _inherits$d(o,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(_&&_.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),_&&_setPrototypeOf$e(o,_)}function _setPrototypeOf$e(o,_){return _setPrototypeOf$e=Object.setPrototypeOf||function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$e(o,_)}function _createSuper$1(o){var _=_isNativeReflectConstruct$d();return function(){var j=_getPrototypeOf$d(o),_e;if(_){var et=_getPrototypeOf$d(this).constructor;_e=Reflect.construct(j,arguments,et)}else _e=j.apply(this,arguments);return _possibleConstructorReturn$d(this,_e)}}function _possibleConstructorReturn$d(o,_){if(_&&(_typeof$I(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$e(o)}function _assertThisInitialized$e(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$d(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$d(o){return _getPrototypeOf$d=Object.setPrototypeOf?Object.getPrototypeOf:function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$d(o)}function _defineProperty$G(o,_,$){return _ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}var CopyToClipboard$1=function(o){_inherits$d($,o);var _=_createSuper$1($);function $(){var j;_classCallCheck$g(this,$);for(var _e=arguments.length,et=new Array(_e),tt=0;tt<_e;tt++)et[tt]=arguments[tt];return j=_.call.apply(_,[this].concat(et)),_defineProperty$G(_assertThisInitialized$e(j),"onClick",function(nt){var it=j.props,lt=it.text,dt=it.onCopy,bt=it.children,Ht=it.options,pr=_react.default.Children.only(bt),_n=(0,_copyToClipboard.default)(lt,Ht);dt&&dt(lt,_n),pr&&pr.props&&typeof pr.props.onClick=="function"&&pr.props.onClick(nt)}),j}return _createClass$g($,[{key:"render",value:function(){var _e=this.props;_e.text,_e.onCopy,_e.options;var et=_e.children,tt=_objectWithoutProperties$j(_e,_excluded$y),nt=_react.default.Children.only(et);return _react.default.cloneElement(nt,_objectSpread$C(_objectSpread$C({},tt),{},{onClick:this.onClick}))}}]),$}(_react.default.PureComponent);Component.CopyToClipboard=CopyToClipboard$1;_defineProperty$G(CopyToClipboard$1,"defaultProps",{onCopy:void 0,options:void 0});var _require=Component,CopyToClipboard=_require.CopyToClipboard;CopyToClipboard.CopyToClipboard=CopyToClipboard;var lib=CopyToClipboard;function bind(o,_){return function(){return o.apply(_,arguments)}}const{toString:toString$5}=Object.prototype,{getPrototypeOf}=Object,kindOf=(o=>_=>{const $=toString$5.call(_);return o[$]||(o[$]=$.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=o=>(o=o.toLowerCase(),_=>kindOf(_)===o),typeOfTest=o=>_=>typeof _===o,{isArray:isArray$g}=Array,isUndefined=typeOfTest("undefined");function isBuffer$3(o){return o!==null&&!isUndefined(o)&&o.constructor!==null&&!isUndefined(o.constructor)&&isFunction$5(o.constructor.isBuffer)&&o.constructor.isBuffer(o)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(o){let _;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?_=ArrayBuffer.isView(o):_=o&&o.buffer&&isArrayBuffer(o.buffer),_}const isString$2=typeOfTest("string"),isFunction$5=typeOfTest("function"),isNumber$4=typeOfTest("number"),isObject$9=o=>o!==null&&typeof o=="object",isBoolean$2=o=>o===!0||o===!1,isPlainObject$4=o=>{if(kindOf(o)!=="object")return!1;const _=getPrototypeOf(o);return(_===null||_===Object.prototype||Object.getPrototypeOf(_)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)},isDate$1=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=o=>isObject$9(o)&&isFunction$5(o.pipe),isFormData=o=>{let _;return o&&(typeof FormData=="function"&&o instanceof FormData||isFunction$5(o.append)&&((_=kindOf(o))==="formdata"||_==="object"&&isFunction$5(o.toString)&&o.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim$1=o=>o.trim?o.trim():o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(o,_,{allOwnKeys:$=!1}={}){if(o===null||typeof o>"u")return;let j,_e;if(typeof o!="object"&&(o=[o]),isArray$g(o))for(j=0,_e=o.length;j<_e;j++)_.call(null,o[j],j,o);else{const et=$?Object.getOwnPropertyNames(o):Object.keys(o),tt=et.length;let nt;for(j=0;j<tt;j++)nt=et[j],_.call(null,o[nt],nt,o)}}function findKey$1(o,_){_=_.toLowerCase();const $=Object.keys(o);let j=$.length,_e;for(;j-- >0;)if(_e=$[j],_===_e.toLowerCase())return _e;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=o=>!isUndefined(o)&&o!==_global;function merge$1(){const{caseless:o}=isContextDefined(this)&&this||{},_={},$=(j,_e)=>{const et=o&&findKey$1(_,_e)||_e;isPlainObject$4(_[et])&&isPlainObject$4(j)?_[et]=merge$1(_[et],j):isPlainObject$4(j)?_[et]=merge$1({},j):isArray$g(j)?_[et]=j.slice():_[et]=j};for(let j=0,_e=arguments.length;j<_e;j++)arguments[j]&&forEach(arguments[j],$);return _}const extend$1=(o,_,$,{allOwnKeys:j}={})=>(forEach(_,(_e,et)=>{$&&isFunction$5(_e)?o[et]=bind(_e,$):o[et]=_e},{allOwnKeys:j}),o),stripBOM=o=>(o.charCodeAt(0)===65279&&(o=o.slice(1)),o),inherits=(o,_,$,j)=>{o.prototype=Object.create(_.prototype,j),o.prototype.constructor=o,Object.defineProperty(o,"super",{value:_.prototype}),$&&Object.assign(o.prototype,$)},toFlatObject=(o,_,$,j)=>{let _e,et,tt;const nt={};if(_=_||{},o==null)return _;do{for(_e=Object.getOwnPropertyNames(o),et=_e.length;et-- >0;)tt=_e[et],(!j||j(tt,o,_))&&!nt[tt]&&(_[tt]=o[tt],nt[tt]=!0);o=$!==!1&&getPrototypeOf(o)}while(o&&(!$||$(o,_))&&o!==Object.prototype);return _},endsWith=(o,_,$)=>{o=String(o),($===void 0||$>o.length)&&($=o.length),$-=_.length;const j=o.indexOf(_,$);return j!==-1&&j===$},toArray$1=o=>{if(!o)return null;if(isArray$g(o))return o;let _=o.length;if(!isNumber$4(_))return null;const $=new Array(_);for(;_-- >0;)$[_]=o[_];return $},isTypedArray$4=(o=>_=>o&&_ instanceof o)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(o,_)=>{const j=(o&&o[Symbol.iterator]).call(o);let _e;for(;(_e=j.next())&&!_e.done;){const et=_e.value;_.call(o,et[0],et[1])}},matchAll=(o,_)=>{let $;const j=[];for(;($=o.exec(_))!==null;)j.push($);return j},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=o=>o.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function($,j,_e){return j.toUpperCase()+_e}),hasOwnProperty$b=(({hasOwnProperty:o})=>(_,$)=>o.call(_,$))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(o,_)=>{const $=Object.getOwnPropertyDescriptors(o),j={};forEach($,(_e,et)=>{let tt;(tt=_(_e,et,o))!==!1&&(j[et]=tt||_e)}),Object.defineProperties(o,j)},freezeMethods=o=>{reduceDescriptors(o,(_,$)=>{if(isFunction$5(o)&&["arguments","caller","callee"].indexOf($)!==-1)return!1;const j=o[$];if(isFunction$5(j)){if(_.enumerable=!1,"writable"in _){_.writable=!1;return}_.set||(_.set=()=>{throw Error("Can not rewrite read-only method '"+$+"'")})}})},toObjectSet=(o,_)=>{const $={},j=_e=>{_e.forEach(et=>{$[et]=!0})};return isArray$g(o)?j(o):j(String(o).split(_)),$},noop$5=()=>{},toFiniteNumber=(o,_)=>o!=null&&Number.isFinite(o=+o)?o:_,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(o=16,_=ALPHABET.ALPHA_DIGIT)=>{let $="";const{length:j}=_;for(;o--;)$+=_[Math.random()*j|0];return $};function isSpecCompliantForm(o){return!!(o&&isFunction$5(o.append)&&o[Symbol.toStringTag]==="FormData"&&o[Symbol.iterator])}const toJSONObject=o=>{const _=new Array(10),$=(j,_e)=>{if(isObject$9(j)){if(_.indexOf(j)>=0)return;if(!("toJSON"in j)){_[_e]=j;const et=isArray$g(j)?[]:{};return forEach(j,(tt,nt)=>{const it=$(tt,_e+1);!isUndefined(it)&&(et[nt]=it)}),_[_e]=void 0,et}}return j};return $(o,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=o=>o&&(isObject$9(o)||isFunction$5(o))&&isFunction$5(o.then)&&isFunction$5(o.catch),_setImmediate=((o,_)=>o?setImmediate:_?(($,j)=>(_global.addEventListener("message",({source:_e,data:et})=>{_e===_global&&et===$&&j.length&&j.shift()()},!1),_e=>{j.push(_e),_global.postMessage($,"*")}))(`axios@${Math.random()}`,[]):$=>setTimeout($))(typeof setImmediate=="function",isFunction$5(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,utils$1={isArray:isArray$g,isArrayBuffer,isBuffer:isBuffer$3,isFormData,isArrayBufferView,isString:isString$2,isNumber:isNumber$4,isBoolean:isBoolean$2,isObject:isObject$9,isPlainObject:isPlainObject$4,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate:isDate$1,isFile,isBlob,isRegExp,isFunction:isFunction$5,isStream,isURLSearchParams,isTypedArray:isTypedArray$4,isFileList,forEach,merge:merge$1,extend:extend$1,trim:trim$1,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$1,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$b,hasOwnProp:hasOwnProperty$b,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$5,toFiniteNumber,findKey:findKey$1,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap};function AxiosError(o,_,$,j,_e){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=o,this.name="AxiosError",_&&(this.code=_),$&&(this.config=$),j&&(this.request=j),_e&&(this.response=_e)}utils$1.inherits(AxiosError,Error,{toJSON:function o(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(o=>{descriptors[o]={value:o}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(o,_,$,j,_e,et)=>{const tt=Object.create(prototype$1);return utils$1.toFlatObject(o,tt,function(it){return it!==Error.prototype},nt=>nt!=="isAxiosError"),AxiosError.call(tt,o.message,_,$,j,_e),tt.cause=o,tt.name=o.name,et&&Object.assign(tt,et),tt};const httpAdapter=null;function isVisitable(o){return utils$1.isPlainObject(o)||utils$1.isArray(o)}function removeBrackets(o){return utils$1.endsWith(o,"[]")?o.slice(0,-2):o}function renderKey(o,_,$){return o?o.concat(_).map(function(_e,et){return _e=removeBrackets(_e),!$&&et?"["+_e+"]":_e}).join($?".":""):_}function isFlatArray(o){return utils$1.isArray(o)&&!o.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function o(_){return/^is[A-Z]/.test(_)});function toFormData(o,_,$){if(!utils$1.isObject(o))throw new TypeError("target must be an object");_=_||new FormData,$=utils$1.toFlatObject($,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ft,Ct){return!utils$1.isUndefined(Ct[ft])});const j=$.metaTokens,_e=$.visitor||dt,et=$.dots,tt=$.indexes,it=($.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(_);if(!utils$1.isFunction(_e))throw new TypeError("visitor must be a function");function lt(_n){if(_n===null)return"";if(utils$1.isDate(_n))return _n.toISOString();if(!it&&utils$1.isBlob(_n))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(_n)||utils$1.isTypedArray(_n)?it&&typeof Blob=="function"?new Blob([_n]):Buffer.from(_n):_n}function dt(_n,ft,Ct){let mr=_n;if(_n&&!Ct&&typeof _n=="object"){if(utils$1.endsWith(ft,"{}"))ft=j?ft:ft.slice(0,-2),_n=JSON.stringify(_n);else if(utils$1.isArray(_n)&&isFlatArray(_n)||(utils$1.isFileList(_n)||utils$1.endsWith(ft,"[]"))&&(mr=utils$1.toArray(_n)))return ft=removeBrackets(ft),mr.forEach(function(mn,dr){!(utils$1.isUndefined(mn)||mn===null)&&_.append(tt===!0?renderKey([ft],dr,et):tt===null?ft:ft+"[]",lt(mn))}),!1}return isVisitable(_n)?!0:(_.append(renderKey(Ct,ft,et),lt(_n)),!1)}const bt=[],Ht=Object.assign(predicates,{defaultVisitor:dt,convertValue:lt,isVisitable});function pr(_n,ft){if(!utils$1.isUndefined(_n)){if(bt.indexOf(_n)!==-1)throw Error("Circular reference detected in "+ft.join("."));bt.push(_n),utils$1.forEach(_n,function(mr,_r){(!(utils$1.isUndefined(mr)||mr===null)&&_e.call(_,mr,utils$1.isString(_r)?_r.trim():_r,ft,Ht))===!0&&pr(mr,ft?ft.concat(_r):[_r])}),bt.pop()}}if(!utils$1.isObject(o))throw new TypeError("data must be an object");return pr(o),_}function encode$1(o){const _={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(o).replace(/[!'()~]|%20|%00/g,function(j){return _[j]})}function AxiosURLSearchParams(o,_){this._pairs=[],o&&toFormData(o,this,_)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function o(_,$){this._pairs.push([_,$])};prototype.toString=function o(_){const $=_?function(j){return _.call(this,j,encode$1)}:encode$1;return this._pairs.map(function(_e){return $(_e[0])+"="+$(_e[1])},"").join("&")};function encode(o){return encodeURIComponent(o).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(o,_,$){if(!_)return o;const j=$&&$.encode||encode,_e=$&&$.serialize;let et;if(_e?et=_e(_,$):et=utils$1.isURLSearchParams(_)?_.toString():new AxiosURLSearchParams(_,$).toString(j),et){const tt=o.indexOf("#");tt!==-1&&(o=o.slice(0,tt)),o+=(o.indexOf("?")===-1?"?":"&")+et}return o}class InterceptorManager{constructor(){this.handlers=[]}use(_,$,j){return this.handlers.push({fulfilled:_,rejected:$,synchronous:j?j.synchronous:!1,runWhen:j?j.runWhen:null}),this.handlers.length-1}eject(_){this.handlers[_]&&(this.handlers[_]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(_){utils$1.forEach(this.handlers,function(j){j!==null&&_(j)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$2={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(o=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(o)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,origin},Symbol.toStringTag,{value:"Module"})),platform$1={...utils,...platform$2};function toURLEncodedForm(o,_){return toFormData(o,new platform$1.classes.URLSearchParams,Object.assign({visitor:function($,j,_e,et){return platform$1.isNode&&utils$1.isBuffer($)?(this.append(j,$.toString("base64")),!1):et.defaultVisitor.apply(this,arguments)}},_))}function parsePropPath(o){return utils$1.matchAll(/\w+|\[(\w*)]/g,o).map(_=>_[0]==="[]"?"":_[1]||_[0])}function arrayToObject(o){const _={},$=Object.keys(o);let j;const _e=$.length;let et;for(j=0;j<_e;j++)et=$[j],_[et]=o[et];return _}function formDataToJSON(o){function _($,j,_e,et){let tt=$[et++];if(tt==="__proto__")return!0;const nt=Number.isFinite(+tt),it=et>=$.length;return tt=!tt&&utils$1.isArray(_e)?_e.length:tt,it?(utils$1.hasOwnProp(_e,tt)?_e[tt]=[_e[tt],j]:_e[tt]=j,!nt):((!_e[tt]||!utils$1.isObject(_e[tt]))&&(_e[tt]=[]),_($,j,_e[tt],et)&&utils$1.isArray(_e[tt])&&(_e[tt]=arrayToObject(_e[tt])),!nt)}if(utils$1.isFormData(o)&&utils$1.isFunction(o.entries)){const $={};return utils$1.forEachEntry(o,(j,_e)=>{_(parsePropPath(j),_e,$,0)}),$}return null}function stringifySafely(o,_,$){if(utils$1.isString(o))try{return(_||JSON.parse)(o),utils$1.trim(o)}catch(j){if(j.name!=="SyntaxError")throw j}return($||JSON.stringify)(o)}const defaults$1={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function o(_,$){const j=$.getContentType()||"",_e=j.indexOf("application/json")>-1,et=utils$1.isObject(_);if(et&&utils$1.isHTMLForm(_)&&(_=new FormData(_)),utils$1.isFormData(_))return _e?JSON.stringify(formDataToJSON(_)):_;if(utils$1.isArrayBuffer(_)||utils$1.isBuffer(_)||utils$1.isStream(_)||utils$1.isFile(_)||utils$1.isBlob(_)||utils$1.isReadableStream(_))return _;if(utils$1.isArrayBufferView(_))return _.buffer;if(utils$1.isURLSearchParams(_))return $.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),_.toString();let nt;if(et){if(j.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(_,this.formSerializer).toString();if((nt=utils$1.isFileList(_))||j.indexOf("multipart/form-data")>-1){const it=this.env&&this.env.FormData;return toFormData(nt?{"files[]":_}:_,it&&new it,this.formSerializer)}}return et||_e?($.setContentType("application/json",!1),stringifySafely(_)):_}],transformResponse:[function o(_){const $=this.transitional||defaults$1.transitional,j=$&&$.forcedJSONParsing,_e=this.responseType==="json";if(utils$1.isResponse(_)||utils$1.isReadableStream(_))return _;if(_&&utils$1.isString(_)&&(j&&!this.responseType||_e)){const tt=!($&&$.silentJSONParsing)&&_e;try{return JSON.parse(_)}catch(nt){if(tt)throw nt.name==="SyntaxError"?AxiosError.from(nt,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):nt}}return _}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform$1.classes.FormData,Blob:platform$1.classes.Blob},validateStatus:function o(_){return _>=200&&_<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],o=>{defaults$1.headers[o]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=o=>{const _={};let $,j,_e;return o&&o.split(`
`).forEach(function(tt){_e=tt.indexOf(":"),$=tt.substring(0,_e).trim().toLowerCase(),j=tt.substring(_e+1).trim(),!(!$||_[$]&&ignoreDuplicateOf[$])&&($==="set-cookie"?_[$]?_[$].push(j):_[$]=[j]:_[$]=_[$]?_[$]+", "+j:j)}),_},$internals=Symbol("internals");function normalizeHeader(o){return o&&String(o).trim().toLowerCase()}function normalizeValue(o){return o===!1||o==null?o:utils$1.isArray(o)?o.map(normalizeValue):String(o)}function parseTokens(o){const _=Object.create(null),$=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let j;for(;j=$.exec(o);)_[j[1]]=j[2];return _}const isValidHeaderName=o=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(o.trim());function matchHeaderValue(o,_,$,j,_e){if(utils$1.isFunction(j))return j.call(this,_,$);if(_e&&(_=$),!!utils$1.isString(_)){if(utils$1.isString(j))return _.indexOf(j)!==-1;if(utils$1.isRegExp(j))return j.test(_)}}function formatHeader(o){return o.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(_,$,j)=>$.toUpperCase()+j)}function buildAccessors(o,_){const $=utils$1.toCamelCase(" "+_);["get","set","has"].forEach(j=>{Object.defineProperty(o,j+$,{value:function(_e,et,tt){return this[j].call(this,_,_e,et,tt)},configurable:!0})})}class AxiosHeaders{constructor(_){_&&this.set(_)}set(_,$,j){const _e=this;function et(nt,it,lt){const dt=normalizeHeader(it);if(!dt)throw new Error("header name must be a non-empty string");const bt=utils$1.findKey(_e,dt);(!bt||_e[bt]===void 0||lt===!0||lt===void 0&&_e[bt]!==!1)&&(_e[bt||it]=normalizeValue(nt))}const tt=(nt,it)=>utils$1.forEach(nt,(lt,dt)=>et(lt,dt,it));if(utils$1.isPlainObject(_)||_ instanceof this.constructor)tt(_,$);else if(utils$1.isString(_)&&(_=_.trim())&&!isValidHeaderName(_))tt(parseHeaders(_),$);else if(utils$1.isHeaders(_))for(const[nt,it]of _.entries())et(it,nt,j);else _!=null&&et($,_,j);return this}get(_,$){if(_=normalizeHeader(_),_){const j=utils$1.findKey(this,_);if(j){const _e=this[j];if(!$)return _e;if($===!0)return parseTokens(_e);if(utils$1.isFunction($))return $.call(this,_e,j);if(utils$1.isRegExp($))return $.exec(_e);throw new TypeError("parser must be boolean|regexp|function")}}}has(_,$){if(_=normalizeHeader(_),_){const j=utils$1.findKey(this,_);return!!(j&&this[j]!==void 0&&(!$||matchHeaderValue(this,this[j],j,$)))}return!1}delete(_,$){const j=this;let _e=!1;function et(tt){if(tt=normalizeHeader(tt),tt){const nt=utils$1.findKey(j,tt);nt&&(!$||matchHeaderValue(j,j[nt],nt,$))&&(delete j[nt],_e=!0)}}return utils$1.isArray(_)?_.forEach(et):et(_),_e}clear(_){const $=Object.keys(this);let j=$.length,_e=!1;for(;j--;){const et=$[j];(!_||matchHeaderValue(this,this[et],et,_,!0))&&(delete this[et],_e=!0)}return _e}normalize(_){const $=this,j={};return utils$1.forEach(this,(_e,et)=>{const tt=utils$1.findKey(j,et);if(tt){$[tt]=normalizeValue(_e),delete $[et];return}const nt=_?formatHeader(et):String(et).trim();nt!==et&&delete $[et],$[nt]=normalizeValue(_e),j[nt]=!0}),this}concat(..._){return this.constructor.concat(this,..._)}toJSON(_){const $=Object.create(null);return utils$1.forEach(this,(j,_e)=>{j!=null&&j!==!1&&($[_e]=_&&utils$1.isArray(j)?j.join(", "):j)}),$}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([_,$])=>_+": "+$).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(_){return _ instanceof this?_:new this(_)}static concat(_,...$){const j=new this(_);return $.forEach(_e=>j.set(_e)),j}static accessor(_){const j=(this[$internals]=this[$internals]={accessors:{}}).accessors,_e=this.prototype;function et(tt){const nt=normalizeHeader(tt);j[nt]||(buildAccessors(_e,tt),j[nt]=!0)}return utils$1.isArray(_)?_.forEach(et):et(_),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:o},_)=>{let $=_[0].toUpperCase()+_.slice(1);return{get:()=>o,set(j){this[$]=j}}});utils$1.freezeMethods(AxiosHeaders);function transformData(o,_){const $=this||defaults$1,j=_||$,_e=AxiosHeaders.from(j.headers);let et=j.data;return utils$1.forEach(o,function(nt){et=nt.call($,et,_e.normalize(),_?_.status:void 0)}),_e.normalize(),et}function isCancel(o){return!!(o&&o.__CANCEL__)}function CanceledError(o,_,$){AxiosError.call(this,o??"canceled",AxiosError.ERR_CANCELED,_,$),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(o,_,$){const j=$.config.validateStatus;!$.status||!j||j($.status)?o($):_(new AxiosError("Request failed with status code "+$.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor($.status/100)-4],$.config,$.request,$))}function parseProtocol(o){const _=/^([-+\w]{1,25})(:?\/\/|:)/.exec(o);return _&&_[1]||""}function speedometer(o,_){o=o||10;const $=new Array(o),j=new Array(o);let _e=0,et=0,tt;return _=_!==void 0?_:1e3,function(it){const lt=Date.now(),dt=j[et];tt||(tt=lt),$[_e]=it,j[_e]=lt;let bt=et,Ht=0;for(;bt!==_e;)Ht+=$[bt++],bt=bt%o;if(_e=(_e+1)%o,_e===et&&(et=(et+1)%o),lt-tt<_)return;const pr=dt&&lt-dt;return pr?Math.round(Ht*1e3/pr):void 0}}function throttle$2(o,_){let $=0,j=1e3/_,_e,et;const tt=(lt,dt=Date.now())=>{$=dt,_e=null,et&&(clearTimeout(et),et=null),o.apply(null,lt)};return[(...lt)=>{const dt=Date.now(),bt=dt-$;bt>=j?tt(lt,dt):(_e=lt,et||(et=setTimeout(()=>{et=null,tt(_e)},j-bt)))},()=>_e&&tt(_e)]}const progressEventReducer=(o,_,$=3)=>{let j=0;const _e=speedometer(50,250);return throttle$2(et=>{const tt=et.loaded,nt=et.lengthComputable?et.total:void 0,it=tt-j,lt=_e(it),dt=tt<=nt;j=tt;const bt={loaded:tt,total:nt,progress:nt?tt/nt:void 0,bytes:it,rate:lt||void 0,estimated:lt&&nt&&dt?(nt-tt)/lt:void 0,event:et,lengthComputable:nt!=null,[_?"download":"upload"]:!0};o(bt)},$)},progressEventDecorator=(o,_)=>{const $=o!=null;return[j=>_[0]({lengthComputable:$,total:o,loaded:j}),_[1]]},asyncDecorator=o=>(..._)=>utils$1.asap(()=>o(..._)),isURLSameOrigin=platform$1.hasStandardBrowserEnv?function o(){const _=/(msie|trident)/i.test(navigator.userAgent),$=document.createElement("a");let j;function _e(et){let tt=et;return _&&($.setAttribute("href",tt),tt=$.href),$.setAttribute("href",tt),{href:$.href,protocol:$.protocol?$.protocol.replace(/:$/,""):"",host:$.host,search:$.search?$.search.replace(/^\?/,""):"",hash:$.hash?$.hash.replace(/^#/,""):"",hostname:$.hostname,port:$.port,pathname:$.pathname.charAt(0)==="/"?$.pathname:"/"+$.pathname}}return j=_e(window.location.href),function(tt){const nt=utils$1.isString(tt)?_e(tt):tt;return nt.protocol===j.protocol&&nt.host===j.host}}():function o(){return function(){return!0}}(),cookies=platform$1.hasStandardBrowserEnv?{write(o,_,$,j,_e,et){const tt=[o+"="+encodeURIComponent(_)];utils$1.isNumber($)&&tt.push("expires="+new Date($).toGMTString()),utils$1.isString(j)&&tt.push("path="+j),utils$1.isString(_e)&&tt.push("domain="+_e),et===!0&&tt.push("secure"),document.cookie=tt.join("; ")},read(o){const _=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return _?decodeURIComponent(_[3]):null},remove(o){this.write(o,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(o){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(o)}function combineURLs(o,_){return _?o.replace(/\/?\/$/,"")+"/"+_.replace(/^\/+/,""):o}function buildFullPath(o,_){return o&&!isAbsoluteURL(_)?combineURLs(o,_):_}const headersToObject=o=>o instanceof AxiosHeaders?{...o}:o;function mergeConfig(o,_){_=_||{};const $={};function j(lt,dt,bt){return utils$1.isPlainObject(lt)&&utils$1.isPlainObject(dt)?utils$1.merge.call({caseless:bt},lt,dt):utils$1.isPlainObject(dt)?utils$1.merge({},dt):utils$1.isArray(dt)?dt.slice():dt}function _e(lt,dt,bt){if(utils$1.isUndefined(dt)){if(!utils$1.isUndefined(lt))return j(void 0,lt,bt)}else return j(lt,dt,bt)}function et(lt,dt){if(!utils$1.isUndefined(dt))return j(void 0,dt)}function tt(lt,dt){if(utils$1.isUndefined(dt)){if(!utils$1.isUndefined(lt))return j(void 0,lt)}else return j(void 0,dt)}function nt(lt,dt,bt){if(bt in _)return j(lt,dt);if(bt in o)return j(void 0,lt)}const it={url:et,method:et,data:et,baseURL:tt,transformRequest:tt,transformResponse:tt,paramsSerializer:tt,timeout:tt,timeoutMessage:tt,withCredentials:tt,withXSRFToken:tt,adapter:tt,responseType:tt,xsrfCookieName:tt,xsrfHeaderName:tt,onUploadProgress:tt,onDownloadProgress:tt,decompress:tt,maxContentLength:tt,maxBodyLength:tt,beforeRedirect:tt,transport:tt,httpAgent:tt,httpsAgent:tt,cancelToken:tt,socketPath:tt,responseEncoding:tt,validateStatus:nt,headers:(lt,dt)=>_e(headersToObject(lt),headersToObject(dt),!0)};return utils$1.forEach(Object.keys(Object.assign({},o,_)),function(dt){const bt=it[dt]||_e,Ht=bt(o[dt],_[dt],dt);utils$1.isUndefined(Ht)&&bt!==nt||($[dt]=Ht)}),$}const resolveConfig=o=>{const _=mergeConfig({},o);let{data:$,withXSRFToken:j,xsrfHeaderName:_e,xsrfCookieName:et,headers:tt,auth:nt}=_;_.headers=tt=AxiosHeaders.from(tt),_.url=buildURL(buildFullPath(_.baseURL,_.url),o.params,o.paramsSerializer),nt&&tt.set("Authorization","Basic "+btoa((nt.username||"")+":"+(nt.password?unescape(encodeURIComponent(nt.password)):"")));let it;if(utils$1.isFormData($)){if(platform$1.hasStandardBrowserEnv||platform$1.hasStandardBrowserWebWorkerEnv)tt.setContentType(void 0);else if((it=tt.getContentType())!==!1){const[lt,...dt]=it?it.split(";").map(bt=>bt.trim()).filter(Boolean):[];tt.setContentType([lt||"multipart/form-data",...dt].join("; "))}}if(platform$1.hasStandardBrowserEnv&&(j&&utils$1.isFunction(j)&&(j=j(_)),j||j!==!1&&isURLSameOrigin(_.url))){const lt=_e&&et&&cookies.read(et);lt&&tt.set(_e,lt)}return _},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(o){return new Promise(function($,j){const _e=resolveConfig(o);let et=_e.data;const tt=AxiosHeaders.from(_e.headers).normalize();let{responseType:nt,onUploadProgress:it,onDownloadProgress:lt}=_e,dt,bt,Ht,pr,_n;function ft(){pr&&pr(),_n&&_n(),_e.cancelToken&&_e.cancelToken.unsubscribe(dt),_e.signal&&_e.signal.removeEventListener("abort",dt)}let Ct=new XMLHttpRequest;Ct.open(_e.method.toUpperCase(),_e.url,!0),Ct.timeout=_e.timeout;function mr(){if(!Ct)return;const mn=AxiosHeaders.from("getAllResponseHeaders"in Ct&&Ct.getAllResponseHeaders()),pn={data:!nt||nt==="text"||nt==="json"?Ct.responseText:Ct.response,status:Ct.status,statusText:Ct.statusText,headers:mn,config:o,request:Ct};settle(function(Io){$(Io),ft()},function(Io){j(Io),ft()},pn),Ct=null}"onloadend"in Ct?Ct.onloadend=mr:Ct.onreadystatechange=function(){!Ct||Ct.readyState!==4||Ct.status===0&&!(Ct.responseURL&&Ct.responseURL.indexOf("file:")===0)||setTimeout(mr)},Ct.onabort=function(){Ct&&(j(new AxiosError("Request aborted",AxiosError.ECONNABORTED,o,Ct)),Ct=null)},Ct.onerror=function(){j(new AxiosError("Network Error",AxiosError.ERR_NETWORK,o,Ct)),Ct=null},Ct.ontimeout=function(){let dr=_e.timeout?"timeout of "+_e.timeout+"ms exceeded":"timeout exceeded";const pn=_e.transitional||transitionalDefaults;_e.timeoutErrorMessage&&(dr=_e.timeoutErrorMessage),j(new AxiosError(dr,pn.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,o,Ct)),Ct=null},et===void 0&&tt.setContentType(null),"setRequestHeader"in Ct&&utils$1.forEach(tt.toJSON(),function(dr,pn){Ct.setRequestHeader(pn,dr)}),utils$1.isUndefined(_e.withCredentials)||(Ct.withCredentials=!!_e.withCredentials),nt&&nt!=="json"&&(Ct.responseType=_e.responseType),lt&&([Ht,_n]=progressEventReducer(lt,!0),Ct.addEventListener("progress",Ht)),it&&Ct.upload&&([bt,pr]=progressEventReducer(it),Ct.upload.addEventListener("progress",bt),Ct.upload.addEventListener("loadend",pr)),(_e.cancelToken||_e.signal)&&(dt=mn=>{Ct&&(j(!mn||mn.type?new CanceledError(null,o,Ct):mn),Ct.abort(),Ct=null)},_e.cancelToken&&_e.cancelToken.subscribe(dt),_e.signal&&(_e.signal.aborted?dt():_e.signal.addEventListener("abort",dt)));const _r=parseProtocol(_e.url);if(_r&&platform$1.protocols.indexOf(_r)===-1){j(new AxiosError("Unsupported protocol "+_r+":",AxiosError.ERR_BAD_REQUEST,o));return}Ct.send(et||null)})},composeSignals=(o,_)=>{let $=new AbortController,j;const _e=function(it){if(!j){j=!0,tt();const lt=it instanceof Error?it:this.reason;$.abort(lt instanceof AxiosError?lt:new CanceledError(lt instanceof Error?lt.message:lt))}};let et=_&&setTimeout(()=>{_e(new AxiosError(`timeout ${_} of ms exceeded`,AxiosError.ETIMEDOUT))},_);const tt=()=>{o&&(et&&clearTimeout(et),et=null,o.forEach(it=>{it&&(it.removeEventListener?it.removeEventListener("abort",_e):it.unsubscribe(_e))}),o=null)};o.forEach(it=>it&&it.addEventListener&&it.addEventListener("abort",_e));const{signal:nt}=$;return nt.unsubscribe=tt,[nt,()=>{et&&clearTimeout(et),et=null}]},streamChunk=function*(o,_){let $=o.byteLength;if(!_||$<_){yield o;return}let j=0,_e;for(;j<$;)_e=j+_,yield o.slice(j,_e),j=_e},readBytes=async function*(o,_,$){for await(const j of o)yield*streamChunk(ArrayBuffer.isView(j)?j:await $(String(j)),_)},trackStream=(o,_,$,j,_e)=>{const et=readBytes(o,_,_e);let tt=0,nt,it=lt=>{nt||(nt=!0,j&&j(lt))};return new ReadableStream({async pull(lt){try{const{done:dt,value:bt}=await et.next();if(dt){it(),lt.close();return}let Ht=bt.byteLength;if($){let pr=tt+=Ht;$(pr)}lt.enqueue(new Uint8Array(bt))}catch(dt){throw it(dt),dt}},cancel(lt){return it(lt),et.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(o=>_=>o.encode(_))(new TextEncoder):async o=>new Uint8Array(await new Response(o).arrayBuffer())),test=(o,..._)=>{try{return!!o(..._)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let o=!1;const _=new Request(platform$1.origin,{body:new ReadableStream,method:"POST",get duplex(){return o=!0,"half"}}).headers.has("Content-Type");return o&&!_}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(o=>o.body)};isFetchSupported&&(o=>{["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!resolvers[_]&&(resolvers[_]=utils$1.isFunction(o[_])?$=>$[_]():($,j)=>{throw new AxiosError(`Response type '${_}' is not supported`,AxiosError.ERR_NOT_SUPPORT,j)})})})(new Response);const getBodyLength=async o=>{if(o==null)return 0;if(utils$1.isBlob(o))return o.size;if(utils$1.isSpecCompliantForm(o))return(await new Request(o).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(o)||utils$1.isArrayBuffer(o))return o.byteLength;if(utils$1.isURLSearchParams(o)&&(o=o+""),utils$1.isString(o))return(await encodeText(o)).byteLength},resolveBodyLength=async(o,_)=>{const $=utils$1.toFiniteNumber(o.getContentLength());return $??getBodyLength(_)},fetchAdapter=isFetchSupported&&(async o=>{let{url:_,method:$,data:j,signal:_e,cancelToken:et,timeout:tt,onDownloadProgress:nt,onUploadProgress:it,responseType:lt,headers:dt,withCredentials:bt="same-origin",fetchOptions:Ht}=resolveConfig(o);lt=lt?(lt+"").toLowerCase():"text";let[pr,_n]=_e||et||tt?composeSignals([_e,et],tt):[],ft,Ct;const mr=()=>{!ft&&setTimeout(()=>{pr&&pr.unsubscribe()}),ft=!0};let _r;try{if(it&&supportsRequestStream&&$!=="get"&&$!=="head"&&(_r=await resolveBodyLength(dt,j))!==0){let Do=new Request(_,{method:"POST",body:j,duplex:"half"}),Io;if(utils$1.isFormData(j)&&(Io=Do.headers.get("content-type"))&&dt.setContentType(Io),Do.body){const[Lo,ms]=progressEventDecorator(_r,progressEventReducer(asyncDecorator(it)));j=trackStream(Do.body,DEFAULT_CHUNK_SIZE,Lo,ms,encodeText)}}utils$1.isString(bt)||(bt=bt?"include":"omit"),Ct=new Request(_,{...Ht,signal:pr,method:$.toUpperCase(),headers:dt.normalize().toJSON(),body:j,duplex:"half",credentials:bt});let mn=await fetch(Ct);const dr=supportsResponseStream&&(lt==="stream"||lt==="response");if(supportsResponseStream&&(nt||dr)){const Do={};["status","statusText","headers"].forEach(Uo=>{Do[Uo]=mn[Uo]});const Io=utils$1.toFiniteNumber(mn.headers.get("content-length")),[Lo,ms]=nt&&progressEventDecorator(Io,progressEventReducer(asyncDecorator(nt),!0))||[];mn=new Response(trackStream(mn.body,DEFAULT_CHUNK_SIZE,Lo,()=>{ms&&ms(),dr&&mr()},encodeText),Do)}lt=lt||"text";let pn=await resolvers[utils$1.findKey(resolvers,lt)||"text"](mn,o);return!dr&&mr(),_n&&_n(),await new Promise((Do,Io)=>{settle(Do,Io,{data:pn,headers:AxiosHeaders.from(mn.headers),status:mn.status,statusText:mn.statusText,config:o,request:Ct})})}catch(mn){throw mr(),mn&&mn.name==="TypeError"&&/fetch/i.test(mn.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,o,Ct),{cause:mn.cause||mn}):AxiosError.from(mn,mn&&mn.code,o,Ct)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(o,_)=>{if(o){try{Object.defineProperty(o,"name",{value:_})}catch{}Object.defineProperty(o,"adapterName",{value:_})}});const renderReason=o=>`- ${o}`,isResolvedHandle=o=>utils$1.isFunction(o)||o===null||o===!1,adapters={getAdapter:o=>{o=utils$1.isArray(o)?o:[o];const{length:_}=o;let $,j;const _e={};for(let et=0;et<_;et++){$=o[et];let tt;if(j=$,!isResolvedHandle($)&&(j=knownAdapters[(tt=String($)).toLowerCase()],j===void 0))throw new AxiosError(`Unknown adapter '${tt}'`);if(j)break;_e[tt||"#"+et]=j}if(!j){const et=Object.entries(_e).map(([nt,it])=>`adapter ${nt} `+(it===!1?"is not supported by the environment":"is not available in the build"));let tt=_?et.length>1?`since :
`+et.map(renderReason).join(`
`):" "+renderReason(et[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+tt,"ERR_NOT_SUPPORT")}return j},adapters:knownAdapters};function throwIfCancellationRequested(o){if(o.cancelToken&&o.cancelToken.throwIfRequested(),o.signal&&o.signal.aborted)throw new CanceledError(null,o)}function dispatchRequest(o){return throwIfCancellationRequested(o),o.headers=AxiosHeaders.from(o.headers),o.data=transformData.call(o,o.transformRequest),["post","put","patch"].indexOf(o.method)!==-1&&o.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(o.adapter||defaults$1.adapter)(o).then(function(j){return throwIfCancellationRequested(o),j.data=transformData.call(o,o.transformResponse,j),j.headers=AxiosHeaders.from(j.headers),j},function(j){return isCancel(j)||(throwIfCancellationRequested(o),j&&j.response&&(j.response.data=transformData.call(o,o.transformResponse,j.response),j.response.headers=AxiosHeaders.from(j.response.headers))),Promise.reject(j)})}const VERSION="1.7.4",validators$1={};["object","boolean","number","function","string","symbol"].forEach((o,_)=>{validators$1[o]=function(j){return typeof j===o||"a"+(_<1?"n ":" ")+o}});const deprecatedWarnings={};validators$1.transitional=function o(_,$,j){function _e(et,tt){return"[Axios v"+VERSION+"] Transitional option '"+et+"'"+tt+(j?". "+j:"")}return(et,tt,nt)=>{if(_===!1)throw new AxiosError(_e(tt," has been removed"+($?" in "+$:"")),AxiosError.ERR_DEPRECATED);return $&&!deprecatedWarnings[tt]&&(deprecatedWarnings[tt]=!0,console.warn(_e(tt," has been deprecated since v"+$+" and will be removed in the near future"))),_?_(et,tt,nt):!0}};function assertOptions(o,_,$){if(typeof o!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const j=Object.keys(o);let _e=j.length;for(;_e-- >0;){const et=j[_e],tt=_[et];if(tt){const nt=o[et],it=nt===void 0||tt(nt,et,o);if(it!==!0)throw new AxiosError("option "+et+" must be "+it,AxiosError.ERR_BAD_OPTION_VALUE);continue}if($!==!0)throw new AxiosError("Unknown option "+et,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(_){this.defaults=_,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(_,$){try{return await this._request(_,$)}catch(j){if(j instanceof Error){let _e;Error.captureStackTrace?Error.captureStackTrace(_e={}):_e=new Error;const et=_e.stack?_e.stack.replace(/^.+\n/,""):"";try{j.stack?et&&!String(j.stack).endsWith(et.replace(/^.+\n.+\n/,""))&&(j.stack+=`
`+et):j.stack=et}catch{}}throw j}}_request(_,$){typeof _=="string"?($=$||{},$.url=_):$=_||{},$=mergeConfig(this.defaults,$);const{transitional:j,paramsSerializer:_e,headers:et}=$;j!==void 0&&validator.assertOptions(j,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),_e!=null&&(utils$1.isFunction(_e)?$.paramsSerializer={serialize:_e}:validator.assertOptions(_e,{encode:validators.function,serialize:validators.function},!0)),$.method=($.method||this.defaults.method||"get").toLowerCase();let tt=et&&utils$1.merge(et.common,et[$.method]);et&&utils$1.forEach(["delete","get","head","post","put","patch","common"],_n=>{delete et[_n]}),$.headers=AxiosHeaders.concat(tt,et);const nt=[];let it=!0;this.interceptors.request.forEach(function(ft){typeof ft.runWhen=="function"&&ft.runWhen($)===!1||(it=it&&ft.synchronous,nt.unshift(ft.fulfilled,ft.rejected))});const lt=[];this.interceptors.response.forEach(function(ft){lt.push(ft.fulfilled,ft.rejected)});let dt,bt=0,Ht;if(!it){const _n=[dispatchRequest.bind(this),void 0];for(_n.unshift.apply(_n,nt),_n.push.apply(_n,lt),Ht=_n.length,dt=Promise.resolve($);bt<Ht;)dt=dt.then(_n[bt++],_n[bt++]);return dt}Ht=nt.length;let pr=$;for(bt=0;bt<Ht;){const _n=nt[bt++],ft=nt[bt++];try{pr=_n(pr)}catch(Ct){ft.call(this,Ct);break}}try{dt=dispatchRequest.call(this,pr)}catch(_n){return Promise.reject(_n)}for(bt=0,Ht=lt.length;bt<Ht;)dt=dt.then(lt[bt++],lt[bt++]);return dt}getUri(_){_=mergeConfig(this.defaults,_);const $=buildFullPath(_.baseURL,_.url);return buildURL($,_.params,_.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function o(_){Axios.prototype[_]=function($,j){return this.request(mergeConfig(j||{},{method:_,url:$,data:(j||{}).data}))}});utils$1.forEach(["post","put","patch"],function o(_){function $(j){return function(et,tt,nt){return this.request(mergeConfig(nt||{},{method:_,headers:j?{"Content-Type":"multipart/form-data"}:{},url:et,data:tt}))}}Axios.prototype[_]=$(),Axios.prototype[_+"Form"]=$(!0)});class CancelToken{constructor(_){if(typeof _!="function")throw new TypeError("executor must be a function.");let $;this.promise=new Promise(function(et){$=et});const j=this;this.promise.then(_e=>{if(!j._listeners)return;let et=j._listeners.length;for(;et-- >0;)j._listeners[et](_e);j._listeners=null}),this.promise.then=_e=>{let et;const tt=new Promise(nt=>{j.subscribe(nt),et=nt}).then(_e);return tt.cancel=function(){j.unsubscribe(et)},tt},_(function(et,tt,nt){j.reason||(j.reason=new CanceledError(et,tt,nt),$(j.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(_){if(this.reason){_(this.reason);return}this._listeners?this._listeners.push(_):this._listeners=[_]}unsubscribe(_){if(!this._listeners)return;const $=this._listeners.indexOf(_);$!==-1&&this._listeners.splice($,1)}static source(){let _;return{token:new CancelToken(function(_e){_=_e}),cancel:_}}}function spread(o){return function($){return o.apply(null,$)}}function isAxiosError(o){return utils$1.isObject(o)&&o.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([o,_])=>{HttpStatusCode[_]=o});function createInstance(o){const _=new Axios(o),$=bind(Axios.prototype.request,_);return utils$1.extend($,Axios.prototype,_,{allOwnKeys:!0}),utils$1.extend($,_,null,{allOwnKeys:!0}),$.create=function(_e){return createInstance(mergeConfig(o,_e))},$}const axios=createInstance(defaults$1);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function o(_){return Promise.all(_)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=o=>formDataToJSON(utils$1.isHTMLForm(o)?new FormData(o):o);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;const common={black:"#000",white:"#fff"},red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function formatMuiErrorMessage$1(o){let _="https://mui.com/production-error/?code="+o;for(let $=1;$<arguments.length;$+=1)_+="&args[]="+encodeURIComponent(arguments[$]);return"Minified MUI error #"+o+"; visit "+_+" for the full message."}const formatMuiErrorMessage=Object.freeze(Object.defineProperty({__proto__:null,default:formatMuiErrorMessage$1},Symbol.toStringTag,{value:"Module"})),THEME_ID="$$material";function memoize$5(o){var _=Object.create(null);return function($){return _[$]===void 0&&(_[$]=o($)),_[$]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$5(function(o){return reactPropsRegex.test(o)||o.charCodeAt(0)===111&&o.charCodeAt(1)===110&&o.charCodeAt(2)<91}),isDevelopment$2=!1;function sheetForTag(o){if(o.sheet)return o.sheet;for(var _=0;_<document.styleSheets.length;_++)if(document.styleSheets[_].ownerNode===o)return document.styleSheets[_]}function createStyleElement(o){var _=document.createElement("style");return _.setAttribute("data-emotion",o.key),o.nonce!==void 0&&_.setAttribute("nonce",o.nonce),_.appendChild(document.createTextNode("")),_.setAttribute("data-s",""),_}var StyleSheet=function(){function o($){var j=this;this._insertTag=function(_e){var et;j.tags.length===0?j.insertionPoint?et=j.insertionPoint.nextSibling:j.prepend?et=j.container.firstChild:et=j.before:et=j.tags[j.tags.length-1].nextSibling,j.container.insertBefore(_e,et),j.tags.push(_e)},this.isSpeedy=$.speedy===void 0?!isDevelopment$2:$.speedy,this.tags=[],this.ctr=0,this.nonce=$.nonce,this.key=$.key,this.container=$.container,this.prepend=$.prepend,this.insertionPoint=$.insertionPoint,this.before=null}var _=o.prototype;return _.hydrate=function(j){j.forEach(this._insertTag)},_.insert=function(j){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var _e=this.tags[this.tags.length-1];if(this.isSpeedy){var et=sheetForTag(_e);try{et.insertRule(j,et.cssRules.length)}catch{}}else _e.appendChild(document.createTextNode(j));this.ctr++},_.flush=function(){this.tags.forEach(function(j){var _e;return(_e=j.parentNode)==null?void 0:_e.removeChild(j)}),this.tags=[],this.ctr=0},o}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign$1=Object.assign;function hash(o,_){return charat(o,0)^45?(((_<<2^charat(o,0))<<2^charat(o,1))<<2^charat(o,2))<<2^charat(o,3):0}function trim(o){return o.trim()}function match$1(o,_){return(o=_.exec(o))?o[0]:o}function replace(o,_,$){return o.replace(_,$)}function indexof(o,_){return o.indexOf(_)}function charat(o,_){return o.charCodeAt(_)|0}function substr(o,_,$){return o.slice(_,$)}function strlen(o){return o.length}function sizeof(o){return o.length}function append$1(o,_){return _.push(o),o}function combine(o,_){return o.map(_).join("")}var line=1,column=1,length$1=0,position=0,character=0,characters="";function node(o,_,$,j,_e,et,tt){return{value:o,root:_,parent:$,type:j,props:_e,children:et,line,column,length:tt,return:""}}function copy$2(o,_){return assign$1(node("",null,null,"",null,null,0),o,{length:-o.length},_)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length$1?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(o,_){return substr(characters,o,_)}function token(o){switch(o){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(o){return line=column=1,length$1=strlen(characters=o),position=0,[]}function dealloc(o){return characters="",o}function delimit(o){return trim(slice(position-1,delimiter(o===91?o+2:o===40?o+1:o)))}function whitespace(o){for(;(character=peek())&&character<33;)next();return token(o)>2||token(character)>3?"":" "}function escaping(o,_){for(;--_&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(o,caret()+(_<6&&peek()==32&&next()==32))}function delimiter(o){for(;next();)switch(character){case o:return position;case 34:case 39:o!==34&&o!==39&&delimiter(character);break;case 40:o===41&&delimiter(o);break;case 92:next();break}return position}function commenter(o,_){for(;next()&&o+character!==57;)if(o+character===84&&peek()===47)break;return"/*"+slice(_,position-1)+"*"+from(o===47?o:next())}function identifier(o){for(;!token(peek());)next();return slice(o,position)}function compile(o){return dealloc(parse$1("",null,null,null,[""],o=alloc(o),0,[0],o))}function parse$1(o,_,$,j,_e,et,tt,nt,it){for(var lt=0,dt=0,bt=tt,Ht=0,pr=0,_n=0,ft=1,Ct=1,mr=1,_r=0,mn="",dr=_e,pn=et,Do=j,Io=mn;Ct;)switch(_n=_r,_r=next()){case 40:if(_n!=108&&charat(Io,bt-1)==58){indexof(Io+=replace(delimit(_r),"&","&\f"),"&\f")!=-1&&(mr=-1);break}case 34:case 39:case 91:Io+=delimit(_r);break;case 9:case 10:case 13:case 32:Io+=whitespace(_n);break;case 92:Io+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append$1(comment(commenter(next(),caret()),_,$),it);break;default:Io+="/"}break;case 123*ft:nt[lt++]=strlen(Io)*mr;case 125*ft:case 59:case 0:switch(_r){case 0:case 125:Ct=0;case 59+dt:mr==-1&&(Io=replace(Io,/\f/g,"")),pr>0&&strlen(Io)-bt&&append$1(pr>32?declaration(Io+";",j,$,bt-1):declaration(replace(Io," ","")+";",j,$,bt-2),it);break;case 59:Io+=";";default:if(append$1(Do=ruleset(Io,_,$,lt,dt,_e,nt,mn,dr=[],pn=[],bt),et),_r===123)if(dt===0)parse$1(Io,_,Do,Do,dr,et,bt,nt,pn);else switch(Ht===99&&charat(Io,3)===110?100:Ht){case 100:case 108:case 109:case 115:parse$1(o,Do,Do,j&&append$1(ruleset(o,Do,Do,0,0,_e,nt,mn,_e,dr=[],bt),pn),_e,pn,bt,nt,j?dr:pn);break;default:parse$1(Io,Do,Do,Do,[""],pn,0,nt,pn)}}lt=dt=pr=0,ft=mr=1,mn=Io="",bt=tt;break;case 58:bt=1+strlen(Io),pr=_n;default:if(ft<1){if(_r==123)--ft;else if(_r==125&&ft++==0&&prev()==125)continue}switch(Io+=from(_r),_r*ft){case 38:mr=dt>0?1:(Io+="\f",-1);break;case 44:nt[lt++]=(strlen(Io)-1)*mr,mr=1;break;case 64:peek()===45&&(Io+=delimit(next())),Ht=peek(),dt=bt=strlen(mn=Io+=identifier(caret())),_r++;break;case 45:_n===45&&strlen(Io)==2&&(ft=0)}}return et}function ruleset(o,_,$,j,_e,et,tt,nt,it,lt,dt){for(var bt=_e-1,Ht=_e===0?et:[""],pr=sizeof(Ht),_n=0,ft=0,Ct=0;_n<j;++_n)for(var mr=0,_r=substr(o,bt+1,bt=abs(ft=tt[_n])),mn=o;mr<pr;++mr)(mn=trim(ft>0?Ht[mr]+" "+_r:replace(_r,/&\f/g,Ht[mr])))&&(it[Ct++]=mn);return node(o,_,$,_e===0?RULESET:nt,it,lt,dt)}function comment(o,_,$){return node(o,_,$,COMMENT,from(char()),substr(o,2,-2),0)}function declaration(o,_,$,j){return node(o,_,$,DECLARATION,substr(o,0,j),substr(o,j+1,-1),j)}function serialize(o,_){for(var $="",j=sizeof(o),_e=0;_e<j;_e++)$+=_(o[_e],_e,o,_)||"";return $}function stringify(o,_,$,j){switch(o.type){case LAYER:if(o.children.length)break;case IMPORT:case DECLARATION:return o.return=o.return||o.value;case COMMENT:return"";case KEYFRAMES:return o.return=o.value+"{"+serialize(o.children,j)+"}";case RULESET:o.value=o.props.join(",")}return strlen($=serialize(o.children,j))?o.return=o.value+"{"+$+"}":""}function middleware(o){var _=sizeof(o);return function($,j,_e,et){for(var tt="",nt=0;nt<_;nt++)tt+=o[nt]($,j,_e,et)||"";return tt}}function rulesheet(o){return function(_){_.root||(_=_.return)&&o(_)}}var identifierWithPointTracking=function o(_,$,j){for(var _e=0,et=0;_e=et,et=peek(),_e===38&&et===12&&($[j]=1),!token(et);)next();return slice(_,position)},toRules=function o(_,$){var j=-1,_e=44;do switch(token(_e)){case 0:_e===38&&peek()===12&&($[j]=1),_[j]+=identifierWithPointTracking(position-1,$,j);break;case 2:_[j]+=delimit(_e);break;case 4:if(_e===44){_[++j]=peek()===58?"&\f":"",$[j]=_[j].length;break}default:_[j]+=from(_e)}while(_e=next());return _},getRules=function o(_,$){return dealloc(toRules(alloc(_),$))},fixedElements=new WeakMap,compat=function o(_){if(!(_.type!=="rule"||!_.parent||_.length<1)){for(var $=_.value,j=_.parent,_e=_.column===j.column&&_.line===j.line;j.type!=="rule";)if(j=j.parent,!j)return;if(!(_.props.length===1&&$.charCodeAt(0)!==58&&!fixedElements.get(j))&&!_e){fixedElements.set(_,!0);for(var et=[],tt=getRules($,et),nt=j.props,it=0,lt=0;it<tt.length;it++)for(var dt=0;dt<nt.length;dt++,lt++)_.props[lt]=et[it]?tt[it].replace(/&\f/g,nt[dt]):nt[dt]+" "+tt[it]}}},removeLabel=function o(_){if(_.type==="decl"){var $=_.value;$.charCodeAt(0)===108&&$.charCodeAt(2)===98&&(_.return="",_.value="")}};function prefix$1(o,_){switch(hash(o,_)){case 5103:return WEBKIT+"print-"+o+o;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+o+o;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+o+MOZ+o+MS+o+o;case 6828:case 4268:return WEBKIT+o+MS+o+o;case 6165:return WEBKIT+o+MS+"flex-"+o+o;case 5187:return WEBKIT+o+replace(o,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+o;case 5443:return WEBKIT+o+MS+"flex-item-"+replace(o,/flex-|-self/,"")+o;case 4675:return WEBKIT+o+MS+"flex-line-pack"+replace(o,/align-content|flex-|-self/,"")+o;case 5548:return WEBKIT+o+MS+replace(o,"shrink","negative")+o;case 5292:return WEBKIT+o+MS+replace(o,"basis","preferred-size")+o;case 6060:return WEBKIT+"box-"+replace(o,"-grow","")+WEBKIT+o+MS+replace(o,"grow","positive")+o;case 4554:return WEBKIT+replace(o,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+o;case 6187:return replace(replace(replace(o,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),o,"")+o;case 5495:case 3959:return replace(o,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(o,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+o+o;case 4095:case 3583:case 4068:case 2532:return replace(o,/(.+)-inline(.+)/,WEBKIT+"$1$2")+o;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(o)-1-_>6)switch(charat(o,_+1)){case 109:if(charat(o,_+4)!==45)break;case 102:return replace(o,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(o,_+3)==108?"$3":"$2-$3"))+o;case 115:return~indexof(o,"stretch")?prefix$1(replace(o,"stretch","fill-available"),_)+o:o}break;case 4949:if(charat(o,_+1)!==115)break;case 6444:switch(charat(o,strlen(o)-3-(~indexof(o,"!important")&&10))){case 107:return replace(o,":",":"+WEBKIT)+o;case 101:return replace(o,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(o,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+o}break;case 5936:switch(charat(o,_+11)){case 114:return WEBKIT+o+MS+replace(o,/[svh]\w+-[tblr]{2}/,"tb")+o;case 108:return WEBKIT+o+MS+replace(o,/[svh]\w+-[tblr]{2}/,"tb-rl")+o;case 45:return WEBKIT+o+MS+replace(o,/[svh]\w+-[tblr]{2}/,"lr")+o}return WEBKIT+o+MS+o+o}return o}var prefixer=function o(_,$,j,_e){if(_.length>-1&&!_.return)switch(_.type){case DECLARATION:_.return=prefix$1(_.value,_.length);break;case KEYFRAMES:return serialize([copy$2(_,{value:replace(_.value,"@","@"+WEBKIT)})],_e);case RULESET:if(_.length)return combine(_.props,function(et){switch(match$1(et,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy$2(_,{props:[replace(et,/:(read-\w+)/,":"+MOZ+"$1")]})],_e);case"::placeholder":return serialize([copy$2(_,{props:[replace(et,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy$2(_,{props:[replace(et,/:(plac\w+)/,":"+MOZ+"$1")]}),copy$2(_,{props:[replace(et,/:(plac\w+)/,MS+"input-$1")]})],_e)}return""})}},defaultStylisPlugins=[prefixer],createCache=function o(_){var $=_.key;if($==="css"){var j=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(j,function(ft){var Ct=ft.getAttribute("data-emotion");Ct.indexOf(" ")!==-1&&(document.head.appendChild(ft),ft.setAttribute("data-s",""))})}var _e=_.stylisPlugins||defaultStylisPlugins,et={},tt,nt=[];tt=_.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+$+' "]'),function(ft){for(var Ct=ft.getAttribute("data-emotion").split(" "),mr=1;mr<Ct.length;mr++)et[Ct[mr]]=!0;nt.push(ft)});var it,lt=[compat,removeLabel];{var dt,bt=[stringify,rulesheet(function(ft){dt.insert(ft)})],Ht=middleware(lt.concat(_e,bt)),pr=function(Ct){return serialize(compile(Ct),Ht)};it=function(Ct,mr,_r,mn){dt=_r,pr(Ct?Ct+"{"+mr.styles+"}":mr.styles),mn&&(_n.inserted[mr.name]=!0)}}var _n={key:$,sheet:new StyleSheet({key:$,container:tt,nonce:_.nonce,speedy:_.speedy,prepend:_.prepend,insertionPoint:_.insertionPoint}),nonce:_.nonce,inserted:et,registered:{},insert:it};return _n.sheet.hydrate(nt),_n},reactIs$3={exports:{}},reactIs_production_min$2={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=typeof Symbol=="function"&&Symbol.for,c$3=b$2?Symbol.for("react.element"):60103,d$2=b$2?Symbol.for("react.portal"):60106,e$3=b$2?Symbol.for("react.fragment"):60107,f$2=b$2?Symbol.for("react.strict_mode"):60108,g$2=b$2?Symbol.for("react.profiler"):60114,h$4=b$2?Symbol.for("react.provider"):60109,k$4=b$2?Symbol.for("react.context"):60110,l$3=b$2?Symbol.for("react.async_mode"):60111,m$3=b$2?Symbol.for("react.concurrent_mode"):60111,n$4=b$2?Symbol.for("react.forward_ref"):60112,p$4=b$2?Symbol.for("react.suspense"):60113,q$4=b$2?Symbol.for("react.suspense_list"):60120,r$5=b$2?Symbol.for("react.memo"):60115,t$4=b$2?Symbol.for("react.lazy"):60116,v$3=b$2?Symbol.for("react.block"):60121,w$2=b$2?Symbol.for("react.fundamental"):60117,x$2=b$2?Symbol.for("react.responder"):60118,y$2=b$2?Symbol.for("react.scope"):60119;function z$1(o){if(typeof o=="object"&&o!==null){var _=o.$$typeof;switch(_){case c$3:switch(o=o.type,o){case l$3:case m$3:case e$3:case g$2:case f$2:case p$4:return o;default:switch(o=o&&o.$$typeof,o){case k$4:case n$4:case t$4:case r$5:case h$4:return o;default:return _}}case d$2:return _}}}function A$1(o){return z$1(o)===m$3}reactIs_production_min$2.AsyncMode=l$3;reactIs_production_min$2.ConcurrentMode=m$3;reactIs_production_min$2.ContextConsumer=k$4;reactIs_production_min$2.ContextProvider=h$4;reactIs_production_min$2.Element=c$3;reactIs_production_min$2.ForwardRef=n$4;reactIs_production_min$2.Fragment=e$3;reactIs_production_min$2.Lazy=t$4;reactIs_production_min$2.Memo=r$5;reactIs_production_min$2.Portal=d$2;reactIs_production_min$2.Profiler=g$2;reactIs_production_min$2.StrictMode=f$2;reactIs_production_min$2.Suspense=p$4;reactIs_production_min$2.isAsyncMode=function(o){return A$1(o)||z$1(o)===l$3};reactIs_production_min$2.isConcurrentMode=A$1;reactIs_production_min$2.isContextConsumer=function(o){return z$1(o)===k$4};reactIs_production_min$2.isContextProvider=function(o){return z$1(o)===h$4};reactIs_production_min$2.isElement=function(o){return typeof o=="object"&&o!==null&&o.$$typeof===c$3};reactIs_production_min$2.isForwardRef=function(o){return z$1(o)===n$4};reactIs_production_min$2.isFragment=function(o){return z$1(o)===e$3};reactIs_production_min$2.isLazy=function(o){return z$1(o)===t$4};reactIs_production_min$2.isMemo=function(o){return z$1(o)===r$5};reactIs_production_min$2.isPortal=function(o){return z$1(o)===d$2};reactIs_production_min$2.isProfiler=function(o){return z$1(o)===g$2};reactIs_production_min$2.isStrictMode=function(o){return z$1(o)===f$2};reactIs_production_min$2.isSuspense=function(o){return z$1(o)===p$4};reactIs_production_min$2.isValidElementType=function(o){return typeof o=="string"||typeof o=="function"||o===e$3||o===m$3||o===g$2||o===f$2||o===p$4||o===q$4||typeof o=="object"&&o!==null&&(o.$$typeof===t$4||o.$$typeof===r$5||o.$$typeof===h$4||o.$$typeof===k$4||o.$$typeof===n$4||o.$$typeof===w$2||o.$$typeof===x$2||o.$$typeof===y$2||o.$$typeof===v$3)};reactIs_production_min$2.typeOf=z$1;reactIs$3.exports=reactIs_production_min$2;var reactIsExports$2=reactIs$3.exports,reactIs$2=reactIsExports$2,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs$2.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs$2.Memo]=MEMO_STATICS;var isBrowser=!0;function getRegisteredStyles(o,_,$){var j="";return $.split(" ").forEach(function(_e){o[_e]!==void 0?_.push(o[_e]+";"):j+=_e+" "}),j}var registerStyles=function o(_,$,j){var _e=_.key+"-"+$.name;(j===!1||isBrowser===!1)&&_.registered[_e]===void 0&&(_.registered[_e]=$.styles)},insertStyles=function o(_,$,j){registerStyles(_,$,j);var _e=_.key+"-"+$.name;if(_.inserted[$.name]===void 0){var et=$;do _.insert($===et?"."+_e:"",et,_.sheet,!0),et=et.next;while(et!==void 0)}};function murmur2(o){for(var _=0,$,j=0,_e=o.length;_e>=4;++j,_e-=4)$=o.charCodeAt(j)&255|(o.charCodeAt(++j)&255)<<8|(o.charCodeAt(++j)&255)<<16|(o.charCodeAt(++j)&255)<<24,$=($&65535)*1540483477+(($>>>16)*59797<<16),$^=$>>>24,_=($&65535)*1540483477+(($>>>16)*59797<<16)^(_&65535)*1540483477+((_>>>16)*59797<<16);switch(_e){case 3:_^=(o.charCodeAt(j+2)&255)<<16;case 2:_^=(o.charCodeAt(j+1)&255)<<8;case 1:_^=o.charCodeAt(j)&255,_=(_&65535)*1540483477+((_>>>16)*59797<<16)}return _^=_>>>13,_=(_&65535)*1540483477+((_>>>16)*59797<<16),((_^_>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},isDevelopment$1=!1,hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function o(_){return _.charCodeAt(1)===45},isProcessableValue=function o(_){return _!=null&&typeof _!="boolean"},processStyleName=memoize$5(function(o){return isCustomProperty(o)?o:o.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function o(_,$){switch(_){case"animation":case"animationName":if(typeof $=="string")return $.replace(animationRegex,function(j,_e,et){return cursor={name:_e,styles:et,next:cursor},_e})}return unitlessKeys[_]!==1&&!isCustomProperty(_)&&typeof $=="number"&&$!==0?$+"px":$},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(o,_,$){if($==null)return"";var j=$;if(j.__emotion_styles!==void 0)return j;switch(typeof $){case"boolean":return"";case"object":{var _e=$;if(_e.anim===1)return cursor={name:_e.name,styles:_e.styles,next:cursor},_e.name;var et=$;if(et.styles!==void 0){var tt=et.next;if(tt!==void 0)for(;tt!==void 0;)cursor={name:tt.name,styles:tt.styles,next:cursor},tt=tt.next;var nt=et.styles+";";return nt}return createStringFromObject(o,_,$)}case"function":{if(o!==void 0){var it=cursor,lt=$(o);return cursor=it,handleInterpolation(o,_,lt)}break}}var dt=$;if(_==null)return dt;var bt=_[dt];return bt!==void 0?bt:dt}function createStringFromObject(o,_,$){var j="";if(Array.isArray($))for(var _e=0;_e<$.length;_e++)j+=handleInterpolation(o,_,$[_e])+";";else for(var et in $){var tt=$[et];if(typeof tt!="object"){var nt=tt;_!=null&&_[nt]!==void 0?j+=et+"{"+_[nt]+"}":isProcessableValue(nt)&&(j+=processStyleName(et)+":"+processStyleValue(et,nt)+";")}else{if(et==="NO_COMPONENT_SELECTOR"&&isDevelopment$1)throw new Error(noComponentSelectorMessage);if(Array.isArray(tt)&&typeof tt[0]=="string"&&(_==null||_[tt[0]]===void 0))for(var it=0;it<tt.length;it++)isProcessableValue(tt[it])&&(j+=processStyleName(et)+":"+processStyleValue(et,tt[it])+";");else{var lt=handleInterpolation(o,_,tt);switch(et){case"animation":case"animationName":{j+=processStyleName(et)+":"+lt+";";break}default:j+=et+"{"+lt+"}"}}}}return j}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor;function serializeStyles(o,_,$){if(o.length===1&&typeof o[0]=="object"&&o[0]!==null&&o[0].styles!==void 0)return o[0];var j=!0,_e="";cursor=void 0;var et=o[0];if(et==null||et.raw===void 0)j=!1,_e+=handleInterpolation($,_,et);else{var tt=et;_e+=tt[0]}for(var nt=1;nt<o.length;nt++)if(_e+=handleInterpolation($,_,o[nt]),j){var it=et;_e+=it[nt]}labelPattern.lastIndex=0;for(var lt="",dt;(dt=labelPattern.exec(_e))!==null;)lt+="-"+dt[1];var bt=murmur2(_e)+lt;return{name:bt,styles:_e,next:cursor}}var syncFallback=function o(_){return _()},useInsertionEffect$1=React$1.useInsertionEffect?React$1.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect$1||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect$1||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null),CacheProvider=EmotionCacheContext.Provider,withEmotionCache=function o(_){return reactExports.forwardRef(function($,j){var _e=reactExports.useContext(EmotionCacheContext);return _($,_e,j)})},ThemeContext$1=reactExports.createContext({}),Global$1=withEmotionCache(function(o,_){var $=o.styles,j=serializeStyles([$],void 0,reactExports.useContext(ThemeContext$1)),_e=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var et=_.key+"-global",tt=new _.sheet.constructor({key:et,nonce:_.sheet.nonce,container:_.sheet.container,speedy:_.sheet.isSpeedy}),nt=!1,it=document.querySelector('style[data-emotion="'+et+" "+j.name+'"]');return _.sheet.tags.length&&(tt.before=_.sheet.tags[0]),it!==null&&(nt=!0,it.setAttribute("data-emotion",et),tt.hydrate([it])),_e.current=[tt,nt],function(){tt.flush()}},[_]),useInsertionEffectWithLayoutFallback(function(){var et=_e.current,tt=et[0],nt=et[1];if(nt){et[1]=!1;return}if(j.next!==void 0&&insertStyles(_,j.next,!0),tt.tags.length){var it=tt.tags[tt.tags.length-1].nextElementSibling;tt.before=it,tt.flush()}_.insert("",j,tt,!1)},[_,j.name]),null});function css(){for(var o=arguments.length,_=new Array(o),$=0;$<o;$++)_[$]=arguments[$];return serializeStyles(_)}var keyframes=function o(){var _=css.apply(void 0,arguments),$="animation-"+_.name;return{name:$,styles:"@keyframes "+$+"{"+_.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function o(_){return _!=="theme"},getDefaultShouldForwardProp=function o(_){return typeof _=="string"&&_.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function o(_,$,j){var _e;if($){var et=$.shouldForwardProp;_e=_.__emotion_forwardProp&&et?function(tt){return _.__emotion_forwardProp(tt)&&et(tt)}:et}return typeof _e!="function"&&j&&(_e=_.__emotion_forwardProp),_e},isDevelopment=!1,Insertion=function o(_){var $=_.cache,j=_.serialized,_e=_.isStringTag;return registerStyles($,j,_e),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles($,j,_e)}),null},createStyled$2=function o(_,$){var j=_.__emotion_real===_,_e=j&&_.__emotion_base||_,et,tt;$!==void 0&&(et=$.label,tt=$.target);var nt=composeShouldForwardProps(_,$,j),it=nt||getDefaultShouldForwardProp(_e),lt=!it("as");return function(){var dt=arguments,bt=j&&_.__emotion_styles!==void 0?_.__emotion_styles.slice(0):[];if(et!==void 0&&bt.push("label:"+et+";"),dt[0]==null||dt[0].raw===void 0)bt.push.apply(bt,dt);else{bt.push(dt[0][0]);for(var Ht=dt.length,pr=1;pr<Ht;pr++)bt.push(dt[pr],dt[0][pr])}var _n=withEmotionCache(function(ft,Ct,mr){var _r=lt&&ft.as||_e,mn="",dr=[],pn=ft;if(ft.theme==null){pn={};for(var Do in ft)pn[Do]=ft[Do];pn.theme=reactExports.useContext(ThemeContext$1)}typeof ft.className=="string"?mn=getRegisteredStyles(Ct.registered,dr,ft.className):ft.className!=null&&(mn=ft.className+" ");var Io=serializeStyles(bt.concat(dr),Ct.registered,pn);mn+=Ct.key+"-"+Io.name,tt!==void 0&&(mn+=" "+tt);var Lo=lt&&nt===void 0?getDefaultShouldForwardProp(_r):it,ms={};for(var Uo in ft)lt&&Uo==="as"||Lo(Uo)&&(ms[Uo]=ft[Uo]);return ms.className=mn,mr&&(ms.ref=mr),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:Ct,serialized:Io,isStringTag:typeof _r=="string"}),reactExports.createElement(_r,ms))});return _n.displayName=et!==void 0?et:"Styled("+(typeof _e=="string"?_e:_e.displayName||_e.name||"Component")+")",_n.defaultProps=_.defaultProps,_n.__emotion_real=_n,_n.__emotion_base=_e,_n.__emotion_styles=bt,_n.__emotion_forwardProp=nt,Object.defineProperty(_n,"toString",{value:function(){return tt===void 0&&isDevelopment?"NO_COMPONENT_SELECTOR":"."+tt}}),_n.withComponent=function(ft,Ct){return o(ft,_extends$w({},$,Ct,{shouldForwardProp:composeShouldForwardProps(_n,Ct,!0)})).apply(void 0,bt)},_n}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$2.bind();tags.forEach(function(o){newStyled[o]=newStyled(o)});let cache;typeof document=="object"&&(cache=createCache({key:"css",prepend:!0}));function StyledEngineProvider(o){const{injectFirst:_,children:$}=o;return _&&cache?jsxRuntimeExports$1.jsx(CacheProvider,{value:cache,children:$}):$}function isEmpty$2(o){return o==null||Object.keys(o).length===0}function GlobalStyles$2(o){const{styles:_,defaultTheme:$={}}=o,j=typeof _=="function"?_e=>_(isEmpty$2(_e)?$:_e):_;return jsxRuntimeExports$1.jsx(Global$1,{styles:j})}function styled$1(o,_){return newStyled(o,_)}const internal_processStyles=(o,_)=>{Array.isArray(o.__emotion_styles)&&(o.__emotion_styles=_(o.__emotion_styles))},styledEngine=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:GlobalStyles$2,StyledEngineProvider,ThemeContext:ThemeContext$1,css,default:styled$1,internal_processStyles,keyframes},Symbol.toStringTag,{value:"Module"}));function isPlainObject$3(o){if(typeof o!="object"||o===null)return!1;const _=Object.getPrototypeOf(o);return(_===null||_===Object.prototype||Object.getPrototypeOf(_)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)}function deepClone(o){if(!isPlainObject$3(o))return o;const _={};return Object.keys(o).forEach($=>{_[$]=deepClone(o[$])}),_}function deepmerge$1(o,_,$={clone:!0}){const j=$.clone?_extends$w({},o):o;return isPlainObject$3(o)&&isPlainObject$3(_)&&Object.keys(_).forEach(_e=>{isPlainObject$3(_[_e])&&Object.prototype.hasOwnProperty.call(o,_e)&&isPlainObject$3(o[_e])?j[_e]=deepmerge$1(o[_e],_[_e],$):$.clone?j[_e]=isPlainObject$3(_[_e])?deepClone(_[_e]):_[_e]:j[_e]=_[_e]}),j}const deepmerge=Object.freeze(Object.defineProperty({__proto__:null,default:deepmerge$1,isPlainObject:isPlainObject$3},Symbol.toStringTag,{value:"Module"})),_excluded$x=["values","unit","step"],sortBreakpointsValues=o=>{const _=Object.keys(o).map($=>({key:$,val:o[$]}))||[];return _.sort(($,j)=>$.val-j.val),_.reduce(($,j)=>_extends$w({},$,{[j.key]:j.val}),{})};function createBreakpoints(o){const{values:_={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:$="px",step:j=5}=o,_e=_objectWithoutPropertiesLoose$m(o,_excluded$x),et=sortBreakpointsValues(_),tt=Object.keys(et);function nt(Ht){return`@media (min-width:${typeof _[Ht]=="number"?_[Ht]:Ht}${$})`}function it(Ht){return`@media (max-width:${(typeof _[Ht]=="number"?_[Ht]:Ht)-j/100}${$})`}function lt(Ht,pr){const _n=tt.indexOf(pr);return`@media (min-width:${typeof _[Ht]=="number"?_[Ht]:Ht}${$}) and (max-width:${(_n!==-1&&typeof _[tt[_n]]=="number"?_[tt[_n]]:pr)-j/100}${$})`}function dt(Ht){return tt.indexOf(Ht)+1<tt.length?lt(Ht,tt[tt.indexOf(Ht)+1]):nt(Ht)}function bt(Ht){const pr=tt.indexOf(Ht);return pr===0?nt(tt[1]):pr===tt.length-1?it(tt[pr]):lt(Ht,tt[tt.indexOf(Ht)+1]).replace("@media","@media not all and")}return _extends$w({keys:tt,values:et,up:nt,down:it,between:lt,only:dt,not:bt,unit:$},_e)}const shape={borderRadius:4};function merge(o,_){return _?deepmerge$1(o,_,{clone:!1}):o}const values={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:o=>`@media (min-width:${values[o]}px)`};function handleBreakpoints(o,_,$){const j=o.theme||{};if(Array.isArray(_)){const et=j.breakpoints||defaultBreakpoints;return _.reduce((tt,nt,it)=>(tt[et.up(et.keys[it])]=$(_[it]),tt),{})}if(typeof _=="object"){const et=j.breakpoints||defaultBreakpoints;return Object.keys(_).reduce((tt,nt)=>{if(Object.keys(et.values||values).indexOf(nt)!==-1){const it=et.up(nt);tt[it]=$(_[nt],nt)}else{const it=nt;tt[it]=_[it]}return tt},{})}return $(_)}function createEmptyBreakpointObject(o={}){var _;return((_=o.keys)==null?void 0:_.reduce((j,_e)=>{const et=o.up(_e);return j[et]={},j},{}))||{}}function removeUnusedBreakpoints(o,_){return o.reduce(($,j)=>{const _e=$[j];return(!_e||Object.keys(_e).length===0)&&delete $[j],$},_)}function capitalize$1(o){if(typeof o!="string")throw new Error(formatMuiErrorMessage$1(7));return o.charAt(0).toUpperCase()+o.slice(1)}const capitalize=Object.freeze(Object.defineProperty({__proto__:null,default:capitalize$1},Symbol.toStringTag,{value:"Module"}));function getPath$2(o,_,$=!0){if(!_||typeof _!="string")return null;if(o&&o.vars&&$){const j=`vars.${_}`.split(".").reduce((_e,et)=>_e&&_e[et]?_e[et]:null,o);if(j!=null)return j}return _.split(".").reduce((j,_e)=>j&&j[_e]!=null?j[_e]:null,o)}function getStyleValue$1(o,_,$,j=$){let _e;return typeof o=="function"?_e=o($):Array.isArray(o)?_e=o[$]||j:_e=getPath$2(o,$)||j,_&&(_e=_(_e,j,o)),_e}function style$2(o){const{prop:_,cssProperty:$=o.prop,themeKey:j,transform:_e}=o,et=tt=>{if(tt[_]==null)return null;const nt=tt[_],it=tt.theme,lt=getPath$2(it,j)||{};return handleBreakpoints(tt,nt,bt=>{let Ht=getStyleValue$1(lt,_e,bt);return bt===Ht&&typeof bt=="string"&&(Ht=getStyleValue$1(lt,_e,`${_}${bt==="default"?"":capitalize$1(bt)}`,bt)),$===!1?Ht:{[$]:Ht}})};return et.propTypes={},et.filterProps=[_],et}function memoize$4(o){const _={};return $=>(_[$]===void 0&&(_[$]=o($)),_[$])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize$4(o=>{if(o.length>2)if(aliases[o])o=aliases[o];else return[o];const[_,$]=o.split(""),j=properties[_],_e=directions[$]||"";return Array.isArray(_e)?_e.map(et=>j+et):[j+_e]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(o,_,$,j){var _e;const et=(_e=getPath$2(o,_,!1))!=null?_e:$;return typeof et=="number"?tt=>typeof tt=="string"?tt:et*tt:Array.isArray(et)?tt=>typeof tt=="string"?tt:et[tt]:typeof et=="function"?et:()=>{}}function createUnarySpacing(o){return createUnaryUnit(o,"spacing",8)}function getValue$2(o,_){if(typeof _=="string"||_==null)return _;const $=Math.abs(_),j=o($);return _>=0?j:typeof j=="number"?-j:`-${j}`}function getStyleFromPropValue(o,_){return $=>o.reduce((j,_e)=>(j[_e]=getValue$2(_,$),j),{})}function resolveCssProperty(o,_,$,j){if(_.indexOf($)===-1)return null;const _e=getCssProperties($),et=getStyleFromPropValue(_e,j),tt=o[$];return handleBreakpoints(o,tt,et)}function style$1(o,_){const $=createUnarySpacing(o.theme);return Object.keys(o).map(j=>resolveCssProperty(o,_,j,$)).reduce(merge,{})}function margin(o){return style$1(o,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(o){return style$1(o,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function createSpacing(o=8){if(o.mui)return o;const _=createUnarySpacing({spacing:o}),$=(...j)=>(j.length===0?[1]:j).map(et=>{const tt=_(et);return typeof tt=="number"?`${tt}px`:tt}).join(" ");return $.mui=!0,$}function compose$1(...o){const _=o.reduce((j,_e)=>(_e.filterProps.forEach(et=>{j[et]=_e}),j),{}),$=j=>Object.keys(j).reduce((_e,et)=>_[et]?merge(_e,_[et](j)):_e,{});return $.propTypes={},$.filterProps=o.reduce((j,_e)=>j.concat(_e.filterProps),[]),$}function borderTransform(o){return typeof o!="number"?o:`${o}px solid`}function createBorderStyle(o,_){return style$2({prop:o,themeKey:"borders",transform:_})}const border=createBorderStyle("border",borderTransform),borderTop=createBorderStyle("borderTop",borderTransform),borderRight=createBorderStyle("borderRight",borderTransform),borderBottom=createBorderStyle("borderBottom",borderTransform),borderLeft=createBorderStyle("borderLeft",borderTransform),borderColor=createBorderStyle("borderColor"),borderTopColor=createBorderStyle("borderTopColor"),borderRightColor=createBorderStyle("borderRightColor"),borderBottomColor=createBorderStyle("borderBottomColor"),borderLeftColor=createBorderStyle("borderLeftColor"),outline=createBorderStyle("outline",borderTransform),outlineColor=createBorderStyle("outlineColor"),borderRadius=o=>{if(o.borderRadius!==void 0&&o.borderRadius!==null){const _=createUnaryUnit(o.theme,"shape.borderRadius",4),$=j=>({borderRadius:getValue$2(_,j)});return handleBreakpoints(o,o.borderRadius,$)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose$1(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius,outline,outlineColor);const gap=o=>{if(o.gap!==void 0&&o.gap!==null){const _=createUnaryUnit(o.theme,"spacing",8),$=j=>({gap:getValue$2(_,j)});return handleBreakpoints(o,o.gap,$)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=o=>{if(o.columnGap!==void 0&&o.columnGap!==null){const _=createUnaryUnit(o.theme,"spacing",8),$=j=>({columnGap:getValue$2(_,j)});return handleBreakpoints(o,o.columnGap,$)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=o=>{if(o.rowGap!==void 0&&o.rowGap!==null){const _=createUnaryUnit(o.theme,"spacing",8),$=j=>({rowGap:getValue$2(_,j)});return handleBreakpoints(o,o.rowGap,$)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$2({prop:"gridColumn"}),gridRow=style$2({prop:"gridRow"}),gridAutoFlow=style$2({prop:"gridAutoFlow"}),gridAutoColumns=style$2({prop:"gridAutoColumns"}),gridAutoRows=style$2({prop:"gridAutoRows"}),gridTemplateColumns=style$2({prop:"gridTemplateColumns"}),gridTemplateRows=style$2({prop:"gridTemplateRows"}),gridTemplateAreas=style$2({prop:"gridTemplateAreas"}),gridArea=style$2({prop:"gridArea"});compose$1(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(o,_){return _==="grey"?_:o}const color$1=style$2({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$2({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$2({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose$1(color$1,bgcolor,backgroundColor);function sizingTransform(o){return o<=1&&o!==0?`${o*100}%`:o}const width=style$2({prop:"width",transform:sizingTransform}),maxWidth=o=>{if(o.maxWidth!==void 0&&o.maxWidth!==null){const _=$=>{var j,_e;const et=((j=o.theme)==null||(j=j.breakpoints)==null||(j=j.values)==null?void 0:j[$])||values[$];return et?((_e=o.theme)==null||(_e=_e.breakpoints)==null?void 0:_e.unit)!=="px"?{maxWidth:`${et}${o.theme.breakpoints.unit}`}:{maxWidth:et}:{maxWidth:sizingTransform($)}};return handleBreakpoints(o,o.maxWidth,_)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$2({prop:"minWidth",transform:sizingTransform}),height=style$2({prop:"height",transform:sizingTransform}),maxHeight=style$2({prop:"maxHeight",transform:sizingTransform}),minHeight=style$2({prop:"minHeight",transform:sizingTransform});style$2({prop:"size",cssProperty:"width",transform:sizingTransform});style$2({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$2({prop:"boxSizing"});compose$1(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:borderTransform},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:o=>({"@media print":{display:o}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function objectsHaveSameKeys(...o){const _=o.reduce((j,_e)=>j.concat(Object.keys(_e)),[]),$=new Set(_);return o.every(j=>$.size===Object.keys(j).length)}function callIfFn(o,_){return typeof o=="function"?o(_):o}function unstable_createStyleFunctionSx(){function o($,j,_e,et){const tt={[$]:j,theme:_e},nt=et[$];if(!nt)return{[$]:j};const{cssProperty:it=$,themeKey:lt,transform:dt,style:bt}=nt;if(j==null)return null;if(lt==="typography"&&j==="inherit")return{[$]:j};const Ht=getPath$2(_e,lt)||{};return bt?bt(tt):handleBreakpoints(tt,j,_n=>{let ft=getStyleValue$1(Ht,dt,_n);return _n===ft&&typeof _n=="string"&&(ft=getStyleValue$1(Ht,dt,`${$}${_n==="default"?"":capitalize$1(_n)}`,_n)),it===!1?ft:{[it]:ft}})}function _($){var j;const{sx:_e,theme:et={}}=$||{};if(!_e)return null;const tt=(j=et.unstable_sxConfig)!=null?j:defaultSxConfig;function nt(it){let lt=it;if(typeof it=="function")lt=it(et);else if(typeof it!="object")return it;if(!lt)return null;const dt=createEmptyBreakpointObject(et.breakpoints),bt=Object.keys(dt);let Ht=dt;return Object.keys(lt).forEach(pr=>{const _n=callIfFn(lt[pr],et);if(_n!=null)if(typeof _n=="object")if(tt[pr])Ht=merge(Ht,o(pr,_n,et,tt));else{const ft=handleBreakpoints({theme:et},_n,Ct=>({[pr]:Ct}));objectsHaveSameKeys(ft,_n)?Ht[pr]=_({sx:_n,theme:et}):Ht=merge(Ht,ft)}else Ht=merge(Ht,o(pr,_n,et,tt))}),removeUnusedBreakpoints(bt,Ht)}return Array.isArray(_e)?_e.map(nt):nt(_e)}return _}const styleFunctionSx$1=unstable_createStyleFunctionSx();styleFunctionSx$1.filterProps=["sx"];function applyStyles(o,_){const $=this;return $.vars&&typeof $.getColorSchemeSelector=="function"?{[$.getColorSchemeSelector(o).replace(/(\[[^\]]+\])/,"*:where($1)")]:_}:$.palette.mode===o?_:{}}const _excluded$w=["breakpoints","palette","spacing","shape"];function createTheme$2(o={},..._){const{breakpoints:$={},palette:j={},spacing:_e,shape:et={}}=o,tt=_objectWithoutPropertiesLoose$m(o,_excluded$w),nt=createBreakpoints($),it=createSpacing(_e);let lt=deepmerge$1({breakpoints:nt,direction:"ltr",components:{},palette:_extends$w({mode:"light"},j),spacing:it,shape:_extends$w({},shape,et)},tt);return lt.applyStyles=applyStyles,lt=_.reduce((dt,bt)=>deepmerge$1(dt,bt),lt),lt.unstable_sxConfig=_extends$w({},defaultSxConfig,tt==null?void 0:tt.unstable_sxConfig),lt.unstable_sx=function(bt){return styleFunctionSx$1({sx:bt,theme:this})},lt}const createTheme$1=Object.freeze(Object.defineProperty({__proto__:null,default:createTheme$2,private_createBreakpoints:createBreakpoints,unstable_applyStyles:applyStyles},Symbol.toStringTag,{value:"Module"}));function isObjectEmpty(o){return Object.keys(o).length===0}function useTheme$2(o=null){const _=reactExports.useContext(ThemeContext$1);return!_||isObjectEmpty(_)?o:_}const systemDefaultTheme$1=createTheme$2();function useTheme$1(o=systemDefaultTheme$1){return useTheme$2(o)}function GlobalStyles$1({styles:o,themeId:_,defaultTheme:$={}}){const j=useTheme$1($),_e=typeof o=="function"?o(_&&j[_]||j):o;return jsxRuntimeExports$1.jsx(GlobalStyles$2,{styles:_e})}const _excluded$v=["sx"],splitProps=o=>{var _,$;const j={systemProps:{},otherProps:{}},_e=(_=o==null||($=o.theme)==null?void 0:$.unstable_sxConfig)!=null?_:defaultSxConfig;return Object.keys(o).forEach(et=>{_e[et]?j.systemProps[et]=o[et]:j.otherProps[et]=o[et]}),j};function extendSxProp(o){const{sx:_}=o,$=_objectWithoutPropertiesLoose$m(o,_excluded$v),{systemProps:j,otherProps:_e}=splitProps($);let et;return Array.isArray(_)?et=[j,..._]:typeof _=="function"?et=(...tt)=>{const nt=_(...tt);return isPlainObject$3(nt)?_extends$w({},j,nt):j}:et=_extends$w({},j,_),_extends$w({},_e,{sx:et})}const styleFunctionSx=Object.freeze(Object.defineProperty({__proto__:null,default:styleFunctionSx$1,extendSxProp,unstable_createStyleFunctionSx,unstable_defaultSxConfig:defaultSxConfig},Symbol.toStringTag,{value:"Module"})),defaultGenerator=o=>o,createClassNameGenerator=()=>{let o=defaultGenerator;return{configure(_){o=_},generate(_){return o(_)},reset(){o=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator();function r$4(o){var _,$,j="";if(typeof o=="string"||typeof o=="number")j+=o;else if(typeof o=="object")if(Array.isArray(o)){var _e=o.length;for(_=0;_<_e;_++)o[_]&&($=r$4(o[_]))&&(j&&(j+=" "),j+=$)}else for($ in o)o[$]&&(j&&(j+=" "),j+=$);return j}function clsx$1(){for(var o,_,$=0,j="",_e=arguments.length;$<_e;$++)(o=arguments[$])&&(_=r$4(o))&&(j&&(j+=" "),j+=_);return j}const _excluded$u=["className","component"];function createBox(o={}){const{themeId:_,defaultTheme:$,defaultClassName:j="MuiBox-root",generateClassName:_e}=o,et=styled$1("div",{shouldForwardProp:nt=>nt!=="theme"&&nt!=="sx"&&nt!=="as"})(styleFunctionSx$1);return reactExports.forwardRef(function(it,lt){const dt=useTheme$1($),bt=extendSxProp(it),{className:Ht,component:pr="div"}=bt,_n=_objectWithoutPropertiesLoose$m(bt,_excluded$u);return jsxRuntimeExports$1.jsx(et,_extends$w({as:pr,ref:lt,className:clsx$1(Ht,_e?_e(j):j),theme:_&&dt[_]||dt},_n))})}const globalStateClasses={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function generateUtilityClass(o,_,$="Mui"){const j=globalStateClasses[_];return j?`${$}-${j}`:`${ClassNameGenerator.generate(o)}-${_}`}function generateUtilityClasses(o,_,$="Mui"){const j={};return _.forEach(_e=>{j[_e]=generateUtilityClass(o,_e,$)}),j}var reactIs$1={exports:{}},reactIs_production_min$1={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=Symbol.for("react.element"),c$2=Symbol.for("react.portal"),d$1=Symbol.for("react.fragment"),e$2=Symbol.for("react.strict_mode"),f$1=Symbol.for("react.profiler"),g$1=Symbol.for("react.provider"),h$3=Symbol.for("react.context"),k$3=Symbol.for("react.server_context"),l$2=Symbol.for("react.forward_ref"),m$2=Symbol.for("react.suspense"),n$3=Symbol.for("react.suspense_list"),p$3=Symbol.for("react.memo"),q$3=Symbol.for("react.lazy"),t$3=Symbol.for("react.offscreen"),u$2;u$2=Symbol.for("react.module.reference");function v$2(o){if(typeof o=="object"&&o!==null){var _=o.$$typeof;switch(_){case b$1:switch(o=o.type,o){case d$1:case f$1:case e$2:case m$2:case n$3:return o;default:switch(o=o&&o.$$typeof,o){case k$3:case h$3:case l$2:case q$3:case p$3:case g$1:return o;default:return _}}case c$2:return _}}}reactIs_production_min$1.ContextConsumer=h$3;reactIs_production_min$1.ContextProvider=g$1;reactIs_production_min$1.Element=b$1;reactIs_production_min$1.ForwardRef=l$2;reactIs_production_min$1.Fragment=d$1;reactIs_production_min$1.Lazy=q$3;reactIs_production_min$1.Memo=p$3;reactIs_production_min$1.Portal=c$2;reactIs_production_min$1.Profiler=f$1;reactIs_production_min$1.StrictMode=e$2;reactIs_production_min$1.Suspense=m$2;reactIs_production_min$1.SuspenseList=n$3;reactIs_production_min$1.isAsyncMode=function(){return!1};reactIs_production_min$1.isConcurrentMode=function(){return!1};reactIs_production_min$1.isContextConsumer=function(o){return v$2(o)===h$3};reactIs_production_min$1.isContextProvider=function(o){return v$2(o)===g$1};reactIs_production_min$1.isElement=function(o){return typeof o=="object"&&o!==null&&o.$$typeof===b$1};reactIs_production_min$1.isForwardRef=function(o){return v$2(o)===l$2};reactIs_production_min$1.isFragment=function(o){return v$2(o)===d$1};reactIs_production_min$1.isLazy=function(o){return v$2(o)===q$3};reactIs_production_min$1.isMemo=function(o){return v$2(o)===p$3};reactIs_production_min$1.isPortal=function(o){return v$2(o)===c$2};reactIs_production_min$1.isProfiler=function(o){return v$2(o)===f$1};reactIs_production_min$1.isStrictMode=function(o){return v$2(o)===e$2};reactIs_production_min$1.isSuspense=function(o){return v$2(o)===m$2};reactIs_production_min$1.isSuspenseList=function(o){return v$2(o)===n$3};reactIs_production_min$1.isValidElementType=function(o){return typeof o=="string"||typeof o=="function"||o===d$1||o===f$1||o===e$2||o===m$2||o===n$3||o===t$3||typeof o=="object"&&o!==null&&(o.$$typeof===q$3||o.$$typeof===p$3||o.$$typeof===g$1||o.$$typeof===h$3||o.$$typeof===l$2||o.$$typeof===u$2||o.getModuleId!==void 0)};reactIs_production_min$1.typeOf=v$2;reactIs$1.exports=reactIs_production_min$1;var reactIsExports$1=reactIs$1.exports;const fnNameMatchRegex=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function getFunctionName(o){const _=`${o}`.match(fnNameMatchRegex);return _&&_[1]||""}function getFunctionComponentName(o,_=""){return o.displayName||o.name||getFunctionName(o)||_}function getWrappedName(o,_,$){const j=getFunctionComponentName(_);return o.displayName||(j!==""?`${$}(${j})`:$)}function getDisplayName$2(o){if(o!=null){if(typeof o=="string")return o;if(typeof o=="function")return getFunctionComponentName(o,"Component");if(typeof o=="object")switch(o.$$typeof){case reactIsExports$1.ForwardRef:return getWrappedName(o,o.render,"ForwardRef");case reactIsExports$1.Memo:return getWrappedName(o,o.type,"memo");default:return}}}const getDisplayName$1=Object.freeze(Object.defineProperty({__proto__:null,default:getDisplayName$2,getFunctionName},Symbol.toStringTag,{value:"Module"}));function resolveProps(o,_){const $=_extends$w({},_);return Object.keys(o).forEach(j=>{if(j.toString().match(/^(components|slots)$/))$[j]=_extends$w({},o[j],$[j]);else if(j.toString().match(/^(componentsProps|slotProps)$/)){const _e=o[j]||{},et=_[j];$[j]={},!et||!Object.keys(et)?$[j]=_e:!_e||!Object.keys(_e)?$[j]=et:($[j]=_extends$w({},et),Object.keys(_e).forEach(tt=>{$[j][tt]=resolveProps(_e[tt],et[tt])}))}else $[j]===void 0&&($[j]=o[j])}),$}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function clamp$3(o,_=Number.MIN_SAFE_INTEGER,$=Number.MAX_SAFE_INTEGER){return Math.max(_,Math.min(o,$))}const clamp$2=Object.freeze(Object.defineProperty({__proto__:null,default:clamp$3},Symbol.toStringTag,{value:"Module"}));function debounce$2(o,_=166){let $;function j(..._e){const et=()=>{o.apply(this,_e)};clearTimeout($),$=setTimeout(et,_)}return j.clear=()=>{clearTimeout($)},j}function ownerDocument(o){return o&&o.ownerDocument||document}function ownerWindow(o){return ownerDocument(o).defaultView||window}function setRef(o,_){typeof o=="function"?o(_):o&&(o.current=_)}function useForkRef(...o){return reactExports.useMemo(()=>o.every(_=>_==null)?null:_=>{o.forEach($=>{setRef($,_)})},o)}function composeClasses(o,_,$=void 0){const j={};return Object.keys(o).forEach(_e=>{j[_e]=o[_e].reduce((et,tt)=>{if(tt){const nt=_(tt);nt!==""&&et.push(nt),$&&$[tt]&&et.push($[tt])}return et},[]).join(" ")}),j}function isHostComponent(o){return typeof o=="string"}const ThemeContext=reactExports.createContext(null);function useTheme(){return reactExports.useContext(ThemeContext)}const hasSymbol=typeof Symbol=="function"&&Symbol.for,nested=hasSymbol?Symbol.for("mui.nested"):"__THEME_NESTED__";function mergeOuterLocalTheme(o,_){return typeof _=="function"?_(o):_extends$w({},o,_)}function ThemeProvider$2(o){const{children:_,theme:$}=o,j=useTheme(),_e=reactExports.useMemo(()=>{const et=j===null?$:mergeOuterLocalTheme(j,$);return et!=null&&(et[nested]=j!==null),et},[$,j]);return jsxRuntimeExports$1.jsx(ThemeContext.Provider,{value:_e,children:_})}const _excluded$t=["value"],RtlContext=reactExports.createContext();function RtlProvider(o){let{value:_}=o,$=_objectWithoutPropertiesLoose$m(o,_excluded$t);return jsxRuntimeExports$1.jsx(RtlContext.Provider,_extends$w({value:_??!0},$))}const PropsContext=reactExports.createContext(void 0);function DefaultPropsProvider({value:o,children:_}){return jsxRuntimeExports$1.jsx(PropsContext.Provider,{value:o,children:_})}function getThemeProps(o){const{theme:_,name:$,props:j}=o;if(!_||!_.components||!_.components[$])return j;const _e=_.components[$];return _e.defaultProps?resolveProps(_e.defaultProps,j):!_e.styleOverrides&&!_e.variants?resolveProps(_e,j):j}function useDefaultProps$1({props:o,name:_}){const $=reactExports.useContext(PropsContext);return getThemeProps({props:o,name:_,theme:{components:$}})}const EMPTY_THEME={};function useThemeScoping(o,_,$,j=!1){return reactExports.useMemo(()=>{const _e=o&&_[o]||_;if(typeof $=="function"){const et=$(_e),tt=o?_extends$w({},_,{[o]:et}):et;return j?()=>tt:tt}return o?_extends$w({},_,{[o]:$}):_extends$w({},_,$)},[o,_,$,j])}function ThemeProvider$1(o){const{children:_,theme:$,themeId:j}=o,_e=useTheme$2(EMPTY_THEME),et=useTheme()||EMPTY_THEME,tt=useThemeScoping(j,_e,$),nt=useThemeScoping(j,et,$,!0),it=tt.direction==="rtl";return jsxRuntimeExports$1.jsx(ThemeProvider$2,{theme:nt,children:jsxRuntimeExports$1.jsx(ThemeContext$1.Provider,{value:tt,children:jsxRuntimeExports$1.jsx(RtlProvider,{value:it,children:jsxRuntimeExports$1.jsx(DefaultPropsProvider,{value:tt==null?void 0:tt.components,children:_})})})})}function createMixins(o,_){return _extends$w({toolbar:{minHeight:56,[o.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[o.up("sm")]:{minHeight:64}}},_)}var colorManipulator={},interopRequireDefault={exports:{}};(function(o){function _($){return $&&$.__esModule?$:{default:$}}o.exports=_,o.exports.__esModule=!0,o.exports.default=o.exports})(interopRequireDefault);var interopRequireDefaultExports=interopRequireDefault.exports;const require$$1$2=getAugmentedNamespace(formatMuiErrorMessage),require$$2=getAugmentedNamespace(clamp$2);var _interopRequireDefault$1=interopRequireDefaultExports;Object.defineProperty(colorManipulator,"__esModule",{value:!0});var alpha_1=colorManipulator.alpha=alpha$1;colorManipulator.blend=blend;colorManipulator.colorChannel=void 0;var darken_1=colorManipulator.darken=darken;colorManipulator.decomposeColor=decomposeColor;colorManipulator.emphasize=emphasize;var getContrastRatio_1=colorManipulator.getContrastRatio=getContrastRatio;colorManipulator.getLuminance=getLuminance;colorManipulator.hexToRgb=hexToRgb;colorManipulator.hslToRgb=hslToRgb;var lighten_1=colorManipulator.lighten=lighten;colorManipulator.private_safeAlpha=private_safeAlpha;colorManipulator.private_safeColorChannel=void 0;colorManipulator.private_safeDarken=private_safeDarken;colorManipulator.private_safeEmphasize=private_safeEmphasize;colorManipulator.private_safeLighten=private_safeLighten;colorManipulator.recomposeColor=recomposeColor;colorManipulator.rgbToHex=rgbToHex;var _formatMuiErrorMessage2=_interopRequireDefault$1(require$$1$2),_clamp=_interopRequireDefault$1(require$$2);function clampWrapper(o,_=0,$=1){return(0,_clamp.default)(o,_,$)}function hexToRgb(o){o=o.slice(1);const _=new RegExp(`.{1,${o.length>=6?2:1}}`,"g");let $=o.match(_);return $&&$[0].length===1&&($=$.map(j=>j+j)),$?`rgb${$.length===4?"a":""}(${$.map((j,_e)=>_e<3?parseInt(j,16):Math.round(parseInt(j,16)/255*1e3)/1e3).join(", ")})`:""}function intToHex(o){const _=o.toString(16);return _.length===1?`0${_}`:_}function decomposeColor(o){if(o.type)return o;if(o.charAt(0)==="#")return decomposeColor(hexToRgb(o));const _=o.indexOf("("),$=o.substring(0,_);if(["rgb","rgba","hsl","hsla","color"].indexOf($)===-1)throw new Error((0,_formatMuiErrorMessage2.default)(9,o));let j=o.substring(_+1,o.length-1),_e;if($==="color"){if(j=j.split(" "),_e=j.shift(),j.length===4&&j[3].charAt(0)==="/"&&(j[3]=j[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(_e)===-1)throw new Error((0,_formatMuiErrorMessage2.default)(10,_e))}else j=j.split(",");return j=j.map(et=>parseFloat(et)),{type:$,values:j,colorSpace:_e}}const colorChannel=o=>{const _=decomposeColor(o);return _.values.slice(0,3).map(($,j)=>_.type.indexOf("hsl")!==-1&&j!==0?`${$}%`:$).join(" ")};colorManipulator.colorChannel=colorChannel;const private_safeColorChannel=(o,_)=>{try{return colorChannel(o)}catch{return o}};colorManipulator.private_safeColorChannel=private_safeColorChannel;function recomposeColor(o){const{type:_,colorSpace:$}=o;let{values:j}=o;return _.indexOf("rgb")!==-1?j=j.map((_e,et)=>et<3?parseInt(_e,10):_e):_.indexOf("hsl")!==-1&&(j[1]=`${j[1]}%`,j[2]=`${j[2]}%`),_.indexOf("color")!==-1?j=`${$} ${j.join(" ")}`:j=`${j.join(", ")}`,`${_}(${j})`}function rgbToHex(o){if(o.indexOf("#")===0)return o;const{values:_}=decomposeColor(o);return`#${_.map(($,j)=>intToHex(j===3?Math.round(255*$):$)).join("")}`}function hslToRgb(o){o=decomposeColor(o);const{values:_}=o,$=_[0],j=_[1]/100,_e=_[2]/100,et=j*Math.min(_e,1-_e),tt=(lt,dt=(lt+$/30)%12)=>_e-et*Math.max(Math.min(dt-3,9-dt,1),-1);let nt="rgb";const it=[Math.round(tt(0)*255),Math.round(tt(8)*255),Math.round(tt(4)*255)];return o.type==="hsla"&&(nt+="a",it.push(_[3])),recomposeColor({type:nt,values:it})}function getLuminance(o){o=decomposeColor(o);let _=o.type==="hsl"||o.type==="hsla"?decomposeColor(hslToRgb(o)).values:o.values;return _=_.map($=>(o.type!=="color"&&($/=255),$<=.03928?$/12.92:(($+.055)/1.055)**2.4)),Number((.2126*_[0]+.7152*_[1]+.0722*_[2]).toFixed(3))}function getContrastRatio(o,_){const $=getLuminance(o),j=getLuminance(_);return(Math.max($,j)+.05)/(Math.min($,j)+.05)}function alpha$1(o,_){return o=decomposeColor(o),_=clampWrapper(_),(o.type==="rgb"||o.type==="hsl")&&(o.type+="a"),o.type==="color"?o.values[3]=`/${_}`:o.values[3]=_,recomposeColor(o)}function private_safeAlpha(o,_,$){try{return alpha$1(o,_)}catch{return o}}function darken(o,_){if(o=decomposeColor(o),_=clampWrapper(_),o.type.indexOf("hsl")!==-1)o.values[2]*=1-_;else if(o.type.indexOf("rgb")!==-1||o.type.indexOf("color")!==-1)for(let $=0;$<3;$+=1)o.values[$]*=1-_;return recomposeColor(o)}function private_safeDarken(o,_,$){try{return darken(o,_)}catch{return o}}function lighten(o,_){if(o=decomposeColor(o),_=clampWrapper(_),o.type.indexOf("hsl")!==-1)o.values[2]+=(100-o.values[2])*_;else if(o.type.indexOf("rgb")!==-1)for(let $=0;$<3;$+=1)o.values[$]+=(255-o.values[$])*_;else if(o.type.indexOf("color")!==-1)for(let $=0;$<3;$+=1)o.values[$]+=(1-o.values[$])*_;return recomposeColor(o)}function private_safeLighten(o,_,$){try{return lighten(o,_)}catch{return o}}function emphasize(o,_=.15){return getLuminance(o)>.5?darken(o,_):lighten(o,_)}function private_safeEmphasize(o,_,$){try{return emphasize(o,_)}catch{return o}}function blend(o,_,$,j=1){const _e=(it,lt)=>Math.round((it**(1/j)*(1-$)+lt**(1/j)*$)**j),et=decomposeColor(o),tt=decomposeColor(_),nt=[_e(et.values[0],tt.values[0]),_e(et.values[1],tt.values[1]),_e(et.values[2],tt.values[2])];return recomposeColor({type:"rgb",values:nt})}const _excluded$s=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common.white,default:common.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(o,_,$,j){const _e=j.light||j,et=j.dark||j*1.5;o[_]||(o.hasOwnProperty($)?o[_]=o[$]:_==="light"?o.light=lighten_1(o.main,_e):_==="dark"&&(o.dark=darken_1(o.main,et)))}function getDefaultPrimary(o="light"){return o==="dark"?{main:blue[200],light:blue[50],dark:blue[400]}:{main:blue[700],light:blue[400],dark:blue[800]}}function getDefaultSecondary(o="light"){return o==="dark"?{main:purple[200],light:purple[50],dark:purple[400]}:{main:purple[500],light:purple[300],dark:purple[700]}}function getDefaultError(o="light"){return o==="dark"?{main:red[500],light:red[300],dark:red[700]}:{main:red[700],light:red[400],dark:red[800]}}function getDefaultInfo(o="light"){return o==="dark"?{main:lightBlue[400],light:lightBlue[300],dark:lightBlue[700]}:{main:lightBlue[700],light:lightBlue[500],dark:lightBlue[900]}}function getDefaultSuccess(o="light"){return o==="dark"?{main:green[400],light:green[300],dark:green[700]}:{main:green[800],light:green[500],dark:green[900]}}function getDefaultWarning(o="light"){return o==="dark"?{main:orange[400],light:orange[300],dark:orange[700]}:{main:"#ed6c02",light:orange[500],dark:orange[900]}}function createPalette(o){const{mode:_="light",contrastThreshold:$=3,tonalOffset:j=.2}=o,_e=_objectWithoutPropertiesLoose$m(o,_excluded$s),et=o.primary||getDefaultPrimary(_),tt=o.secondary||getDefaultSecondary(_),nt=o.error||getDefaultError(_),it=o.info||getDefaultInfo(_),lt=o.success||getDefaultSuccess(_),dt=o.warning||getDefaultWarning(_);function bt(ft){return getContrastRatio_1(ft,dark.text.primary)>=$?dark.text.primary:light.text.primary}const Ht=({color:ft,name:Ct,mainShade:mr=500,lightShade:_r=300,darkShade:mn=700})=>{if(ft=_extends$w({},ft),!ft.main&&ft[mr]&&(ft.main=ft[mr]),!ft.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage$1(11,Ct?` (${Ct})`:"",mr));if(typeof ft.main!="string")throw new Error(formatMuiErrorMessage$1(12,Ct?` (${Ct})`:"",JSON.stringify(ft.main)));return addLightOrDark(ft,"light",_r,j),addLightOrDark(ft,"dark",mn,j),ft.contrastText||(ft.contrastText=bt(ft.main)),ft},pr={dark,light};return deepmerge$1(_extends$w({common:_extends$w({},common),mode:_,primary:Ht({color:et,name:"primary"}),secondary:Ht({color:tt,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:Ht({color:nt,name:"error"}),warning:Ht({color:dt,name:"warning"}),info:Ht({color:it,name:"info"}),success:Ht({color:lt,name:"success"}),grey,contrastThreshold:$,getContrastText:bt,augmentColor:Ht,tonalOffset:j},pr[_]),_e)}const _excluded$r=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round$2(o){return Math.round(o*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(o,_){const $=typeof _=="function"?_(o):_,{fontFamily:j=defaultFontFamily,fontSize:_e=14,fontWeightLight:et=300,fontWeightRegular:tt=400,fontWeightMedium:nt=500,fontWeightBold:it=700,htmlFontSize:lt=16,allVariants:dt,pxToRem:bt}=$,Ht=_objectWithoutPropertiesLoose$m($,_excluded$r),pr=_e/14,_n=bt||(mr=>`${mr/lt*pr}rem`),ft=(mr,_r,mn,dr,pn)=>_extends$w({fontFamily:j,fontWeight:mr,fontSize:_n(_r),lineHeight:mn},j===defaultFontFamily?{letterSpacing:`${round$2(dr/_r)}em`}:{},pn,dt),Ct={h1:ft(et,96,1.167,-1.5),h2:ft(et,60,1.2,-.5),h3:ft(tt,48,1.167,0),h4:ft(tt,34,1.235,.25),h5:ft(tt,24,1.334,0),h6:ft(nt,20,1.6,.15),subtitle1:ft(tt,16,1.75,.15),subtitle2:ft(nt,14,1.57,.1),body1:ft(tt,16,1.5,.15),body2:ft(tt,14,1.43,.15),button:ft(nt,14,1.75,.4,caseAllCaps),caption:ft(tt,12,1.66,.4),overline:ft(tt,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge$1(_extends$w({htmlFontSize:lt,pxToRem:_n,fontFamily:j,fontSize:_e,fontWeightLight:et,fontWeightRegular:tt,fontWeightMedium:nt,fontWeightBold:it},Ct),Ht,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...o){return[`${o[0]}px ${o[1]}px ${o[2]}px ${o[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${o[4]}px ${o[5]}px ${o[6]}px ${o[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${o[8]}px ${o[9]}px ${o[10]}px ${o[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],_excluded$q=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(o){return`${Math.round(o)}ms`}function getAutoHeightDuration(o){if(!o)return 0;const _=o/36;return Math.round((4+15*_**.25+_/5)*10)}function createTransitions(o){const _=_extends$w({},easing,o.easing),$=_extends$w({},duration,o.duration);return _extends$w({getAutoHeightDuration,create:(_e=["all"],et={})=>{const{duration:tt=$.standard,easing:nt=_.easeInOut,delay:it=0}=et;return _objectWithoutPropertiesLoose$m(et,_excluded$q),(Array.isArray(_e)?_e:[_e]).map(lt=>`${lt} ${typeof tt=="string"?tt:formatMs(tt)} ${nt} ${typeof it=="string"?it:formatMs(it)}`).join(",")}},o,{easing:_,duration:$})}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},_excluded$p=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(o={},..._){const{mixins:$={},palette:j={},transitions:_e={},typography:et={}}=o,tt=_objectWithoutPropertiesLoose$m(o,_excluded$p);if(o.vars)throw new Error(formatMuiErrorMessage$1(18));const nt=createPalette(j),it=createTheme$2(o);let lt=deepmerge$1(it,{mixins:createMixins(it.breakpoints,$),palette:nt,shadows:shadows.slice(),typography:createTypography(nt,et),transitions:createTransitions(_e),zIndex:_extends$w({},zIndex)});return lt=deepmerge$1(lt,tt),lt=_.reduce((dt,bt)=>deepmerge$1(dt,bt),lt),lt.unstable_sxConfig=_extends$w({},defaultSxConfig,tt==null?void 0:tt.unstable_sxConfig),lt.unstable_sx=function(bt){return styleFunctionSx$1({sx:bt,theme:this})},lt}const defaultTheme$1=createTheme();var createStyled$1={};const require$$1$1=getAugmentedNamespace(_extends$x);var objectWithoutPropertiesLoose={exports:{}},hasRequiredObjectWithoutPropertiesLoose;function requireObjectWithoutPropertiesLoose(){return hasRequiredObjectWithoutPropertiesLoose||(hasRequiredObjectWithoutPropertiesLoose=1,function(o){function _($,j){if($==null)return{};var _e={};for(var et in $)if({}.hasOwnProperty.call($,et)){if(j.includes(et))continue;_e[et]=$[et]}return _e}o.exports=_,o.exports.__esModule=!0,o.exports.default=o.exports}(objectWithoutPropertiesLoose)),objectWithoutPropertiesLoose.exports}const require$$1=getAugmentedNamespace(styledEngine),require$$4=getAugmentedNamespace(deepmerge),require$$5=getAugmentedNamespace(capitalize),require$$6=getAugmentedNamespace(getDisplayName$1),require$$7=getAugmentedNamespace(createTheme$1),require$$8=getAugmentedNamespace(styleFunctionSx);var _interopRequireDefault=interopRequireDefaultExports;Object.defineProperty(createStyled$1,"__esModule",{value:!0});var _default=createStyled$1.default=createStyled;createStyled$1.shouldForwardProp=shouldForwardProp;createStyled$1.systemDefaultTheme=void 0;var _extends2=_interopRequireDefault(require$$1$1),_objectWithoutPropertiesLoose2=_interopRequireDefault(requireObjectWithoutPropertiesLoose()),_styledEngine=_interopRequireWildcard(require$$1),_deepmerge=require$$4;_interopRequireDefault(require$$5);_interopRequireDefault(require$$6);var _createTheme=_interopRequireDefault(require$$7),_styleFunctionSx=_interopRequireDefault(require$$8);const _excluded$o=["ownerState"],_excluded2$7=["variants"],_excluded3$1=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function _getRequireWildcardCache(o){if(typeof WeakMap!="function")return null;var _=new WeakMap,$=new WeakMap;return(_getRequireWildcardCache=function(j){return j?$:_})(o)}function _interopRequireWildcard(o,_){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var $=_getRequireWildcardCache(_);if($&&$.has(o))return $.get(o);var j={__proto__:null},_e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var et in o)if(et!=="default"&&Object.prototype.hasOwnProperty.call(o,et)){var tt=_e?Object.getOwnPropertyDescriptor(o,et):null;tt&&(tt.get||tt.set)?Object.defineProperty(j,et,tt):j[et]=o[et]}return j.default=o,$&&$.set(o,j),j}function isEmpty$1(o){return Object.keys(o).length===0}function isStringTag(o){return typeof o=="string"&&o.charCodeAt(0)>96}function shouldForwardProp(o){return o!=="ownerState"&&o!=="theme"&&o!=="sx"&&o!=="as"}const systemDefaultTheme=createStyled$1.systemDefaultTheme=(0,_createTheme.default)(),lowercaseFirstLetter=o=>o&&o.charAt(0).toLowerCase()+o.slice(1);function resolveTheme({defaultTheme:o,theme:_,themeId:$}){return isEmpty$1(_)?o:_[$]||_}function defaultOverridesResolver(o){return o?(_,$)=>$[o]:null}function processStyleArg(o,_){let{ownerState:$}=_,j=(0,_objectWithoutPropertiesLoose2.default)(_,_excluded$o);const _e=typeof o=="function"?o((0,_extends2.default)({ownerState:$},j)):o;if(Array.isArray(_e))return _e.flatMap(et=>processStyleArg(et,(0,_extends2.default)({ownerState:$},j)));if(_e&&typeof _e=="object"&&Array.isArray(_e.variants)){const{variants:et=[]}=_e;let nt=(0,_objectWithoutPropertiesLoose2.default)(_e,_excluded2$7);return et.forEach(it=>{let lt=!0;typeof it.props=="function"?lt=it.props((0,_extends2.default)({ownerState:$},j,$)):Object.keys(it.props).forEach(dt=>{($==null?void 0:$[dt])!==it.props[dt]&&j[dt]!==it.props[dt]&&(lt=!1)}),lt&&(Array.isArray(nt)||(nt=[nt]),nt.push(typeof it.style=="function"?it.style((0,_extends2.default)({ownerState:$},j,$)):it.style))}),nt}return _e}function createStyled(o={}){const{themeId:_,defaultTheme:$=systemDefaultTheme,rootShouldForwardProp:j=shouldForwardProp,slotShouldForwardProp:_e=shouldForwardProp}=o,et=tt=>(0,_styleFunctionSx.default)((0,_extends2.default)({},tt,{theme:resolveTheme((0,_extends2.default)({},tt,{defaultTheme:$,themeId:_}))}));return et.__mui_systemSx=!0,(tt,nt={})=>{(0,_styledEngine.internal_processStyles)(tt,pn=>pn.filter(Do=>!(Do!=null&&Do.__mui_systemSx)));const{name:it,slot:lt,skipVariantsResolver:dt,skipSx:bt,overridesResolver:Ht=defaultOverridesResolver(lowercaseFirstLetter(lt))}=nt,pr=(0,_objectWithoutPropertiesLoose2.default)(nt,_excluded3$1),_n=dt!==void 0?dt:lt&&lt!=="Root"&&lt!=="root"||!1,ft=bt||!1;let Ct,mr=shouldForwardProp;lt==="Root"||lt==="root"?mr=j:lt?mr=_e:isStringTag(tt)&&(mr=void 0);const _r=(0,_styledEngine.default)(tt,(0,_extends2.default)({shouldForwardProp:mr,label:Ct},pr)),mn=pn=>typeof pn=="function"&&pn.__emotion_real!==pn||(0,_deepmerge.isPlainObject)(pn)?Do=>processStyleArg(pn,(0,_extends2.default)({},Do,{theme:resolveTheme({theme:Do.theme,defaultTheme:$,themeId:_})})):pn,dr=(pn,...Do)=>{let Io=mn(pn);const Lo=Do?Do.map(mn):[];it&&Ht&&Lo.push(_s=>{const yp=resolveTheme((0,_extends2.default)({},_s,{defaultTheme:$,themeId:_}));if(!yp.components||!yp.components[it]||!yp.components[it].styleOverrides)return null;const xs=yp.components[it].styleOverrides,vs={};return Object.entries(xs).forEach(([Sp,wp])=>{vs[Sp]=processStyleArg(wp,(0,_extends2.default)({},_s,{theme:yp}))}),Ht(_s,vs)}),it&&!_n&&Lo.push(_s=>{var yp;const xs=resolveTheme((0,_extends2.default)({},_s,{defaultTheme:$,themeId:_})),vs=xs==null||(yp=xs.components)==null||(yp=yp[it])==null?void 0:yp.variants;return processStyleArg({variants:vs},(0,_extends2.default)({},_s,{theme:xs}))}),ft||Lo.push(et);const ms=Lo.length-Do.length;if(Array.isArray(pn)&&ms>0){const _s=new Array(ms).fill("");Io=[...pn,..._s],Io.raw=[...pn.raw,..._s]}const Uo=_r(Io,...Lo);return tt.muiName&&(Uo.muiName=tt.muiName),Uo};return _r.withConfig&&(dr.withConfig=_r.withConfig),dr}}function slotShouldForwardProp(o){return o!=="ownerState"&&o!=="theme"&&o!=="sx"&&o!=="as"}const rootShouldForwardProp=o=>slotShouldForwardProp(o)&&o!=="classes",styled=_default({themeId:THEME_ID,defaultTheme:defaultTheme$1,rootShouldForwardProp}),_excluded$n=["theme"];function ThemeProvider(o){let{theme:_}=o,$=_objectWithoutPropertiesLoose$m(o,_excluded$n);const j=_[THEME_ID];return jsxRuntimeExports$1.jsx(ThemeProvider$1,_extends$w({},$,{themeId:j?THEME_ID:void 0,theme:j||_}))}const getOverlayAlpha=o=>{let _;return o<1?_=5.11916*o**2:_=4.5*Math.log(o+1)+2,(_/100).toFixed(2)};function useDefaultProps(o){return useDefaultProps$1(o)}function getSvgIconUtilityClass(o){return generateUtilityClass("MuiSvgIcon",o)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _excluded$m=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses$2=o=>{const{color:_,fontSize:$,classes:j}=o,_e={root:["root",_!=="inherit"&&`color${capitalize$1(_)}`,`fontSize${capitalize$1($)}`]};return composeClasses(_e,getSvgIconUtilityClass,j)},SvgIconRoot=styled("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(o,_)=>{const{ownerState:$}=o;return[_.root,$.color!=="inherit"&&_[`color${capitalize$1($.color)}`],_[`fontSize${capitalize$1($.fontSize)}`]]}})(({theme:o,ownerState:_})=>{var $,j,_e,et,tt,nt,it,lt,dt,bt,Ht,pr,_n;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:_.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:($=o.transitions)==null||(j=$.create)==null?void 0:j.call($,"fill",{duration:(_e=o.transitions)==null||(_e=_e.duration)==null?void 0:_e.shorter}),fontSize:{inherit:"inherit",small:((et=o.typography)==null||(tt=et.pxToRem)==null?void 0:tt.call(et,20))||"1.25rem",medium:((nt=o.typography)==null||(it=nt.pxToRem)==null?void 0:it.call(nt,24))||"1.5rem",large:((lt=o.typography)==null||(dt=lt.pxToRem)==null?void 0:dt.call(lt,35))||"2.1875rem"}[_.fontSize],color:(bt=(Ht=(o.vars||o).palette)==null||(Ht=Ht[_.color])==null?void 0:Ht.main)!=null?bt:{action:(pr=(o.vars||o).palette)==null||(pr=pr.action)==null?void 0:pr.active,disabled:(_n=(o.vars||o).palette)==null||(_n=_n.action)==null?void 0:_n.disabled,inherit:void 0}[_.color]}}),SvgIcon=reactExports.forwardRef(function o(_,$){const j=useDefaultProps({props:_,name:"MuiSvgIcon"}),{children:_e,className:et,color:tt="inherit",component:nt="svg",fontSize:it="medium",htmlColor:lt,inheritViewBox:dt=!1,titleAccess:bt,viewBox:Ht="0 0 24 24"}=j,pr=_objectWithoutPropertiesLoose$m(j,_excluded$m),_n=reactExports.isValidElement(_e)&&_e.type==="svg",ft=_extends$w({},j,{color:tt,component:nt,fontSize:it,instanceFontSize:_.fontSize,inheritViewBox:dt,viewBox:Ht,hasSvgAsChild:_n}),Ct={};dt||(Ct.viewBox=Ht);const mr=useUtilityClasses$2(ft);return jsxRuntimeExports$1.jsxs(SvgIconRoot,_extends$w({as:nt,className:clsx$1(mr.root,et),focusable:"false",color:lt,"aria-hidden":bt?void 0:!0,role:bt?"img":void 0,ref:$},Ct,pr,_n&&_e.props,{ownerState:ft,children:[_n?_e.props.children:_e,bt?jsxRuntimeExports$1.jsx("title",{children:bt}):null]}))});SvgIcon.muiName="SvgIcon";function getPaperUtilityClass(o){return generateUtilityClass("MuiPaper",o)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _excluded$l=["className","component","elevation","square","variant"],useUtilityClasses$1=o=>{const{square:_,elevation:$,variant:j,classes:_e}=o,et={root:["root",j,!_&&"rounded",j==="elevation"&&`elevation${$}`]};return composeClasses(et,getPaperUtilityClass,_e)},PaperRoot=styled("div",{name:"MuiPaper",slot:"Root",overridesResolver:(o,_)=>{const{ownerState:$}=o;return[_.root,_[$.variant],!$.square&&_.rounded,$.variant==="elevation"&&_[`elevation${$.elevation}`]]}})(({theme:o,ownerState:_})=>{var $;return _extends$w({backgroundColor:(o.vars||o).palette.background.paper,color:(o.vars||o).palette.text.primary,transition:o.transitions.create("box-shadow")},!_.square&&{borderRadius:o.shape.borderRadius},_.variant==="outlined"&&{border:`1px solid ${(o.vars||o).palette.divider}`},_.variant==="elevation"&&_extends$w({boxShadow:(o.vars||o).shadows[_.elevation]},!o.vars&&o.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${alpha_1("#fff",getOverlayAlpha(_.elevation))}, ${alpha_1("#fff",getOverlayAlpha(_.elevation))})`},o.vars&&{backgroundImage:($=o.vars.overlays)==null?void 0:$[_.elevation]}))}),Paper=reactExports.forwardRef(function o(_,$){const j=useDefaultProps({props:_,name:"MuiPaper"}),{className:_e,component:et="div",elevation:tt=1,square:nt=!1,variant:it="elevation"}=j,lt=_objectWithoutPropertiesLoose$m(j,_excluded$l),dt=_extends$w({},j,{component:et,elevation:tt,square:nt,variant:it}),bt=useUtilityClasses$1(dt);return jsxRuntimeExports$1.jsx(PaperRoot,_extends$w({as:et,ownerState:dt,className:clsx$1(bt.root,_e),ref:$},lt))}),_excluded$k=["onChange","maxRows","minRows","style","value"];function getStyleValue(o){return parseInt(o,10)||0}const styles={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function isEmpty(o){return o==null||Object.keys(o).length===0||o.outerHeightStyle===0&&!o.overflowing}const TextareaAutosize=reactExports.forwardRef(function o(_,$){const{onChange:j,maxRows:_e,minRows:et=1,style:tt,value:nt}=_,it=_objectWithoutPropertiesLoose$m(_,_excluded$k),{current:lt}=reactExports.useRef(nt!=null),dt=reactExports.useRef(null),bt=useForkRef($,dt),Ht=reactExports.useRef(null),pr=reactExports.useRef(null),_n=reactExports.useCallback(()=>{const mr=dt.current,mn=ownerWindow(mr).getComputedStyle(mr);if(mn.width==="0px")return{outerHeightStyle:0,overflowing:!1};const dr=pr.current;dr.style.width=mn.width,dr.value=mr.value||_.placeholder||"x",dr.value.slice(-1)===`
`&&(dr.value+=" ");const pn=mn.boxSizing,Do=getStyleValue(mn.paddingBottom)+getStyleValue(mn.paddingTop),Io=getStyleValue(mn.borderBottomWidth)+getStyleValue(mn.borderTopWidth),Lo=dr.scrollHeight;dr.value="x";const ms=dr.scrollHeight;let Uo=Lo;et&&(Uo=Math.max(Number(et)*ms,Uo)),_e&&(Uo=Math.min(Number(_e)*ms,Uo)),Uo=Math.max(Uo,ms);const _s=Uo+(pn==="border-box"?Do+Io:0),yp=Math.abs(Uo-Lo)<=1;return{outerHeightStyle:_s,overflowing:yp}},[_e,et,_.placeholder]),ft=reactExports.useCallback(()=>{const mr=_n();if(isEmpty(mr))return;const _r=mr.outerHeightStyle,mn=dt.current;Ht.current!==_r&&(Ht.current=_r,mn.style.height=`${_r}px`),mn.style.overflow=mr.overflowing?"hidden":""},[_n]);useEnhancedEffect(()=>{const mr=()=>{ft()};let _r;const mn=debounce$2(mr),dr=dt.current,pn=ownerWindow(dr);pn.addEventListener("resize",mn);let Do;return typeof ResizeObserver<"u"&&(Do=new ResizeObserver(mr),Do.observe(dr)),()=>{mn.clear(),cancelAnimationFrame(_r),pn.removeEventListener("resize",mn),Do&&Do.disconnect()}},[_n,ft]),useEnhancedEffect(()=>{ft()});const Ct=mr=>{lt||ft(),j&&j(mr)};return jsxRuntimeExports$1.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports$1.jsx("textarea",_extends$w({value:nt,onChange:Ct,ref:bt,rows:et,style:tt},it)),jsxRuntimeExports$1.jsx("textarea",{"aria-hidden":!0,className:_.className,readOnly:!0,ref:pr,tabIndex:-1,style:_extends$w({},styles.shadow,tt,{paddingTop:0,paddingBottom:0})})]})});function formControlState({props:o,states:_,muiFormControl:$}){return _.reduce((j,_e)=>(j[_e]=o[_e],$&&typeof o[_e]>"u"&&(j[_e]=$[_e]),j),{})}const FormControlContext=reactExports.createContext(void 0);function useFormControl(){return reactExports.useContext(FormControlContext)}function GlobalStyles(o){return jsxRuntimeExports$1.jsx(GlobalStyles$1,_extends$w({},o,{defaultTheme:defaultTheme$1,themeId:THEME_ID}))}function hasValue(o){return o!=null&&!(Array.isArray(o)&&o.length===0)}function isFilled(o,_=!1){return o&&(hasValue(o.value)&&o.value!==""||_&&hasValue(o.defaultValue)&&o.defaultValue!=="")}function getInputBaseUtilityClass(o){return generateUtilityClass("MuiInputBase",o)}const inputBaseClasses=generateUtilityClasses("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),_excluded$j=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],rootOverridesResolver=(o,_)=>{const{ownerState:$}=o;return[_.root,$.formControl&&_.formControl,$.startAdornment&&_.adornedStart,$.endAdornment&&_.adornedEnd,$.error&&_.error,$.size==="small"&&_.sizeSmall,$.multiline&&_.multiline,$.color&&_[`color${capitalize$1($.color)}`],$.fullWidth&&_.fullWidth,$.hiddenLabel&&_.hiddenLabel]},inputOverridesResolver=(o,_)=>{const{ownerState:$}=o;return[_.input,$.size==="small"&&_.inputSizeSmall,$.multiline&&_.inputMultiline,$.type==="search"&&_.inputTypeSearch,$.startAdornment&&_.inputAdornedStart,$.endAdornment&&_.inputAdornedEnd,$.hiddenLabel&&_.inputHiddenLabel]},useUtilityClasses=o=>{const{classes:_,color:$,disabled:j,error:_e,endAdornment:et,focused:tt,formControl:nt,fullWidth:it,hiddenLabel:lt,multiline:dt,readOnly:bt,size:Ht,startAdornment:pr,type:_n}=o,ft={root:["root",`color${capitalize$1($)}`,j&&"disabled",_e&&"error",it&&"fullWidth",tt&&"focused",nt&&"formControl",Ht&&Ht!=="medium"&&`size${capitalize$1(Ht)}`,dt&&"multiline",pr&&"adornedStart",et&&"adornedEnd",lt&&"hiddenLabel",bt&&"readOnly"],input:["input",j&&"disabled",_n==="search"&&"inputTypeSearch",dt&&"inputMultiline",Ht==="small"&&"inputSizeSmall",lt&&"inputHiddenLabel",pr&&"inputAdornedStart",et&&"inputAdornedEnd",bt&&"readOnly"]};return composeClasses(ft,getInputBaseUtilityClass,_)},InputBaseRoot=styled("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:o,ownerState:_})=>_extends$w({},o.typography.body1,{color:(o.vars||o).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${inputBaseClasses.disabled}`]:{color:(o.vars||o).palette.text.disabled,cursor:"default"}},_.multiline&&_extends$w({padding:"4px 0 5px"},_.size==="small"&&{paddingTop:1}),_.fullWidth&&{width:"100%"})),InputBaseComponent=styled("input",{name:"MuiInputBase",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:o,ownerState:_})=>{const $=o.palette.mode==="light",j=_extends$w({color:"currentColor"},o.vars?{opacity:o.vars.opacity.inputPlaceholder}:{opacity:$?.42:.5},{transition:o.transitions.create("opacity",{duration:o.transitions.duration.shorter})}),_e={opacity:"0 !important"},et=o.vars?{opacity:o.vars.opacity.inputPlaceholder}:{opacity:$?.42:.5};return _extends$w({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":j,"&::-moz-placeholder":j,"&:-ms-input-placeholder":j,"&::-ms-input-placeholder":j,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${inputBaseClasses.formControl} &`]:{"&::-webkit-input-placeholder":_e,"&::-moz-placeholder":_e,"&:-ms-input-placeholder":_e,"&::-ms-input-placeholder":_e,"&:focus::-webkit-input-placeholder":et,"&:focus::-moz-placeholder":et,"&:focus:-ms-input-placeholder":et,"&:focus::-ms-input-placeholder":et},[`&.${inputBaseClasses.disabled}`]:{opacity:1,WebkitTextFillColor:(o.vars||o).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},_.size==="small"&&{paddingTop:1},_.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},_.type==="search"&&{MozAppearance:"textfield"})}),inputGlobalStyles=jsxRuntimeExports$1.jsx(GlobalStyles,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),InputBase=reactExports.forwardRef(function o(_,$){var j;const _e=useDefaultProps({props:_,name:"MuiInputBase"}),{"aria-describedby":et,autoComplete:tt,autoFocus:nt,className:it,components:lt={},componentsProps:dt={},defaultValue:bt,disabled:Ht,disableInjectingGlobalStyles:pr,endAdornment:_n,fullWidth:ft=!1,id:Ct,inputComponent:mr="input",inputProps:_r={},inputRef:mn,maxRows:dr,minRows:pn,multiline:Do=!1,name:Io,onBlur:Lo,onChange:ms,onClick:Uo,onFocus:_s,onKeyDown:yp,onKeyUp:xs,placeholder:vs,readOnly:Sp,renderSuffix:wp,rows:bp,slotProps:Ep={},slots:Cp={},startAdornment:Ap,type:Mp="text",value:Pp}=_e,Ip=_objectWithoutPropertiesLoose$m(_e,_excluded$j),Op=_r.value!=null?_r.value:Pp,{current:Wp}=reactExports.useRef(Op!=null),Yp=reactExports.useRef(),Zp=reactExports.useCallback(Dp=>{},[]),Qp=useForkRef(Yp,mn,_r.ref,Zp),[Gp,rm]=reactExports.useState(!1),Jp=useFormControl(),Up=formControlState({props:_e,muiFormControl:Jp,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Up.focused=Jp?Jp.focused:Gp,reactExports.useEffect(()=>{!Jp&&Ht&&Gp&&(rm(!1),Lo&&Lo())},[Jp,Ht,Gp,Lo]);const im=Jp&&Jp.onFilled,em=Jp&&Jp.onEmpty,gm=reactExports.useCallback(Dp=>{isFilled(Dp)?im&&im():em&&em()},[im,em]);useEnhancedEffect(()=>{Wp&&gm({value:Op})},[Op,gm,Wp]);const bm=Dp=>{if(Up.disabled){Dp.stopPropagation();return}_s&&_s(Dp),_r.onFocus&&_r.onFocus(Dp),Jp&&Jp.onFocus?Jp.onFocus(Dp):rm(!0)},ym=Dp=>{Lo&&Lo(Dp),_r.onBlur&&_r.onBlur(Dp),Jp&&Jp.onBlur?Jp.onBlur(Dp):rm(!1)},am=(Dp,...kp)=>{if(!Wp){const nm=Dp.target||Yp.current;if(nm==null)throw new Error(formatMuiErrorMessage$1(1));gm({value:nm.value})}_r.onChange&&_r.onChange(Dp,...kp),ms&&ms(Dp,...kp)};reactExports.useEffect(()=>{gm(Yp.current)},[]);const fm=Dp=>{Yp.current&&Dp.currentTarget===Dp.target&&Yp.current.focus(),Uo&&Uo(Dp)};let vm=mr,jp=_r;Do&&vm==="input"&&(bp?jp=_extends$w({type:void 0,minRows:bp,maxRows:bp},jp):jp=_extends$w({type:void 0,maxRows:dr,minRows:pn},jp),vm=TextareaAutosize);const Rp=Dp=>{gm(Dp.animationName==="mui-auto-fill-cancel"?Yp.current:{value:"x"})};reactExports.useEffect(()=>{Jp&&Jp.setAdornedStart(!!Ap)},[Jp,Ap]);const um=_extends$w({},_e,{color:Up.color||"primary",disabled:Up.disabled,endAdornment:_n,error:Up.error,focused:Up.focused,formControl:Jp,fullWidth:ft,hiddenLabel:Up.hiddenLabel,multiline:Do,size:Up.size,startAdornment:Ap,type:Mp}),_m=useUtilityClasses(um),Cm=Cp.root||lt.Root||InputBaseRoot,Sm=Ep.root||dt.root||{},zp=Cp.input||lt.Input||InputBaseComponent;return jp=_extends$w({},jp,(j=Ep.input)!=null?j:dt.input),jsxRuntimeExports$1.jsxs(reactExports.Fragment,{children:[!pr&&inputGlobalStyles,jsxRuntimeExports$1.jsxs(Cm,_extends$w({},Sm,!isHostComponent(Cm)&&{ownerState:_extends$w({},um,Sm.ownerState)},{ref:$,onClick:fm},Ip,{className:clsx$1(_m.root,Sm.className,it,Sp&&"MuiInputBase-readOnly"),children:[Ap,jsxRuntimeExports$1.jsx(FormControlContext.Provider,{value:null,children:jsxRuntimeExports$1.jsx(zp,_extends$w({ownerState:um,"aria-invalid":Up.error,"aria-describedby":et,autoComplete:tt,autoFocus:nt,defaultValue:bt,disabled:Up.disabled,id:Ct,onAnimationStart:Rp,name:Io,placeholder:vs,readOnly:Sp,required:Up.required,rows:bp,value:Op,onKeyDown:yp,onKeyUp:xs,type:Mp},jp,!isHostComponent(zp)&&{as:vm,ownerState:_extends$w({},um,jp.ownerState)},{ref:Qp,className:clsx$1(_m.input,jp.className,Sp&&"MuiInputBase-readOnly"),onBlur:ym,onChange:am,onFocus:bm}))}),_n,wp?wp(_extends$w({},Up,{startAdornment:Ap})):null]}))]})}),boxClasses=generateUtilityClasses("MuiBox",["root"]),defaultTheme=createTheme(),Box=createBox({themeId:THEME_ID,defaultTheme,defaultClassName:boxClasses.root,generateClassName:ClassNameGenerator.generate});function NoSsr(o){const{children:_,defer:$=!1,fallback:j=null}=o,[_e,et]=reactExports.useState(!1);return useEnhancedEffect(()=>{$||et(!0)},[$]),reactExports.useEffect(()=>{$&&et(!0)},[$]),jsxRuntimeExports$1.jsx(reactExports.Fragment,{children:_e?_:j})}const __vite_import_meta_env__$1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},createStoreImpl=o=>{let _;const $=new Set,j=(dt,bt)=>{const Ht=typeof dt=="function"?dt(_):dt;if(!Object.is(Ht,_)){const pr=_;_=bt??(typeof Ht!="object"||Ht===null)?Ht:Object.assign({},_,Ht),$.forEach(_n=>_n(_,pr))}},_e=()=>_,it={setState:j,getState:_e,getInitialState:()=>lt,subscribe:dt=>($.add(dt),()=>$.delete(dt)),destroy:()=>{(__vite_import_meta_env__$1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),$.clear()}},lt=_=o(j,_e,it);return it},createStore=o=>o?createStoreImpl(o):createStoreImpl;var withSelector={exports:{}},withSelector_production_min={},shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$1=reactExports;function h$2(o,_){return o===_&&(o!==0||1/o===1/_)||o!==o&&_!==_}var k$2=typeof Object.is=="function"?Object.is:h$2,l$1=e$1.useState,m$1=e$1.useEffect,n$2=e$1.useLayoutEffect,p$2=e$1.useDebugValue;function q$2(o,_){var $=_(),j=l$1({inst:{value:$,getSnapshot:_}}),_e=j[0].inst,et=j[1];return n$2(function(){_e.value=$,_e.getSnapshot=_,r$3(_e)&&et({inst:_e})},[o,$,_]),m$1(function(){return r$3(_e)&&et({inst:_e}),o(function(){r$3(_e)&&et({inst:_e})})},[o]),p$2($),$}function r$3(o){var _=o.getSnapshot;o=o.value;try{var $=_();return!k$2(o,$)}catch{return!0}}function t$2(o,_){return _()}var u$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$2:q$2;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$1.useSyncExternalStore!==void 0?e$1.useSyncExternalStore:u$1;shim.exports=useSyncExternalStoreShim_production_min;var shimExports=shim.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h$1=reactExports,n$1=shimExports;function p$1(o,_){return o===_&&(o!==0||1/o===1/_)||o!==o&&_!==_}var q$1=typeof Object.is=="function"?Object.is:p$1,r$2=n$1.useSyncExternalStore,t$1=h$1.useRef,u=h$1.useEffect,v$1=h$1.useMemo,w$1=h$1.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function(o,_,$,j,_e){var et=t$1(null);if(et.current===null){var tt={hasValue:!1,value:null};et.current=tt}else tt=et.current;et=v$1(function(){function it(pr){if(!lt){if(lt=!0,dt=pr,pr=j(pr),_e!==void 0&&tt.hasValue){var _n=tt.value;if(_e(_n,pr))return bt=_n}return bt=pr}if(_n=bt,q$1(dt,pr))return _n;var ft=j(pr);return _e!==void 0&&_e(_n,ft)?_n:(dt=pr,bt=ft)}var lt=!1,dt,bt,Ht=$===void 0?null:$;return[function(){return it(_())},Ht===null?void 0:function(){return it(Ht())}]},[_,$,j,_e]);var nt=r$2(o,et[0],et[1]);return u(function(){tt.hasValue=!0,tt.value=nt},[nt]),w$1(nt),nt};withSelector.exports=withSelector_production_min;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),__vite_import_meta_env__={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:useDebugValue$1}=React,{useSyncExternalStoreWithSelector:useSyncExternalStoreWithSelector$1}=useSyncExternalStoreExports;let didWarnAboutEqualityFn=!1;const identity$f=o=>o;function useStore$1(o,_=identity$f,$){(__vite_import_meta_env__?"production":void 0)!=="production"&&$&&!didWarnAboutEqualityFn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),didWarnAboutEqualityFn=!0);const j=useSyncExternalStoreWithSelector$1(o.subscribe,o.getState,o.getServerState||o.getInitialState,_,$);return useDebugValue$1(j),j}const createImpl=o=>{(__vite_import_meta_env__?"production":void 0)!=="production"&&typeof o!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const _=typeof o=="function"?createStore(o):o,$=(j,_e)=>useStore$1(_,j,_e);return Object.assign($,_),$},create$1=o=>o?createImpl(o):createImpl;function r$1(o){var _,$,j="";if(typeof o=="string"||typeof o=="number")j+=o;else if(typeof o=="object")if(Array.isArray(o)){var _e=o.length;for(_=0;_<_e;_++)o[_]&&($=r$1(o[_]))&&(j&&(j+=" "),j+=$)}else for($ in o)o[$]&&(j&&(j+=" "),j+=$);return j}function clsx(){for(var o,_,$=0,j="",_e=arguments.length;$<_e;$++)(o=arguments[$])&&(_=r$1(o))&&(j&&(j+=" "),j+=_);return j}const lightColorspace={scheme:"Light Theme",author:"mac gainor (https://github.com/mac-s-g)",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#ffd500",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},darkColorspace={scheme:"Dark Theme",author:"Chris Kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},DefaultKeyRenderer=()=>null;DefaultKeyRenderer.when=()=>!1;const createJsonViewerStore=o=>create$1()((_,$)=>{var j,_e,et,tt,nt,it,lt,dt,bt,Ht,pr,_n,ft,Ct,mr,_r,mn,dr,pn,Do,Io,Lo;return{rootName:(j=o.rootName)!==null&&j!==void 0?j:"root",indentWidth:(_e=o.indentWidth)!==null&&_e!==void 0?_e:3,keyRenderer:(et=o.keyRenderer)!==null&&et!==void 0?et:DefaultKeyRenderer,enableAdd:(tt=o.enableAdd)!==null&&tt!==void 0?tt:!1,enableDelete:(nt=o.enableDelete)!==null&&nt!==void 0?nt:!1,enableClipboard:(it=o.enableClipboard)!==null&&it!==void 0?it:!0,editable:(lt=o.editable)!==null&&lt!==void 0?lt:!1,onChange:(dt=o.onChange)!==null&&dt!==void 0?dt:()=>{},onCopy:(bt=o.onCopy)!==null&&bt!==void 0?bt:void 0,onSelect:(Ht=o.onSelect)!==null&&Ht!==void 0?Ht:void 0,onAdd:(pr=o.onAdd)!==null&&pr!==void 0?pr:void 0,onDelete:(_n=o.onDelete)!==null&&_n!==void 0?_n:void 0,defaultInspectDepth:(ft=o.defaultInspectDepth)!==null&&ft!==void 0?ft:5,defaultInspectControl:(Ct=o.defaultInspectControl)!==null&&Ct!==void 0?Ct:void 0,maxDisplayLength:(mr=o.maxDisplayLength)!==null&&mr!==void 0?mr:30,groupArraysAfterLength:(_r=o.groupArraysAfterLength)!==null&&_r!==void 0?_r:100,collapseStringsAfterLength:o.collapseStringsAfterLength===!1?Number.MAX_VALUE:(mn=o.collapseStringsAfterLength)!==null&&mn!==void 0?mn:50,objectSortKeys:(dr=o.objectSortKeys)!==null&&dr!==void 0?dr:!1,quotesOnKeys:(pn=o.quotesOnKeys)!==null&&pn!==void 0?pn:!0,displayDataTypes:(Do=o.displayDataTypes)!==null&&Do!==void 0?Do:!0,displaySize:(Io=o.displaySize)!==null&&Io!==void 0?Io:!0,highlightUpdates:(Lo=o.highlightUpdates)!==null&&Lo!==void 0?Lo:!1,inspectCache:{},hoverPath:null,colorspace:lightColorspace,value:o.value,prevValue:void 0,getInspectCache:(ms,Uo)=>{const _s=Uo!==void 0?ms.join(".")+"[".concat(Uo,"]nt"):ms.join(".");return $().inspectCache[_s]},setInspectCache:(ms,Uo,_s)=>{const yp=_s!==void 0?ms.join(".")+"[".concat(_s,"]nt"):ms.join(".");_(xs=>({inspectCache:{...xs.inspectCache,[yp]:typeof Uo=="function"?Uo(xs.inspectCache[yp]):Uo}}))},setHover:(ms,Uo)=>{_({hoverPath:ms?{path:ms,nestedIndex:Uo}:null})}}}),JsonViewerStoreContext=reactExports.createContext(void 0);JsonViewerStoreContext.Provider;const useJsonViewerStore=(o,_)=>{const $=reactExports.useContext(JsonViewerStoreContext);return useStore$1($,o,_)},useTextColor=()=>useJsonViewerStore(o=>o.colorspace.base07),objectCtorString$1=Object.prototype.constructor.toString();function isPlainObject$2(o){if(!o||typeof o!="object")return!1;const _=Object.getPrototypeOf(o);if(_===null)return!0;const $=Object.hasOwnProperty.call(_,"constructor")&&_.constructor;return $===Object?!0:typeof $=="function"&&Function.toString.call($)===objectCtorString$1}const isCycleReference=(o,_,$)=>{if(o===null||$===null||typeof o!="object"||typeof $!="object")return!1;if(Object.is(o,$)&&_.length!==0)return"";const j=[],_e=[..._];let et=o;for(;et!==$||_e.length!==0;){if(typeof et!="object"||et===null)return!1;if(Object.is(et,$))return j.reduce((nt,it,lt)=>typeof it=="number"?nt+"[".concat(it,"]"):nt+"".concat(lt===0?"":".").concat(it),"");const tt=_e.shift();j.push(tt),et=et[tt]}return!1};function getValueSize(o){return o===null?0:Array.isArray(o)?o.length:o instanceof Map||o instanceof Set?o.size:o instanceof Date?1:typeof o=="object"?Object.keys(o).length:typeof o=="string"?o.length:1}function segmentArray(o,_){const $=[];let j=0;for(;j<o.length;)$.push(o.slice(j,j+_)),j+=_;return $}function safeStringify(o,_){const $=[];function j(_e,et){if(typeof et=="bigint")return et.toString();if(et instanceof Map){if("toJSON"in et&&typeof et.toJSON=="function")return et.toJSON();if(et.size===0)return{};if($.includes(et))return"[Circular]";$.push(et);const tt=Array.from(et.entries());return tt.every(nt=>{let[it]=nt;return typeof it=="string"||typeof it=="number"})?Object.fromEntries(tt):{}}if(et instanceof Set)return"toJSON"in et&&typeof et.toJSON=="function"?et.toJSON():$.includes(et)?"[Circular]":($.push(et),Array.from(et.values()));if(typeof et=="object"&&et!==null&&Object.keys(et).length){const tt=$.length;if(tt){for(let nt=tt-1;nt>=0&&$[nt][_e]!==et;--nt)$.pop();if($.includes(et))return"[Circular]"}$.push(et)}return et}return JSON.stringify(o,j,_)}async function copyString(o){if("clipboard"in navigator)try{await navigator.clipboard.writeText(o)}catch{}copyToClipboard$1(o)}function useClipboard(){let{timeout:o=2e3}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const[_,$]=reactExports.useState(!1),j=reactExports.useRef(null),_e=reactExports.useCallback(it=>{const lt=j.current;lt&&window.clearTimeout(lt),j.current=window.setTimeout(()=>$(!1),o),$(it)},[o]),et=useJsonViewerStore(it=>it.onCopy),tt=reactExports.useCallback(async(it,lt)=>{if(typeof et=="function")try{await et(it,lt,copyString),_e(!0)}catch(dt){console.error("error when copy ".concat(it.length===0?"src":"src[".concat(it.join(".")),"]"),dt)}else try{const dt=safeStringify(typeof lt=="function"?lt.toString():lt,"  ");await copyString(dt),_e(!0)}catch(dt){console.error("error when copy ".concat(it.length===0?"src":"src[".concat(it.join(".")),"]"),dt)}},[_e,et]),nt=reactExports.useCallback(()=>{$(!1),j.current&&clearTimeout(j.current)},[]);return{copy:tt,reset:nt,copied:_}}function useIsCycleReference(o,_){const $=useJsonViewerStore(j=>j.value);return reactExports.useMemo(()=>isCycleReference($,o,_),[o,_,$])}function useInspect(o,_,$){const j=o.length,_e=useIsCycleReference(o,_),et=useJsonViewerStore(Ht=>Ht.getInspectCache),tt=useJsonViewerStore(Ht=>Ht.setInspectCache),nt=useJsonViewerStore(Ht=>Ht.defaultInspectDepth),it=useJsonViewerStore(Ht=>Ht.defaultInspectControl);reactExports.useEffect(()=>{if(et(o,$)!==void 0)return;if($!==void 0){tt(o,!1,$);return}const pr=_e?!1:typeof it=="function"?it(o,_):j<nt;tt(o,pr)},[nt,it,j,et,_e,$,o,_,tt]);const[lt,dt]=reactExports.useState(()=>{const Ht=et(o,$);return Ht!==void 0?Ht:$!==void 0||_e?!1:typeof it=="function"?it(o,_):j<nt}),bt=reactExports.useCallback(Ht=>{dt(pr=>{const _n=typeof Ht=="boolean"?Ht:Ht(pr);return tt(o,_n,$),_n})},[$,o,tt]);return[lt,bt]}const DataBox=o=>jsxRuntimeExports$1.jsx(Box,{component:"div",...o,sx:{display:"inline-block",...o.sx}}),DataTypeLabel=o=>{let{dataType:_,enable:$=!0}=o;return $?jsxRuntimeExports$1.jsx(DataBox,{className:"data-type-label",sx:{mx:.5,fontSize:"0.7rem",opacity:.8,userSelect:"none"},children:_}):null};function defineEasyType(o){let{is:_,serialize:$,deserialize:j,type:_e,colorKey:et,displayTypeLabel:tt=!0,Renderer:nt}=o;const it=reactExports.memo(nt),lt=bt=>{const Ht=useJsonViewerStore(ft=>ft.displayDataTypes),pr=useJsonViewerStore(ft=>ft.colorspace[et]),_n=useJsonViewerStore(ft=>ft.onSelect);return jsxRuntimeExports$1.jsxs(DataBox,{onClick:()=>_n==null?void 0:_n(bt.path,bt.value),sx:{color:pr},children:[tt&&Ht&&jsxRuntimeExports$1.jsx(DataTypeLabel,{dataType:_e}),jsxRuntimeExports$1.jsx(DataBox,{className:"".concat(_e,"-value"),children:jsxRuntimeExports$1.jsx(it,{path:bt.path,inspect:bt.inspect,setInspect:bt.setInspect,value:bt.value,prevValue:bt.prevValue})})]})};if(lt.displayName="easy-".concat(_e,"-type"),!$||!j)return{is:_,Component:lt};const dt=bt=>{let{value:Ht,setValue:pr,abortEditing:_n,commitEditing:ft}=bt;const Ct=useJsonViewerStore(mn=>mn.colorspace[et]),mr=reactExports.useCallback(mn=>{mn.key==="Enter"&&(mn.preventDefault(),ft(Ht)),mn.key==="Escape"&&(mn.preventDefault(),_n())},[_n,ft,Ht]),_r=reactExports.useCallback(mn=>{pr(mn.target.value)},[pr]);return jsxRuntimeExports$1.jsx(InputBase,{autoFocus:!0,value:Ht,onChange:_r,onKeyDown:mr,size:"small",multiline:!0,sx:{color:Ct,padding:.5,borderStyle:"solid",borderColor:"black",borderWidth:1,fontSize:"0.8rem",fontFamily:"monospace",display:"inline-flex"}})};return dt.displayName="easy-".concat(_e,"-type-editor"),{is:_,serialize:$,deserialize:j,Component:lt,Editor:dt}}const booleanType=defineEasyType({is:o=>typeof o=="boolean",type:"bool",colorKey:"base0E",serialize:o=>o.toString(),deserialize:o=>{if(o==="true")return!0;if(o==="false")return!1;throw new Error("Invalid boolean value")},Renderer:o=>{let{value:_}=o;return jsxRuntimeExports$1.jsx(jsxRuntimeExports$1.Fragment,{children:_?"true":"false"})}}),displayOptions={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"},dateType=defineEasyType({is:o=>o instanceof Date,type:"date",colorKey:"base0D",Renderer:o=>{let{value:_}=o;return jsxRuntimeExports$1.jsx(jsxRuntimeExports$1.Fragment,{children:_.toLocaleTimeString("en-us",displayOptions)})}}),functionBody=o=>{const _=o.toString();let $=!0;const j=_.indexOf(")"),_e=_.indexOf("=>");return _e!==-1&&_e>j&&($=!1),$?_.substring(_.indexOf("{",j)+1,_.lastIndexOf("}")):_.substring(_.indexOf("=>")+2)},functionName=o=>{const _=o.toString();return _.indexOf("function")!==-1?_.substring(8,_.indexOf("{")).trim():_.substring(0,_.indexOf("=>")+2).trim()},lb="{",rb="}",PreFunctionType=o=>jsxRuntimeExports$1.jsxs(NoSsr,{children:[jsxRuntimeExports$1.jsx(DataTypeLabel,{dataType:"function"}),jsxRuntimeExports$1.jsxs(Box,{component:"span",className:"data-function-start",sx:{letterSpacing:.5},children:[functionName(o.value)," ",lb]})]}),PostFunctionType=()=>jsxRuntimeExports$1.jsx(NoSsr,{children:jsxRuntimeExports$1.jsx(Box,{component:"span",className:"data-function-end",children:rb})}),FunctionType=o=>{const _=useJsonViewerStore($=>$.colorspace.base05);return jsxRuntimeExports$1.jsx(NoSsr,{children:jsxRuntimeExports$1.jsx(Box,{className:"data-function",sx:{display:o.inspect?"block":"inline-block",pl:o.inspect?2:0,color:_},children:o.inspect?functionBody(o.value):jsxRuntimeExports$1.jsx(Box,{component:"span",className:"data-function-body",onClick:()=>o.setInspect(!0),sx:{"&:hover":{cursor:"pointer"},padding:.5},children:"…"})})})},functionType={is:o=>typeof o=="function",Component:FunctionType,PreComponent:PreFunctionType,PostComponent:PostFunctionType},nullType=defineEasyType({is:o=>o===null,type:"null",colorKey:"base08",displayTypeLabel:!1,Renderer:()=>{const o=useJsonViewerStore(_=>_.colorspace.base02);return jsxRuntimeExports$1.jsx(Box,{sx:{fontSize:"0.8rem",backgroundColor:o,fontWeight:"bold",borderRadius:"3px",padding:"0.5px 2px"},children:"NULL"})}}),isInt=o=>o%1===0,nanType=defineEasyType({is:o=>typeof o=="number"&&isNaN(o),type:"NaN",colorKey:"base08",displayTypeLabel:!1,serialize:()=>"NaN",deserialize:o=>parseFloat(o),Renderer:()=>{const o=useJsonViewerStore(_=>_.colorspace.base02);return jsxRuntimeExports$1.jsx(Box,{sx:{backgroundColor:o,fontSize:"0.8rem",fontWeight:"bold",borderRadius:"3px",padding:"0.5px 2px"},children:"NaN"})}}),floatType=defineEasyType({is:o=>typeof o=="number"&&!isInt(o)&&!isNaN(o),type:"float",colorKey:"base0B",serialize:o=>o.toString(),deserialize:o=>parseFloat(o),Renderer:o=>{let{value:_}=o;return jsxRuntimeExports$1.jsx(jsxRuntimeExports$1.Fragment,{children:_})}}),intType=defineEasyType({is:o=>typeof o=="number"&&isInt(o),type:"int",colorKey:"base0F",serialize:o=>o.toString(),deserialize:o=>parseFloat(o),Renderer:o=>{let{value:_}=o;return jsxRuntimeExports$1.jsx(jsxRuntimeExports$1.Fragment,{children:_})}}),bigIntType=defineEasyType({is:o=>typeof o=="bigint",type:"bigint",colorKey:"base0F",serialize:o=>o.toString(),deserialize:o=>BigInt(o.replace(/\D/g,"")),Renderer:o=>{let{value:_}=o;return jsxRuntimeExports$1.jsx(jsxRuntimeExports$1.Fragment,{children:"".concat(_,"n")})}}),BaseIcon=o=>{let{d:_,...$}=o;return jsxRuntimeExports$1.jsx(SvgIcon,{...$,children:jsxRuntimeExports$1.jsx("path",{d:_})})},AddBox="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14zm-8-2h2v-4h4v-2h-4V7h-2v4H7v2h4z",Check="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z",ChevronRight="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",CircularArrows="M 12 2 C 10.615 1.998 9.214625 2.2867656 7.890625 2.8847656 L 8.9003906 4.6328125 C 9.9043906 4.2098125 10.957 3.998 12 4 C 15.080783 4 17.738521 5.7633175 19.074219 8.3222656 L 17.125 9 L 21.25 11 L 22.875 7 L 20.998047 7.6523438 C 19.377701 4.3110398 15.95585 2 12 2 z M 6.5097656 4.4882812 L 2.2324219 5.0820312 L 3.734375 6.3808594 C 1.6515335 9.4550558 1.3615962 13.574578 3.3398438 17 C 4.0308437 18.201 4.9801562 19.268234 6.1601562 20.115234 L 7.1699219 18.367188 C 6.3019219 17.710187 5.5922656 16.904 5.0722656 16 C 3.5320014 13.332354 3.729203 10.148679 5.2773438 7.7128906 L 6.8398438 9.0625 L 6.5097656 4.4882812 z M 19.929688 13 C 19.794687 14.08 19.450734 15.098 18.927734 16 C 17.386985 18.668487 14.531361 20.090637 11.646484 19.966797 L 12.035156 17.9375 L 8.2402344 20.511719 L 10.892578 23.917969 L 11.265625 21.966797 C 14.968963 22.233766 18.681899 20.426323 20.660156 17 C 21.355156 15.801 21.805219 14.445 21.949219 13 L 19.929688 13 z",Close="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",ContentCopy="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z",Edit="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",ExpandMore="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z",Delete="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5l-1-1h-5l-1 1H5v2h14V4z",AddBoxIcon=o=>jsxRuntimeExports$1.jsx(BaseIcon,{d:AddBox,...o}),CheckIcon=o=>jsxRuntimeExports$1.jsx(BaseIcon,{d:Check,...o}),ChevronRightIcon=o=>jsxRuntimeExports$1.jsx(BaseIcon,{d:ChevronRight,...o}),CircularArrowsIcon=o=>jsxRuntimeExports$1.jsx(BaseIcon,{d:CircularArrows,...o}),CloseIcon=o=>jsxRuntimeExports$1.jsx(BaseIcon,{d:Close,...o}),ContentCopyIcon=o=>jsxRuntimeExports$1.jsx(BaseIcon,{d:ContentCopy,...o}),EditIcon=o=>jsxRuntimeExports$1.jsx(BaseIcon,{d:Edit,...o}),ExpandMoreIcon=o=>jsxRuntimeExports$1.jsx(BaseIcon,{d:ExpandMore,...o}),DeleteIcon=o=>jsxRuntimeExports$1.jsx(BaseIcon,{d:Delete,...o}),objectLb="{",arrayLb="[",objectRb="}",arrayRb="]";function inspectMetadata(o){const _=getValueSize(o);let $="";return(o instanceof Map||o instanceof Set)&&($=o[Symbol.toStringTag]),Object.prototype.hasOwnProperty.call(o,Symbol.toStringTag)&&($=o[Symbol.toStringTag]),"".concat(_," Items").concat($?" (".concat($,")"):"")}const PreObjectType=o=>{const _=useJsonViewerStore(lt=>lt.colorspace.base04),$=useTextColor(),j=reactExports.useMemo(()=>Array.isArray(o.value),[o.value]),_e=reactExports.useMemo(()=>getValueSize(o.value)===0,[o.value]),et=reactExports.useMemo(()=>inspectMetadata(o.value),[o.value]),tt=useJsonViewerStore(lt=>lt.displaySize),nt=reactExports.useMemo(()=>typeof tt=="function"?tt(o.path,o.value):tt,[tt,o.path,o.value]),it=useIsCycleReference(o.path,o.value);return jsxRuntimeExports$1.jsxs(Box,{component:"span",className:"data-object-start",sx:{letterSpacing:.5},children:[j?arrayLb:objectLb,nt&&o.inspect&&!_e&&jsxRuntimeExports$1.jsx(Box,{component:"span",sx:{pl:.5,fontStyle:"italic",color:_,userSelect:"none"},children:et}),it&&!o.inspect&&jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsx(CircularArrowsIcon,{sx:{fontSize:12,color:$,mx:.5}}),it]})]})},PostObjectType=o=>{const _=useJsonViewerStore(it=>it.colorspace.base04),$=useTextColor(),j=reactExports.useMemo(()=>Array.isArray(o.value),[o.value]),_e=reactExports.useMemo(()=>getValueSize(o.value)===0,[o.value]),et=reactExports.useMemo(()=>inspectMetadata(o.value),[o.value]),tt=useJsonViewerStore(it=>it.displaySize),nt=reactExports.useMemo(()=>typeof tt=="function"?tt(o.path,o.value):tt,[tt,o.path,o.value]);return jsxRuntimeExports$1.jsxs(Box,{component:"span",className:"data-object-end",sx:{lineHeight:1.5,color:$,letterSpacing:.5,opacity:.8},children:[j?arrayRb:objectRb,nt&&(_e||!o.inspect)?jsxRuntimeExports$1.jsx(Box,{component:"span",sx:{pl:.5,fontStyle:"italic",color:_,userSelect:"none"},children:et}):null]})};function getIterator(o){return typeof(o==null?void 0:o[Symbol.iterator])=="function"}const ObjectType=o=>{const _=useTextColor(),$=useJsonViewerStore(pr=>pr.colorspace.base02),j=useJsonViewerStore(pr=>pr.groupArraysAfterLength),_e=useIsCycleReference(o.path,o.value),[et,tt]=reactExports.useState(useJsonViewerStore(pr=>pr.maxDisplayLength)),nt=useJsonViewerStore(pr=>pr.objectSortKeys),it=reactExports.useMemo(()=>{if(!o.inspect)return null;const pr=o.value;if(getIterator(pr)&&!Array.isArray(pr)){const mr=[];if(pr instanceof Map)pr.forEach((_r,mn)=>{const dr=mn.toString(),pn=[...o.path,dr];mr.push(jsxRuntimeExports$1.jsx(DataKeyPair,{path:pn,value:_r,prevValue:o.prevValue instanceof Map?o.prevValue.get(mn):void 0,editable:!1},dr))});else{const _r=pr[Symbol.iterator]();let mn=_r.next(),dr=0;for(;!mn.done;)mr.push(jsxRuntimeExports$1.jsx(DataKeyPair,{path:[...o.path,"iterator:".concat(dr)],value:mn.value,nestedIndex:dr,editable:!1},dr)),dr++,mn=_r.next()}return mr}if(Array.isArray(pr)){if(pr.length<=j){const mn=pr.slice(0,et).map((dr,pn)=>{const Do=o.nestedIndex?o.nestedIndex*j+pn:pn,Io=[...o.path,Do];return jsxRuntimeExports$1.jsx(DataKeyPair,{path:Io,value:dr,prevValue:Array.isArray(o.prevValue)?o.prevValue[Do]:void 0},Do)});if(pr.length>et){const dr=pr.length-et;mn.push(jsxRuntimeExports$1.jsxs(DataBox,{sx:{cursor:"pointer",lineHeight:1.5,color:_,letterSpacing:.5,opacity:.8,userSelect:"none"},onClick:()=>tt(pn=>pn*2),children:["hidden ",dr," items…"]},"last"))}return mn}const mr=segmentArray(pr,j),_r=Array.isArray(o.prevValue)?segmentArray(o.prevValue,j):void 0;return mr.map((mn,dr)=>jsxRuntimeExports$1.jsx(DataKeyPair,{path:o.path,value:mn,nestedIndex:dr,prevValue:_r==null?void 0:_r[dr]},dr))}let ft=Object.entries(pr);nt&&(ft=nt===!0?ft.sort((mr,_r)=>{let[mn]=mr,[dr]=_r;return mn.localeCompare(dr)}):ft.sort((mr,_r)=>{let[mn]=mr,[dr]=_r;return nt(mn,dr)}));const Ct=ft.slice(0,et).map(mr=>{let[_r,mn]=mr;var dr;const pn=[...o.path,_r];return jsxRuntimeExports$1.jsx(DataKeyPair,{path:pn,value:mn,prevValue:(dr=o.prevValue)===null||dr===void 0?void 0:dr[_r]},_r)});if(ft.length>et){const mr=ft.length-et;Ct.push(jsxRuntimeExports$1.jsxs(DataBox,{sx:{cursor:"pointer",lineHeight:1.5,color:_,letterSpacing:.5,opacity:.8,userSelect:"none"},onClick:()=>tt(_r=>_r*2),children:["hidden ",mr," items…"]},"last"))}return Ct},[o.inspect,o.value,o.prevValue,o.path,o.nestedIndex,j,et,_,nt]),lt=o.inspect?.6:0,dt=useJsonViewerStore(pr=>pr.indentWidth),bt=o.inspect?dt-lt:dt;return reactExports.useMemo(()=>getValueSize(o.value)===0,[o.value])?null:jsxRuntimeExports$1.jsx(Box,{className:"data-object",sx:{display:o.inspect?"block":"inline-block",pl:o.inspect?bt-.6:0,marginLeft:lt,color:_,borderLeft:o.inspect?"1px solid ".concat($):"none"},children:o.inspect?it:!_e&&jsxRuntimeExports$1.jsx(Box,{component:"span",className:"data-object-body",onClick:()=>o.setInspect(!0),sx:{"&:hover":{cursor:"pointer"},padding:.5,userSelect:"none"},children:"…"})})},objectType={is:o=>typeof o=="object",Component:ObjectType,PreComponent:PreObjectType,PostComponent:PostObjectType},stringType=defineEasyType({is:o=>typeof o=="string",type:"string",colorKey:"base09",serialize:o=>o,deserialize:o=>o,Renderer:o=>{const[_,$]=reactExports.useState(!1),j=useJsonViewerStore(tt=>tt.collapseStringsAfterLength),_e=_?o.value:o.value.slice(0,j),et=o.value.length>j;return jsxRuntimeExports$1.jsxs(Box,{component:"span",sx:{overflowWrap:"anywhere",cursor:et?"pointer":"inherit"},onClick:()=>{var tt;((tt=window.getSelection())===null||tt===void 0?void 0:tt.type)!=="Range"&&et&&$(nt=>!nt)},children:['"',_e,et&&!_&&jsxRuntimeExports$1.jsx(Box,{component:"span",sx:{padding:.5},children:"…"}),'"']})}}),undefinedType=defineEasyType({is:o=>o===void 0,type:"undefined",colorKey:"base05",displayTypeLabel:!1,Renderer:()=>{const o=useJsonViewerStore(_=>_.colorspace.base02);return jsxRuntimeExports$1.jsx(Box,{sx:{fontSize:"0.7rem",backgroundColor:o,borderRadius:"3px",padding:"0.5px 2px"},children:"undefined"})}});function memorizeDataType(o){function _($,j){var _e,et;return Object.is($.value,j.value)&&$.inspect&&j.inspect&&((_e=$.path)===null||_e===void 0?void 0:_e.join("."))===((et=j.path)===null||et===void 0?void 0:et.join("."))}return o.Component=reactExports.memo(o.Component,_),o.Editor&&(o.Editor=reactExports.memo(o.Editor,function(j,_e){return Object.is(j.value,_e.value)})),o.PreComponent&&(o.PreComponent=reactExports.memo(o.PreComponent,_)),o.PostComponent&&(o.PostComponent=reactExports.memo(o.PostComponent,_)),o}const predefinedTypes=[memorizeDataType(booleanType),memorizeDataType(dateType),memorizeDataType(nullType),memorizeDataType(undefinedType),memorizeDataType(stringType),memorizeDataType(functionType),memorizeDataType(nanType),memorizeDataType(intType),memorizeDataType(floatType),memorizeDataType(bigIntType)],createTypeRegistryStore=()=>createStore()(o=>({registry:predefinedTypes,registerTypes:_=>{o($=>({registry:typeof _=="function"?_($.registry):_}))}})),TypeRegistryStoreContext=reactExports.createContext(void 0);TypeRegistryStoreContext.Provider;const useTypeRegistryStore=(o,_)=>{const $=reactExports.useContext(TypeRegistryStoreContext);return useStore$1($,o,_)};function matchTypeComponents(o,_,$){let j;for(const _e of $)_e.is(o,_)&&(j=_e);if(j===void 0){if(typeof o=="object")return objectType;throw new Error("No type matched for value: ".concat(o))}return j}function useTypeComponents(o,_){const $=useTypeRegistryStore(j=>j.registry);return reactExports.useMemo(()=>matchTypeComponents(o,_,$),[o,_,$])}const IconBox=o=>jsxRuntimeExports$1.jsx(Box,{component:"span",...o,sx:{cursor:"pointer",paddingLeft:"0.7rem",...o.sx}}),DataKeyPair=o=>{const{value:_,prevValue:$,path:j,nestedIndex:_e}=o,{Component:et,PreComponent:tt,PostComponent:nt,Editor:it,serialize:lt,deserialize:dt}=useTypeComponents(_,j);var bt;const Ht=(bt=o.editable)!==null&&bt!==void 0?bt:void 0,pr=useJsonViewerStore(fm=>fm.editable),_n=reactExports.useMemo(()=>pr===!1||Ht===!1?!1:typeof pr=="function"?!!pr(j,_):pr,[j,Ht,pr,_]),[ft,Ct]=reactExports.useState(""),mr=j.length,_r=j[mr-1],mn=useJsonViewerStore(fm=>fm.hoverPath),dr=reactExports.useMemo(()=>mn&&j.every((fm,vm)=>fm===mn.path[vm]&&_e===mn.nestedIndex),[mn,j,_e]),pn=useJsonViewerStore(fm=>fm.setHover),Do=useJsonViewerStore(fm=>fm.value),[Io,Lo]=useInspect(j,_,_e),[ms,Uo]=reactExports.useState(!1),_s=useJsonViewerStore(fm=>fm.onChange),yp=useTextColor(),xs=useJsonViewerStore(fm=>fm.colorspace.base0C),vs=useJsonViewerStore(fm=>fm.colorspace.base0A),Sp=useJsonViewerStore(fm=>fm.quotesOnKeys),wp=useJsonViewerStore(fm=>fm.rootName),bp=Do===_,Ep=Number.isInteger(Number(_r)),Cp=useJsonViewerStore(fm=>fm.enableAdd),Ap=useJsonViewerStore(fm=>fm.onAdd),Mp=reactExports.useMemo(()=>!Ap||_e!==void 0||Cp===!1||Ht===!1?!1:typeof Cp=="function"?!!Cp(j,_):!!(Array.isArray(_)||isPlainObject$2(_)),[Ap,_e,j,Cp,Ht,_]),Pp=useJsonViewerStore(fm=>fm.enableDelete),Ip=useJsonViewerStore(fm=>fm.onDelete),Op=reactExports.useMemo(()=>!Ip||_e!==void 0||bp||Pp===!1||Ht===!1?!1:typeof Pp=="function"?!!Pp(j,_):Pp,[Ip,_e,bp,j,Pp,Ht,_]),Wp=useJsonViewerStore(fm=>fm.enableClipboard),{copy:Yp,copied:Zp}=useClipboard(),Qp=useJsonViewerStore(fm=>fm.highlightUpdates),Gp=reactExports.useMemo(()=>!Qp||$===void 0?!1:typeof _!=typeof $?!0:typeof _=="number"?isNaN(_)&&isNaN($)?!1:_!==$:Array.isArray(_)!==Array.isArray($)?!0:typeof _=="object"||typeof _=="function"?!1:_!==$,[Qp,$,_]),rm=reactExports.useRef();reactExports.useEffect(()=>{rm.current&&Gp&&"animate"in rm.current&&rm.current.animate([{backgroundColor:vs},{backgroundColor:""}],{duration:1e3,easing:"ease-in"})},[vs,Gp,$,_]);const Jp=reactExports.useCallback(fm=>{fm.preventDefault(),lt&&Ct(lt(_)),Uo(!0)},[lt,_]),Up=reactExports.useCallback(()=>{Uo(!1),Ct("")},[Uo,Ct]),im=reactExports.useCallback(fm=>{if(Uo(!1),!!dt)try{_s(j,_,dt(fm))}catch{}},[Uo,dt,_s,j,_]),em=reactExports.useMemo(()=>ms?jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsx(IconBox,{children:jsxRuntimeExports$1.jsx(CloseIcon,{sx:{fontSize:".8rem"},onClick:Up})}),jsxRuntimeExports$1.jsx(IconBox,{children:jsxRuntimeExports$1.jsx(CheckIcon,{sx:{fontSize:".8rem"},onClick:()=>im(ft)})})]}):jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[Wp&&jsxRuntimeExports$1.jsx(IconBox,{onClick:fm=>{fm.preventDefault();try{Yp(j,_,copyString)}catch(vm){console.error(vm)}},children:Zp?jsxRuntimeExports$1.jsx(CheckIcon,{sx:{fontSize:".8rem"}}):jsxRuntimeExports$1.jsx(ContentCopyIcon,{sx:{fontSize:".8rem"}})}),it&&_n&&lt&&dt&&jsxRuntimeExports$1.jsx(IconBox,{onClick:Jp,children:jsxRuntimeExports$1.jsx(EditIcon,{sx:{fontSize:".8rem"}})}),Mp&&jsxRuntimeExports$1.jsx(IconBox,{onClick:fm=>{fm.preventDefault(),Ap==null||Ap(j)},children:jsxRuntimeExports$1.jsx(AddBoxIcon,{sx:{fontSize:".8rem"}})}),Op&&jsxRuntimeExports$1.jsx(IconBox,{onClick:fm=>{fm.preventDefault(),Ip==null||Ip(j,_)},children:jsxRuntimeExports$1.jsx(DeleteIcon,{sx:{fontSize:".9rem"}})})]}),[it,lt,dt,Zp,Yp,_n,ms,Wp,Mp,Op,ft,j,_,Ap,Ip,Jp,Up,im]),gm=reactExports.useMemo(()=>getValueSize(_)===0,[_]),bm=!gm&&!!(tt&&nt),ym=useJsonViewerStore(fm=>fm.keyRenderer),am=reactExports.useMemo(()=>({path:j,inspect:Io,setInspect:Lo,value:_,prevValue:$,nestedIndex:_e}),[Io,j,Lo,_,$,_e]);return jsxRuntimeExports$1.jsxs(Box,{className:"data-key-pair","data-testid":"data-key-pair"+j.join("."),sx:{userSelect:"text"},onMouseEnter:reactExports.useCallback(()=>pn(j,_e),[pn,j,_e]),children:[jsxRuntimeExports$1.jsxs(DataBox,{component:"span",className:"data-key",sx:{lineHeight:1.5,color:yp,letterSpacing:.5,opacity:.8},onClick:reactExports.useCallback(fm=>{fm.isDefaultPrevented()||gm||Lo(vm=>!vm)},[gm,Lo]),children:[bm?Io?jsxRuntimeExports$1.jsx(ExpandMoreIcon,{sx:{fontSize:".8rem","&:hover":{cursor:"pointer"}}}):jsxRuntimeExports$1.jsx(ChevronRightIcon,{sx:{fontSize:".8rem","&:hover":{cursor:"pointer"}}}):null,jsxRuntimeExports$1.jsx(Box,{ref:rm,component:"span",children:bp&&mr===0?wp!==!1?Sp?jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:['"',wp,'"']}):jsxRuntimeExports$1.jsx(jsxRuntimeExports$1.Fragment,{children:wp}):null:ym.when(am)?jsxRuntimeExports$1.jsx(ym,{...am}):_e===void 0&&(Ep?jsxRuntimeExports$1.jsx(Box,{component:"span",style:{color:xs},children:_r}):Sp?jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:['"',_r,'"']}):jsxRuntimeExports$1.jsx(jsxRuntimeExports$1.Fragment,{children:_r}))}),bp?wp!==!1&&jsxRuntimeExports$1.jsx(DataBox,{sx:{mr:.5},children:":"}):_e===void 0&&jsxRuntimeExports$1.jsx(DataBox,{sx:{mr:.5},children:":"}),tt&&jsxRuntimeExports$1.jsx(tt,{...am}),dr&&bm&&Io&&em]}),ms&&_n?it&&jsxRuntimeExports$1.jsx(it,{value:ft,setValue:Ct,abortEditing:Up,commitEditing:im}):et?jsxRuntimeExports$1.jsx(et,{...am}):jsxRuntimeExports$1.jsx(Box,{component:"span",className:"data-value-fallback",children:"fallback: ".concat(_)}),nt&&jsxRuntimeExports$1.jsx(nt,{...am}),dr&&bm&&!Io&&em,dr&&!bm&&em,!dr&&ms&&em]})},query="(prefers-color-scheme: dark)";function useThemeDetector(){const[o,_]=reactExports.useState(!1);return reactExports.useEffect(()=>{const $=_e=>_(_e.matches);_(window.matchMedia(query).matches);const j=window.matchMedia(query);return j.addEventListener("change",$),()=>j.removeEventListener("change",$)},[]),o}function useSetIfNotUndefinedEffect(o,_){const{setState:$}=reactExports.useContext(JsonViewerStoreContext);reactExports.useEffect(()=>{_!==void 0&&$({[o]:_})},[o,_,$])}const JsonViewerInner=o=>{const{setState:_}=reactExports.useContext(JsonViewerStoreContext);reactExports.useEffect(()=>{_(dt=>({prevValue:dt.value,value:o.value}))},[o.value,_]),useSetIfNotUndefinedEffect("rootName",o.rootName),useSetIfNotUndefinedEffect("indentWidth",o.indentWidth),useSetIfNotUndefinedEffect("keyRenderer",o.keyRenderer),useSetIfNotUndefinedEffect("enableAdd",o.enableAdd),useSetIfNotUndefinedEffect("enableDelete",o.enableDelete),useSetIfNotUndefinedEffect("enableClipboard",o.enableClipboard),useSetIfNotUndefinedEffect("editable",o.editable),useSetIfNotUndefinedEffect("onChange",o.onChange),useSetIfNotUndefinedEffect("onCopy",o.onCopy),useSetIfNotUndefinedEffect("onSelect",o.onSelect),useSetIfNotUndefinedEffect("onAdd",o.onAdd),useSetIfNotUndefinedEffect("onDelete",o.onDelete),useSetIfNotUndefinedEffect("maxDisplayLength",o.maxDisplayLength),useSetIfNotUndefinedEffect("groupArraysAfterLength",o.groupArraysAfterLength),useSetIfNotUndefinedEffect("displayDataTypes",o.displayDataTypes),useSetIfNotUndefinedEffect("displaySize",o.displaySize),useSetIfNotUndefinedEffect("highlightUpdates",o.highlightUpdates),reactExports.useEffect(()=>{o.theme==="light"?_({colorspace:lightColorspace}):o.theme==="dark"?_({colorspace:darkColorspace}):typeof o.theme=="object"&&_({colorspace:o.theme})},[_,o.theme]);const $=reactExports.useMemo(()=>typeof o.theme=="object"?"json-viewer-theme-custom":o.theme==="dark"?"json-viewer-theme-dark":"json-viewer-theme-light",[o.theme]),j=reactExports.useRef(!0),_e=useTypeRegistryStore(dt=>dt.registerTypes);if(j.current){const dt=o.valueTypes?[...predefinedTypes,...o.valueTypes]:[...predefinedTypes];_e(dt),j.current=!1}reactExports.useEffect(()=>{const dt=o.valueTypes?[...predefinedTypes,...o.valueTypes]:[...predefinedTypes];_e(dt)},[o.valueTypes,_e]);const et=useJsonViewerStore(dt=>dt.value),tt=useJsonViewerStore(dt=>dt.prevValue),nt=reactExports.useMemo(()=>[],[]),it=useJsonViewerStore(dt=>dt.setHover),lt=reactExports.useCallback(()=>it(null),[it]);return jsxRuntimeExports$1.jsx(Paper,{elevation:0,className:clsx($,o.className),style:o.style,sx:{fontFamily:"monospace",userSelect:"none",contentVisibility:"auto",...o.sx},onMouseLeave:lt,children:jsxRuntimeExports$1.jsx(DataKeyPair,{value:et,prevValue:tt,path:nt})})},JsonViewer=function o(_){const $=useThemeDetector(),j=reactExports.useMemo(()=>{var it;return _.theme==="auto"?$?"dark":"light":(it=_.theme)!==null&&it!==void 0?it:"light"},[$,_.theme]),_e=reactExports.useMemo(()=>{const it=typeof j=="object"?j.base00:j==="dark"?darkColorspace.base00:lightColorspace.base00,lt=typeof j=="object"?j.base07:j==="dark"?darkColorspace.base07:lightColorspace.base07;return createTheme({components:{MuiPaper:{styleOverrides:{root:{backgroundColor:it,color:lt}}}},palette:{mode:j==="dark"?"dark":"light",background:{default:it}}})},[j]),et={..._,theme:j},tt=reactExports.useMemo(()=>createJsonViewerStore(_),[]),nt=reactExports.useMemo(()=>createTypeRegistryStore(),[]);return jsxRuntimeExports$1.jsx(ThemeProvider,{theme:_e,children:jsxRuntimeExports$1.jsx(TypeRegistryStoreContext.Provider,{value:nt,children:jsxRuntimeExports$1.jsx(JsonViewerStoreContext.Provider,{value:tt,children:jsxRuntimeExports$1.jsx(JsonViewerInner,{...et})})})})},Attributes=({uuid:o,apiUrl:_})=>{const[$,j]=reactExports.useState(null),[_e,et]=reactExports.useState(!0),[tt,nt]=reactExports.useState(null),[it,lt]=reactExports.useState(!0),[dt,bt]=reactExports.useState(null),[Ht,pr]=reactExports.useState(null),[_n,ft]=reactExports.useState(null),[Ct,mr]=reactExports.useState(!1),[_r,mn]=reactExports.useState(!1),[dr,pn]=reactExports.useState(!1),Do=reactExports.useCallback(()=>{mr(!0),setTimeout(()=>mr(!1),1e3)},[]),Io=async()=>{try{const _s=await fetch(`${_}/nodes/${o}?attributes=true`);if(!_s.ok)throw new Error("Network response was not ok");const yp=await _s.json();console.log("Fetched Node Data:",yp.data.nodes[0].attributes),j(yp.data.nodes[0].attributes)}catch(_s){console.error("Error fetching node data:",_s),pr("Failed to fetch node data")}finally{et(!1)}},Lo=async()=>{try{const _s=await fetch(`${_}/computers/${o}?attributes=true`);if(!_s.ok)throw new Error("Network response was not ok");const yp=await _s.json();console.log("Fetched Computer Data:",yp.data.computers[0]),nt(yp.data.computers[0])}catch(_s){console.error("Error fetching computer data:",_s),ft("Failed to fetch computer data")}finally{lt(!1)}},ms=async()=>{try{const _s=await axios.get(`${_}/nodes/${o}/contents/derived_properties/`);bt(_s.data)}catch(_s){console.error("Error fetching derived properties:",_s)}};if(reactExports.useEffect(()=>{Io(),Lo(),ms()},[o,_]),_e||it)return jsxRuntimeExports$1.jsx("div",{className:"loading-animation m-auto flex justify-center text-center",children:jsxRuntimeExports$1.jsx(ClipLoader,{size:30,color:"#007bff"})});if(Ht&&_n)return jsxRuntimeExports$1.jsx("div",{className:"bg-gray-100 p-4 rounded-lg",children:"Error loading data"});const Uo=()=>{if(!dt||!dt.data||!dt.data.derived_properties)return null;const{explicit_kpoints_abs:_s,mesh:yp,offset:xs}=dt.data.derived_properties;return jsxRuntimeExports$1.jsxs("div",{className:"my-4",children:[_s&&jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsx("h2",{className:"text-lg font-mono mt-4 font-bold mb-2",children:"Kpoints (1/Å)"}),jsxRuntimeExports$1.jsx("div",{className:"overflow-y-auto h-96 font-mono",children:jsxRuntimeExports$1.jsxs("table",{className:"table-auto w-full text-left border-collapse border border-gray-300 mb-4",children:[jsxRuntimeExports$1.jsx("thead",{children:jsxRuntimeExports$1.jsxs("tr",{className:"text-orange-800",children:[jsxRuntimeExports$1.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"kX"}),jsxRuntimeExports$1.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"kY"}),jsxRuntimeExports$1.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"kZ"})]})}),jsxRuntimeExports$1.jsx("tbody",{children:_s.map((vs,Sp)=>jsxRuntimeExports$1.jsxs("tr",{className:"text-blue-900",children:[jsxRuntimeExports$1.jsx("td",{className:"border border-gray-300 px-4 py-2",children:vs[0]}),jsxRuntimeExports$1.jsx("td",{className:"border border-gray-300 px-4 py-2",children:vs[1]}),jsxRuntimeExports$1.jsx("td",{className:"border border-gray-300 px-4 py-2",children:vs[2]})]},Sp))})]})})]}),yp&&xs&&jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsx("h2",{className:"text-lg mt-4 font-bold font-mono mb-2",children:"Kpoints mesh and offset"}),jsxRuntimeExports$1.jsx("div",{className:"overflow-y-auto h-96 font-mono text-center",children:jsxRuntimeExports$1.jsxs("table",{className:"table-auto w-full text-center border-collapse border border-gray-300",children:[jsxRuntimeExports$1.jsx("thead",{children:jsxRuntimeExports$1.jsxs("tr",{className:"text-orange-800",children:[jsxRuntimeExports$1.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Mesh"}),jsxRuntimeExports$1.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Offset"})]})}),jsxRuntimeExports$1.jsx("tbody",{children:jsxRuntimeExports$1.jsxs("tr",{className:"text-blue-900",children:[jsxRuntimeExports$1.jsx("td",{className:"border border-gray-300 px-4 py-2",children:yp.map((vs,Sp)=>jsxRuntimeExports$1.jsx("span",{className:"block",children:vs},Sp))}),jsxRuntimeExports$1.jsx("td",{className:"border border-gray-300 px-4 py-2",children:xs.map((vs,Sp)=>jsxRuntimeExports$1.jsx("span",{className:"block",children:vs},Sp))})]})})]})})]})]})};return _r?jsxRuntimeExports$1.jsx("div",{className:"loading-animation m-auto flex justify-center text-center",children:jsxRuntimeExports$1.jsx(ClipLoader,{size:30,color:"#007bff"})}):dr?jsxRuntimeExports$1.jsx("div",{className:"bg-gray-100 p-4 rounded-lg",children:jsxRuntimeExports$1.jsx(JsonViewer,{value:{},theme:"githubLight",displayDataTypes:!1,displaySize:!1,enableClipboard:!1,rootName:!1})}):jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsxs("div",{className:"relative border-2 border-gray-100 p-3 shadow-lg",children:[$&&Object.keys($).length>0&&jsxRuntimeExports$1.jsx("div",{children:jsxRuntimeExports$1.jsx(JsonViewer,{value:$,theme:"githubLight",displayDataTypes:!1,displaySize:!1,enableClipboard:!1,rootName:!1})}),tt&&Object.keys(tt).length>0&&jsxRuntimeExports$1.jsx("div",{children:jsxRuntimeExports$1.jsx(JsonViewer,{value:tt,theme:"githubLight",displayDataTypes:!1,displaySize:!1,enableClipboard:!1,rootName:!1})}),jsxRuntimeExports$1.jsx(lib.CopyToClipboard,{text:JSON.stringify($,null,2),onCopy:Do,children:jsxRuntimeExports$1.jsx("button",{className:"absolute top-2 right-2 bg-white p-2 rounded-md shadow-md hover:bg-gray-100 transition-colors duration-200",children:Ct?jsxRuntimeExports$1.jsx(FaCheck,{className:"text-green-600"}):jsxRuntimeExports$1.jsx(FaCopy,{className:"text-gray-600"})})})]}),jsxRuntimeExports$1.jsx("div",{children:Uo()})]})},Files=({uuid:o,apiUrl:_})=>{const[$,j]=reactExports.useState([]),[_e,et]=reactExports.useState([]),[tt,nt]=reactExports.useState(!1),[it,lt]=reactExports.useState(o),[dt,bt]=reactExports.useState(!1),[Ht,pr]=reactExports.useState([]),[_n,ft]=reactExports.useState(null),[Ct,mr]=reactExports.useState(!1);reactExports.useEffect(()=>{const Io=async()=>{try{const yp=(await axios.get(`${_}/calcjobs/${o}/input_files`)).data.data.filter(xs=>xs.type==="FILE");j(yp)}catch(_s){console.error("Error fetching input files:",_s),bt(!0)}},Lo=async()=>{try{const _s=await axios.get(`${_}/calcjobs/${o}/output_files`);et(_s.data.data)}catch(_s){console.error("Error fetching output files:",_s),bt(!0)}},ms=async()=>{try{const _s=await axios.get(`${_}/nodes/${o}/links/outgoing`);console.log(_s.data.data.outgoing);const yp=_s.data.data.outgoing;console.log(yp);const xs=yp.find(vs=>vs.full_type.includes("data.core.folder.FolderData.|"));xs?lt(xs.uuid):console.error('Folder UUID with full_type "data.core.folder.FolderData.|" not found')}catch(_s){console.error("Error fetching folder UUID:",_s)}};(async()=>{try{const _s=await fetch(`${_}/nodes/${o}?attributes=true`);if(!_s.ok)throw new Error("Network response was not ok");const yp=await _s.json();pr(yp.data.nodes[0].attributes)}catch(_s){bt(_s.message)}finally{nt(!1)}})(),ms(),Io(),Lo()},[o,_]);const[_r,mn]=reactExports.useState(!1),dr=async Io=>{mn(!0),mr(!0);try{const Lo=await axios.get(`${_}/nodes/${o}/repo/contents?filename="${Io}"`);typeof Lo.data=="object"?ft(JSON.stringify(Lo.data,null,2)):ft(Lo.data)}catch(Lo){console.error("Error fetching input file content:",Lo),ft("Error loading file content")}finally{mn(!1)}},pn=async Io=>{mn(!0),mr(!0);try{if(!it)throw new Error("Folder UUID not available");const Lo=await axios.get(`${_}/nodes/${it}/repo/contents?filename="${Io}"`);typeof Lo.data=="object"?ft(JSON.stringify(Lo.data,null,2)):ft(Lo.data)}catch(Lo){console.error("Error fetching output file content:",Lo),ft("Error loading file content")}finally{mn(!1)}},Do=async(Io,Lo=!1)=>{try{const ms=Lo&&it?it:o,Uo=await axios.get(`${_}/nodes/${ms}/repo/contents?filename="${Io}"`,{responseType:"blob"}),_s=window.URL.createObjectURL(new Blob([Uo.data])),yp=document.createElement("a");yp.href=_s,yp.setAttribute("download",Io),document.body.appendChild(yp),yp.click()}catch(ms){console.error("Error downloading file:",ms)}};return dt||$.length===0&&_e.length===0?null:jsxRuntimeExports$1.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports$1.jsxs("div",{className:"col-span-1 bg-gray-100 p-4 overflow-auto",children:[jsxRuntimeExports$1.jsx("h2",{className:"font-semibold font-mono text-lg mb-2",children:"INFO:"}),jsxRuntimeExports$1.jsxs("div",{className:"space-y-2 text-blue-900",children:[jsxRuntimeExports$1.jsxs("p",{className:"font-mono text-sm break-all",children:[jsxRuntimeExports$1.jsx("span",{className:"font-semibold text-black",children:"JobID:"})," ",Ht.job_id]}),jsxRuntimeExports$1.jsxs("p",{className:"font-mono text-sm break-all",children:[jsxRuntimeExports$1.jsx("span",{className:"font-semibold text-black",children:"Scheduler State:"})," ",Ht.scheduler_state]}),jsxRuntimeExports$1.jsxs("p",{className:"font-mono text-sm break-all",children:[jsxRuntimeExports$1.jsx("span",{className:"font-semibold text-black",children:"Remote WorkDir:"})," ",Ht.remote_workdir]})]})]}),jsxRuntimeExports$1.jsxs("div",{className:"col-span-1 grid grid-rows-2 gap-4",children:[jsxRuntimeExports$1.jsxs("div",{className:"row-span-1 bg-gray-100 p-1",children:[jsxRuntimeExports$1.jsx("span",{className:"font-semibold font-mono",children:"Input Files:"}),$.length>0?jsxRuntimeExports$1.jsx("ul",{className:"list-disc text-wrap pl-5 text-cyan-900",children:$.map((Io,Lo)=>jsxRuntimeExports$1.jsxs("li",{className:"flex items-center font-mono text-wrap",children:[jsxRuntimeExports$1.jsx(FaDownload,{className:"cursor-pointer",onClick:()=>Do(typeof Io=="object"?Io.name:Io)}),jsxRuntimeExports$1.jsx(FaEye,{className:" ml-3 mr-2 cursor-pointer",onClick:()=>dr(typeof Io=="object"?Io.name:Io)}),typeof Io=="object"?Io.name:Io]},Lo))}):jsxRuntimeExports$1.jsx("p",{className:"font-mono",children:"No input files found."})]}),jsxRuntimeExports$1.jsxs("div",{className:"row-span-1 bg-gray-100 p-1",children:[jsxRuntimeExports$1.jsx("span",{className:"font-semibold font-mono",children:"Output Files:"}),_e.length>0?jsxRuntimeExports$1.jsx("ul",{className:"list-disc text-wrap pl-5 text-cyan-900",children:_e.map((Io,Lo)=>jsxRuntimeExports$1.jsxs("li",{className:"flex items-center font-mono text-wrap",children:[jsxRuntimeExports$1.jsx(FaDownload,{className:"cursor-pointer",onClick:()=>Do(typeof Io=="object"?Io.name:Io,!0)}),jsxRuntimeExports$1.jsx(FaEye,{className:"ml-3 mr-2 cursor-pointer",onClick:()=>pn(typeof Io=="object"?Io.name:Io)}),typeof Io=="object"?Io.name:Io]},Lo))}):jsxRuntimeExports$1.jsx("p",{className:"font-mono",children:"No output files found."})]})]}),Ct&&jsxRuntimeExports$1.jsx("div",{className:"fixed inset-0 z-50 overflow-auto bg-black bg-opacity-50 flex items-center justify-center",children:jsxRuntimeExports$1.jsxs("div",{className:"bg-white rounded-lg w-11/12 md:w-3/4 lg:w-1/2 max-h-[90vh] flex flex-col",children:[jsxRuntimeExports$1.jsxs("div",{className:"flex justify-between items-center border-b p-4",children:[jsxRuntimeExports$1.jsx("h3",{className:"text-lg font-semibold",children:"File Content"}),jsxRuntimeExports$1.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>mr(!1),children:jsxRuntimeExports$1.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports$1.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),jsxRuntimeExports$1.jsx("div",{className:"p-4 overflow-auto flex-grow",children:_r?jsxRuntimeExports$1.jsx("div",{className:"flex justify-center items-center h-full",children:jsxRuntimeExports$1.jsxs("svg",{className:"animate-spin h-8 w-8 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports$1.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports$1.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):jsxRuntimeExports$1.jsx("pre",{className:"whitespace-pre-wrap break-words",children:_n})})]})})]})},RepoFiles=({uuid:o,apiUrl:_})=>{const[$,j]=reactExports.useState([]),[_e,et]=reactExports.useState(!1);return reactExports.useEffect(()=>{(async()=>{try{const it=(await axios.get(`${_}/nodes/${o}/repo/list/`)).data.data.repo_list,lt=await Promise.all(it.map(async dt=>{try{const bt=await axios.get(`${_}/nodes/${o}/repo/contents?filename=${dt.name}`);return{name:dt.name,content:bt.data}}catch(bt){return console.error(`Error fetching content for file ${dt.name}:`,bt),et(!0),{name:dt.name,content:"Error fetching content"}}}));j(lt)}catch(nt){console.error("Error fetching files:",nt),et(!0)}})()},[o]),_e||$.length===0?null:jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("div",{className:"col-span-1 mt-2 row-span-2 bg-gray-100 p-1",children:jsxRuntimeExports$1.jsx("span",{className:"font-semibold font-mono",children:"Repository Files:"})}),jsxRuntimeExports$1.jsx("div",{className:"bg-gray-100 p-1",children:$.length>0?jsxRuntimeExports$1.jsx("ul",{className:"list-disc text-wrap pl-5 text-cyan-900",children:$.map((tt,nt)=>jsxRuntimeExports$1.jsxs("li",{className:"mb-4",children:[jsxRuntimeExports$1.jsxs("div",{className:"flex items-center font-mono text-wrap",children:[jsxRuntimeExports$1.jsx(FaFileAlt,{className:"mr-2"}),tt.name]}),jsxRuntimeExports$1.jsx("pre",{className:"bg-gray-200 p-2 mt-1 mr-4 text-sm rounded text-wrap break-words",children:tt.content})]},nt))}):jsxRuntimeExports$1.jsx("p",{className:"font-mono",children:"No repository files found."})})]})};function cc$1(o){if(typeof o=="string"||typeof o=="number")return""+o;let _="";if(Array.isArray(o))for(let $=0,j;$<o.length;$++)(j=cc$1(o[$]))!==""&&(_+=(_&&" ")+j);else for(let $ in o)o[$]&&(_+=(_&&" ")+$);return _}const{useDebugValue}=React,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports,identity$e=o=>o;function useStoreWithEqualityFn(o,_=identity$e,$){const j=useSyncExternalStoreWithSelector(o.subscribe,o.getState,o.getServerState||o.getInitialState,_,$);return useDebugValue(j),j}const createWithEqualityFnImpl=(o,_)=>{const $=createStore(o),j=(_e,et=_)=>useStoreWithEqualityFn($,_e,et);return Object.assign(j,$),j},createWithEqualityFn=(o,_)=>o?createWithEqualityFnImpl(o,_):createWithEqualityFnImpl;function shallow$1(o,_){if(Object.is(o,_))return!0;if(typeof o!="object"||o===null||typeof _!="object"||_===null)return!1;if(o instanceof Map&&_ instanceof Map){if(o.size!==_.size)return!1;for(const[j,_e]of o)if(!Object.is(_e,_.get(j)))return!1;return!0}if(o instanceof Set&&_ instanceof Set){if(o.size!==_.size)return!1;for(const j of o)if(!_.has(j))return!1;return!0}const $=Object.keys(o);if($.length!==Object.keys(_).length)return!1;for(const j of $)if(!Object.prototype.hasOwnProperty.call(_,j)||!Object.is(o[j],_[j]))return!1;return!0}var noop$4={value:()=>{}};function dispatch(){for(var o=0,_=arguments.length,$={},j;o<_;++o){if(!(j=arguments[o]+"")||j in $||/[\s.]/.test(j))throw new Error("illegal type: "+j);$[j]=[]}return new Dispatch($)}function Dispatch(o){this._=o}function parseTypenames$1(o,_){return o.trim().split(/^|\s+/).map(function($){var j="",_e=$.indexOf(".");if(_e>=0&&(j=$.slice(_e+1),$=$.slice(0,_e)),$&&!_.hasOwnProperty($))throw new Error("unknown type: "+$);return{type:$,name:j}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(o,_){var $=this._,j=parseTypenames$1(o+"",$),_e,et=-1,tt=j.length;if(arguments.length<2){for(;++et<tt;)if((_e=(o=j[et]).type)&&(_e=get$4($[_e],o.name)))return _e;return}if(_!=null&&typeof _!="function")throw new Error("invalid callback: "+_);for(;++et<tt;)if(_e=(o=j[et]).type)$[_e]=set$2($[_e],o.name,_);else if(_==null)for(_e in $)$[_e]=set$2($[_e],o.name,null);return this},copy:function(){var o={},_=this._;for(var $ in _)o[$]=_[$].slice();return new Dispatch(o)},call:function(o,_){if((_e=arguments.length-2)>0)for(var $=new Array(_e),j=0,_e,et;j<_e;++j)$[j]=arguments[j+2];if(!this._.hasOwnProperty(o))throw new Error("unknown type: "+o);for(et=this._[o],j=0,_e=et.length;j<_e;++j)et[j].value.apply(_,$)},apply:function(o,_,$){if(!this._.hasOwnProperty(o))throw new Error("unknown type: "+o);for(var j=this._[o],_e=0,et=j.length;_e<et;++_e)j[_e].value.apply(_,$)}};function get$4(o,_){for(var $=0,j=o.length,_e;$<j;++$)if((_e=o[$]).name===_)return _e.value}function set$2(o,_,$){for(var j=0,_e=o.length;j<_e;++j)if(o[j].name===_){o[j]=noop$4,o=o.slice(0,j).concat(o.slice(j+1));break}return $!=null&&o.push({name:_,value:$}),o}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(o){var _=o+="",$=_.indexOf(":");return $>=0&&(_=o.slice(0,$))!=="xmlns"&&(o=o.slice($+1)),namespaces.hasOwnProperty(_)?{space:namespaces[_],local:o}:o}function creatorInherit(o){return function(){var _=this.ownerDocument,$=this.namespaceURI;return $===xhtml&&_.documentElement.namespaceURI===xhtml?_.createElement(o):_.createElementNS($,o)}}function creatorFixed(o){return function(){return this.ownerDocument.createElementNS(o.space,o.local)}}function creator(o){var _=namespace(o);return(_.local?creatorFixed:creatorInherit)(_)}function none(){}function selector$h(o){return o==null?none:function(){return this.querySelector(o)}}function selection_select(o){typeof o!="function"&&(o=selector$h(o));for(var _=this._groups,$=_.length,j=new Array($),_e=0;_e<$;++_e)for(var et=_[_e],tt=et.length,nt=j[_e]=new Array(tt),it,lt,dt=0;dt<tt;++dt)(it=et[dt])&&(lt=o.call(it,it.__data__,dt,et))&&("__data__"in it&&(lt.__data__=it.__data__),nt[dt]=lt);return new Selection$1(j,this._parents)}function array$1(o){return o==null?[]:Array.isArray(o)?o:Array.from(o)}function empty(){return[]}function selectorAll(o){return o==null?empty:function(){return this.querySelectorAll(o)}}function arrayAll(o){return function(){return array$1(o.apply(this,arguments))}}function selection_selectAll(o){typeof o=="function"?o=arrayAll(o):o=selectorAll(o);for(var _=this._groups,$=_.length,j=[],_e=[],et=0;et<$;++et)for(var tt=_[et],nt=tt.length,it,lt=0;lt<nt;++lt)(it=tt[lt])&&(j.push(o.call(it,it.__data__,lt,tt)),_e.push(it));return new Selection$1(j,_e)}function matcher(o){return function(){return this.matches(o)}}function childMatcher(o){return function(_){return _.matches(o)}}var find$2=Array.prototype.find;function childFind(o){return function(){return find$2.call(this.children,o)}}function childFirst(){return this.firstElementChild}function selection_selectChild(o){return this.select(o==null?childFirst:childFind(typeof o=="function"?o:childMatcher(o)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(o){return function(){return filter.call(this.children,o)}}function selection_selectChildren(o){return this.selectAll(o==null?children:childrenFilter(typeof o=="function"?o:childMatcher(o)))}function selection_filter(o){typeof o!="function"&&(o=matcher(o));for(var _=this._groups,$=_.length,j=new Array($),_e=0;_e<$;++_e)for(var et=_[_e],tt=et.length,nt=j[_e]=[],it,lt=0;lt<tt;++lt)(it=et[lt])&&o.call(it,it.__data__,lt,et)&&nt.push(it);return new Selection$1(j,this._parents)}function sparse(o){return new Array(o.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(o,_){this.ownerDocument=o.ownerDocument,this.namespaceURI=o.namespaceURI,this._next=null,this._parent=o,this.__data__=_}EnterNode.prototype={constructor:EnterNode,appendChild:function(o){return this._parent.insertBefore(o,this._next)},insertBefore:function(o,_){return this._parent.insertBefore(o,_)},querySelector:function(o){return this._parent.querySelector(o)},querySelectorAll:function(o){return this._parent.querySelectorAll(o)}};function constant$6(o){return function(){return o}}function bindIndex(o,_,$,j,_e,et){for(var tt=0,nt,it=_.length,lt=et.length;tt<lt;++tt)(nt=_[tt])?(nt.__data__=et[tt],j[tt]=nt):$[tt]=new EnterNode(o,et[tt]);for(;tt<it;++tt)(nt=_[tt])&&(_e[tt]=nt)}function bindKey(o,_,$,j,_e,et,tt){var nt,it,lt=new Map,dt=_.length,bt=et.length,Ht=new Array(dt),pr;for(nt=0;nt<dt;++nt)(it=_[nt])&&(Ht[nt]=pr=tt.call(it,it.__data__,nt,_)+"",lt.has(pr)?_e[nt]=it:lt.set(pr,it));for(nt=0;nt<bt;++nt)pr=tt.call(o,et[nt],nt,et)+"",(it=lt.get(pr))?(j[nt]=it,it.__data__=et[nt],lt.delete(pr)):$[nt]=new EnterNode(o,et[nt]);for(nt=0;nt<dt;++nt)(it=_[nt])&&lt.get(Ht[nt])===it&&(_e[nt]=it)}function datum(o){return o.__data__}function selection_data(o,_){if(!arguments.length)return Array.from(this,datum);var $=_?bindKey:bindIndex,j=this._parents,_e=this._groups;typeof o!="function"&&(o=constant$6(o));for(var et=_e.length,tt=new Array(et),nt=new Array(et),it=new Array(et),lt=0;lt<et;++lt){var dt=j[lt],bt=_e[lt],Ht=bt.length,pr=arraylike(o.call(dt,dt&&dt.__data__,lt,j)),_n=pr.length,ft=nt[lt]=new Array(_n),Ct=tt[lt]=new Array(_n),mr=it[lt]=new Array(Ht);$(dt,bt,ft,Ct,mr,pr,_);for(var _r=0,mn=0,dr,pn;_r<_n;++_r)if(dr=ft[_r]){for(_r>=mn&&(mn=_r+1);!(pn=Ct[mn])&&++mn<_n;);dr._next=pn||null}}return tt=new Selection$1(tt,j),tt._enter=nt,tt._exit=it,tt}function arraylike(o){return typeof o=="object"&&"length"in o?o:Array.from(o)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(o,_,$){var j=this.enter(),_e=this,et=this.exit();return typeof o=="function"?(j=o(j),j&&(j=j.selection())):j=j.append(o+""),_!=null&&(_e=_(_e),_e&&(_e=_e.selection())),$==null?et.remove():$(et),j&&_e?j.merge(_e).order():_e}function selection_merge(o){for(var _=o.selection?o.selection():o,$=this._groups,j=_._groups,_e=$.length,et=j.length,tt=Math.min(_e,et),nt=new Array(_e),it=0;it<tt;++it)for(var lt=$[it],dt=j[it],bt=lt.length,Ht=nt[it]=new Array(bt),pr,_n=0;_n<bt;++_n)(pr=lt[_n]||dt[_n])&&(Ht[_n]=pr);for(;it<_e;++it)nt[it]=$[it];return new Selection$1(nt,this._parents)}function selection_order(){for(var o=this._groups,_=-1,$=o.length;++_<$;)for(var j=o[_],_e=j.length-1,et=j[_e],tt;--_e>=0;)(tt=j[_e])&&(et&&tt.compareDocumentPosition(et)^4&&et.parentNode.insertBefore(tt,et),et=tt);return this}function selection_sort(o){o||(o=ascending$1);function _(bt,Ht){return bt&&Ht?o(bt.__data__,Ht.__data__):!bt-!Ht}for(var $=this._groups,j=$.length,_e=new Array(j),et=0;et<j;++et){for(var tt=$[et],nt=tt.length,it=_e[et]=new Array(nt),lt,dt=0;dt<nt;++dt)(lt=tt[dt])&&(it[dt]=lt);it.sort(_)}return new Selection$1(_e,this._parents).order()}function ascending$1(o,_){return o<_?-1:o>_?1:o>=_?0:NaN}function selection_call(){var o=arguments[0];return arguments[0]=this,o.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var o=this._groups,_=0,$=o.length;_<$;++_)for(var j=o[_],_e=0,et=j.length;_e<et;++_e){var tt=j[_e];if(tt)return tt}return null}function selection_size(){let o=0;for(const _ of this)++o;return o}function selection_empty(){return!this.node()}function selection_each(o){for(var _=this._groups,$=0,j=_.length;$<j;++$)for(var _e=_[$],et=0,tt=_e.length,nt;et<tt;++et)(nt=_e[et])&&o.call(nt,nt.__data__,et,_e);return this}function attrRemove$1(o){return function(){this.removeAttribute(o)}}function attrRemoveNS$1(o){return function(){this.removeAttributeNS(o.space,o.local)}}function attrConstant$1(o,_){return function(){this.setAttribute(o,_)}}function attrConstantNS$1(o,_){return function(){this.setAttributeNS(o.space,o.local,_)}}function attrFunction$1(o,_){return function(){var $=_.apply(this,arguments);$==null?this.removeAttribute(o):this.setAttribute(o,$)}}function attrFunctionNS$1(o,_){return function(){var $=_.apply(this,arguments);$==null?this.removeAttributeNS(o.space,o.local):this.setAttributeNS(o.space,o.local,$)}}function selection_attr(o,_){var $=namespace(o);if(arguments.length<2){var j=this.node();return $.local?j.getAttributeNS($.space,$.local):j.getAttribute($)}return this.each((_==null?$.local?attrRemoveNS$1:attrRemove$1:typeof _=="function"?$.local?attrFunctionNS$1:attrFunction$1:$.local?attrConstantNS$1:attrConstant$1)($,_))}function defaultView(o){return o.ownerDocument&&o.ownerDocument.defaultView||o.document&&o||o.defaultView}function styleRemove$1(o){return function(){this.style.removeProperty(o)}}function styleConstant$1(o,_,$){return function(){this.style.setProperty(o,_,$)}}function styleFunction$1(o,_,$){return function(){var j=_.apply(this,arguments);j==null?this.style.removeProperty(o):this.style.setProperty(o,j,$)}}function selection_style(o,_,$){return arguments.length>1?this.each((_==null?styleRemove$1:typeof _=="function"?styleFunction$1:styleConstant$1)(o,_,$??"")):styleValue(this.node(),o)}function styleValue(o,_){return o.style.getPropertyValue(_)||defaultView(o).getComputedStyle(o,null).getPropertyValue(_)}function propertyRemove(o){return function(){delete this[o]}}function propertyConstant(o,_){return function(){this[o]=_}}function propertyFunction(o,_){return function(){var $=_.apply(this,arguments);$==null?delete this[o]:this[o]=$}}function selection_property(o,_){return arguments.length>1?this.each((_==null?propertyRemove:typeof _=="function"?propertyFunction:propertyConstant)(o,_)):this.node()[o]}function classArray(o){return o.trim().split(/^|\s+/)}function classList(o){return o.classList||new ClassList(o)}function ClassList(o){this._node=o,this._names=classArray(o.getAttribute("class")||"")}ClassList.prototype={add:function(o){var _=this._names.indexOf(o);_<0&&(this._names.push(o),this._node.setAttribute("class",this._names.join(" ")))},remove:function(o){var _=this._names.indexOf(o);_>=0&&(this._names.splice(_,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(o){return this._names.indexOf(o)>=0}};function classedAdd(o,_){for(var $=classList(o),j=-1,_e=_.length;++j<_e;)$.add(_[j])}function classedRemove(o,_){for(var $=classList(o),j=-1,_e=_.length;++j<_e;)$.remove(_[j])}function classedTrue(o){return function(){classedAdd(this,o)}}function classedFalse(o){return function(){classedRemove(this,o)}}function classedFunction(o,_){return function(){(_.apply(this,arguments)?classedAdd:classedRemove)(this,o)}}function selection_classed(o,_){var $=classArray(o+"");if(arguments.length<2){for(var j=classList(this.node()),_e=-1,et=$.length;++_e<et;)if(!j.contains($[_e]))return!1;return!0}return this.each((typeof _=="function"?classedFunction:_?classedTrue:classedFalse)($,_))}function textRemove(){this.textContent=""}function textConstant$1(o){return function(){this.textContent=o}}function textFunction$1(o){return function(){var _=o.apply(this,arguments);this.textContent=_??""}}function selection_text(o){return arguments.length?this.each(o==null?textRemove:(typeof o=="function"?textFunction$1:textConstant$1)(o)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(o){return function(){this.innerHTML=o}}function htmlFunction(o){return function(){var _=o.apply(this,arguments);this.innerHTML=_??""}}function selection_html(o){return arguments.length?this.each(o==null?htmlRemove:(typeof o=="function"?htmlFunction:htmlConstant)(o)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(o){var _=typeof o=="function"?o:creator(o);return this.select(function(){return this.appendChild(_.apply(this,arguments))})}function constantNull(){return null}function selection_insert(o,_){var $=typeof o=="function"?o:creator(o),j=_==null?constantNull:typeof _=="function"?_:selector$h(_);return this.select(function(){return this.insertBefore($.apply(this,arguments),j.apply(this,arguments)||null)})}function remove(){var o=this.parentNode;o&&o.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var o=this.cloneNode(!1),_=this.parentNode;return _?_.insertBefore(o,this.nextSibling):o}function selection_cloneDeep(){var o=this.cloneNode(!0),_=this.parentNode;return _?_.insertBefore(o,this.nextSibling):o}function selection_clone(o){return this.select(o?selection_cloneDeep:selection_cloneShallow)}function selection_datum(o){return arguments.length?this.property("__data__",o):this.node().__data__}function contextListener(o){return function(_){o.call(this,_,this.__data__)}}function parseTypenames(o){return o.trim().split(/^|\s+/).map(function(_){var $="",j=_.indexOf(".");return j>=0&&($=_.slice(j+1),_=_.slice(0,j)),{type:_,name:$}})}function onRemove(o){return function(){var _=this.__on;if(_){for(var $=0,j=-1,_e=_.length,et;$<_e;++$)et=_[$],(!o.type||et.type===o.type)&&et.name===o.name?this.removeEventListener(et.type,et.listener,et.options):_[++j]=et;++j?_.length=j:delete this.__on}}}function onAdd(o,_,$){return function(){var j=this.__on,_e,et=contextListener(_);if(j){for(var tt=0,nt=j.length;tt<nt;++tt)if((_e=j[tt]).type===o.type&&_e.name===o.name){this.removeEventListener(_e.type,_e.listener,_e.options),this.addEventListener(_e.type,_e.listener=et,_e.options=$),_e.value=_;return}}this.addEventListener(o.type,et,$),_e={type:o.type,name:o.name,value:_,listener:et,options:$},j?j.push(_e):this.__on=[_e]}}function selection_on(o,_,$){var j=parseTypenames(o+""),_e,et=j.length,tt;if(arguments.length<2){var nt=this.node().__on;if(nt){for(var it=0,lt=nt.length,dt;it<lt;++it)for(_e=0,dt=nt[it];_e<et;++_e)if((tt=j[_e]).type===dt.type&&tt.name===dt.name)return dt.value}return}for(nt=_?onAdd:onRemove,_e=0;_e<et;++_e)this.each(nt(j[_e],_,$));return this}function dispatchEvent(o,_,$){var j=defaultView(o),_e=j.CustomEvent;typeof _e=="function"?_e=new _e(_,$):(_e=j.document.createEvent("Event"),$?(_e.initEvent(_,$.bubbles,$.cancelable),_e.detail=$.detail):_e.initEvent(_,!1,!1)),o.dispatchEvent(_e)}function dispatchConstant(o,_){return function(){return dispatchEvent(this,o,_)}}function dispatchFunction(o,_){return function(){return dispatchEvent(this,o,_.apply(this,arguments))}}function selection_dispatch(o,_){return this.each((typeof _=="function"?dispatchFunction:dispatchConstant)(o,_))}function*selection_iterator(){for(var o=this._groups,_=0,$=o.length;_<$;++_)for(var j=o[_],_e=0,et=j.length,tt;_e<et;++_e)(tt=j[_e])&&(yield tt)}var root$a=[null];function Selection$1(o,_){this._groups=o,this._parents=_}function selection(){return new Selection$1([[document.documentElement]],root$a)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(o){return typeof o=="string"?new Selection$1([[document.querySelector(o)]],[document.documentElement]):new Selection$1([[o]],root$a)}function sourceEvent(o){let _;for(;_=o.sourceEvent;)o=_;return o}function pointer(o,_){if(o=sourceEvent(o),_===void 0&&(_=o.currentTarget),_){var $=_.ownerSVGElement||_;if($.createSVGPoint){var j=$.createSVGPoint();return j.x=o.clientX,j.y=o.clientY,j=j.matrixTransform(_.getScreenCTM().inverse()),[j.x,j.y]}if(_.getBoundingClientRect){var _e=_.getBoundingClientRect();return[o.clientX-_e.left-_.clientLeft,o.clientY-_e.top-_.clientTop]}}return[o.pageX,o.pageY]}const nonpassive={passive:!1},nonpassivecapture={capture:!0,passive:!1};function nopropagation$1(o){o.stopImmediatePropagation()}function noevent$1(o){o.preventDefault(),o.stopImmediatePropagation()}function dragDisable(o){var _=o.document.documentElement,$=select(o).on("dragstart.drag",noevent$1,nonpassivecapture);"onselectstart"in _?$.on("selectstart.drag",noevent$1,nonpassivecapture):(_.__noselect=_.style.MozUserSelect,_.style.MozUserSelect="none")}function yesdrag(o,_){var $=o.document.documentElement,j=select(o).on("dragstart.drag",null);_&&(j.on("click.drag",noevent$1,nonpassivecapture),setTimeout(function(){j.on("click.drag",null)},0)),"onselectstart"in $?j.on("selectstart.drag",null):($.style.MozUserSelect=$.__noselect,delete $.__noselect)}const constant$5=o=>()=>o;function DragEvent(o,{sourceEvent:_,subject:$,target:j,identifier:_e,active:et,x:tt,y:nt,dx:it,dy:lt,dispatch:dt}){Object.defineProperties(this,{type:{value:o,enumerable:!0,configurable:!0},sourceEvent:{value:_,enumerable:!0,configurable:!0},subject:{value:$,enumerable:!0,configurable:!0},target:{value:j,enumerable:!0,configurable:!0},identifier:{value:_e,enumerable:!0,configurable:!0},active:{value:et,enumerable:!0,configurable:!0},x:{value:tt,enumerable:!0,configurable:!0},y:{value:nt,enumerable:!0,configurable:!0},dx:{value:it,enumerable:!0,configurable:!0},dy:{value:lt,enumerable:!0,configurable:!0},_:{value:dt}})}DragEvent.prototype.on=function(){var o=this._.on.apply(this._,arguments);return o===this._?this:o};function defaultFilter$1(o){return!o.ctrlKey&&!o.button}function defaultContainer(){return this.parentNode}function defaultSubject(o,_){return _??{x:o.x,y:o.y}}function defaultTouchable$1(){return navigator.maxTouchPoints||"ontouchstart"in this}function drag(){var o=defaultFilter$1,_=defaultContainer,$=defaultSubject,j=defaultTouchable$1,_e={},et=dispatch("start","drag","end"),tt=0,nt,it,lt,dt,bt=0;function Ht(dr){dr.on("mousedown.drag",pr).filter(j).on("touchstart.drag",Ct).on("touchmove.drag",mr,nonpassive).on("touchend.drag touchcancel.drag",_r).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function pr(dr,pn){if(!(dt||!o.call(this,dr,pn))){var Do=mn(this,_.call(this,dr,pn),dr,pn,"mouse");Do&&(select(dr.view).on("mousemove.drag",_n,nonpassivecapture).on("mouseup.drag",ft,nonpassivecapture),dragDisable(dr.view),nopropagation$1(dr),lt=!1,nt=dr.clientX,it=dr.clientY,Do("start",dr))}}function _n(dr){if(noevent$1(dr),!lt){var pn=dr.clientX-nt,Do=dr.clientY-it;lt=pn*pn+Do*Do>bt}_e.mouse("drag",dr)}function ft(dr){select(dr.view).on("mousemove.drag mouseup.drag",null),yesdrag(dr.view,lt),noevent$1(dr),_e.mouse("end",dr)}function Ct(dr,pn){if(o.call(this,dr,pn)){var Do=dr.changedTouches,Io=_.call(this,dr,pn),Lo=Do.length,ms,Uo;for(ms=0;ms<Lo;++ms)(Uo=mn(this,Io,dr,pn,Do[ms].identifier,Do[ms]))&&(nopropagation$1(dr),Uo("start",dr,Do[ms]))}}function mr(dr){var pn=dr.changedTouches,Do=pn.length,Io,Lo;for(Io=0;Io<Do;++Io)(Lo=_e[pn[Io].identifier])&&(noevent$1(dr),Lo("drag",dr,pn[Io]))}function _r(dr){var pn=dr.changedTouches,Do=pn.length,Io,Lo;for(dt&&clearTimeout(dt),dt=setTimeout(function(){dt=null},500),Io=0;Io<Do;++Io)(Lo=_e[pn[Io].identifier])&&(nopropagation$1(dr),Lo("end",dr,pn[Io]))}function mn(dr,pn,Do,Io,Lo,ms){var Uo=et.copy(),_s=pointer(ms||Do,pn),yp,xs,vs;if((vs=$.call(dr,new DragEvent("beforestart",{sourceEvent:Do,target:Ht,identifier:Lo,active:tt,x:_s[0],y:_s[1],dx:0,dy:0,dispatch:Uo}),Io))!=null)return yp=vs.x-_s[0]||0,xs=vs.y-_s[1]||0,function Sp(wp,bp,Ep){var Cp=_s,Ap;switch(wp){case"start":_e[Lo]=Sp,Ap=tt++;break;case"end":delete _e[Lo],--tt;case"drag":_s=pointer(Ep||bp,pn),Ap=tt;break}Uo.call(wp,dr,new DragEvent(wp,{sourceEvent:bp,subject:vs,target:Ht,identifier:Lo,active:Ap,x:_s[0]+yp,y:_s[1]+xs,dx:_s[0]-Cp[0],dy:_s[1]-Cp[1],dispatch:Uo}),Io)}}return Ht.filter=function(dr){return arguments.length?(o=typeof dr=="function"?dr:constant$5(!!dr),Ht):o},Ht.container=function(dr){return arguments.length?(_=typeof dr=="function"?dr:constant$5(dr),Ht):_},Ht.subject=function(dr){return arguments.length?($=typeof dr=="function"?dr:constant$5(dr),Ht):$},Ht.touchable=function(dr){return arguments.length?(j=typeof dr=="function"?dr:constant$5(!!dr),Ht):j},Ht.on=function(){var dr=et.on.apply(et,arguments);return dr===et?Ht:dr},Ht.clickDistance=function(dr){return arguments.length?(bt=(dr=+dr)*dr,Ht):Math.sqrt(bt)},Ht}function define(o,_,$){o.prototype=_.prototype=$,$.constructor=o}function extend(o,_){var $=Object.create(o.prototype);for(var j in _)$[j]=_[j];return $}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(o){return Object.assign(new this.constructor,this,o)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(o){var _,$;return o=(o+"").trim().toLowerCase(),(_=reHex.exec(o))?($=_[1].length,_=parseInt(_[1],16),$===6?rgbn(_):$===3?new Rgb(_>>8&15|_>>4&240,_>>4&15|_&240,(_&15)<<4|_&15,1):$===8?rgba(_>>24&255,_>>16&255,_>>8&255,(_&255)/255):$===4?rgba(_>>12&15|_>>8&240,_>>8&15|_>>4&240,_>>4&15|_&240,((_&15)<<4|_&15)/255):null):(_=reRgbInteger.exec(o))?new Rgb(_[1],_[2],_[3],1):(_=reRgbPercent.exec(o))?new Rgb(_[1]*255/100,_[2]*255/100,_[3]*255/100,1):(_=reRgbaInteger.exec(o))?rgba(_[1],_[2],_[3],_[4]):(_=reRgbaPercent.exec(o))?rgba(_[1]*255/100,_[2]*255/100,_[3]*255/100,_[4]):(_=reHslPercent.exec(o))?hsla(_[1],_[2]/100,_[3]/100,1):(_=reHslaPercent.exec(o))?hsla(_[1],_[2]/100,_[3]/100,_[4]):named.hasOwnProperty(o)?rgbn(named[o]):o==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(o){return new Rgb(o>>16&255,o>>8&255,o&255,1)}function rgba(o,_,$,j){return j<=0&&(o=_=$=NaN),new Rgb(o,_,$,j)}function rgbConvert(o){return o instanceof Color||(o=color(o)),o?(o=o.rgb(),new Rgb(o.r,o.g,o.b,o.opacity)):new Rgb}function rgb(o,_,$,j){return arguments.length===1?rgbConvert(o):new Rgb(o,_,$,j??1)}function Rgb(o,_,$,j){this.r=+o,this.g=+_,this.b=+$,this.opacity=+j}define(Rgb,rgb,extend(Color,{brighter(o){return o=o==null?brighter:Math.pow(brighter,o),new Rgb(this.r*o,this.g*o,this.b*o,this.opacity)},darker(o){return o=o==null?darker:Math.pow(darker,o),new Rgb(this.r*o,this.g*o,this.b*o,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const o=clampa(this.opacity);return`${o===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${o===1?")":`, ${o})`}`}function clampa(o){return isNaN(o)?1:Math.max(0,Math.min(1,o))}function clampi(o){return Math.max(0,Math.min(255,Math.round(o)||0))}function hex(o){return o=clampi(o),(o<16?"0":"")+o.toString(16)}function hsla(o,_,$,j){return j<=0?o=_=$=NaN:$<=0||$>=1?o=_=NaN:_<=0&&(o=NaN),new Hsl(o,_,$,j)}function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(o instanceof Color||(o=color(o)),!o)return new Hsl;if(o instanceof Hsl)return o;o=o.rgb();var _=o.r/255,$=o.g/255,j=o.b/255,_e=Math.min(_,$,j),et=Math.max(_,$,j),tt=NaN,nt=et-_e,it=(et+_e)/2;return nt?(_===et?tt=($-j)/nt+($<j)*6:$===et?tt=(j-_)/nt+2:tt=(_-$)/nt+4,nt/=it<.5?et+_e:2-et-_e,tt*=60):nt=it>0&&it<1?0:tt,new Hsl(tt,nt,it,o.opacity)}function hsl(o,_,$,j){return arguments.length===1?hslConvert(o):new Hsl(o,_,$,j??1)}function Hsl(o,_,$,j){this.h=+o,this.s=+_,this.l=+$,this.opacity=+j}define(Hsl,hsl,extend(Color,{brighter(o){return o=o==null?brighter:Math.pow(brighter,o),new Hsl(this.h,this.s,this.l*o,this.opacity)},darker(o){return o=o==null?darker:Math.pow(darker,o),new Hsl(this.h,this.s,this.l*o,this.opacity)},rgb(){var o=this.h%360+(this.h<0)*360,_=isNaN(o)||isNaN(this.s)?0:this.s,$=this.l,j=$+($<.5?$:1-$)*_,_e=2*$-j;return new Rgb(hsl2rgb(o>=240?o-240:o+120,_e,j),hsl2rgb(o,_e,j),hsl2rgb(o<120?o+240:o-120,_e,j),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const o=clampa(this.opacity);return`${o===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${o===1?")":`, ${o})`}`}}));function clamph(o){return o=(o||0)%360,o<0?o+360:o}function clampt(o){return Math.max(0,Math.min(1,o||0))}function hsl2rgb(o,_,$){return(o<60?_+($-_)*o/60:o<180?$:o<240?_+($-_)*(240-o)/60:_)*255}const constant$4=o=>()=>o;function linear$1(o,_){return function($){return o+$*_}}function exponential(o,_,$){return o=Math.pow(o,$),_=Math.pow(_,$)-o,$=1/$,function(j){return Math.pow(o+j*_,$)}}function gamma(o){return(o=+o)==1?nogamma:function(_,$){return $-_?exponential(_,$,o):constant$4(isNaN(_)?$:_)}}function nogamma(o,_){var $=_-o;return $?linear$1(o,$):constant$4(isNaN(o)?_:o)}const interpolateRgb=function o(_){var $=gamma(_);function j(_e,et){var tt=$((_e=rgb(_e)).r,(et=rgb(et)).r),nt=$(_e.g,et.g),it=$(_e.b,et.b),lt=nogamma(_e.opacity,et.opacity);return function(dt){return _e.r=tt(dt),_e.g=nt(dt),_e.b=it(dt),_e.opacity=lt(dt),_e+""}}return j.gamma=o,j}(1);function numberArray(o,_){_||(_=[]);var $=o?Math.min(_.length,o.length):0,j=_.slice(),_e;return function(et){for(_e=0;_e<$;++_e)j[_e]=o[_e]*(1-et)+_[_e]*et;return j}}function isNumberArray$1(o){return ArrayBuffer.isView(o)&&!(o instanceof DataView)}function genericArray(o,_){var $=_?_.length:0,j=o?Math.min($,o.length):0,_e=new Array(j),et=new Array($),tt;for(tt=0;tt<j;++tt)_e[tt]=interpolate$1(o[tt],_[tt]);for(;tt<$;++tt)et[tt]=_[tt];return function(nt){for(tt=0;tt<j;++tt)et[tt]=_e[tt](nt);return et}}function date$1(o,_){var $=new Date;return o=+o,_=+_,function(j){return $.setTime(o*(1-j)+_*j),$}}function interpolateNumber$2(o,_){return o=+o,_=+_,function($){return o*(1-$)+_*$}}function object(o,_){var $={},j={},_e;(o===null||typeof o!="object")&&(o={}),(_===null||typeof _!="object")&&(_={});for(_e in _)_e in o?$[_e]=interpolate$1(o[_e],_[_e]):j[_e]=_[_e];return function(et){for(_e in $)j[_e]=$[_e](et);return j}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero$1(o){return function(){return o}}function one(o){return function(_){return o(_)+""}}function interpolateString(o,_){var $=reA.lastIndex=reB.lastIndex=0,j,_e,et,tt=-1,nt=[],it=[];for(o=o+"",_=_+"";(j=reA.exec(o))&&(_e=reB.exec(_));)(et=_e.index)>$&&(et=_.slice($,et),nt[tt]?nt[tt]+=et:nt[++tt]=et),(j=j[0])===(_e=_e[0])?nt[tt]?nt[tt]+=_e:nt[++tt]=_e:(nt[++tt]=null,it.push({i:tt,x:interpolateNumber$2(j,_e)})),$=reB.lastIndex;return $<_.length&&(et=_.slice($),nt[tt]?nt[tt]+=et:nt[++tt]=et),nt.length<2?it[0]?one(it[0].x):zero$1(_):(_=it.length,function(lt){for(var dt=0,bt;dt<_;++dt)nt[(bt=it[dt]).i]=bt.x(lt);return nt.join("")})}function interpolate$1(o,_){var $=typeof _,j;return _==null||$==="boolean"?constant$4(_):($==="number"?interpolateNumber$2:$==="string"?(j=color(_))?(_=j,interpolateRgb):interpolateString:_ instanceof color?interpolateRgb:_ instanceof Date?date$1:isNumberArray$1(_)?numberArray:Array.isArray(_)?genericArray:typeof _.valueOf!="function"&&typeof _.toString!="function"||isNaN(_)?object:interpolateNumber$2)(o,_)}function interpolateRound(o,_){return o=+o,_=+_,function($){return Math.round(o*(1-$)+_*$)}}var degrees=180/Math.PI,identity$d={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(o,_,$,j,_e,et){var tt,nt,it;return(tt=Math.sqrt(o*o+_*_))&&(o/=tt,_/=tt),(it=o*$+_*j)&&($-=o*it,j-=_*it),(nt=Math.sqrt($*$+j*j))&&($/=nt,j/=nt,it/=nt),o*j<_*$&&(o=-o,_=-_,it=-it,tt=-tt),{translateX:_e,translateY:et,rotate:Math.atan2(_,o)*degrees,skewX:Math.atan(it)*degrees,scaleX:tt,scaleY:nt}}var svgNode;function parseCss(o){const _=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(o+"");return _.isIdentity?identity$d:decompose(_.a,_.b,_.c,_.d,_.e,_.f)}function parseSvg(o){return o==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",o),!(o=svgNode.transform.baseVal.consolidate()))?identity$d:(o=o.matrix,decompose(o.a,o.b,o.c,o.d,o.e,o.f))}function interpolateTransform(o,_,$,j){function _e(lt){return lt.length?lt.pop()+" ":""}function et(lt,dt,bt,Ht,pr,_n){if(lt!==bt||dt!==Ht){var ft=pr.push("translate(",null,_,null,$);_n.push({i:ft-4,x:interpolateNumber$2(lt,bt)},{i:ft-2,x:interpolateNumber$2(dt,Ht)})}else(bt||Ht)&&pr.push("translate("+bt+_+Ht+$)}function tt(lt,dt,bt,Ht){lt!==dt?(lt-dt>180?dt+=360:dt-lt>180&&(lt+=360),Ht.push({i:bt.push(_e(bt)+"rotate(",null,j)-2,x:interpolateNumber$2(lt,dt)})):dt&&bt.push(_e(bt)+"rotate("+dt+j)}function nt(lt,dt,bt,Ht){lt!==dt?Ht.push({i:bt.push(_e(bt)+"skewX(",null,j)-2,x:interpolateNumber$2(lt,dt)}):dt&&bt.push(_e(bt)+"skewX("+dt+j)}function it(lt,dt,bt,Ht,pr,_n){if(lt!==bt||dt!==Ht){var ft=pr.push(_e(pr)+"scale(",null,",",null,")");_n.push({i:ft-4,x:interpolateNumber$2(lt,bt)},{i:ft-2,x:interpolateNumber$2(dt,Ht)})}else(bt!==1||Ht!==1)&&pr.push(_e(pr)+"scale("+bt+","+Ht+")")}return function(lt,dt){var bt=[],Ht=[];return lt=o(lt),dt=o(dt),et(lt.translateX,lt.translateY,dt.translateX,dt.translateY,bt,Ht),tt(lt.rotate,dt.rotate,bt,Ht),nt(lt.skewX,dt.skewX,bt,Ht),it(lt.scaleX,lt.scaleY,dt.scaleX,dt.scaleY,bt,Ht),lt=dt=null,function(pr){for(var _n=-1,ft=Ht.length,Ct;++_n<ft;)bt[(Ct=Ht[_n]).i]=Ct.x(pr);return bt.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),epsilon2=1e-12;function cosh(o){return((o=Math.exp(o))+1/o)/2}function sinh(o){return((o=Math.exp(o))-1/o)/2}function tanh(o){return((o=Math.exp(2*o))-1)/(o+1)}const interpolateZoom=function o(_,$,j){function _e(et,tt){var nt=et[0],it=et[1],lt=et[2],dt=tt[0],bt=tt[1],Ht=tt[2],pr=dt-nt,_n=bt-it,ft=pr*pr+_n*_n,Ct,mr;if(ft<epsilon2)mr=Math.log(Ht/lt)/_,Ct=function(Io){return[nt+Io*pr,it+Io*_n,lt*Math.exp(_*Io*mr)]};else{var _r=Math.sqrt(ft),mn=(Ht*Ht-lt*lt+j*ft)/(2*lt*$*_r),dr=(Ht*Ht-lt*lt-j*ft)/(2*Ht*$*_r),pn=Math.log(Math.sqrt(mn*mn+1)-mn),Do=Math.log(Math.sqrt(dr*dr+1)-dr);mr=(Do-pn)/_,Ct=function(Io){var Lo=Io*mr,ms=cosh(pn),Uo=lt/($*_r)*(ms*tanh(_*Lo+pn)-sinh(pn));return[nt+Uo*pr,it+Uo*_n,lt*ms/cosh(_*Lo+pn)]}}return Ct.duration=mr*1e3*_/Math.SQRT2,Ct}return _e.rho=function(et){var tt=Math.max(.001,+et),nt=tt*tt,it=nt*nt;return o(tt,nt,it)},_e}(Math.SQRT2,2,4);function piecewise(o,_){_===void 0&&(_=o,o=interpolate$1);for(var $=0,j=_.length-1,_e=_[0],et=new Array(j<0?0:j);$<j;)et[$]=o(_e,_e=_[++$]);return function(tt){var nt=Math.max(0,Math.min(j-1,Math.floor(tt*=j)));return et[nt](tt-nt)}}var frame=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(o){setTimeout(o,17)};function now$2(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(o,_,$){if(typeof o!="function")throw new TypeError("callback is not a function");$=($==null?now$2():+$)+(_==null?0:+_),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=o,this._time=$,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(o,_,$){var j=new Timer;return j.restart(o,_,$),j}function timerFlush(){now$2(),++frame;for(var o=taskHead,_;o;)(_=clockNow-o._time)>=0&&o._call.call(void 0,_),o=o._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var o=clock.now(),_=o-clockLast;_>pokeDelay&&(clockSkew-=_,clockLast=o)}function nap(){for(var o,_=taskHead,$,j=1/0;_;)_._call?(j>_._time&&(j=_._time),o=_,_=_._next):($=_._next,_._next=null,_=o?o._next=$:taskHead=$);taskTail=o,sleep(j)}function sleep(o){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var _=o-clockNow;_>24?(o<1/0&&(timeout$1=setTimeout(wake,o-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function timeout(o,_,$){var j=new Timer;return _=_==null?0:+_,j.restart(_e=>{j.stop(),o(_e+_)},_,$),j}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(o,_,$,j,_e,et){var tt=o.__transition;if(!tt)o.__transition={};else if($ in tt)return;create(o,$,{name:_,index:j,group:_e,on:emptyOn,tween:emptyTween,time:et.time,delay:et.delay,duration:et.duration,ease:et.ease,timer:null,state:CREATED})}function init(o,_){var $=get$3(o,_);if($.state>CREATED)throw new Error("too late; already scheduled");return $}function set$1(o,_){var $=get$3(o,_);if($.state>STARTED)throw new Error("too late; already running");return $}function get$3(o,_){var $=o.__transition;if(!$||!($=$[_]))throw new Error("transition not found");return $}function create(o,_,$){var j=o.__transition,_e;j[_]=$,$.timer=timer(et,0,$.time);function et(lt){$.state=SCHEDULED,$.timer.restart(tt,$.delay,$.time),$.delay<=lt&&tt(lt-$.delay)}function tt(lt){var dt,bt,Ht,pr;if($.state!==SCHEDULED)return it();for(dt in j)if(pr=j[dt],pr.name===$.name){if(pr.state===STARTED)return timeout(tt);pr.state===RUNNING?(pr.state=ENDED,pr.timer.stop(),pr.on.call("interrupt",o,o.__data__,pr.index,pr.group),delete j[dt]):+dt<_&&(pr.state=ENDED,pr.timer.stop(),pr.on.call("cancel",o,o.__data__,pr.index,pr.group),delete j[dt])}if(timeout(function(){$.state===STARTED&&($.state=RUNNING,$.timer.restart(nt,$.delay,$.time),nt(lt))}),$.state=STARTING,$.on.call("start",o,o.__data__,$.index,$.group),$.state===STARTING){for($.state=STARTED,_e=new Array(Ht=$.tween.length),dt=0,bt=-1;dt<Ht;++dt)(pr=$.tween[dt].value.call(o,o.__data__,$.index,$.group))&&(_e[++bt]=pr);_e.length=bt+1}}function nt(lt){for(var dt=lt<$.duration?$.ease.call(null,lt/$.duration):($.timer.restart(it),$.state=ENDING,1),bt=-1,Ht=_e.length;++bt<Ht;)_e[bt].call(o,dt);$.state===ENDING&&($.on.call("end",o,o.__data__,$.index,$.group),it())}function it(){$.state=ENDED,$.timer.stop(),delete j[_];for(var lt in j)return;delete o.__transition}}function interrupt(o,_){var $=o.__transition,j,_e,et=!0,tt;if($){_=_==null?null:_+"";for(tt in $){if((j=$[tt]).name!==_){et=!1;continue}_e=j.state>STARTING&&j.state<ENDING,j.state=ENDED,j.timer.stop(),j.on.call(_e?"interrupt":"cancel",o,o.__data__,j.index,j.group),delete $[tt]}et&&delete o.__transition}}function selection_interrupt(o){return this.each(function(){interrupt(this,o)})}function tweenRemove(o,_){var $,j;return function(){var _e=set$1(this,o),et=_e.tween;if(et!==$){j=$=et;for(var tt=0,nt=j.length;tt<nt;++tt)if(j[tt].name===_){j=j.slice(),j.splice(tt,1);break}}_e.tween=j}}function tweenFunction(o,_,$){var j,_e;if(typeof $!="function")throw new Error;return function(){var et=set$1(this,o),tt=et.tween;if(tt!==j){_e=(j=tt).slice();for(var nt={name:_,value:$},it=0,lt=_e.length;it<lt;++it)if(_e[it].name===_){_e[it]=nt;break}it===lt&&_e.push(nt)}et.tween=_e}}function transition_tween(o,_){var $=this._id;if(o+="",arguments.length<2){for(var j=get$3(this.node(),$).tween,_e=0,et=j.length,tt;_e<et;++_e)if((tt=j[_e]).name===o)return tt.value;return null}return this.each((_==null?tweenRemove:tweenFunction)($,o,_))}function tweenValue(o,_,$){var j=o._id;return o.each(function(){var _e=set$1(this,j);(_e.value||(_e.value={}))[_]=$.apply(this,arguments)}),function(_e){return get$3(_e,j).value[_]}}function interpolate(o,_){var $;return(typeof _=="number"?interpolateNumber$2:_ instanceof color?interpolateRgb:($=color(_))?(_=$,interpolateRgb):interpolateString)(o,_)}function attrRemove(o){return function(){this.removeAttribute(o)}}function attrRemoveNS(o){return function(){this.removeAttributeNS(o.space,o.local)}}function attrConstant(o,_,$){var j,_e=$+"",et;return function(){var tt=this.getAttribute(o);return tt===_e?null:tt===j?et:et=_(j=tt,$)}}function attrConstantNS(o,_,$){var j,_e=$+"",et;return function(){var tt=this.getAttributeNS(o.space,o.local);return tt===_e?null:tt===j?et:et=_(j=tt,$)}}function attrFunction(o,_,$){var j,_e,et;return function(){var tt,nt=$(this),it;return nt==null?void this.removeAttribute(o):(tt=this.getAttribute(o),it=nt+"",tt===it?null:tt===j&&it===_e?et:(_e=it,et=_(j=tt,nt)))}}function attrFunctionNS(o,_,$){var j,_e,et;return function(){var tt,nt=$(this),it;return nt==null?void this.removeAttributeNS(o.space,o.local):(tt=this.getAttributeNS(o.space,o.local),it=nt+"",tt===it?null:tt===j&&it===_e?et:(_e=it,et=_(j=tt,nt)))}}function transition_attr(o,_){var $=namespace(o),j=$==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(o,typeof _=="function"?($.local?attrFunctionNS:attrFunction)($,j,tweenValue(this,"attr."+o,_)):_==null?($.local?attrRemoveNS:attrRemove)($):($.local?attrConstantNS:attrConstant)($,j,_))}function attrInterpolate(o,_){return function($){this.setAttribute(o,_.call(this,$))}}function attrInterpolateNS(o,_){return function($){this.setAttributeNS(o.space,o.local,_.call(this,$))}}function attrTweenNS(o,_){var $,j;function _e(){var et=_.apply(this,arguments);return et!==j&&($=(j=et)&&attrInterpolateNS(o,et)),$}return _e._value=_,_e}function attrTween(o,_){var $,j;function _e(){var et=_.apply(this,arguments);return et!==j&&($=(j=et)&&attrInterpolate(o,et)),$}return _e._value=_,_e}function transition_attrTween(o,_){var $="attr."+o;if(arguments.length<2)return($=this.tween($))&&$._value;if(_==null)return this.tween($,null);if(typeof _!="function")throw new Error;var j=namespace(o);return this.tween($,(j.local?attrTweenNS:attrTween)(j,_))}function delayFunction(o,_){return function(){init(this,o).delay=+_.apply(this,arguments)}}function delayConstant(o,_){return _=+_,function(){init(this,o).delay=_}}function transition_delay(o){var _=this._id;return arguments.length?this.each((typeof o=="function"?delayFunction:delayConstant)(_,o)):get$3(this.node(),_).delay}function durationFunction(o,_){return function(){set$1(this,o).duration=+_.apply(this,arguments)}}function durationConstant(o,_){return _=+_,function(){set$1(this,o).duration=_}}function transition_duration(o){var _=this._id;return arguments.length?this.each((typeof o=="function"?durationFunction:durationConstant)(_,o)):get$3(this.node(),_).duration}function easeConstant(o,_){if(typeof _!="function")throw new Error;return function(){set$1(this,o).ease=_}}function transition_ease(o){var _=this._id;return arguments.length?this.each(easeConstant(_,o)):get$3(this.node(),_).ease}function easeVarying(o,_){return function(){var $=_.apply(this,arguments);if(typeof $!="function")throw new Error;set$1(this,o).ease=$}}function transition_easeVarying(o){if(typeof o!="function")throw new Error;return this.each(easeVarying(this._id,o))}function transition_filter(o){typeof o!="function"&&(o=matcher(o));for(var _=this._groups,$=_.length,j=new Array($),_e=0;_e<$;++_e)for(var et=_[_e],tt=et.length,nt=j[_e]=[],it,lt=0;lt<tt;++lt)(it=et[lt])&&o.call(it,it.__data__,lt,et)&&nt.push(it);return new Transition(j,this._parents,this._name,this._id)}function transition_merge(o){if(o._id!==this._id)throw new Error;for(var _=this._groups,$=o._groups,j=_.length,_e=$.length,et=Math.min(j,_e),tt=new Array(j),nt=0;nt<et;++nt)for(var it=_[nt],lt=$[nt],dt=it.length,bt=tt[nt]=new Array(dt),Ht,pr=0;pr<dt;++pr)(Ht=it[pr]||lt[pr])&&(bt[pr]=Ht);for(;nt<j;++nt)tt[nt]=_[nt];return new Transition(tt,this._parents,this._name,this._id)}function start(o){return(o+"").trim().split(/^|\s+/).every(function(_){var $=_.indexOf(".");return $>=0&&(_=_.slice(0,$)),!_||_==="start"})}function onFunction(o,_,$){var j,_e,et=start(_)?init:set$1;return function(){var tt=et(this,o),nt=tt.on;nt!==j&&(_e=(j=nt).copy()).on(_,$),tt.on=_e}}function transition_on(o,_){var $=this._id;return arguments.length<2?get$3(this.node(),$).on.on(o):this.each(onFunction($,o,_))}function removeFunction(o){return function(){var _=this.parentNode;for(var $ in this.__transition)if(+$!==o)return;_&&_.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(o){var _=this._name,$=this._id;typeof o!="function"&&(o=selector$h(o));for(var j=this._groups,_e=j.length,et=new Array(_e),tt=0;tt<_e;++tt)for(var nt=j[tt],it=nt.length,lt=et[tt]=new Array(it),dt,bt,Ht=0;Ht<it;++Ht)(dt=nt[Ht])&&(bt=o.call(dt,dt.__data__,Ht,nt))&&("__data__"in dt&&(bt.__data__=dt.__data__),lt[Ht]=bt,schedule(lt[Ht],_,$,Ht,lt,get$3(dt,$)));return new Transition(et,this._parents,_,$)}function transition_selectAll(o){var _=this._name,$=this._id;typeof o!="function"&&(o=selectorAll(o));for(var j=this._groups,_e=j.length,et=[],tt=[],nt=0;nt<_e;++nt)for(var it=j[nt],lt=it.length,dt,bt=0;bt<lt;++bt)if(dt=it[bt]){for(var Ht=o.call(dt,dt.__data__,bt,it),pr,_n=get$3(dt,$),ft=0,Ct=Ht.length;ft<Ct;++ft)(pr=Ht[ft])&&schedule(pr,_,$,ft,Ht,_n);et.push(Ht),tt.push(dt)}return new Transition(et,tt,_,$)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(o,_){var $,j,_e;return function(){var et=styleValue(this,o),tt=(this.style.removeProperty(o),styleValue(this,o));return et===tt?null:et===$&&tt===j?_e:_e=_($=et,j=tt)}}function styleRemove(o){return function(){this.style.removeProperty(o)}}function styleConstant(o,_,$){var j,_e=$+"",et;return function(){var tt=styleValue(this,o);return tt===_e?null:tt===j?et:et=_(j=tt,$)}}function styleFunction(o,_,$){var j,_e,et;return function(){var tt=styleValue(this,o),nt=$(this),it=nt+"";return nt==null&&(it=nt=(this.style.removeProperty(o),styleValue(this,o))),tt===it?null:tt===j&&it===_e?et:(_e=it,et=_(j=tt,nt))}}function styleMaybeRemove(o,_){var $,j,_e,et="style."+_,tt="end."+et,nt;return function(){var it=set$1(this,o),lt=it.on,dt=it.value[et]==null?nt||(nt=styleRemove(_)):void 0;(lt!==$||_e!==dt)&&(j=($=lt).copy()).on(tt,_e=dt),it.on=j}}function transition_style(o,_,$){var j=(o+="")=="transform"?interpolateTransformCss:interpolate;return _==null?this.styleTween(o,styleNull(o,j)).on("end.style."+o,styleRemove(o)):typeof _=="function"?this.styleTween(o,styleFunction(o,j,tweenValue(this,"style."+o,_))).each(styleMaybeRemove(this._id,o)):this.styleTween(o,styleConstant(o,j,_),$).on("end.style."+o,null)}function styleInterpolate(o,_,$){return function(j){this.style.setProperty(o,_.call(this,j),$)}}function styleTween(o,_,$){var j,_e;function et(){var tt=_.apply(this,arguments);return tt!==_e&&(j=(_e=tt)&&styleInterpolate(o,tt,$)),j}return et._value=_,et}function transition_styleTween(o,_,$){var j="style."+(o+="");if(arguments.length<2)return(j=this.tween(j))&&j._value;if(_==null)return this.tween(j,null);if(typeof _!="function")throw new Error;return this.tween(j,styleTween(o,_,$??""))}function textConstant(o){return function(){this.textContent=o}}function textFunction(o){return function(){var _=o(this);this.textContent=_??""}}function transition_text(o){return this.tween("text",typeof o=="function"?textFunction(tweenValue(this,"text",o)):textConstant(o==null?"":o+""))}function textInterpolate(o){return function(_){this.textContent=o.call(this,_)}}function textTween(o){var _,$;function j(){var _e=o.apply(this,arguments);return _e!==$&&(_=($=_e)&&textInterpolate(_e)),_}return j._value=o,j}function transition_textTween(o){var _="text";if(arguments.length<1)return(_=this.tween(_))&&_._value;if(o==null)return this.tween(_,null);if(typeof o!="function")throw new Error;return this.tween(_,textTween(o))}function transition_transition(){for(var o=this._name,_=this._id,$=newId(),j=this._groups,_e=j.length,et=0;et<_e;++et)for(var tt=j[et],nt=tt.length,it,lt=0;lt<nt;++lt)if(it=tt[lt]){var dt=get$3(it,_);schedule(it,o,$,lt,tt,{time:dt.time+dt.delay+dt.duration,delay:0,duration:dt.duration,ease:dt.ease})}return new Transition(j,this._parents,o,$)}function transition_end(){var o,_,$=this,j=$._id,_e=$.size();return new Promise(function(et,tt){var nt={value:tt},it={value:function(){--_e===0&&et()}};$.each(function(){var lt=set$1(this,j),dt=lt.on;dt!==o&&(_=(o=dt).copy(),_._.cancel.push(nt),_._.interrupt.push(nt),_._.end.push(it)),lt.on=_}),_e===0&&et()})}var id$1=0;function Transition(o,_,$,j){this._groups=o,this._parents=_,this._name=$,this._id=j}function newId(){return++id$1}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(o){return((o*=2)<=1?o*o*o:(o-=2)*o*o+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(o,_){for(var $;!($=o.__transition)||!($=$[_]);)if(!(o=o.parentNode))throw new Error(`transition ${_} not found`);return $}function selection_transition(o){var _,$;o instanceof Transition?(_=o._id,o=o._name):(_=newId(),($=defaultTiming).time=now$2(),o=o==null?null:o+"");for(var j=this._groups,_e=j.length,et=0;et<_e;++et)for(var tt=j[et],nt=tt.length,it,lt=0;lt<nt;++lt)(it=tt[lt])&&schedule(it,o,_,lt,tt,$||inherit(it,_));return new Transition(j,this._parents,o,_)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;const constant$3=o=>()=>o;function ZoomEvent(o,{sourceEvent:_,target:$,transform:j,dispatch:_e}){Object.defineProperties(this,{type:{value:o,enumerable:!0,configurable:!0},sourceEvent:{value:_,enumerable:!0,configurable:!0},target:{value:$,enumerable:!0,configurable:!0},transform:{value:j,enumerable:!0,configurable:!0},_:{value:_e}})}function Transform(o,_,$){this.k=o,this.x=_,this.y=$}Transform.prototype={constructor:Transform,scale:function(o){return o===1?this:new Transform(this.k*o,this.x,this.y)},translate:function(o,_){return o===0&_===0?this:new Transform(this.k,this.x+this.k*o,this.y+this.k*_)},apply:function(o){return[o[0]*this.k+this.x,o[1]*this.k+this.y]},applyX:function(o){return o*this.k+this.x},applyY:function(o){return o*this.k+this.y},invert:function(o){return[(o[0]-this.x)/this.k,(o[1]-this.y)/this.k]},invertX:function(o){return(o-this.x)/this.k},invertY:function(o){return(o-this.y)/this.k},rescaleX:function(o){return o.copy().domain(o.range().map(this.invertX,this).map(o.invert,o))},rescaleY:function(o){return o.copy().domain(o.range().map(this.invertY,this).map(o.invert,o))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var identity$c=new Transform(1,0,0);Transform.prototype;function nopropagation(o){o.stopImmediatePropagation()}function noevent(o){o.preventDefault(),o.stopImmediatePropagation()}function defaultFilter(o){return(!o.ctrlKey||o.type==="wheel")&&!o.button}function defaultExtent(){var o=this;return o instanceof SVGElement?(o=o.ownerSVGElement||o,o.hasAttribute("viewBox")?(o=o.viewBox.baseVal,[[o.x,o.y],[o.x+o.width,o.y+o.height]]):[[0,0],[o.width.baseVal.value,o.height.baseVal.value]]):[[0,0],[o.clientWidth,o.clientHeight]]}function defaultTransform(){return this.__zoom||identity$c}function defaultWheelDelta(o){return-o.deltaY*(o.deltaMode===1?.05:o.deltaMode?1:.002)*(o.ctrlKey?10:1)}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain(o,_,$){var j=o.invertX(_[0][0])-$[0][0],_e=o.invertX(_[1][0])-$[1][0],et=o.invertY(_[0][1])-$[0][1],tt=o.invertY(_[1][1])-$[1][1];return o.translate(_e>j?(j+_e)/2:Math.min(0,j)||Math.max(0,_e),tt>et?(et+tt)/2:Math.min(0,et)||Math.max(0,tt))}function zoom(){var o=defaultFilter,_=defaultExtent,$=defaultConstrain,j=defaultWheelDelta,_e=defaultTouchable,et=[0,1/0],tt=[[-1/0,-1/0],[1/0,1/0]],nt=250,it=interpolateZoom,lt=dispatch("start","zoom","end"),dt,bt,Ht,pr=500,_n=150,ft=0,Ct=10;function mr(vs){vs.property("__zoom",defaultTransform).on("wheel.zoom",Lo,{passive:!1}).on("mousedown.zoom",ms).on("dblclick.zoom",Uo).filter(_e).on("touchstart.zoom",_s).on("touchmove.zoom",yp).on("touchend.zoom touchcancel.zoom",xs).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}mr.transform=function(vs,Sp,wp,bp){var Ep=vs.selection?vs.selection():vs;Ep.property("__zoom",defaultTransform),vs!==Ep?pn(vs,Sp,wp,bp):Ep.interrupt().each(function(){Do(this,arguments).event(bp).start().zoom(null,typeof Sp=="function"?Sp.apply(this,arguments):Sp).end()})},mr.scaleBy=function(vs,Sp,wp,bp){mr.scaleTo(vs,function(){var Ep=this.__zoom.k,Cp=typeof Sp=="function"?Sp.apply(this,arguments):Sp;return Ep*Cp},wp,bp)},mr.scaleTo=function(vs,Sp,wp,bp){mr.transform(vs,function(){var Ep=_.apply(this,arguments),Cp=this.__zoom,Ap=wp==null?dr(Ep):typeof wp=="function"?wp.apply(this,arguments):wp,Mp=Cp.invert(Ap),Pp=typeof Sp=="function"?Sp.apply(this,arguments):Sp;return $(mn(_r(Cp,Pp),Ap,Mp),Ep,tt)},wp,bp)},mr.translateBy=function(vs,Sp,wp,bp){mr.transform(vs,function(){return $(this.__zoom.translate(typeof Sp=="function"?Sp.apply(this,arguments):Sp,typeof wp=="function"?wp.apply(this,arguments):wp),_.apply(this,arguments),tt)},null,bp)},mr.translateTo=function(vs,Sp,wp,bp,Ep){mr.transform(vs,function(){var Cp=_.apply(this,arguments),Ap=this.__zoom,Mp=bp==null?dr(Cp):typeof bp=="function"?bp.apply(this,arguments):bp;return $(identity$c.translate(Mp[0],Mp[1]).scale(Ap.k).translate(typeof Sp=="function"?-Sp.apply(this,arguments):-Sp,typeof wp=="function"?-wp.apply(this,arguments):-wp),Cp,tt)},bp,Ep)};function _r(vs,Sp){return Sp=Math.max(et[0],Math.min(et[1],Sp)),Sp===vs.k?vs:new Transform(Sp,vs.x,vs.y)}function mn(vs,Sp,wp){var bp=Sp[0]-wp[0]*vs.k,Ep=Sp[1]-wp[1]*vs.k;return bp===vs.x&&Ep===vs.y?vs:new Transform(vs.k,bp,Ep)}function dr(vs){return[(+vs[0][0]+ +vs[1][0])/2,(+vs[0][1]+ +vs[1][1])/2]}function pn(vs,Sp,wp,bp){vs.on("start.zoom",function(){Do(this,arguments).event(bp).start()}).on("interrupt.zoom end.zoom",function(){Do(this,arguments).event(bp).end()}).tween("zoom",function(){var Ep=this,Cp=arguments,Ap=Do(Ep,Cp).event(bp),Mp=_.apply(Ep,Cp),Pp=wp==null?dr(Mp):typeof wp=="function"?wp.apply(Ep,Cp):wp,Ip=Math.max(Mp[1][0]-Mp[0][0],Mp[1][1]-Mp[0][1]),Op=Ep.__zoom,Wp=typeof Sp=="function"?Sp.apply(Ep,Cp):Sp,Yp=it(Op.invert(Pp).concat(Ip/Op.k),Wp.invert(Pp).concat(Ip/Wp.k));return function(Zp){if(Zp===1)Zp=Wp;else{var Qp=Yp(Zp),Gp=Ip/Qp[2];Zp=new Transform(Gp,Pp[0]-Qp[0]*Gp,Pp[1]-Qp[1]*Gp)}Ap.zoom(null,Zp)}})}function Do(vs,Sp,wp){return!wp&&vs.__zooming||new Io(vs,Sp)}function Io(vs,Sp){this.that=vs,this.args=Sp,this.active=0,this.sourceEvent=null,this.extent=_.apply(vs,Sp),this.taps=0}Io.prototype={event:function(vs){return vs&&(this.sourceEvent=vs),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(vs,Sp){return this.mouse&&vs!=="mouse"&&(this.mouse[1]=Sp.invert(this.mouse[0])),this.touch0&&vs!=="touch"&&(this.touch0[1]=Sp.invert(this.touch0[0])),this.touch1&&vs!=="touch"&&(this.touch1[1]=Sp.invert(this.touch1[0])),this.that.__zoom=Sp,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(vs){var Sp=select(this.that).datum();lt.call(vs,this.that,new ZoomEvent(vs,{sourceEvent:this.sourceEvent,target:mr,type:vs,transform:this.that.__zoom,dispatch:lt}),Sp)}};function Lo(vs,...Sp){if(!o.apply(this,arguments))return;var wp=Do(this,Sp).event(vs),bp=this.__zoom,Ep=Math.max(et[0],Math.min(et[1],bp.k*Math.pow(2,j.apply(this,arguments)))),Cp=pointer(vs);if(wp.wheel)(wp.mouse[0][0]!==Cp[0]||wp.mouse[0][1]!==Cp[1])&&(wp.mouse[1]=bp.invert(wp.mouse[0]=Cp)),clearTimeout(wp.wheel);else{if(bp.k===Ep)return;wp.mouse=[Cp,bp.invert(Cp)],interrupt(this),wp.start()}noevent(vs),wp.wheel=setTimeout(Ap,_n),wp.zoom("mouse",$(mn(_r(bp,Ep),wp.mouse[0],wp.mouse[1]),wp.extent,tt));function Ap(){wp.wheel=null,wp.end()}}function ms(vs,...Sp){if(Ht||!o.apply(this,arguments))return;var wp=vs.currentTarget,bp=Do(this,Sp,!0).event(vs),Ep=select(vs.view).on("mousemove.zoom",Pp,!0).on("mouseup.zoom",Ip,!0),Cp=pointer(vs,wp),Ap=vs.clientX,Mp=vs.clientY;dragDisable(vs.view),nopropagation(vs),bp.mouse=[Cp,this.__zoom.invert(Cp)],interrupt(this),bp.start();function Pp(Op){if(noevent(Op),!bp.moved){var Wp=Op.clientX-Ap,Yp=Op.clientY-Mp;bp.moved=Wp*Wp+Yp*Yp>ft}bp.event(Op).zoom("mouse",$(mn(bp.that.__zoom,bp.mouse[0]=pointer(Op,wp),bp.mouse[1]),bp.extent,tt))}function Ip(Op){Ep.on("mousemove.zoom mouseup.zoom",null),yesdrag(Op.view,bp.moved),noevent(Op),bp.event(Op).end()}}function Uo(vs,...Sp){if(o.apply(this,arguments)){var wp=this.__zoom,bp=pointer(vs.changedTouches?vs.changedTouches[0]:vs,this),Ep=wp.invert(bp),Cp=wp.k*(vs.shiftKey?.5:2),Ap=$(mn(_r(wp,Cp),bp,Ep),_.apply(this,Sp),tt);noevent(vs),nt>0?select(this).transition().duration(nt).call(pn,Ap,bp,vs):select(this).call(mr.transform,Ap,bp,vs)}}function _s(vs,...Sp){if(o.apply(this,arguments)){var wp=vs.touches,bp=wp.length,Ep=Do(this,Sp,vs.changedTouches.length===bp).event(vs),Cp,Ap,Mp,Pp;for(nopropagation(vs),Ap=0;Ap<bp;++Ap)Mp=wp[Ap],Pp=pointer(Mp,this),Pp=[Pp,this.__zoom.invert(Pp),Mp.identifier],Ep.touch0?!Ep.touch1&&Ep.touch0[2]!==Pp[2]&&(Ep.touch1=Pp,Ep.taps=0):(Ep.touch0=Pp,Cp=!0,Ep.taps=1+!!dt);dt&&(dt=clearTimeout(dt)),Cp&&(Ep.taps<2&&(bt=Pp[0],dt=setTimeout(function(){dt=null},pr)),interrupt(this),Ep.start())}}function yp(vs,...Sp){if(this.__zooming){var wp=Do(this,Sp).event(vs),bp=vs.changedTouches,Ep=bp.length,Cp,Ap,Mp,Pp;for(noevent(vs),Cp=0;Cp<Ep;++Cp)Ap=bp[Cp],Mp=pointer(Ap,this),wp.touch0&&wp.touch0[2]===Ap.identifier?wp.touch0[0]=Mp:wp.touch1&&wp.touch1[2]===Ap.identifier&&(wp.touch1[0]=Mp);if(Ap=wp.that.__zoom,wp.touch1){var Ip=wp.touch0[0],Op=wp.touch0[1],Wp=wp.touch1[0],Yp=wp.touch1[1],Zp=(Zp=Wp[0]-Ip[0])*Zp+(Zp=Wp[1]-Ip[1])*Zp,Qp=(Qp=Yp[0]-Op[0])*Qp+(Qp=Yp[1]-Op[1])*Qp;Ap=_r(Ap,Math.sqrt(Zp/Qp)),Mp=[(Ip[0]+Wp[0])/2,(Ip[1]+Wp[1])/2],Pp=[(Op[0]+Yp[0])/2,(Op[1]+Yp[1])/2]}else if(wp.touch0)Mp=wp.touch0[0],Pp=wp.touch0[1];else return;wp.zoom("touch",$(mn(Ap,Mp,Pp),wp.extent,tt))}}function xs(vs,...Sp){if(this.__zooming){var wp=Do(this,Sp).event(vs),bp=vs.changedTouches,Ep=bp.length,Cp,Ap;for(nopropagation(vs),Ht&&clearTimeout(Ht),Ht=setTimeout(function(){Ht=null},pr),Cp=0;Cp<Ep;++Cp)Ap=bp[Cp],wp.touch0&&wp.touch0[2]===Ap.identifier?delete wp.touch0:wp.touch1&&wp.touch1[2]===Ap.identifier&&delete wp.touch1;if(wp.touch1&&!wp.touch0&&(wp.touch0=wp.touch1,delete wp.touch1),wp.touch0)wp.touch0[1]=this.__zoom.invert(wp.touch0[0]);else if(wp.end(),wp.taps===2&&(Ap=pointer(Ap,this),Math.hypot(bt[0]-Ap[0],bt[1]-Ap[1])<Ct)){var Mp=select(this).on("dblclick.zoom");Mp&&Mp.apply(this,arguments)}}}return mr.wheelDelta=function(vs){return arguments.length?(j=typeof vs=="function"?vs:constant$3(+vs),mr):j},mr.filter=function(vs){return arguments.length?(o=typeof vs=="function"?vs:constant$3(!!vs),mr):o},mr.touchable=function(vs){return arguments.length?(_e=typeof vs=="function"?vs:constant$3(!!vs),mr):_e},mr.extent=function(vs){return arguments.length?(_=typeof vs=="function"?vs:constant$3([[+vs[0][0],+vs[0][1]],[+vs[1][0],+vs[1][1]]]),mr):_},mr.scaleExtent=function(vs){return arguments.length?(et[0]=+vs[0],et[1]=+vs[1],mr):[et[0],et[1]]},mr.translateExtent=function(vs){return arguments.length?(tt[0][0]=+vs[0][0],tt[1][0]=+vs[1][0],tt[0][1]=+vs[0][1],tt[1][1]=+vs[1][1],mr):[[tt[0][0],tt[0][1]],[tt[1][0],tt[1][1]]]},mr.constrain=function(vs){return arguments.length?($=vs,mr):$},mr.duration=function(vs){return arguments.length?(nt=+vs,mr):nt},mr.interpolate=function(vs){return arguments.length?(it=vs,mr):it},mr.on=function(){var vs=lt.on.apply(lt,arguments);return vs===lt?mr:vs},mr.clickDistance=function(vs){return arguments.length?(ft=(vs=+vs)*vs,mr):Math.sqrt(ft)},mr.tapDistance=function(vs){return arguments.length?(Ct=+vs,mr):Ct},mr}const StoreContext=reactExports.createContext(null),Provider$1=StoreContext.Provider,errorMessages={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:o=>`Node type "${o}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:o=>`The old edge with id=${o} does not exist.`,error009:o=>`Marker type "${o}" doesn't exist.`,error008:(o,_)=>`Couldn't create edge for ${o?"target":"source"} handle id: "${o?_.targetHandle:_.sourceHandle}", edge id: ${_.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:o=>`Edge type "${o}" not found. Using fallback type "default".`,error012:o=>`Node with id "${o}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},zustandErrorMessage=errorMessages.error001();function useStore(o,_){const $=reactExports.useContext(StoreContext);if($===null)throw new Error(zustandErrorMessage);return useStoreWithEqualityFn($,o,_)}const useStoreApi=()=>{const o=reactExports.useContext(StoreContext);if(o===null)throw new Error(zustandErrorMessage);return reactExports.useMemo(()=>({getState:o.getState,setState:o.setState,subscribe:o.subscribe,destroy:o.destroy}),[o])},selector$g=o=>o.userSelectionActive?"none":"all";function Panel({position:o,children:_,className:$,style:j,..._e}){const et=useStore(selector$g),tt=`${o}`.split("-");return React.createElement("div",{className:cc$1(["react-flow__panel",$,...tt]),style:{...j,pointerEvents:et},..._e},_)}function Attribution({proOptions:o,position:_="bottom-right"}){return o!=null&&o.hideAttribution?null:React.createElement(Panel,{position:_,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},React.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const EdgeText=({x:o,y:_,label:$,labelStyle:j={},labelShowBg:_e=!0,labelBgStyle:et={},labelBgPadding:tt=[2,4],labelBgBorderRadius:nt=2,children:it,className:lt,...dt})=>{const bt=reactExports.useRef(null),[Ht,pr]=reactExports.useState({x:0,y:0,width:0,height:0}),_n=cc$1(["react-flow__edge-textwrapper",lt]);return reactExports.useEffect(()=>{if(bt.current){const ft=bt.current.getBBox();pr({x:ft.x,y:ft.y,width:ft.width,height:ft.height})}},[$]),typeof $>"u"||!$?null:React.createElement("g",{transform:`translate(${o-Ht.width/2} ${_-Ht.height/2})`,className:_n,visibility:Ht.width?"visible":"hidden",...dt},_e&&React.createElement("rect",{width:Ht.width+2*tt[0],x:-tt[0],y:-tt[1],height:Ht.height+2*tt[1],className:"react-flow__edge-textbg",style:et,rx:nt,ry:nt}),React.createElement("text",{className:"react-flow__edge-text",y:Ht.height/2,dy:"0.3em",ref:bt,style:j},$),it)};var EdgeText$1=reactExports.memo(EdgeText);const getDimensions$1=o=>({width:o.offsetWidth,height:o.offsetHeight}),clamp$1=(o,_=0,$=1)=>Math.min(Math.max(o,_),$),clampPosition=(o={x:0,y:0},_)=>({x:clamp$1(o.x,_[0][0],_[1][0]),y:clamp$1(o.y,_[0][1],_[1][1])}),calcAutoPanVelocity=(o,_,$)=>o<_?clamp$1(Math.abs(o-_),1,50)/50:o>$?-clamp$1(Math.abs(o-$),1,50)/50:0,calcAutoPan=(o,_)=>{const $=calcAutoPanVelocity(o.x,35,_.width-35)*20,j=calcAutoPanVelocity(o.y,35,_.height-35)*20;return[$,j]},getHostForElement=o=>{var _;return((_=o.getRootNode)==null?void 0:_.call(o))||(window==null?void 0:window.document)},getBoundsOfBoxes=(o,_)=>({x:Math.min(o.x,_.x),y:Math.min(o.y,_.y),x2:Math.max(o.x2,_.x2),y2:Math.max(o.y2,_.y2)}),rectToBox=({x:o,y:_,width:$,height:j})=>({x:o,y:_,x2:o+$,y2:_+j}),boxToRect=({x:o,y:_,x2:$,y2:j})=>({x:o,y:_,width:$-o,height:j-_}),nodeToRect=o=>({...o.positionAbsolute||{x:0,y:0},width:o.width||0,height:o.height||0}),getBoundsOfRects=(o,_)=>boxToRect(getBoundsOfBoxes(rectToBox(o),rectToBox(_))),getOverlappingArea=(o,_)=>{const $=Math.max(0,Math.min(o.x+o.width,_.x+_.width)-Math.max(o.x,_.x)),j=Math.max(0,Math.min(o.y+o.height,_.y+_.height)-Math.max(o.y,_.y));return Math.ceil($*j)},isRectObject=o=>isNumeric(o.width)&&isNumeric(o.height)&&isNumeric(o.x)&&isNumeric(o.y),isNumeric=o=>!isNaN(o)&&isFinite(o),internalsSymbol=Symbol.for("internals"),elementSelectionKeys=["Enter"," ","Escape"],devWarn=(o,_)=>{},isReactKeyboardEvent=o=>"nativeEvent"in o;function isInputDOMNode(o){var _e,et;const _=isReactKeyboardEvent(o)?o.nativeEvent:o,$=((et=(_e=_.composedPath)==null?void 0:_e.call(_))==null?void 0:et[0])||o.target;return["INPUT","SELECT","TEXTAREA"].includes($==null?void 0:$.nodeName)||($==null?void 0:$.hasAttribute("contenteditable"))||!!($!=null&&$.closest(".nokey"))}const isMouseEvent=o=>"clientX"in o,getEventPosition=(o,_)=>{var et,tt;const $=isMouseEvent(o),j=$?o.clientX:(et=o.touches)==null?void 0:et[0].clientX,_e=$?o.clientY:(tt=o.touches)==null?void 0:tt[0].clientY;return{x:j-((_==null?void 0:_.left)??0),y:_e-((_==null?void 0:_.top)??0)}},isMacOs=()=>{var o;return typeof navigator<"u"&&((o=navigator==null?void 0:navigator.userAgent)==null?void 0:o.indexOf("Mac"))>=0},BaseEdge=({id:o,path:_,labelX:$,labelY:j,label:_e,labelStyle:et,labelShowBg:tt,labelBgStyle:nt,labelBgPadding:it,labelBgBorderRadius:lt,style:dt,markerEnd:bt,markerStart:Ht,interactionWidth:pr=20})=>React.createElement(React.Fragment,null,React.createElement("path",{id:o,style:dt,d:_,fill:"none",className:"react-flow__edge-path",markerEnd:bt,markerStart:Ht}),pr&&React.createElement("path",{d:_,fill:"none",strokeOpacity:0,strokeWidth:pr,className:"react-flow__edge-interaction"}),_e&&isNumeric($)&&isNumeric(j)?React.createElement(EdgeText$1,{x:$,y:j,label:_e,labelStyle:et,labelShowBg:tt,labelBgStyle:nt,labelBgPadding:it,labelBgBorderRadius:lt}):null);BaseEdge.displayName="BaseEdge";function getMouseHandler$1(o,_,$){return $===void 0?$:j=>{const _e=_().edges.find(et=>et.id===o);_e&&$(j,{..._e})}}function getEdgeCenter({sourceX:o,sourceY:_,targetX:$,targetY:j}){const _e=Math.abs($-o)/2,et=$<o?$+_e:$-_e,tt=Math.abs(j-_)/2,nt=j<_?j+tt:j-tt;return[et,nt,_e,tt]}function getBezierEdgeCenter({sourceX:o,sourceY:_,targetX:$,targetY:j,sourceControlX:_e,sourceControlY:et,targetControlX:tt,targetControlY:nt}){const it=o*.125+_e*.375+tt*.375+$*.125,lt=_*.125+et*.375+nt*.375+j*.125,dt=Math.abs(it-o),bt=Math.abs(lt-_);return[it,lt,dt,bt]}var ConnectionMode;(function(o){o.Strict="strict",o.Loose="loose"})(ConnectionMode||(ConnectionMode={}));var PanOnScrollMode;(function(o){o.Free="free",o.Vertical="vertical",o.Horizontal="horizontal"})(PanOnScrollMode||(PanOnScrollMode={}));var SelectionMode;(function(o){o.Partial="partial",o.Full="full"})(SelectionMode||(SelectionMode={}));var ConnectionLineType;(function(o){o.Bezier="default",o.Straight="straight",o.Step="step",o.SmoothStep="smoothstep",o.SimpleBezier="simplebezier"})(ConnectionLineType||(ConnectionLineType={}));var MarkerType;(function(o){o.Arrow="arrow",o.ArrowClosed="arrowclosed"})(MarkerType||(MarkerType={}));var Position;(function(o){o.Left="left",o.Top="top",o.Right="right",o.Bottom="bottom"})(Position||(Position={}));function getControl({pos:o,x1:_,y1:$,x2:j,y2:_e}){return o===Position.Left||o===Position.Right?[.5*(_+j),$]:[_,.5*($+_e)]}function getSimpleBezierPath({sourceX:o,sourceY:_,sourcePosition:$=Position.Bottom,targetX:j,targetY:_e,targetPosition:et=Position.Top}){const[tt,nt]=getControl({pos:$,x1:o,y1:_,x2:j,y2:_e}),[it,lt]=getControl({pos:et,x1:j,y1:_e,x2:o,y2:_}),[dt,bt,Ht,pr]=getBezierEdgeCenter({sourceX:o,sourceY:_,targetX:j,targetY:_e,sourceControlX:tt,sourceControlY:nt,targetControlX:it,targetControlY:lt});return[`M${o},${_} C${tt},${nt} ${it},${lt} ${j},${_e}`,dt,bt,Ht,pr]}const SimpleBezierEdge=reactExports.memo(({sourceX:o,sourceY:_,targetX:$,targetY:j,sourcePosition:_e=Position.Bottom,targetPosition:et=Position.Top,label:tt,labelStyle:nt,labelShowBg:it,labelBgStyle:lt,labelBgPadding:dt,labelBgBorderRadius:bt,style:Ht,markerEnd:pr,markerStart:_n,interactionWidth:ft})=>{const[Ct,mr,_r]=getSimpleBezierPath({sourceX:o,sourceY:_,sourcePosition:_e,targetX:$,targetY:j,targetPosition:et});return React.createElement(BaseEdge,{path:Ct,labelX:mr,labelY:_r,label:tt,labelStyle:nt,labelShowBg:it,labelBgStyle:lt,labelBgPadding:dt,labelBgBorderRadius:bt,style:Ht,markerEnd:pr,markerStart:_n,interactionWidth:ft})});SimpleBezierEdge.displayName="SimpleBezierEdge";const handleDirections={[Position.Left]:{x:-1,y:0},[Position.Right]:{x:1,y:0},[Position.Top]:{x:0,y:-1},[Position.Bottom]:{x:0,y:1}},getDirection=({source:o,sourcePosition:_=Position.Bottom,target:$})=>_===Position.Left||_===Position.Right?o.x<$.x?{x:1,y:0}:{x:-1,y:0}:o.y<$.y?{x:0,y:1}:{x:0,y:-1},distance=(o,_)=>Math.sqrt(Math.pow(_.x-o.x,2)+Math.pow(_.y-o.y,2));function getPoints({source:o,sourcePosition:_=Position.Bottom,target:$,targetPosition:j=Position.Top,center:_e,offset:et}){const tt=handleDirections[_],nt=handleDirections[j],it={x:o.x+tt.x*et,y:o.y+tt.y*et},lt={x:$.x+nt.x*et,y:$.y+nt.y*et},dt=getDirection({source:it,sourcePosition:_,target:lt}),bt=dt.x!==0?"x":"y",Ht=dt[bt];let pr=[],_n,ft;const Ct={x:0,y:0},mr={x:0,y:0},[_r,mn,dr,pn]=getEdgeCenter({sourceX:o.x,sourceY:o.y,targetX:$.x,targetY:$.y});if(tt[bt]*nt[bt]===-1){_n=_e.x??_r,ft=_e.y??mn;const Io=[{x:_n,y:it.y},{x:_n,y:lt.y}],Lo=[{x:it.x,y:ft},{x:lt.x,y:ft}];tt[bt]===Ht?pr=bt==="x"?Io:Lo:pr=bt==="x"?Lo:Io}else{const Io=[{x:it.x,y:lt.y}],Lo=[{x:lt.x,y:it.y}];if(bt==="x"?pr=tt.x===Ht?Lo:Io:pr=tt.y===Ht?Io:Lo,_===j){const xs=Math.abs(o[bt]-$[bt]);if(xs<=et){const vs=Math.min(et-1,et-xs);tt[bt]===Ht?Ct[bt]=(it[bt]>o[bt]?-1:1)*vs:mr[bt]=(lt[bt]>$[bt]?-1:1)*vs}}if(_!==j){const xs=bt==="x"?"y":"x",vs=tt[bt]===nt[xs],Sp=it[xs]>lt[xs],wp=it[xs]<lt[xs];(tt[bt]===1&&(!vs&&Sp||vs&&wp)||tt[bt]!==1&&(!vs&&wp||vs&&Sp))&&(pr=bt==="x"?Io:Lo)}const ms={x:it.x+Ct.x,y:it.y+Ct.y},Uo={x:lt.x+mr.x,y:lt.y+mr.y},_s=Math.max(Math.abs(ms.x-pr[0].x),Math.abs(Uo.x-pr[0].x)),yp=Math.max(Math.abs(ms.y-pr[0].y),Math.abs(Uo.y-pr[0].y));_s>=yp?(_n=(ms.x+Uo.x)/2,ft=pr[0].y):(_n=pr[0].x,ft=(ms.y+Uo.y)/2)}return[[o,{x:it.x+Ct.x,y:it.y+Ct.y},...pr,{x:lt.x+mr.x,y:lt.y+mr.y},$],_n,ft,dr,pn]}function getBend(o,_,$,j){const _e=Math.min(distance(o,_)/2,distance(_,$)/2,j),{x:et,y:tt}=_;if(o.x===et&&et===$.x||o.y===tt&&tt===$.y)return`L${et} ${tt}`;if(o.y===tt){const lt=o.x<$.x?-1:1,dt=o.y<$.y?1:-1;return`L ${et+_e*lt},${tt}Q ${et},${tt} ${et},${tt+_e*dt}`}const nt=o.x<$.x?1:-1,it=o.y<$.y?-1:1;return`L ${et},${tt+_e*it}Q ${et},${tt} ${et+_e*nt},${tt}`}function getSmoothStepPath({sourceX:o,sourceY:_,sourcePosition:$=Position.Bottom,targetX:j,targetY:_e,targetPosition:et=Position.Top,borderRadius:tt=5,centerX:nt,centerY:it,offset:lt=20}){const[dt,bt,Ht,pr,_n]=getPoints({source:{x:o,y:_},sourcePosition:$,target:{x:j,y:_e},targetPosition:et,center:{x:nt,y:it},offset:lt});return[dt.reduce((Ct,mr,_r)=>{let mn="";return _r>0&&_r<dt.length-1?mn=getBend(dt[_r-1],mr,dt[_r+1],tt):mn=`${_r===0?"M":"L"}${mr.x} ${mr.y}`,Ct+=mn,Ct},""),bt,Ht,pr,_n]}const SmoothStepEdge=reactExports.memo(({sourceX:o,sourceY:_,targetX:$,targetY:j,label:_e,labelStyle:et,labelShowBg:tt,labelBgStyle:nt,labelBgPadding:it,labelBgBorderRadius:lt,style:dt,sourcePosition:bt=Position.Bottom,targetPosition:Ht=Position.Top,markerEnd:pr,markerStart:_n,pathOptions:ft,interactionWidth:Ct})=>{const[mr,_r,mn]=getSmoothStepPath({sourceX:o,sourceY:_,sourcePosition:bt,targetX:$,targetY:j,targetPosition:Ht,borderRadius:ft==null?void 0:ft.borderRadius,offset:ft==null?void 0:ft.offset});return React.createElement(BaseEdge,{path:mr,labelX:_r,labelY:mn,label:_e,labelStyle:et,labelShowBg:tt,labelBgStyle:nt,labelBgPadding:it,labelBgBorderRadius:lt,style:dt,markerEnd:pr,markerStart:_n,interactionWidth:Ct})});SmoothStepEdge.displayName="SmoothStepEdge";const StepEdge=reactExports.memo(o=>{var _;return React.createElement(SmoothStepEdge,{...o,pathOptions:reactExports.useMemo(()=>{var $;return{borderRadius:0,offset:($=o.pathOptions)==null?void 0:$.offset}},[(_=o.pathOptions)==null?void 0:_.offset])})});StepEdge.displayName="StepEdge";function getStraightPath({sourceX:o,sourceY:_,targetX:$,targetY:j}){const[_e,et,tt,nt]=getEdgeCenter({sourceX:o,sourceY:_,targetX:$,targetY:j});return[`M ${o},${_}L ${$},${j}`,_e,et,tt,nt]}const StraightEdge=reactExports.memo(({sourceX:o,sourceY:_,targetX:$,targetY:j,label:_e,labelStyle:et,labelShowBg:tt,labelBgStyle:nt,labelBgPadding:it,labelBgBorderRadius:lt,style:dt,markerEnd:bt,markerStart:Ht,interactionWidth:pr})=>{const[_n,ft,Ct]=getStraightPath({sourceX:o,sourceY:_,targetX:$,targetY:j});return React.createElement(BaseEdge,{path:_n,labelX:ft,labelY:Ct,label:_e,labelStyle:et,labelShowBg:tt,labelBgStyle:nt,labelBgPadding:it,labelBgBorderRadius:lt,style:dt,markerEnd:bt,markerStart:Ht,interactionWidth:pr})});StraightEdge.displayName="StraightEdge";function calculateControlOffset(o,_){return o>=0?.5*o:_*25*Math.sqrt(-o)}function getControlWithCurvature({pos:o,x1:_,y1:$,x2:j,y2:_e,c:et}){switch(o){case Position.Left:return[_-calculateControlOffset(_-j,et),$];case Position.Right:return[_+calculateControlOffset(j-_,et),$];case Position.Top:return[_,$-calculateControlOffset($-_e,et)];case Position.Bottom:return[_,$+calculateControlOffset(_e-$,et)]}}function getBezierPath({sourceX:o,sourceY:_,sourcePosition:$=Position.Bottom,targetX:j,targetY:_e,targetPosition:et=Position.Top,curvature:tt=.25}){const[nt,it]=getControlWithCurvature({pos:$,x1:o,y1:_,x2:j,y2:_e,c:tt}),[lt,dt]=getControlWithCurvature({pos:et,x1:j,y1:_e,x2:o,y2:_,c:tt}),[bt,Ht,pr,_n]=getBezierEdgeCenter({sourceX:o,sourceY:_,targetX:j,targetY:_e,sourceControlX:nt,sourceControlY:it,targetControlX:lt,targetControlY:dt});return[`M${o},${_} C${nt},${it} ${lt},${dt} ${j},${_e}`,bt,Ht,pr,_n]}const BezierEdge=reactExports.memo(({sourceX:o,sourceY:_,targetX:$,targetY:j,sourcePosition:_e=Position.Bottom,targetPosition:et=Position.Top,label:tt,labelStyle:nt,labelShowBg:it,labelBgStyle:lt,labelBgPadding:dt,labelBgBorderRadius:bt,style:Ht,markerEnd:pr,markerStart:_n,pathOptions:ft,interactionWidth:Ct})=>{const[mr,_r,mn]=getBezierPath({sourceX:o,sourceY:_,sourcePosition:_e,targetX:$,targetY:j,targetPosition:et,curvature:ft==null?void 0:ft.curvature});return React.createElement(BaseEdge,{path:mr,labelX:_r,labelY:mn,label:tt,labelStyle:nt,labelShowBg:it,labelBgStyle:lt,labelBgPadding:dt,labelBgBorderRadius:bt,style:Ht,markerEnd:pr,markerStart:_n,interactionWidth:Ct})});BezierEdge.displayName="BezierEdge";const NodeIdContext=reactExports.createContext(null),Provider=NodeIdContext.Provider;NodeIdContext.Consumer;const useNodeId=()=>reactExports.useContext(NodeIdContext),isEdge=o=>"id"in o&&"source"in o&&"target"in o,getEdgeId=({source:o,sourceHandle:_,target:$,targetHandle:j})=>`reactflow__edge-${o}${_||""}-${$}${j||""}`,getMarkerId=(o,_)=>typeof o>"u"?"":typeof o=="string"?o:`${_?`${_}__`:""}${Object.keys(o).sort().map(j=>`${j}=${o[j]}`).join("&")}`,connectionExists=(o,_)=>_.some($=>$.source===o.source&&$.target===o.target&&($.sourceHandle===o.sourceHandle||!$.sourceHandle&&!o.sourceHandle)&&($.targetHandle===o.targetHandle||!$.targetHandle&&!o.targetHandle)),addEdge=(o,_)=>{if(!o.source||!o.target)return _;let $;return isEdge(o)?$={...o}:$={...o,id:getEdgeId(o)},connectionExists($,_)?_:_.concat($)},pointToRendererPoint=({x:o,y:_},[$,j,_e],et,[tt,nt])=>{const it={x:(o-$)/_e,y:(_-j)/_e};return et?{x:tt*Math.round(it.x/tt),y:nt*Math.round(it.y/nt)}:it},rendererPointToPoint=({x:o,y:_},[$,j,_e])=>({x:o*_e+$,y:_*_e+j}),getNodePositionWithOrigin=(o,_=[0,0])=>{if(!o)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const $=(o.width??0)*_[0],j=(o.height??0)*_[1],_e={x:o.position.x-$,y:o.position.y-j};return{..._e,positionAbsolute:o.positionAbsolute?{x:o.positionAbsolute.x-$,y:o.positionAbsolute.y-j}:_e}},getNodesBounds=(o,_=[0,0])=>{if(o.length===0)return{x:0,y:0,width:0,height:0};const $=o.reduce((j,_e)=>{const{x:et,y:tt}=getNodePositionWithOrigin(_e,_).positionAbsolute;return getBoundsOfBoxes(j,rectToBox({x:et,y:tt,width:_e.width||0,height:_e.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return boxToRect($)},getNodesInside=(o,_,[$,j,_e]=[0,0,1],et=!1,tt=!1,nt=[0,0])=>{const it={x:(_.x-$)/_e,y:(_.y-j)/_e,width:_.width/_e,height:_.height/_e},lt=[];return o.forEach(dt=>{const{width:bt,height:Ht,selectable:pr=!0,hidden:_n=!1}=dt;if(tt&&!pr||_n)return!1;const{positionAbsolute:ft}=getNodePositionWithOrigin(dt,nt),Ct={x:ft.x,y:ft.y,width:bt||0,height:Ht||0},mr=getOverlappingArea(it,Ct),_r=typeof bt>"u"||typeof Ht>"u"||bt===null||Ht===null,mn=et&&mr>0,dr=(bt||0)*(Ht||0);(_r||mn||mr>=dr||dt.dragging)&&lt.push(dt)}),lt},getConnectedEdges=(o,_)=>{const $=o.map(j=>j.id);return _.filter(j=>$.includes(j.source)||$.includes(j.target))},getViewportForBounds=(o,_,$,j,_e,et=.1)=>{const tt=_/(o.width*(1+et)),nt=$/(o.height*(1+et)),it=Math.min(tt,nt),lt=clamp$1(it,j,_e),dt=o.x+o.width/2,bt=o.y+o.height/2,Ht=_/2-dt*lt,pr=$/2-bt*lt;return{x:Ht,y:pr,zoom:lt}},getD3Transition=(o,_=0)=>o.transition().duration(_);function getHandles(o,_,$,j){return(_[$]||[]).reduce((_e,et)=>{var tt,nt;return`${o.id}-${et.id}-${$}`!==j&&_e.push({id:et.id||null,type:$,nodeId:o.id,x:(((tt=o.positionAbsolute)==null?void 0:tt.x)??0)+et.x+et.width/2,y:(((nt=o.positionAbsolute)==null?void 0:nt.y)??0)+et.y+et.height/2}),_e},[])}function getClosestHandle(o,_,$,j,_e,et){const{x:tt,y:nt}=getEventPosition(o),lt=_.elementsFromPoint(tt,nt).find(_n=>_n.classList.contains("react-flow__handle"));if(lt){const _n=lt.getAttribute("data-nodeid");if(_n){const ft=getHandleType(void 0,lt),Ct=lt.getAttribute("data-handleid"),mr=et({nodeId:_n,id:Ct,type:ft});if(mr){const _r=_e.find(mn=>mn.nodeId===_n&&mn.type===ft&&mn.id===Ct);return{handle:{id:Ct,type:ft,nodeId:_n,x:(_r==null?void 0:_r.x)||$.x,y:(_r==null?void 0:_r.y)||$.y},validHandleResult:mr}}}}let dt=[],bt=1/0;if(_e.forEach(_n=>{const ft=Math.sqrt((_n.x-$.x)**2+(_n.y-$.y)**2);if(ft<=j){const Ct=et(_n);ft<=bt&&(ft<bt?dt=[{handle:_n,validHandleResult:Ct}]:ft===bt&&dt.push({handle:_n,validHandleResult:Ct}),bt=ft)}}),!dt.length)return{handle:null,validHandleResult:defaultResult()};if(dt.length===1)return dt[0];const Ht=dt.some(({validHandleResult:_n})=>_n.isValid),pr=dt.some(({handle:_n})=>_n.type==="target");return dt.find(({handle:_n,validHandleResult:ft})=>pr?_n.type==="target":Ht?ft.isValid:!0)||dt[0]}const nullConnection={source:null,target:null,sourceHandle:null,targetHandle:null},defaultResult=()=>({handleDomNode:null,isValid:!1,connection:nullConnection,endHandle:null});function isValidHandle(o,_,$,j,_e,et,tt){const nt=_e==="target",it=tt.querySelector(`.react-flow__handle[data-id="${o==null?void 0:o.nodeId}-${o==null?void 0:o.id}-${o==null?void 0:o.type}"]`),lt={...defaultResult(),handleDomNode:it};if(it){const dt=getHandleType(void 0,it),bt=it.getAttribute("data-nodeid"),Ht=it.getAttribute("data-handleid"),pr=it.classList.contains("connectable"),_n=it.classList.contains("connectableend"),ft={source:nt?bt:$,sourceHandle:nt?Ht:j,target:nt?$:bt,targetHandle:nt?j:Ht};lt.connection=ft,pr&&_n&&(_===ConnectionMode.Strict?nt&&dt==="source"||!nt&&dt==="target":bt!==$||Ht!==j)&&(lt.endHandle={nodeId:bt,handleId:Ht,type:dt},lt.isValid=et(ft))}return lt}function getHandleLookup({nodes:o,nodeId:_,handleId:$,handleType:j}){return o.reduce((_e,et)=>{if(et[internalsSymbol]){const{handleBounds:tt}=et[internalsSymbol];let nt=[],it=[];tt&&(nt=getHandles(et,tt,"source",`${_}-${$}-${j}`),it=getHandles(et,tt,"target",`${_}-${$}-${j}`)),_e.push(...nt,...it)}return _e},[])}function getHandleType(o,_){return o||(_!=null&&_.classList.contains("target")?"target":_!=null&&_.classList.contains("source")?"source":null)}function resetRecentHandle(o){o==null||o.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function getConnectionStatus(o,_){let $=null;return _?$="valid":o&&!_&&($="invalid"),$}function handlePointerDown({event:o,handleId:_,nodeId:$,onConnect:j,isTarget:_e,getState:et,setState:tt,isValidConnection:nt,edgeUpdaterType:it,onReconnectEnd:lt}){const dt=getHostForElement(o.target),{connectionMode:bt,domNode:Ht,autoPanOnConnect:pr,connectionRadius:_n,onConnectStart:ft,panBy:Ct,getNodes:mr,cancelConnection:_r}=et();let mn=0,dr;const{x:pn,y:Do}=getEventPosition(o),Io=dt==null?void 0:dt.elementFromPoint(pn,Do),Lo=getHandleType(it,Io),ms=Ht==null?void 0:Ht.getBoundingClientRect();if(!ms||!Lo)return;let Uo,_s=getEventPosition(o,ms),yp=!1,xs=null,vs=!1,Sp=null;const wp=getHandleLookup({nodes:mr(),nodeId:$,handleId:_,handleType:Lo}),bp=()=>{if(!pr)return;const[Ap,Mp]=calcAutoPan(_s,ms);Ct({x:Ap,y:Mp}),mn=requestAnimationFrame(bp)};tt({connectionPosition:_s,connectionStatus:null,connectionNodeId:$,connectionHandleId:_,connectionHandleType:Lo,connectionStartHandle:{nodeId:$,handleId:_,type:Lo},connectionEndHandle:null}),ft==null||ft(o,{nodeId:$,handleId:_,handleType:Lo});function Ep(Ap){const{transform:Mp}=et();_s=getEventPosition(Ap,ms);const{handle:Pp,validHandleResult:Ip}=getClosestHandle(Ap,dt,pointToRendererPoint(_s,Mp,!1,[1,1]),_n,wp,Op=>isValidHandle(Op,bt,$,_,_e?"target":"source",nt,dt));if(dr=Pp,yp||(bp(),yp=!0),Sp=Ip.handleDomNode,xs=Ip.connection,vs=Ip.isValid,tt({connectionPosition:dr&&vs?rendererPointToPoint({x:dr.x,y:dr.y},Mp):_s,connectionStatus:getConnectionStatus(!!dr,vs),connectionEndHandle:Ip.endHandle}),!dr&&!vs&&!Sp)return resetRecentHandle(Uo);xs.source!==xs.target&&Sp&&(resetRecentHandle(Uo),Uo=Sp,Sp.classList.add("connecting","react-flow__handle-connecting"),Sp.classList.toggle("valid",vs),Sp.classList.toggle("react-flow__handle-valid",vs))}function Cp(Ap){var Mp,Pp;(dr||Sp)&&xs&&vs&&(j==null||j(xs)),(Pp=(Mp=et()).onConnectEnd)==null||Pp.call(Mp,Ap),it&&(lt==null||lt(Ap)),resetRecentHandle(Uo),_r(),cancelAnimationFrame(mn),yp=!1,vs=!1,xs=null,Sp=null,dt.removeEventListener("mousemove",Ep),dt.removeEventListener("mouseup",Cp),dt.removeEventListener("touchmove",Ep),dt.removeEventListener("touchend",Cp)}dt.addEventListener("mousemove",Ep),dt.addEventListener("mouseup",Cp),dt.addEventListener("touchmove",Ep),dt.addEventListener("touchend",Cp)}const alwaysValid=()=>!0,selector$f=o=>({connectionStartHandle:o.connectionStartHandle,connectOnClick:o.connectOnClick,noPanClassName:o.noPanClassName}),connectingSelector=(o,_,$)=>j=>{const{connectionStartHandle:_e,connectionEndHandle:et,connectionClickStartHandle:tt}=j;return{connecting:(_e==null?void 0:_e.nodeId)===o&&(_e==null?void 0:_e.handleId)===_&&(_e==null?void 0:_e.type)===$||(et==null?void 0:et.nodeId)===o&&(et==null?void 0:et.handleId)===_&&(et==null?void 0:et.type)===$,clickConnecting:(tt==null?void 0:tt.nodeId)===o&&(tt==null?void 0:tt.handleId)===_&&(tt==null?void 0:tt.type)===$}},Handle=reactExports.forwardRef(({type:o="source",position:_=Position.Top,isValidConnection:$,isConnectable:j=!0,isConnectableStart:_e=!0,isConnectableEnd:et=!0,id:tt,onConnect:nt,children:it,className:lt,onMouseDown:dt,onTouchStart:bt,...Ht},pr)=>{var ms,Uo;const _n=tt||null,ft=o==="target",Ct=useStoreApi(),mr=useNodeId(),{connectOnClick:_r,noPanClassName:mn}=useStore(selector$f,shallow$1),{connecting:dr,clickConnecting:pn}=useStore(connectingSelector(mr,_n,o),shallow$1);mr||(Uo=(ms=Ct.getState()).onError)==null||Uo.call(ms,"010",errorMessages.error010());const Do=_s=>{const{defaultEdgeOptions:yp,onConnect:xs,hasDefaultEdges:vs}=Ct.getState(),Sp={...yp,..._s};if(vs){const{edges:wp,setEdges:bp}=Ct.getState();bp(addEdge(Sp,wp))}xs==null||xs(Sp),nt==null||nt(Sp)},Io=_s=>{if(!mr)return;const yp=isMouseEvent(_s);_e&&(yp&&_s.button===0||!yp)&&handlePointerDown({event:_s,handleId:_n,nodeId:mr,onConnect:Do,isTarget:ft,getState:Ct.getState,setState:Ct.setState,isValidConnection:$||Ct.getState().isValidConnection||alwaysValid}),yp?dt==null||dt(_s):bt==null||bt(_s)},Lo=_s=>{const{onClickConnectStart:yp,onClickConnectEnd:xs,connectionClickStartHandle:vs,connectionMode:Sp,isValidConnection:wp}=Ct.getState();if(!mr||!vs&&!_e)return;if(!vs){yp==null||yp(_s,{nodeId:mr,handleId:_n,handleType:o}),Ct.setState({connectionClickStartHandle:{nodeId:mr,type:o,handleId:_n}});return}const bp=getHostForElement(_s.target),Ep=$||wp||alwaysValid,{connection:Cp,isValid:Ap}=isValidHandle({nodeId:mr,id:_n,type:o},Sp,vs.nodeId,vs.handleId||null,vs.type,Ep,bp);Ap&&Do(Cp),xs==null||xs(_s),Ct.setState({connectionClickStartHandle:null})};return React.createElement("div",{"data-handleid":_n,"data-nodeid":mr,"data-handlepos":_,"data-id":`${mr}-${_n}-${o}`,className:cc$1(["react-flow__handle",`react-flow__handle-${_}`,"nodrag",mn,lt,{source:!ft,target:ft,connectable:j,connectablestart:_e,connectableend:et,connecting:pn,connectionindicator:j&&(_e&&!dr||et&&dr)}]),onMouseDown:Io,onTouchStart:Io,onClick:_r?Lo:void 0,ref:pr,...Ht},it)});Handle.displayName="Handle";var Handle$1=reactExports.memo(Handle);const DefaultNode=({data:o,isConnectable:_,targetPosition:$=Position.Top,sourcePosition:j=Position.Bottom})=>React.createElement(React.Fragment,null,React.createElement(Handle$1,{type:"target",position:$,isConnectable:_}),o==null?void 0:o.label,React.createElement(Handle$1,{type:"source",position:j,isConnectable:_}));DefaultNode.displayName="DefaultNode";var DefaultNode$1=reactExports.memo(DefaultNode);const InputNode=({data:o,isConnectable:_,sourcePosition:$=Position.Bottom})=>React.createElement(React.Fragment,null,o==null?void 0:o.label,React.createElement(Handle$1,{type:"source",position:$,isConnectable:_}));InputNode.displayName="InputNode";var InputNode$1=reactExports.memo(InputNode);const OutputNode=({data:o,isConnectable:_,targetPosition:$=Position.Top})=>React.createElement(React.Fragment,null,React.createElement(Handle$1,{type:"target",position:$,isConnectable:_}),o==null?void 0:o.label);OutputNode.displayName="OutputNode";var OutputNode$1=reactExports.memo(OutputNode);const GroupNode=()=>null;GroupNode.displayName="GroupNode";const selector$e=o=>({selectedNodes:o.getNodes().filter(_=>_.selected),selectedEdges:o.edges.filter(_=>_.selected).map(_=>({..._}))}),selectId=o=>o.id;function areEqual(o,_){return shallow$1(o.selectedNodes.map(selectId),_.selectedNodes.map(selectId))&&shallow$1(o.selectedEdges.map(selectId),_.selectedEdges.map(selectId))}const SelectionListener=reactExports.memo(({onSelectionChange:o})=>{const _=useStoreApi(),{selectedNodes:$,selectedEdges:j}=useStore(selector$e,areEqual);return reactExports.useEffect(()=>{const _e={nodes:$,edges:j};o==null||o(_e),_.getState().onSelectionChange.forEach(et=>et(_e))},[$,j,o]),null});SelectionListener.displayName="SelectionListener";const changeSelector=o=>!!o.onSelectionChange;function Wrapper$1({onSelectionChange:o}){const _=useStore(changeSelector);return o||_?React.createElement(SelectionListener,{onSelectionChange:o}):null}const selector$d=o=>({setNodes:o.setNodes,setEdges:o.setEdges,setDefaultNodesAndEdges:o.setDefaultNodesAndEdges,setMinZoom:o.setMinZoom,setMaxZoom:o.setMaxZoom,setTranslateExtent:o.setTranslateExtent,setNodeExtent:o.setNodeExtent,reset:o.reset});function useStoreUpdater(o,_){reactExports.useEffect(()=>{typeof o<"u"&&_(o)},[o])}function useDirectStoreUpdater(o,_,$){reactExports.useEffect(()=>{typeof _<"u"&&$({[o]:_})},[_])}const StoreUpdater=({nodes:o,edges:_,defaultNodes:$,defaultEdges:j,onConnect:_e,onConnectStart:et,onConnectEnd:tt,onClickConnectStart:nt,onClickConnectEnd:it,nodesDraggable:lt,nodesConnectable:dt,nodesFocusable:bt,edgesFocusable:Ht,edgesUpdatable:pr,elevateNodesOnSelect:_n,minZoom:ft,maxZoom:Ct,nodeExtent:mr,onNodesChange:_r,onEdgesChange:mn,elementsSelectable:dr,connectionMode:pn,snapGrid:Do,snapToGrid:Io,translateExtent:Lo,connectOnClick:ms,defaultEdgeOptions:Uo,fitView:_s,fitViewOptions:yp,onNodesDelete:xs,onEdgesDelete:vs,onNodeDrag:Sp,onNodeDragStart:wp,onNodeDragStop:bp,onSelectionDrag:Ep,onSelectionDragStart:Cp,onSelectionDragStop:Ap,noPanClassName:Mp,nodeOrigin:Pp,rfId:Ip,autoPanOnConnect:Op,autoPanOnNodeDrag:Wp,onError:Yp,connectionRadius:Zp,isValidConnection:Qp,nodeDragThreshold:Gp})=>{const{setNodes:rm,setEdges:Jp,setDefaultNodesAndEdges:Up,setMinZoom:im,setMaxZoom:em,setTranslateExtent:gm,setNodeExtent:bm,reset:ym}=useStore(selector$d,shallow$1),am=useStoreApi();return reactExports.useEffect(()=>{const fm=j==null?void 0:j.map(vm=>({...vm,...Uo}));return Up($,fm),()=>{ym()}},[]),useDirectStoreUpdater("defaultEdgeOptions",Uo,am.setState),useDirectStoreUpdater("connectionMode",pn,am.setState),useDirectStoreUpdater("onConnect",_e,am.setState),useDirectStoreUpdater("onConnectStart",et,am.setState),useDirectStoreUpdater("onConnectEnd",tt,am.setState),useDirectStoreUpdater("onClickConnectStart",nt,am.setState),useDirectStoreUpdater("onClickConnectEnd",it,am.setState),useDirectStoreUpdater("nodesDraggable",lt,am.setState),useDirectStoreUpdater("nodesConnectable",dt,am.setState),useDirectStoreUpdater("nodesFocusable",bt,am.setState),useDirectStoreUpdater("edgesFocusable",Ht,am.setState),useDirectStoreUpdater("edgesUpdatable",pr,am.setState),useDirectStoreUpdater("elementsSelectable",dr,am.setState),useDirectStoreUpdater("elevateNodesOnSelect",_n,am.setState),useDirectStoreUpdater("snapToGrid",Io,am.setState),useDirectStoreUpdater("snapGrid",Do,am.setState),useDirectStoreUpdater("onNodesChange",_r,am.setState),useDirectStoreUpdater("onEdgesChange",mn,am.setState),useDirectStoreUpdater("connectOnClick",ms,am.setState),useDirectStoreUpdater("fitViewOnInit",_s,am.setState),useDirectStoreUpdater("fitViewOnInitOptions",yp,am.setState),useDirectStoreUpdater("onNodesDelete",xs,am.setState),useDirectStoreUpdater("onEdgesDelete",vs,am.setState),useDirectStoreUpdater("onNodeDrag",Sp,am.setState),useDirectStoreUpdater("onNodeDragStart",wp,am.setState),useDirectStoreUpdater("onNodeDragStop",bp,am.setState),useDirectStoreUpdater("onSelectionDrag",Ep,am.setState),useDirectStoreUpdater("onSelectionDragStart",Cp,am.setState),useDirectStoreUpdater("onSelectionDragStop",Ap,am.setState),useDirectStoreUpdater("noPanClassName",Mp,am.setState),useDirectStoreUpdater("nodeOrigin",Pp,am.setState),useDirectStoreUpdater("rfId",Ip,am.setState),useDirectStoreUpdater("autoPanOnConnect",Op,am.setState),useDirectStoreUpdater("autoPanOnNodeDrag",Wp,am.setState),useDirectStoreUpdater("onError",Yp,am.setState),useDirectStoreUpdater("connectionRadius",Zp,am.setState),useDirectStoreUpdater("isValidConnection",Qp,am.setState),useDirectStoreUpdater("nodeDragThreshold",Gp,am.setState),useStoreUpdater(o,rm),useStoreUpdater(_,Jp),useStoreUpdater(ft,im),useStoreUpdater(Ct,em),useStoreUpdater(Lo,gm),useStoreUpdater(mr,bm),null},style={display:"none"},ariaLiveStyle={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},ARIA_NODE_DESC_KEY="react-flow__node-desc",ARIA_EDGE_DESC_KEY="react-flow__edge-desc",ARIA_LIVE_MESSAGE="react-flow__aria-live",selector$c=o=>o.ariaLiveMessage;function AriaLiveMessage({rfId:o}){const _=useStore(selector$c);return React.createElement("div",{id:`${ARIA_LIVE_MESSAGE}-${o}`,"aria-live":"assertive","aria-atomic":"true",style:ariaLiveStyle},_)}function A11yDescriptions({rfId:o,disableKeyboardA11y:_}){return React.createElement(React.Fragment,null,React.createElement("div",{id:`${ARIA_NODE_DESC_KEY}-${o}`,style},"Press enter or space to select a node.",!_&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),React.createElement("div",{id:`${ARIA_EDGE_DESC_KEY}-${o}`,style},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!_&&React.createElement(AriaLiveMessage,{rfId:o}))}var useKeyPress=(o=null,_={actInsideInputWithModifier:!0})=>{const[$,j]=reactExports.useState(!1),_e=reactExports.useRef(!1),et=reactExports.useRef(new Set([])),[tt,nt]=reactExports.useMemo(()=>{if(o!==null){const lt=(Array.isArray(o)?o:[o]).filter(bt=>typeof bt=="string").map(bt=>bt.split("+")),dt=lt.reduce((bt,Ht)=>bt.concat(...Ht),[]);return[lt,dt]}return[[],[]]},[o]);return reactExports.useEffect(()=>{const it=typeof document<"u"?document:null,lt=(_==null?void 0:_.target)||it;if(o!==null){const dt=pr=>{if(_e.current=pr.ctrlKey||pr.metaKey||pr.shiftKey,(!_e.current||_e.current&&!_.actInsideInputWithModifier)&&isInputDOMNode(pr))return!1;const ft=useKeyOrCode(pr.code,nt);et.current.add(pr[ft]),isMatchingKey(tt,et.current,!1)&&(pr.preventDefault(),j(!0))},bt=pr=>{if((!_e.current||_e.current&&!_.actInsideInputWithModifier)&&isInputDOMNode(pr))return!1;const ft=useKeyOrCode(pr.code,nt);isMatchingKey(tt,et.current,!0)?(j(!1),et.current.clear()):et.current.delete(pr[ft]),pr.key==="Meta"&&et.current.clear(),_e.current=!1},Ht=()=>{et.current.clear(),j(!1)};return lt==null||lt.addEventListener("keydown",dt),lt==null||lt.addEventListener("keyup",bt),window.addEventListener("blur",Ht),()=>{lt==null||lt.removeEventListener("keydown",dt),lt==null||lt.removeEventListener("keyup",bt),window.removeEventListener("blur",Ht)}}},[o,j]),$};function isMatchingKey(o,_,$){return o.filter(j=>$||j.length===_.size).some(j=>j.every(_e=>_.has(_e)))}function useKeyOrCode(o,_){return _.includes(o)?"code":"key"}function calculateXYZPosition(o,_,$,j){var nt,it;const _e=o.parentNode||o.parentId;if(!_e)return $;const et=_.get(_e),tt=getNodePositionWithOrigin(et,j);return calculateXYZPosition(et,_,{x:($.x??0)+tt.x,y:($.y??0)+tt.y,z:(((nt=et[internalsSymbol])==null?void 0:nt.z)??0)>($.z??0)?((it=et[internalsSymbol])==null?void 0:it.z)??0:$.z??0},j)}function updateAbsoluteNodePositions(o,_,$){o.forEach(j=>{var et;const _e=j.parentNode||j.parentId;if(_e&&!o.has(_e))throw new Error(`Parent node ${_e} not found`);if(_e||$!=null&&$[j.id]){const{x:tt,y:nt,z:it}=calculateXYZPosition(j,o,{...j.position,z:((et=j[internalsSymbol])==null?void 0:et.z)??0},_);j.positionAbsolute={x:tt,y:nt},j[internalsSymbol].z=it,$!=null&&$[j.id]&&(j[internalsSymbol].isParent=!0)}})}function createNodeInternals(o,_,$,j){const _e=new Map,et={},tt=j?1e3:0;return o.forEach(nt=>{var pr;const it=(isNumeric(nt.zIndex)?nt.zIndex:0)+(nt.selected?tt:0),lt=_.get(nt.id),dt={...nt,positionAbsolute:{x:nt.position.x,y:nt.position.y}},bt=nt.parentNode||nt.parentId;bt&&(et[bt]=!0);const Ht=(lt==null?void 0:lt.type)&&(lt==null?void 0:lt.type)!==nt.type;Object.defineProperty(dt,internalsSymbol,{enumerable:!1,value:{handleBounds:Ht||(pr=lt==null?void 0:lt[internalsSymbol])==null?void 0:pr.handleBounds,z:it}}),_e.set(nt.id,dt)}),updateAbsoluteNodePositions(_e,$,et),_e}function fitView(o,_={}){const{getNodes:$,width:j,height:_e,minZoom:et,maxZoom:tt,d3Zoom:nt,d3Selection:it,fitViewOnInitDone:lt,fitViewOnInit:dt,nodeOrigin:bt}=o(),Ht=_.initial&&!lt&&dt;if(nt&&it&&(Ht||!_.initial)){const _n=$().filter(Ct=>{var _r;const mr=_.includeHiddenNodes?Ct.width&&Ct.height:!Ct.hidden;return(_r=_.nodes)!=null&&_r.length?mr&&_.nodes.some(mn=>mn.id===Ct.id):mr}),ft=_n.every(Ct=>Ct.width&&Ct.height);if(_n.length>0&&ft){const Ct=getNodesBounds(_n,bt),{x:mr,y:_r,zoom:mn}=getViewportForBounds(Ct,j,_e,_.minZoom??et,_.maxZoom??tt,_.padding??.1),dr=identity$c.translate(mr,_r).scale(mn);return typeof _.duration=="number"&&_.duration>0?nt.transform(getD3Transition(it,_.duration),dr):nt.transform(it,dr),!0}}return!1}function handleControlledNodeSelectionChange(o,_){return o.forEach($=>{const j=_.get($.id);j&&_.set(j.id,{...j,[internalsSymbol]:j[internalsSymbol],selected:$.selected})}),new Map(_)}function handleControlledEdgeSelectionChange(o,_){return _.map($=>{const j=o.find(_e=>_e.id===$.id);return j&&($.selected=j.selected),$})}function updateNodesAndEdgesSelections({changedNodes:o,changedEdges:_,get:$,set:j}){const{nodeInternals:_e,edges:et,onNodesChange:tt,onEdgesChange:nt,hasDefaultNodes:it,hasDefaultEdges:lt}=$();o!=null&&o.length&&(it&&j({nodeInternals:handleControlledNodeSelectionChange(o,_e)}),tt==null||tt(o)),_!=null&&_.length&&(lt&&j({edges:handleControlledEdgeSelectionChange(_,et)}),nt==null||nt(_))}const noop$3=()=>{},initialViewportHelper={zoomIn:noop$3,zoomOut:noop$3,zoomTo:noop$3,getZoom:()=>1,setViewport:noop$3,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:noop$3,fitBounds:noop$3,project:o=>o,screenToFlowPosition:o=>o,flowToScreenPosition:o=>o,viewportInitialized:!1},selector$b=o=>({d3Zoom:o.d3Zoom,d3Selection:o.d3Selection}),useViewportHelper=()=>{const o=useStoreApi(),{d3Zoom:_,d3Selection:$}=useStore(selector$b,shallow$1);return reactExports.useMemo(()=>$&&_?{zoomIn:_e=>_.scaleBy(getD3Transition($,_e==null?void 0:_e.duration),1.2),zoomOut:_e=>_.scaleBy(getD3Transition($,_e==null?void 0:_e.duration),1/1.2),zoomTo:(_e,et)=>_.scaleTo(getD3Transition($,et==null?void 0:et.duration),_e),getZoom:()=>o.getState().transform[2],setViewport:(_e,et)=>{const[tt,nt,it]=o.getState().transform,lt=identity$c.translate(_e.x??tt,_e.y??nt).scale(_e.zoom??it);_.transform(getD3Transition($,et==null?void 0:et.duration),lt)},getViewport:()=>{const[_e,et,tt]=o.getState().transform;return{x:_e,y:et,zoom:tt}},fitView:_e=>fitView(o.getState,_e),setCenter:(_e,et,tt)=>{const{width:nt,height:it,maxZoom:lt}=o.getState(),dt=typeof(tt==null?void 0:tt.zoom)<"u"?tt.zoom:lt,bt=nt/2-_e*dt,Ht=it/2-et*dt,pr=identity$c.translate(bt,Ht).scale(dt);_.transform(getD3Transition($,tt==null?void 0:tt.duration),pr)},fitBounds:(_e,et)=>{const{width:tt,height:nt,minZoom:it,maxZoom:lt}=o.getState(),{x:dt,y:bt,zoom:Ht}=getViewportForBounds(_e,tt,nt,it,lt,(et==null?void 0:et.padding)??.1),pr=identity$c.translate(dt,bt).scale(Ht);_.transform(getD3Transition($,et==null?void 0:et.duration),pr)},project:_e=>{const{transform:et,snapToGrid:tt,snapGrid:nt}=o.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),pointToRendererPoint(_e,et,tt,nt)},screenToFlowPosition:_e=>{const{transform:et,snapToGrid:tt,snapGrid:nt,domNode:it}=o.getState();if(!it)return _e;const{x:lt,y:dt}=it.getBoundingClientRect(),bt={x:_e.x-lt,y:_e.y-dt};return pointToRendererPoint(bt,et,tt,nt)},flowToScreenPosition:_e=>{const{transform:et,domNode:tt}=o.getState();if(!tt)return _e;const{x:nt,y:it}=tt.getBoundingClientRect(),lt=rendererPointToPoint(_e,et);return{x:lt.x+nt,y:lt.y+it}},viewportInitialized:!0}:initialViewportHelper,[_,$])};function useReactFlow(){const o=useViewportHelper(),_=useStoreApi(),$=reactExports.useCallback(()=>_.getState().getNodes().map(ft=>({...ft})),[]),j=reactExports.useCallback(ft=>_.getState().nodeInternals.get(ft),[]),_e=reactExports.useCallback(()=>{const{edges:ft=[]}=_.getState();return ft.map(Ct=>({...Ct}))},[]),et=reactExports.useCallback(ft=>{const{edges:Ct=[]}=_.getState();return Ct.find(mr=>mr.id===ft)},[]),tt=reactExports.useCallback(ft=>{const{getNodes:Ct,setNodes:mr,hasDefaultNodes:_r,onNodesChange:mn}=_.getState(),dr=Ct(),pn=typeof ft=="function"?ft(dr):ft;if(_r)mr(pn);else if(mn){const Do=pn.length===0?dr.map(Io=>({type:"remove",id:Io.id})):pn.map(Io=>({item:Io,type:"reset"}));mn(Do)}},[]),nt=reactExports.useCallback(ft=>{const{edges:Ct=[],setEdges:mr,hasDefaultEdges:_r,onEdgesChange:mn}=_.getState(),dr=typeof ft=="function"?ft(Ct):ft;if(_r)mr(dr);else if(mn){const pn=dr.length===0?Ct.map(Do=>({type:"remove",id:Do.id})):dr.map(Do=>({item:Do,type:"reset"}));mn(pn)}},[]),it=reactExports.useCallback(ft=>{const Ct=Array.isArray(ft)?ft:[ft],{getNodes:mr,setNodes:_r,hasDefaultNodes:mn,onNodesChange:dr}=_.getState();if(mn){const Do=[...mr(),...Ct];_r(Do)}else if(dr){const pn=Ct.map(Do=>({item:Do,type:"add"}));dr(pn)}},[]),lt=reactExports.useCallback(ft=>{const Ct=Array.isArray(ft)?ft:[ft],{edges:mr=[],setEdges:_r,hasDefaultEdges:mn,onEdgesChange:dr}=_.getState();if(mn)_r([...mr,...Ct]);else if(dr){const pn=Ct.map(Do=>({item:Do,type:"add"}));dr(pn)}},[]),dt=reactExports.useCallback(()=>{const{getNodes:ft,edges:Ct=[],transform:mr}=_.getState(),[_r,mn,dr]=mr;return{nodes:ft().map(pn=>({...pn})),edges:Ct.map(pn=>({...pn})),viewport:{x:_r,y:mn,zoom:dr}}},[]),bt=reactExports.useCallback(({nodes:ft,edges:Ct})=>{const{nodeInternals:mr,getNodes:_r,edges:mn,hasDefaultNodes:dr,hasDefaultEdges:pn,onNodesDelete:Do,onEdgesDelete:Io,onNodesChange:Lo,onEdgesChange:ms}=_.getState(),Uo=(ft||[]).map(Sp=>Sp.id),_s=(Ct||[]).map(Sp=>Sp.id),yp=_r().reduce((Sp,wp)=>{const bp=wp.parentNode||wp.parentId,Ep=!Uo.includes(wp.id)&&bp&&Sp.find(Ap=>Ap.id===bp);return(typeof wp.deletable=="boolean"?wp.deletable:!0)&&(Uo.includes(wp.id)||Ep)&&Sp.push(wp),Sp},[]),xs=mn.filter(Sp=>typeof Sp.deletable=="boolean"?Sp.deletable:!0),vs=xs.filter(Sp=>_s.includes(Sp.id));if(yp||vs){const Sp=getConnectedEdges(yp,xs),wp=[...vs,...Sp],bp=wp.reduce((Ep,Cp)=>(Ep.includes(Cp.id)||Ep.push(Cp.id),Ep),[]);if((pn||dr)&&(pn&&_.setState({edges:mn.filter(Ep=>!bp.includes(Ep.id))}),dr&&(yp.forEach(Ep=>{mr.delete(Ep.id)}),_.setState({nodeInternals:new Map(mr)}))),bp.length>0&&(Io==null||Io(wp),ms&&ms(bp.map(Ep=>({id:Ep,type:"remove"})))),yp.length>0&&(Do==null||Do(yp),Lo)){const Ep=yp.map(Cp=>({id:Cp.id,type:"remove"}));Lo(Ep)}}},[]),Ht=reactExports.useCallback(ft=>{const Ct=isRectObject(ft),mr=Ct?null:_.getState().nodeInternals.get(ft.id);return!Ct&&!mr?[null,null,Ct]:[Ct?ft:nodeToRect(mr),mr,Ct]},[]),pr=reactExports.useCallback((ft,Ct=!0,mr)=>{const[_r,mn,dr]=Ht(ft);return _r?(mr||_.getState().getNodes()).filter(pn=>{if(!dr&&(pn.id===mn.id||!pn.positionAbsolute))return!1;const Do=nodeToRect(pn),Io=getOverlappingArea(Do,_r);return Ct&&Io>0||Io>=_r.width*_r.height}):[]},[]),_n=reactExports.useCallback((ft,Ct,mr=!0)=>{const[_r]=Ht(ft);if(!_r)return!1;const mn=getOverlappingArea(_r,Ct);return mr&&mn>0||mn>=_r.width*_r.height},[]);return reactExports.useMemo(()=>({...o,getNodes:$,getNode:j,getEdges:_e,getEdge:et,setNodes:tt,setEdges:nt,addNodes:it,addEdges:lt,toObject:dt,deleteElements:bt,getIntersectingNodes:pr,isNodeIntersecting:_n}),[o,$,j,_e,et,tt,nt,it,lt,dt,bt,pr,_n])}const deleteKeyOptions={actInsideInputWithModifier:!1};var useGlobalKeyHandler=({deleteKeyCode:o,multiSelectionKeyCode:_})=>{const $=useStoreApi(),{deleteElements:j}=useReactFlow(),_e=useKeyPress(o,deleteKeyOptions),et=useKeyPress(_);reactExports.useEffect(()=>{if(_e){const{edges:tt,getNodes:nt}=$.getState(),it=nt().filter(dt=>dt.selected),lt=tt.filter(dt=>dt.selected);j({nodes:it,edges:lt}),$.setState({nodesSelectionActive:!1})}},[_e]),reactExports.useEffect(()=>{$.setState({multiSelectionActive:et})},[et])};function useResizeHandler(o){const _=useStoreApi();reactExports.useEffect(()=>{let $;const j=()=>{var et,tt;if(!o.current)return;const _e=getDimensions$1(o.current);(_e.height===0||_e.width===0)&&((tt=(et=_.getState()).onError)==null||tt.call(et,"004",errorMessages.error004())),_.setState({width:_e.width||500,height:_e.height||500})};return j(),window.addEventListener("resize",j),o.current&&($=new ResizeObserver(()=>j()),$.observe(o.current)),()=>{window.removeEventListener("resize",j),$&&o.current&&$.unobserve(o.current)}},[])}const containerStyle={position:"absolute",width:"100%",height:"100%",top:0,left:0},viewChanged=(o,_)=>o.x!==_.x||o.y!==_.y||o.zoom!==_.k,eventToFlowTransform=o=>({x:o.x,y:o.y,zoom:o.k}),isWrappedWithClass=(o,_)=>o.target.closest(`.${_}`),isRightClickPan=(o,_)=>_===2&&Array.isArray(o)&&o.includes(2),wheelDelta=o=>{const _=o.ctrlKey&&isMacOs()?10:1;return-o.deltaY*(o.deltaMode===1?.05:o.deltaMode?1:.002)*_},selector$a=o=>({d3Zoom:o.d3Zoom,d3Selection:o.d3Selection,d3ZoomHandler:o.d3ZoomHandler,userSelectionActive:o.userSelectionActive}),ZoomPane=({onMove:o,onMoveStart:_,onMoveEnd:$,onPaneContextMenu:j,zoomOnScroll:_e=!0,zoomOnPinch:et=!0,panOnScroll:tt=!1,panOnScrollSpeed:nt=.5,panOnScrollMode:it=PanOnScrollMode.Free,zoomOnDoubleClick:lt=!0,elementsSelectable:dt,panOnDrag:bt=!0,defaultViewport:Ht,translateExtent:pr,minZoom:_n,maxZoom:ft,zoomActivationKeyCode:Ct,preventScrolling:mr=!0,children:_r,noWheelClassName:mn,noPanClassName:dr})=>{const pn=reactExports.useRef(),Do=useStoreApi(),Io=reactExports.useRef(!1),Lo=reactExports.useRef(!1),ms=reactExports.useRef(null),Uo=reactExports.useRef({x:0,y:0,zoom:0}),{d3Zoom:_s,d3Selection:yp,d3ZoomHandler:xs,userSelectionActive:vs}=useStore(selector$a,shallow$1),Sp=useKeyPress(Ct),wp=reactExports.useRef(0),bp=reactExports.useRef(!1),Ep=reactExports.useRef();return useResizeHandler(ms),reactExports.useEffect(()=>{if(ms.current){const Cp=ms.current.getBoundingClientRect(),Ap=zoom().scaleExtent([_n,ft]).translateExtent(pr),Mp=select(ms.current).call(Ap),Pp=identity$c.translate(Ht.x,Ht.y).scale(clamp$1(Ht.zoom,_n,ft)),Ip=[[0,0],[Cp.width,Cp.height]],Op=Ap.constrain()(Pp,Ip,pr);Ap.transform(Mp,Op),Ap.wheelDelta(wheelDelta),Do.setState({d3Zoom:Ap,d3Selection:Mp,d3ZoomHandler:Mp.on("wheel.zoom"),transform:[Op.x,Op.y,Op.k],domNode:ms.current.closest(".react-flow")})}},[]),reactExports.useEffect(()=>{yp&&_s&&(tt&&!Sp&&!vs?yp.on("wheel.zoom",Cp=>{if(isWrappedWithClass(Cp,mn))return!1;Cp.preventDefault(),Cp.stopImmediatePropagation();const Ap=yp.property("__zoom").k||1;if(Cp.ctrlKey&&et){const Qp=pointer(Cp),Gp=wheelDelta(Cp),rm=Ap*Math.pow(2,Gp);_s.scaleTo(yp,rm,Qp,Cp);return}const Mp=Cp.deltaMode===1?20:1;let Pp=it===PanOnScrollMode.Vertical?0:Cp.deltaX*Mp,Ip=it===PanOnScrollMode.Horizontal?0:Cp.deltaY*Mp;!isMacOs()&&Cp.shiftKey&&it!==PanOnScrollMode.Vertical&&(Pp=Cp.deltaY*Mp,Ip=0),_s.translateBy(yp,-(Pp/Ap)*nt,-(Ip/Ap)*nt,{internal:!0});const Op=eventToFlowTransform(yp.property("__zoom")),{onViewportChangeStart:Wp,onViewportChange:Yp,onViewportChangeEnd:Zp}=Do.getState();clearTimeout(Ep.current),bp.current||(bp.current=!0,_==null||_(Cp,Op),Wp==null||Wp(Op)),bp.current&&(o==null||o(Cp,Op),Yp==null||Yp(Op),Ep.current=setTimeout(()=>{$==null||$(Cp,Op),Zp==null||Zp(Op),bp.current=!1},150))},{passive:!1}):typeof xs<"u"&&yp.on("wheel.zoom",function(Cp,Ap){if(!mr&&Cp.type==="wheel"&&!Cp.ctrlKey||isWrappedWithClass(Cp,mn))return null;Cp.preventDefault(),xs.call(this,Cp,Ap)},{passive:!1}))},[vs,tt,it,yp,_s,xs,Sp,et,mr,mn,_,o,$]),reactExports.useEffect(()=>{_s&&_s.on("start",Cp=>{var Pp,Ip;if(!Cp.sourceEvent||Cp.sourceEvent.internal)return null;wp.current=(Pp=Cp.sourceEvent)==null?void 0:Pp.button;const{onViewportChangeStart:Ap}=Do.getState(),Mp=eventToFlowTransform(Cp.transform);Io.current=!0,Uo.current=Mp,((Ip=Cp.sourceEvent)==null?void 0:Ip.type)==="mousedown"&&Do.setState({paneDragging:!0}),Ap==null||Ap(Mp),_==null||_(Cp.sourceEvent,Mp)})},[_s,_]),reactExports.useEffect(()=>{_s&&(vs&&!Io.current?_s.on("zoom",null):vs||_s.on("zoom",Cp=>{var Mp;const{onViewportChange:Ap}=Do.getState();if(Do.setState({transform:[Cp.transform.x,Cp.transform.y,Cp.transform.k]}),Lo.current=!!(j&&isRightClickPan(bt,wp.current??0)),(o||Ap)&&!((Mp=Cp.sourceEvent)!=null&&Mp.internal)){const Pp=eventToFlowTransform(Cp.transform);Ap==null||Ap(Pp),o==null||o(Cp.sourceEvent,Pp)}}))},[vs,_s,o,bt,j]),reactExports.useEffect(()=>{_s&&_s.on("end",Cp=>{if(!Cp.sourceEvent||Cp.sourceEvent.internal)return null;const{onViewportChangeEnd:Ap}=Do.getState();if(Io.current=!1,Do.setState({paneDragging:!1}),j&&isRightClickPan(bt,wp.current??0)&&!Lo.current&&j(Cp.sourceEvent),Lo.current=!1,($||Ap)&&viewChanged(Uo.current,Cp.transform)){const Mp=eventToFlowTransform(Cp.transform);Uo.current=Mp,clearTimeout(pn.current),pn.current=setTimeout(()=>{Ap==null||Ap(Mp),$==null||$(Cp.sourceEvent,Mp)},tt?150:0)}})},[_s,tt,bt,$,j]),reactExports.useEffect(()=>{_s&&_s.filter(Cp=>{const Ap=Sp||_e,Mp=et&&Cp.ctrlKey;if((bt===!0||Array.isArray(bt)&&bt.includes(1))&&Cp.button===1&&Cp.type==="mousedown"&&(isWrappedWithClass(Cp,"react-flow__node")||isWrappedWithClass(Cp,"react-flow__edge")))return!0;if(!bt&&!Ap&&!tt&&!lt&&!et||vs||!lt&&Cp.type==="dblclick"||isWrappedWithClass(Cp,mn)&&Cp.type==="wheel"||isWrappedWithClass(Cp,dr)&&(Cp.type!=="wheel"||tt&&Cp.type==="wheel"&&!Sp)||!et&&Cp.ctrlKey&&Cp.type==="wheel"||!Ap&&!tt&&!Mp&&Cp.type==="wheel"||!bt&&(Cp.type==="mousedown"||Cp.type==="touchstart")||Array.isArray(bt)&&!bt.includes(Cp.button)&&Cp.type==="mousedown")return!1;const Pp=Array.isArray(bt)&&bt.includes(Cp.button)||!Cp.button||Cp.button<=1;return(!Cp.ctrlKey||Cp.type==="wheel")&&Pp})},[vs,_s,_e,et,tt,lt,bt,dt,Sp]),React.createElement("div",{className:"react-flow__renderer",ref:ms,style:containerStyle},_r)},selector$9=o=>({userSelectionActive:o.userSelectionActive,userSelectionRect:o.userSelectionRect});function UserSelection(){const{userSelectionActive:o,userSelectionRect:_}=useStore(selector$9,shallow$1);return o&&_?React.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:_.width,height:_.height,transform:`translate(${_.x}px, ${_.y}px)`}}):null}function handleParentExpand(o,_){const $=_.parentNode||_.parentId,j=o.find(_e=>_e.id===$);if(j){const _e=_.position.x+_.width-j.width,et=_.position.y+_.height-j.height;if(_e>0||et>0||_.position.x<0||_.position.y<0){if(j.style={...j.style},j.style.width=j.style.width??j.width,j.style.height=j.style.height??j.height,_e>0&&(j.style.width+=_e),et>0&&(j.style.height+=et),_.position.x<0){const tt=Math.abs(_.position.x);j.position.x=j.position.x-tt,j.style.width+=tt,_.position.x=0}if(_.position.y<0){const tt=Math.abs(_.position.y);j.position.y=j.position.y-tt,j.style.height+=tt,_.position.y=0}j.width=j.style.width,j.height=j.style.height}}}function applyChanges(o,_){if(o.some(j=>j.type==="reset"))return o.filter(j=>j.type==="reset").map(j=>j.item);const $=o.filter(j=>j.type==="add").map(j=>j.item);return _.reduce((j,_e)=>{const et=o.filter(nt=>nt.id===_e.id);if(et.length===0)return j.push(_e),j;const tt={..._e};for(const nt of et)if(nt)switch(nt.type){case"select":{tt.selected=nt.selected;break}case"position":{typeof nt.position<"u"&&(tt.position=nt.position),typeof nt.positionAbsolute<"u"&&(tt.positionAbsolute=nt.positionAbsolute),typeof nt.dragging<"u"&&(tt.dragging=nt.dragging),tt.expandParent&&handleParentExpand(j,tt);break}case"dimensions":{typeof nt.dimensions<"u"&&(tt.width=nt.dimensions.width,tt.height=nt.dimensions.height),typeof nt.updateStyle<"u"&&(tt.style={...tt.style||{},...nt.dimensions}),typeof nt.resizing=="boolean"&&(tt.resizing=nt.resizing),tt.expandParent&&handleParentExpand(j,tt);break}case"remove":return j}return j.push(tt),j},$)}function applyNodeChanges(o,_){return applyChanges(o,_)}function applyEdgeChanges(o,_){return applyChanges(o,_)}const createSelectionChange=(o,_)=>({id:o,type:"select",selected:_});function getSelectionChanges(o,_){return o.reduce(($,j)=>{const _e=_.includes(j.id);return!j.selected&&_e?(j.selected=!0,$.push(createSelectionChange(j.id,!0))):j.selected&&!_e&&(j.selected=!1,$.push(createSelectionChange(j.id,!1))),$},[])}const wrapHandler=(o,_)=>$=>{$.target===_.current&&(o==null||o($))},selector$8=o=>({userSelectionActive:o.userSelectionActive,elementsSelectable:o.elementsSelectable,dragging:o.paneDragging}),Pane=reactExports.memo(({isSelecting:o,selectionMode:_=SelectionMode.Full,panOnDrag:$,onSelectionStart:j,onSelectionEnd:_e,onPaneClick:et,onPaneContextMenu:tt,onPaneScroll:nt,onPaneMouseEnter:it,onPaneMouseMove:lt,onPaneMouseLeave:dt,children:bt})=>{const Ht=reactExports.useRef(null),pr=useStoreApi(),_n=reactExports.useRef(0),ft=reactExports.useRef(0),Ct=reactExports.useRef(),{userSelectionActive:mr,elementsSelectable:_r,dragging:mn}=useStore(selector$8,shallow$1),dr=()=>{pr.setState({userSelectionActive:!1,userSelectionRect:null}),_n.current=0,ft.current=0},pn=xs=>{et==null||et(xs),pr.getState().resetSelectedElements(),pr.setState({nodesSelectionActive:!1})},Do=xs=>{if(Array.isArray($)&&($!=null&&$.includes(2))){xs.preventDefault();return}tt==null||tt(xs)},Io=nt?xs=>nt(xs):void 0,Lo=xs=>{const{resetSelectedElements:vs,domNode:Sp}=pr.getState();if(Ct.current=Sp==null?void 0:Sp.getBoundingClientRect(),!_r||!o||xs.button!==0||xs.target!==Ht.current||!Ct.current)return;const{x:wp,y:bp}=getEventPosition(xs,Ct.current);vs(),pr.setState({userSelectionRect:{width:0,height:0,startX:wp,startY:bp,x:wp,y:bp}}),j==null||j(xs)},ms=xs=>{const{userSelectionRect:vs,nodeInternals:Sp,edges:wp,transform:bp,onNodesChange:Ep,onEdgesChange:Cp,nodeOrigin:Ap,getNodes:Mp}=pr.getState();if(!o||!Ct.current||!vs)return;pr.setState({userSelectionActive:!0,nodesSelectionActive:!1});const Pp=getEventPosition(xs,Ct.current),Ip=vs.startX??0,Op=vs.startY??0,Wp={...vs,x:Pp.x<Ip?Pp.x:Ip,y:Pp.y<Op?Pp.y:Op,width:Math.abs(Pp.x-Ip),height:Math.abs(Pp.y-Op)},Yp=Mp(),Zp=getNodesInside(Sp,Wp,bp,_===SelectionMode.Partial,!0,Ap),Qp=getConnectedEdges(Zp,wp).map(rm=>rm.id),Gp=Zp.map(rm=>rm.id);if(_n.current!==Gp.length){_n.current=Gp.length;const rm=getSelectionChanges(Yp,Gp);rm.length&&(Ep==null||Ep(rm))}if(ft.current!==Qp.length){ft.current=Qp.length;const rm=getSelectionChanges(wp,Qp);rm.length&&(Cp==null||Cp(rm))}pr.setState({userSelectionRect:Wp})},Uo=xs=>{if(xs.button!==0)return;const{userSelectionRect:vs}=pr.getState();!mr&&vs&&xs.target===Ht.current&&(pn==null||pn(xs)),pr.setState({nodesSelectionActive:_n.current>0}),dr(),_e==null||_e(xs)},_s=xs=>{mr&&(pr.setState({nodesSelectionActive:_n.current>0}),_e==null||_e(xs)),dr()},yp=_r&&(o||mr);return React.createElement("div",{className:cc$1(["react-flow__pane",{dragging:mn,selection:o}]),onClick:yp?void 0:wrapHandler(pn,Ht),onContextMenu:wrapHandler(Do,Ht),onWheel:wrapHandler(Io,Ht),onMouseEnter:yp?void 0:it,onMouseDown:yp?Lo:void 0,onMouseMove:yp?ms:lt,onMouseUp:yp?Uo:void 0,onMouseLeave:yp?_s:dt,ref:Ht,style:containerStyle},bt,React.createElement(UserSelection,null))});Pane.displayName="Pane";function isParentSelected(o,_){const $=o.parentNode||o.parentId;if(!$)return!1;const j=_.get($);return j?j.selected?!0:isParentSelected(j,_):!1}function hasSelector(o,_,$){let j=o;do{if(j!=null&&j.matches(_))return!0;if(j===$.current)return!1;j=j.parentElement}while(j);return!1}function getDragItems(o,_,$,j){return Array.from(o.values()).filter(_e=>(_e.selected||_e.id===j)&&(!_e.parentNode||_e.parentId||!isParentSelected(_e,o))&&(_e.draggable||_&&typeof _e.draggable>"u")).map(_e=>{var et,tt;return{id:_e.id,position:_e.position||{x:0,y:0},positionAbsolute:_e.positionAbsolute||{x:0,y:0},distance:{x:$.x-(((et=_e.positionAbsolute)==null?void 0:et.x)??0),y:$.y-(((tt=_e.positionAbsolute)==null?void 0:tt.y)??0)},delta:{x:0,y:0},extent:_e.extent,parentNode:_e.parentNode||_e.parentId,parentId:_e.parentNode||_e.parentId,width:_e.width,height:_e.height,expandParent:_e.expandParent}})}function clampNodeExtent(o,_){return!_||_==="parent"?_:[_[0],[_[1][0]-(o.width||0),_[1][1]-(o.height||0)]]}function calcNextPosition(o,_,$,j,_e=[0,0],et){const tt=clampNodeExtent(o,o.extent||j);let nt=tt;const it=o.parentNode||o.parentId;if(o.extent==="parent"&&!o.expandParent)if(it&&o.width&&o.height){const bt=$.get(it),{x:Ht,y:pr}=getNodePositionWithOrigin(bt,_e).positionAbsolute;nt=bt&&isNumeric(Ht)&&isNumeric(pr)&&isNumeric(bt.width)&&isNumeric(bt.height)?[[Ht+o.width*_e[0],pr+o.height*_e[1]],[Ht+bt.width-o.width+o.width*_e[0],pr+bt.height-o.height+o.height*_e[1]]]:nt}else et==null||et("005",errorMessages.error005()),nt=tt;else if(o.extent&&it&&o.extent!=="parent"){const bt=$.get(it),{x:Ht,y:pr}=getNodePositionWithOrigin(bt,_e).positionAbsolute;nt=[[o.extent[0][0]+Ht,o.extent[0][1]+pr],[o.extent[1][0]+Ht,o.extent[1][1]+pr]]}let lt={x:0,y:0};if(it){const bt=$.get(it);lt=getNodePositionWithOrigin(bt,_e).positionAbsolute}const dt=nt&&nt!=="parent"?clampPosition(_,nt):_;return{position:{x:dt.x-lt.x,y:dt.y-lt.y},positionAbsolute:dt}}function getEventHandlerParams({nodeId:o,dragItems:_,nodeInternals:$}){const j=_.map(_e=>({...$.get(_e.id),position:_e.position,positionAbsolute:_e.positionAbsolute}));return[o?j.find(_e=>_e.id===o):j[0],j]}const getHandleBounds=(o,_,$,j)=>{const _e=_.querySelectorAll(o);if(!_e||!_e.length)return null;const et=Array.from(_e),tt=_.getBoundingClientRect(),nt={x:tt.width*j[0],y:tt.height*j[1]};return et.map(it=>{const lt=it.getBoundingClientRect();return{id:it.getAttribute("data-handleid"),position:it.getAttribute("data-handlepos"),x:(lt.left-tt.left-nt.x)/$,y:(lt.top-tt.top-nt.y)/$,...getDimensions$1(it)}})};function getMouseHandler(o,_,$){return $===void 0?$:j=>{const _e=_().nodeInternals.get(o);_e&&$(j,{..._e})}}function handleNodeClick({id:o,store:_,unselect:$=!1,nodeRef:j}){const{addSelectedNodes:_e,unselectNodesAndEdges:et,multiSelectionActive:tt,nodeInternals:nt,onError:it}=_.getState(),lt=nt.get(o);if(!lt){it==null||it("012",errorMessages.error012(o));return}_.setState({nodesSelectionActive:!1}),lt.selected?($||lt.selected&&tt)&&(et({nodes:[lt],edges:[]}),requestAnimationFrame(()=>{var dt;return(dt=j==null?void 0:j.current)==null?void 0:dt.blur()})):_e([o])}function useGetPointerPosition(){const o=useStoreApi();return reactExports.useCallback(({sourceEvent:$})=>{const{transform:j,snapGrid:_e,snapToGrid:et}=o.getState(),tt=$.touches?$.touches[0].clientX:$.clientX,nt=$.touches?$.touches[0].clientY:$.clientY,it={x:(tt-j[0])/j[2],y:(nt-j[1])/j[2]};return{xSnapped:et?_e[0]*Math.round(it.x/_e[0]):it.x,ySnapped:et?_e[1]*Math.round(it.y/_e[1]):it.y,...it}},[])}function wrapSelectionDragFunc(o){return(_,$,j)=>o==null?void 0:o(_,j)}function useDrag({nodeRef:o,disabled:_=!1,noDragClassName:$,handleSelector:j,nodeId:_e,isSelectable:et,selectNodesOnDrag:tt}){const nt=useStoreApi(),[it,lt]=reactExports.useState(!1),dt=reactExports.useRef([]),bt=reactExports.useRef({x:null,y:null}),Ht=reactExports.useRef(0),pr=reactExports.useRef(null),_n=reactExports.useRef({x:0,y:0}),ft=reactExports.useRef(null),Ct=reactExports.useRef(!1),mr=reactExports.useRef(!1),_r=reactExports.useRef(!1),mn=useGetPointerPosition();return reactExports.useEffect(()=>{if(o!=null&&o.current){const dr=select(o.current),pn=({x:Lo,y:ms})=>{const{nodeInternals:Uo,onNodeDrag:_s,onSelectionDrag:yp,updateNodePositions:xs,nodeExtent:vs,snapGrid:Sp,snapToGrid:wp,nodeOrigin:bp,onError:Ep}=nt.getState();bt.current={x:Lo,y:ms};let Cp=!1,Ap={x:0,y:0,x2:0,y2:0};if(dt.current.length>1&&vs){const Pp=getNodesBounds(dt.current,bp);Ap=rectToBox(Pp)}if(dt.current=dt.current.map(Pp=>{const Ip={x:Lo-Pp.distance.x,y:ms-Pp.distance.y};wp&&(Ip.x=Sp[0]*Math.round(Ip.x/Sp[0]),Ip.y=Sp[1]*Math.round(Ip.y/Sp[1]));const Op=[[vs[0][0],vs[0][1]],[vs[1][0],vs[1][1]]];dt.current.length>1&&vs&&!Pp.extent&&(Op[0][0]=Pp.positionAbsolute.x-Ap.x+vs[0][0],Op[1][0]=Pp.positionAbsolute.x+(Pp.width??0)-Ap.x2+vs[1][0],Op[0][1]=Pp.positionAbsolute.y-Ap.y+vs[0][1],Op[1][1]=Pp.positionAbsolute.y+(Pp.height??0)-Ap.y2+vs[1][1]);const Wp=calcNextPosition(Pp,Ip,Uo,Op,bp,Ep);return Cp=Cp||Pp.position.x!==Wp.position.x||Pp.position.y!==Wp.position.y,Pp.position=Wp.position,Pp.positionAbsolute=Wp.positionAbsolute,Pp}),!Cp)return;xs(dt.current,!0,!0),lt(!0);const Mp=_e?_s:wrapSelectionDragFunc(yp);if(Mp&&ft.current){const[Pp,Ip]=getEventHandlerParams({nodeId:_e,dragItems:dt.current,nodeInternals:Uo});Mp(ft.current,Pp,Ip)}},Do=()=>{if(!pr.current)return;const[Lo,ms]=calcAutoPan(_n.current,pr.current);if(Lo!==0||ms!==0){const{transform:Uo,panBy:_s}=nt.getState();bt.current.x=(bt.current.x??0)-Lo/Uo[2],bt.current.y=(bt.current.y??0)-ms/Uo[2],_s({x:Lo,y:ms})&&pn(bt.current)}Ht.current=requestAnimationFrame(Do)},Io=Lo=>{var bp;const{nodeInternals:ms,multiSelectionActive:Uo,nodesDraggable:_s,unselectNodesAndEdges:yp,onNodeDragStart:xs,onSelectionDragStart:vs}=nt.getState();mr.current=!0;const Sp=_e?xs:wrapSelectionDragFunc(vs);(!tt||!et)&&!Uo&&_e&&((bp=ms.get(_e))!=null&&bp.selected||yp()),_e&&et&&tt&&handleNodeClick({id:_e,store:nt,nodeRef:o});const wp=mn(Lo);if(bt.current=wp,dt.current=getDragItems(ms,_s,wp,_e),Sp&&dt.current){const[Ep,Cp]=getEventHandlerParams({nodeId:_e,dragItems:dt.current,nodeInternals:ms});Sp(Lo.sourceEvent,Ep,Cp)}};if(_)dr.on(".drag",null);else{const Lo=drag().on("start",ms=>{const{domNode:Uo,nodeDragThreshold:_s}=nt.getState();_s===0&&Io(ms),_r.current=!1;const yp=mn(ms);bt.current=yp,pr.current=(Uo==null?void 0:Uo.getBoundingClientRect())||null,_n.current=getEventPosition(ms.sourceEvent,pr.current)}).on("drag",ms=>{var xs,vs;const Uo=mn(ms),{autoPanOnNodeDrag:_s,nodeDragThreshold:yp}=nt.getState();if(ms.sourceEvent.type==="touchmove"&&ms.sourceEvent.touches.length>1&&(_r.current=!0),!_r.current){if(!Ct.current&&mr.current&&_s&&(Ct.current=!0,Do()),!mr.current){const Sp=Uo.xSnapped-(((xs=bt==null?void 0:bt.current)==null?void 0:xs.x)??0),wp=Uo.ySnapped-(((vs=bt==null?void 0:bt.current)==null?void 0:vs.y)??0);Math.sqrt(Sp*Sp+wp*wp)>yp&&Io(ms)}(bt.current.x!==Uo.xSnapped||bt.current.y!==Uo.ySnapped)&&dt.current&&mr.current&&(ft.current=ms.sourceEvent,_n.current=getEventPosition(ms.sourceEvent,pr.current),pn(Uo))}}).on("end",ms=>{if(!(!mr.current||_r.current)&&(lt(!1),Ct.current=!1,mr.current=!1,cancelAnimationFrame(Ht.current),dt.current)){const{updateNodePositions:Uo,nodeInternals:_s,onNodeDragStop:yp,onSelectionDragStop:xs}=nt.getState(),vs=_e?yp:wrapSelectionDragFunc(xs);if(Uo(dt.current,!1,!1),vs){const[Sp,wp]=getEventHandlerParams({nodeId:_e,dragItems:dt.current,nodeInternals:_s});vs(ms.sourceEvent,Sp,wp)}}}).filter(ms=>{const Uo=ms.target;return!ms.button&&(!$||!hasSelector(Uo,`.${$}`,o))&&(!j||hasSelector(Uo,j,o))});return dr.call(Lo),()=>{dr.on(".drag",null)}}}},[o,_,$,j,et,nt,_e,tt,mn]),it}function useUpdateNodePositions(){const o=useStoreApi();return reactExports.useCallback($=>{const{nodeInternals:j,nodeExtent:_e,updateNodePositions:et,getNodes:tt,snapToGrid:nt,snapGrid:it,onError:lt,nodesDraggable:dt}=o.getState(),bt=tt().filter(_r=>_r.selected&&(_r.draggable||dt&&typeof _r.draggable>"u")),Ht=nt?it[0]:5,pr=nt?it[1]:5,_n=$.isShiftPressed?4:1,ft=$.x*Ht*_n,Ct=$.y*pr*_n,mr=bt.map(_r=>{if(_r.positionAbsolute){const mn={x:_r.positionAbsolute.x+ft,y:_r.positionAbsolute.y+Ct};nt&&(mn.x=it[0]*Math.round(mn.x/it[0]),mn.y=it[1]*Math.round(mn.y/it[1]));const{positionAbsolute:dr,position:pn}=calcNextPosition(_r,mn,j,_e,void 0,lt);_r.position=pn,_r.positionAbsolute=dr}return _r});et(mr,!0,!1)},[])}const arrowKeyDiffs={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var wrapNode=o=>{const _=({id:$,type:j,data:_e,xPos:et,yPos:tt,xPosOrigin:nt,yPosOrigin:it,selected:lt,onClick:dt,onMouseEnter:bt,onMouseMove:Ht,onMouseLeave:pr,onContextMenu:_n,onDoubleClick:ft,style:Ct,className:mr,isDraggable:_r,isSelectable:mn,isConnectable:dr,isFocusable:pn,selectNodesOnDrag:Do,sourcePosition:Io,targetPosition:Lo,hidden:ms,resizeObserver:Uo,dragHandle:_s,zIndex:yp,isParent:xs,noDragClassName:vs,noPanClassName:Sp,initialized:wp,disableKeyboardA11y:bp,ariaLabel:Ep,rfId:Cp,hasHandleBounds:Ap})=>{const Mp=useStoreApi(),Pp=reactExports.useRef(null),Ip=reactExports.useRef(null),Op=reactExports.useRef(Io),Wp=reactExports.useRef(Lo),Yp=reactExports.useRef(j),Zp=mn||_r||dt||bt||Ht||pr,Qp=useUpdateNodePositions(),Gp=getMouseHandler($,Mp.getState,bt),rm=getMouseHandler($,Mp.getState,Ht),Jp=getMouseHandler($,Mp.getState,pr),Up=getMouseHandler($,Mp.getState,_n),im=getMouseHandler($,Mp.getState,ft),em=ym=>{const{nodeDragThreshold:am}=Mp.getState();if(mn&&(!Do||!_r||am>0)&&handleNodeClick({id:$,store:Mp,nodeRef:Pp}),dt){const fm=Mp.getState().nodeInternals.get($);fm&&dt(ym,{...fm})}},gm=ym=>{if(!isInputDOMNode(ym)&&!bp)if(elementSelectionKeys.includes(ym.key)&&mn){const am=ym.key==="Escape";handleNodeClick({id:$,store:Mp,unselect:am,nodeRef:Pp})}else _r&&lt&&Object.prototype.hasOwnProperty.call(arrowKeyDiffs,ym.key)&&(Mp.setState({ariaLiveMessage:`Moved selected node ${ym.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~et}, y: ${~~tt}`}),Qp({x:arrowKeyDiffs[ym.key].x,y:arrowKeyDiffs[ym.key].y,isShiftPressed:ym.shiftKey}))};reactExports.useEffect(()=>()=>{Ip.current&&(Uo==null||Uo.unobserve(Ip.current),Ip.current=null)},[]),reactExports.useEffect(()=>{if(Pp.current&&!ms){const ym=Pp.current;(!wp||!Ap||Ip.current!==ym)&&(Ip.current&&(Uo==null||Uo.unobserve(Ip.current)),Uo==null||Uo.observe(ym),Ip.current=ym)}},[ms,wp,Ap]),reactExports.useEffect(()=>{const ym=Yp.current!==j,am=Op.current!==Io,fm=Wp.current!==Lo;Pp.current&&(ym||am||fm)&&(ym&&(Yp.current=j),am&&(Op.current=Io),fm&&(Wp.current=Lo),Mp.getState().updateNodeDimensions([{id:$,nodeElement:Pp.current,forceUpdate:!0}]))},[$,j,Io,Lo]);const bm=useDrag({nodeRef:Pp,disabled:ms||!_r,noDragClassName:vs,handleSelector:_s,nodeId:$,isSelectable:mn,selectNodesOnDrag:Do});return ms?null:React.createElement("div",{className:cc$1(["react-flow__node",`react-flow__node-${j}`,{[Sp]:_r},mr,{selected:lt,selectable:mn,parent:xs,dragging:bm}]),ref:Pp,style:{zIndex:yp,transform:`translate(${nt}px,${it}px)`,pointerEvents:Zp?"all":"none",visibility:wp?"visible":"hidden",...Ct},"data-id":$,"data-testid":`rf__node-${$}`,onMouseEnter:Gp,onMouseMove:rm,onMouseLeave:Jp,onContextMenu:Up,onClick:em,onDoubleClick:im,onKeyDown:pn?gm:void 0,tabIndex:pn?0:void 0,role:pn?"button":void 0,"aria-describedby":bp?void 0:`${ARIA_NODE_DESC_KEY}-${Cp}`,"aria-label":Ep},React.createElement(Provider,{value:$},React.createElement(o,{id:$,data:_e,type:j,xPos:et,yPos:tt,selected:lt,isConnectable:dr,sourcePosition:Io,targetPosition:Lo,dragging:bm,dragHandle:_s,zIndex:yp})))};return _.displayName="NodeWrapper",reactExports.memo(_)};const selector$7=o=>{const _=o.getNodes().filter($=>$.selected);return{...getNodesBounds(_,o.nodeOrigin),transformString:`translate(${o.transform[0]}px,${o.transform[1]}px) scale(${o.transform[2]})`,userSelectionActive:o.userSelectionActive}};function NodesSelection({onSelectionContextMenu:o,noPanClassName:_,disableKeyboardA11y:$}){const j=useStoreApi(),{width:_e,height:et,x:tt,y:nt,transformString:it,userSelectionActive:lt}=useStore(selector$7,shallow$1),dt=useUpdateNodePositions(),bt=reactExports.useRef(null);if(reactExports.useEffect(()=>{var _n;$||(_n=bt.current)==null||_n.focus({preventScroll:!0})},[$]),useDrag({nodeRef:bt}),lt||!_e||!et)return null;const Ht=o?_n=>{const ft=j.getState().getNodes().filter(Ct=>Ct.selected);o(_n,ft)}:void 0,pr=_n=>{Object.prototype.hasOwnProperty.call(arrowKeyDiffs,_n.key)&&dt({x:arrowKeyDiffs[_n.key].x,y:arrowKeyDiffs[_n.key].y,isShiftPressed:_n.shiftKey})};return React.createElement("div",{className:cc$1(["react-flow__nodesselection","react-flow__container",_]),style:{transform:it}},React.createElement("div",{ref:bt,className:"react-flow__nodesselection-rect",onContextMenu:Ht,tabIndex:$?void 0:-1,onKeyDown:$?void 0:pr,style:{width:_e,height:et,top:nt,left:tt}}))}var NodesSelection$1=reactExports.memo(NodesSelection);const selector$6=o=>o.nodesSelectionActive,FlowRenderer=({children:o,onPaneClick:_,onPaneMouseEnter:$,onPaneMouseMove:j,onPaneMouseLeave:_e,onPaneContextMenu:et,onPaneScroll:tt,deleteKeyCode:nt,onMove:it,onMoveStart:lt,onMoveEnd:dt,selectionKeyCode:bt,selectionOnDrag:Ht,selectionMode:pr,onSelectionStart:_n,onSelectionEnd:ft,multiSelectionKeyCode:Ct,panActivationKeyCode:mr,zoomActivationKeyCode:_r,elementsSelectable:mn,zoomOnScroll:dr,zoomOnPinch:pn,panOnScroll:Do,panOnScrollSpeed:Io,panOnScrollMode:Lo,zoomOnDoubleClick:ms,panOnDrag:Uo,defaultViewport:_s,translateExtent:yp,minZoom:xs,maxZoom:vs,preventScrolling:Sp,onSelectionContextMenu:wp,noWheelClassName:bp,noPanClassName:Ep,disableKeyboardA11y:Cp})=>{const Ap=useStore(selector$6),Mp=useKeyPress(bt),Pp=useKeyPress(mr),Ip=Pp||Uo,Op=Pp||Do,Wp=Mp||Ht&&Ip!==!0;return useGlobalKeyHandler({deleteKeyCode:nt,multiSelectionKeyCode:Ct}),React.createElement(ZoomPane,{onMove:it,onMoveStart:lt,onMoveEnd:dt,onPaneContextMenu:et,elementsSelectable:mn,zoomOnScroll:dr,zoomOnPinch:pn,panOnScroll:Op,panOnScrollSpeed:Io,panOnScrollMode:Lo,zoomOnDoubleClick:ms,panOnDrag:!Mp&&Ip,defaultViewport:_s,translateExtent:yp,minZoom:xs,maxZoom:vs,zoomActivationKeyCode:_r,preventScrolling:Sp,noWheelClassName:bp,noPanClassName:Ep},React.createElement(Pane,{onSelectionStart:_n,onSelectionEnd:ft,onPaneClick:_,onPaneMouseEnter:$,onPaneMouseMove:j,onPaneMouseLeave:_e,onPaneContextMenu:et,onPaneScroll:tt,panOnDrag:Ip,isSelecting:!!Wp,selectionMode:pr},o,Ap&&React.createElement(NodesSelection$1,{onSelectionContextMenu:wp,noPanClassName:Ep,disableKeyboardA11y:Cp})))};FlowRenderer.displayName="FlowRenderer";var FlowRenderer$1=reactExports.memo(FlowRenderer);function useVisibleNodes(o){return useStore(reactExports.useCallback($=>o?getNodesInside($.nodeInternals,{x:0,y:0,width:$.width,height:$.height},$.transform,!0):$.getNodes(),[o]))}function createNodeTypes(o){const _={input:wrapNode(o.input||InputNode$1),default:wrapNode(o.default||DefaultNode$1),output:wrapNode(o.output||OutputNode$1),group:wrapNode(o.group||GroupNode)},$={},j=Object.keys(o).filter(_e=>!["input","default","output","group"].includes(_e)).reduce((_e,et)=>(_e[et]=wrapNode(o[et]||DefaultNode$1),_e),$);return{..._,...j}}const getPositionWithOrigin=({x:o,y:_,width:$,height:j,origin:_e})=>!$||!j?{x:o,y:_}:_e[0]<0||_e[1]<0||_e[0]>1||_e[1]>1?{x:o,y:_}:{x:o-$*_e[0],y:_-j*_e[1]},selector$5=o=>({nodesDraggable:o.nodesDraggable,nodesConnectable:o.nodesConnectable,nodesFocusable:o.nodesFocusable,elementsSelectable:o.elementsSelectable,updateNodeDimensions:o.updateNodeDimensions,onError:o.onError}),NodeRenderer=o=>{const{nodesDraggable:_,nodesConnectable:$,nodesFocusable:j,elementsSelectable:_e,updateNodeDimensions:et,onError:tt}=useStore(selector$5,shallow$1),nt=useVisibleNodes(o.onlyRenderVisibleElements),it=reactExports.useRef(),lt=reactExports.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const dt=new ResizeObserver(bt=>{const Ht=bt.map(pr=>({id:pr.target.getAttribute("data-id"),nodeElement:pr.target,forceUpdate:!0}));et(Ht)});return it.current=dt,dt},[]);return reactExports.useEffect(()=>()=>{var dt;(dt=it==null?void 0:it.current)==null||dt.disconnect()},[]),React.createElement("div",{className:"react-flow__nodes",style:containerStyle},nt.map(dt=>{var pn,Do,Io;let bt=dt.type||"default";o.nodeTypes[bt]||(tt==null||tt("003",errorMessages.error003(bt)),bt="default");const Ht=o.nodeTypes[bt]||o.nodeTypes.default,pr=!!(dt.draggable||_&&typeof dt.draggable>"u"),_n=!!(dt.selectable||_e&&typeof dt.selectable>"u"),ft=!!(dt.connectable||$&&typeof dt.connectable>"u"),Ct=!!(dt.focusable||j&&typeof dt.focusable>"u"),mr=o.nodeExtent?clampPosition(dt.positionAbsolute,o.nodeExtent):dt.positionAbsolute,_r=(mr==null?void 0:mr.x)??0,mn=(mr==null?void 0:mr.y)??0,dr=getPositionWithOrigin({x:_r,y:mn,width:dt.width??0,height:dt.height??0,origin:o.nodeOrigin});return React.createElement(Ht,{key:dt.id,id:dt.id,className:dt.className,style:dt.style,type:bt,data:dt.data,sourcePosition:dt.sourcePosition||Position.Bottom,targetPosition:dt.targetPosition||Position.Top,hidden:dt.hidden,xPos:_r,yPos:mn,xPosOrigin:dr.x,yPosOrigin:dr.y,selectNodesOnDrag:o.selectNodesOnDrag,onClick:o.onNodeClick,onMouseEnter:o.onNodeMouseEnter,onMouseMove:o.onNodeMouseMove,onMouseLeave:o.onNodeMouseLeave,onContextMenu:o.onNodeContextMenu,onDoubleClick:o.onNodeDoubleClick,selected:!!dt.selected,isDraggable:pr,isSelectable:_n,isConnectable:ft,isFocusable:Ct,resizeObserver:lt,dragHandle:dt.dragHandle,zIndex:((pn=dt[internalsSymbol])==null?void 0:pn.z)??0,isParent:!!((Do=dt[internalsSymbol])!=null&&Do.isParent),noDragClassName:o.noDragClassName,noPanClassName:o.noPanClassName,initialized:!!dt.width&&!!dt.height,rfId:o.rfId,disableKeyboardA11y:o.disableKeyboardA11y,ariaLabel:dt.ariaLabel,hasHandleBounds:!!((Io=dt[internalsSymbol])!=null&&Io.handleBounds)})}))};NodeRenderer.displayName="NodeRenderer";var NodeRenderer$1=reactExports.memo(NodeRenderer);const shiftX=(o,_,$)=>$===Position.Left?o-_:$===Position.Right?o+_:o,shiftY=(o,_,$)=>$===Position.Top?o-_:$===Position.Bottom?o+_:o,EdgeUpdaterClassName="react-flow__edgeupdater",EdgeAnchor=({position:o,centerX:_,centerY:$,radius:j=10,onMouseDown:_e,onMouseEnter:et,onMouseOut:tt,type:nt})=>React.createElement("circle",{onMouseDown:_e,onMouseEnter:et,onMouseOut:tt,className:cc$1([EdgeUpdaterClassName,`${EdgeUpdaterClassName}-${nt}`]),cx:shiftX(_,j,o),cy:shiftY($,j,o),r:j,stroke:"transparent",fill:"transparent"}),alwaysValidConnection=()=>!0;var wrapEdge=o=>{const _=({id:$,className:j,type:_e,data:et,onClick:tt,onEdgeDoubleClick:nt,selected:it,animated:lt,label:dt,labelStyle:bt,labelShowBg:Ht,labelBgStyle:pr,labelBgPadding:_n,labelBgBorderRadius:ft,style:Ct,source:mr,target:_r,sourceX:mn,sourceY:dr,targetX:pn,targetY:Do,sourcePosition:Io,targetPosition:Lo,elementsSelectable:ms,hidden:Uo,sourceHandleId:_s,targetHandleId:yp,onContextMenu:xs,onMouseEnter:vs,onMouseMove:Sp,onMouseLeave:wp,reconnectRadius:bp,onReconnect:Ep,onReconnectStart:Cp,onReconnectEnd:Ap,markerEnd:Mp,markerStart:Pp,rfId:Ip,ariaLabel:Op,isFocusable:Wp,isReconnectable:Yp,pathOptions:Zp,interactionWidth:Qp,disableKeyboardA11y:Gp})=>{const rm=reactExports.useRef(null),[Jp,Up]=reactExports.useState(!1),[im,em]=reactExports.useState(!1),gm=useStoreApi(),bm=reactExports.useMemo(()=>`url('#${getMarkerId(Pp,Ip)}')`,[Pp,Ip]),ym=reactExports.useMemo(()=>`url('#${getMarkerId(Mp,Ip)}')`,[Mp,Ip]);if(Uo)return null;const am=lm=>{var Vp;const{edges:hm,addSelectedEdges:Em,unselectNodesAndEdges:Lp,multiSelectionActive:cm}=gm.getState(),mm=hm.find(qp=>qp.id===$);mm&&(ms&&(gm.setState({nodesSelectionActive:!1}),mm.selected&&cm?(Lp({nodes:[],edges:[mm]}),(Vp=rm.current)==null||Vp.blur()):Em([$])),tt&&tt(lm,mm))},fm=getMouseHandler$1($,gm.getState,nt),vm=getMouseHandler$1($,gm.getState,xs),jp=getMouseHandler$1($,gm.getState,vs),Rp=getMouseHandler$1($,gm.getState,Sp),um=getMouseHandler$1($,gm.getState,wp),_m=(lm,hm)=>{if(lm.button!==0)return;const{edges:Em,isValidConnection:Lp}=gm.getState(),cm=hm?_r:mr,mm=(hm?yp:_s)||null,Vp=hm?"target":"source",qp=Lp||alwaysValidConnection,xm=hm,Np=Em.find(Tp=>Tp.id===$);em(!0),Cp==null||Cp(lm,Np,Vp);const Hp=Tp=>{em(!1),Ap==null||Ap(Tp,Np,Vp)};handlePointerDown({event:lm,handleId:mm,nodeId:cm,onConnect:Tp=>Ep==null?void 0:Ep(Np,Tp),isTarget:xm,getState:gm.getState,setState:gm.setState,isValidConnection:qp,edgeUpdaterType:Vp,onReconnectEnd:Hp})},Cm=lm=>_m(lm,!0),Sm=lm=>_m(lm,!1),zp=()=>Up(!0),Dp=()=>Up(!1),kp=!ms&&!tt,nm=lm=>{var hm;if(!Gp&&elementSelectionKeys.includes(lm.key)&&ms){const{unselectNodesAndEdges:Em,addSelectedEdges:Lp,edges:cm}=gm.getState();lm.key==="Escape"?((hm=rm.current)==null||hm.blur(),Em({edges:[cm.find(Vp=>Vp.id===$)]})):Lp([$])}};return React.createElement("g",{className:cc$1(["react-flow__edge",`react-flow__edge-${_e}`,j,{selected:it,animated:lt,inactive:kp,updating:Jp}]),onClick:am,onDoubleClick:fm,onContextMenu:vm,onMouseEnter:jp,onMouseMove:Rp,onMouseLeave:um,onKeyDown:Wp?nm:void 0,tabIndex:Wp?0:void 0,role:Wp?"button":"img","data-testid":`rf__edge-${$}`,"aria-label":Op===null?void 0:Op||`Edge from ${mr} to ${_r}`,"aria-describedby":Wp?`${ARIA_EDGE_DESC_KEY}-${Ip}`:void 0,ref:rm},!im&&React.createElement(o,{id:$,source:mr,target:_r,selected:it,animated:lt,label:dt,labelStyle:bt,labelShowBg:Ht,labelBgStyle:pr,labelBgPadding:_n,labelBgBorderRadius:ft,data:et,style:Ct,sourceX:mn,sourceY:dr,targetX:pn,targetY:Do,sourcePosition:Io,targetPosition:Lo,sourceHandleId:_s,targetHandleId:yp,markerStart:bm,markerEnd:ym,pathOptions:Zp,interactionWidth:Qp}),Yp&&React.createElement(React.Fragment,null,(Yp==="source"||Yp===!0)&&React.createElement(EdgeAnchor,{position:Io,centerX:mn,centerY:dr,radius:bp,onMouseDown:Cm,onMouseEnter:zp,onMouseOut:Dp,type:"source"}),(Yp==="target"||Yp===!0)&&React.createElement(EdgeAnchor,{position:Lo,centerX:pn,centerY:Do,radius:bp,onMouseDown:Sm,onMouseEnter:zp,onMouseOut:Dp,type:"target"})))};return _.displayName="EdgeWrapper",reactExports.memo(_)};function createEdgeTypes(o){const _={default:wrapEdge(o.default||BezierEdge),straight:wrapEdge(o.bezier||StraightEdge),step:wrapEdge(o.step||StepEdge),smoothstep:wrapEdge(o.step||SmoothStepEdge),simplebezier:wrapEdge(o.simplebezier||SimpleBezierEdge)},$={},j=Object.keys(o).filter(_e=>!["default","bezier"].includes(_e)).reduce((_e,et)=>(_e[et]=wrapEdge(o[et]||BezierEdge),_e),$);return{..._,...j}}function getHandlePosition(o,_,$=null){const j=(($==null?void 0:$.x)||0)+_.x,_e=(($==null?void 0:$.y)||0)+_.y,et=($==null?void 0:$.width)||_.width,tt=($==null?void 0:$.height)||_.height;switch(o){case Position.Top:return{x:j+et/2,y:_e};case Position.Right:return{x:j+et,y:_e+tt/2};case Position.Bottom:return{x:j+et/2,y:_e+tt};case Position.Left:return{x:j,y:_e+tt/2}}}function getHandle(o,_){return o?o.length===1||!_?o[0]:_&&o.find($=>$.id===_)||null:null}const getEdgePositions=(o,_,$,j,_e,et)=>{const tt=getHandlePosition($,o,_),nt=getHandlePosition(et,j,_e);return{sourceX:tt.x,sourceY:tt.y,targetX:nt.x,targetY:nt.y}};function isEdgeVisible({sourcePos:o,targetPos:_,sourceWidth:$,sourceHeight:j,targetWidth:_e,targetHeight:et,width:tt,height:nt,transform:it}){const lt={x:Math.min(o.x,_.x),y:Math.min(o.y,_.y),x2:Math.max(o.x+$,_.x+_e),y2:Math.max(o.y+j,_.y+et)};lt.x===lt.x2&&(lt.x2+=1),lt.y===lt.y2&&(lt.y2+=1);const dt=rectToBox({x:(0-it[0])/it[2],y:(0-it[1])/it[2],width:tt/it[2],height:nt/it[2]}),bt=Math.max(0,Math.min(dt.x2,lt.x2)-Math.max(dt.x,lt.x)),Ht=Math.max(0,Math.min(dt.y2,lt.y2)-Math.max(dt.y,lt.y));return Math.ceil(bt*Ht)>0}function getNodeData(o){var j,_e,et,tt,nt;const _=((j=o==null?void 0:o[internalsSymbol])==null?void 0:j.handleBounds)||null,$=_&&(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&typeof((_e=o==null?void 0:o.positionAbsolute)==null?void 0:_e.x)<"u"&&typeof((et=o==null?void 0:o.positionAbsolute)==null?void 0:et.y)<"u";return[{x:((tt=o==null?void 0:o.positionAbsolute)==null?void 0:tt.x)||0,y:((nt=o==null?void 0:o.positionAbsolute)==null?void 0:nt.y)||0,width:(o==null?void 0:o.width)||0,height:(o==null?void 0:o.height)||0},_,!!$]}const defaultEdgeTree=[{level:0,isMaxLevel:!0,edges:[]}];function groupEdgesByZLevel(o,_,$=!1){let j=-1;const _e=o.reduce((tt,nt)=>{var dt,bt;const it=isNumeric(nt.zIndex);let lt=it?nt.zIndex:0;if($){const Ht=_.get(nt.target),pr=_.get(nt.source),_n=nt.selected||(Ht==null?void 0:Ht.selected)||(pr==null?void 0:pr.selected),ft=Math.max(((dt=pr==null?void 0:pr[internalsSymbol])==null?void 0:dt.z)||0,((bt=Ht==null?void 0:Ht[internalsSymbol])==null?void 0:bt.z)||0,1e3);lt=(it?nt.zIndex:0)+(_n?ft:0)}return tt[lt]?tt[lt].push(nt):tt[lt]=[nt],j=lt>j?lt:j,tt},{}),et=Object.entries(_e).map(([tt,nt])=>{const it=+tt;return{edges:nt,level:it,isMaxLevel:it===j}});return et.length===0?defaultEdgeTree:et}function useVisibleEdges(o,_,$){const j=useStore(reactExports.useCallback(_e=>o?_e.edges.filter(et=>{const tt=_.get(et.source),nt=_.get(et.target);return(tt==null?void 0:tt.width)&&(tt==null?void 0:tt.height)&&(nt==null?void 0:nt.width)&&(nt==null?void 0:nt.height)&&isEdgeVisible({sourcePos:tt.positionAbsolute||{x:0,y:0},targetPos:nt.positionAbsolute||{x:0,y:0},sourceWidth:tt.width,sourceHeight:tt.height,targetWidth:nt.width,targetHeight:nt.height,width:_e.width,height:_e.height,transform:_e.transform})}):_e.edges,[o,_]));return groupEdgesByZLevel(j,_,$)}const ArrowSymbol=({color:o="none",strokeWidth:_=1})=>React.createElement("polyline",{style:{stroke:o,strokeWidth:_},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),ArrowClosedSymbol=({color:o="none",strokeWidth:_=1})=>React.createElement("polyline",{style:{stroke:o,fill:o,strokeWidth:_},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),MarkerSymbols={[MarkerType.Arrow]:ArrowSymbol,[MarkerType.ArrowClosed]:ArrowClosedSymbol};function useMarkerSymbol(o){const _=useStoreApi();return reactExports.useMemo(()=>{var _e,et;return Object.prototype.hasOwnProperty.call(MarkerSymbols,o)?MarkerSymbols[o]:((et=(_e=_.getState()).onError)==null||et.call(_e,"009",errorMessages.error009(o)),null)},[o])}const Marker=({id:o,type:_,color:$,width:j=12.5,height:_e=12.5,markerUnits:et="strokeWidth",strokeWidth:tt,orient:nt="auto-start-reverse"})=>{const it=useMarkerSymbol(_);return it?React.createElement("marker",{className:"react-flow__arrowhead",id:o,markerWidth:`${j}`,markerHeight:`${_e}`,viewBox:"-10 -10 20 20",markerUnits:et,orient:nt,refX:"0",refY:"0"},React.createElement(it,{color:$,strokeWidth:tt})):null},markerSelector=({defaultColor:o,rfId:_})=>$=>{const j=[];return $.edges.reduce((_e,et)=>([et.markerStart,et.markerEnd].forEach(tt=>{if(tt&&typeof tt=="object"){const nt=getMarkerId(tt,_);j.includes(nt)||(_e.push({id:nt,color:tt.color||o,...tt}),j.push(nt))}}),_e),[]).sort((_e,et)=>_e.id.localeCompare(et.id))},MarkerDefinitions=({defaultColor:o,rfId:_})=>{const $=useStore(reactExports.useCallback(markerSelector({defaultColor:o,rfId:_}),[o,_]),(j,_e)=>!(j.length!==_e.length||j.some((et,tt)=>et.id!==_e[tt].id)));return React.createElement("defs",null,$.map(j=>React.createElement(Marker,{id:j.id,key:j.id,type:j.type,color:j.color,width:j.width,height:j.height,markerUnits:j.markerUnits,strokeWidth:j.strokeWidth,orient:j.orient})))};MarkerDefinitions.displayName="MarkerDefinitions";var MarkerDefinitions$1=reactExports.memo(MarkerDefinitions);const selector$4=o=>({nodesConnectable:o.nodesConnectable,edgesFocusable:o.edgesFocusable,edgesUpdatable:o.edgesUpdatable,elementsSelectable:o.elementsSelectable,width:o.width,height:o.height,connectionMode:o.connectionMode,nodeInternals:o.nodeInternals,onError:o.onError}),EdgeRenderer=({defaultMarkerColor:o,onlyRenderVisibleElements:_,elevateEdgesOnSelect:$,rfId:j,edgeTypes:_e,noPanClassName:et,onEdgeContextMenu:tt,onEdgeMouseEnter:nt,onEdgeMouseMove:it,onEdgeMouseLeave:lt,onEdgeClick:dt,onEdgeDoubleClick:bt,onReconnect:Ht,onReconnectStart:pr,onReconnectEnd:_n,reconnectRadius:ft,children:Ct,disableKeyboardA11y:mr})=>{const{edgesFocusable:_r,edgesUpdatable:mn,elementsSelectable:dr,width:pn,height:Do,connectionMode:Io,nodeInternals:Lo,onError:ms}=useStore(selector$4,shallow$1),Uo=useVisibleEdges(_,Lo,$);return pn?React.createElement(React.Fragment,null,Uo.map(({level:_s,edges:yp,isMaxLevel:xs})=>React.createElement("svg",{key:_s,style:{zIndex:_s},width:pn,height:Do,className:"react-flow__edges react-flow__container"},xs&&React.createElement(MarkerDefinitions$1,{defaultColor:o,rfId:j}),React.createElement("g",null,yp.map(vs=>{const[Sp,wp,bp]=getNodeData(Lo.get(vs.source)),[Ep,Cp,Ap]=getNodeData(Lo.get(vs.target));if(!bp||!Ap)return null;let Mp=vs.type||"default";_e[Mp]||(ms==null||ms("011",errorMessages.error011(Mp)),Mp="default");const Pp=_e[Mp]||_e.default,Ip=Io===ConnectionMode.Strict?Cp.target:(Cp.target??[]).concat(Cp.source??[]),Op=getHandle(wp.source,vs.sourceHandle),Wp=getHandle(Ip,vs.targetHandle),Yp=(Op==null?void 0:Op.position)||Position.Bottom,Zp=(Wp==null?void 0:Wp.position)||Position.Top,Qp=!!(vs.focusable||_r&&typeof vs.focusable>"u"),Gp=vs.reconnectable||vs.updatable,rm=typeof Ht<"u"&&(Gp||mn&&typeof Gp>"u");if(!Op||!Wp)return ms==null||ms("008",errorMessages.error008(Op,vs)),null;const{sourceX:Jp,sourceY:Up,targetX:im,targetY:em}=getEdgePositions(Sp,Op,Yp,Ep,Wp,Zp);return React.createElement(Pp,{key:vs.id,id:vs.id,className:cc$1([vs.className,et]),type:Mp,data:vs.data,selected:!!vs.selected,animated:!!vs.animated,hidden:!!vs.hidden,label:vs.label,labelStyle:vs.labelStyle,labelShowBg:vs.labelShowBg,labelBgStyle:vs.labelBgStyle,labelBgPadding:vs.labelBgPadding,labelBgBorderRadius:vs.labelBgBorderRadius,style:vs.style,source:vs.source,target:vs.target,sourceHandleId:vs.sourceHandle,targetHandleId:vs.targetHandle,markerEnd:vs.markerEnd,markerStart:vs.markerStart,sourceX:Jp,sourceY:Up,targetX:im,targetY:em,sourcePosition:Yp,targetPosition:Zp,elementsSelectable:dr,onContextMenu:tt,onMouseEnter:nt,onMouseMove:it,onMouseLeave:lt,onClick:dt,onEdgeDoubleClick:bt,onReconnect:Ht,onReconnectStart:pr,onReconnectEnd:_n,reconnectRadius:ft,rfId:j,ariaLabel:vs.ariaLabel,isFocusable:Qp,isReconnectable:rm,pathOptions:"pathOptions"in vs?vs.pathOptions:void 0,interactionWidth:vs.interactionWidth,disableKeyboardA11y:mr})})))),Ct):null};EdgeRenderer.displayName="EdgeRenderer";var EdgeRenderer$1=reactExports.memo(EdgeRenderer);const selector$3=o=>`translate(${o.transform[0]}px,${o.transform[1]}px) scale(${o.transform[2]})`;function Viewport({children:o}){const _=useStore(selector$3);return React.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:_}},o)}function useOnInitHandler(o){const _=useReactFlow(),$=reactExports.useRef(!1);reactExports.useEffect(()=>{!$.current&&_.viewportInitialized&&o&&(setTimeout(()=>o(_),1),$.current=!0)},[o,_.viewportInitialized])}const oppositePosition={[Position.Left]:Position.Right,[Position.Right]:Position.Left,[Position.Top]:Position.Bottom,[Position.Bottom]:Position.Top},ConnectionLine=({nodeId:o,handleType:_,style:$,type:j=ConnectionLineType.Bezier,CustomComponent:_e,connectionStatus:et})=>{var Do,Io,Lo;const{fromNode:tt,handleId:nt,toX:it,toY:lt,connectionMode:dt}=useStore(reactExports.useCallback(ms=>({fromNode:ms.nodeInternals.get(o),handleId:ms.connectionHandleId,toX:(ms.connectionPosition.x-ms.transform[0])/ms.transform[2],toY:(ms.connectionPosition.y-ms.transform[1])/ms.transform[2],connectionMode:ms.connectionMode}),[o]),shallow$1),bt=(Do=tt==null?void 0:tt[internalsSymbol])==null?void 0:Do.handleBounds;let Ht=bt==null?void 0:bt[_];if(dt===ConnectionMode.Loose&&(Ht=Ht||(bt==null?void 0:bt[_==="source"?"target":"source"])),!tt||!Ht)return null;const pr=nt?Ht.find(ms=>ms.id===nt):Ht[0],_n=pr?pr.x+pr.width/2:(tt.width??0)/2,ft=pr?pr.y+pr.height/2:tt.height??0,Ct=(((Io=tt.positionAbsolute)==null?void 0:Io.x)??0)+_n,mr=(((Lo=tt.positionAbsolute)==null?void 0:Lo.y)??0)+ft,_r=pr==null?void 0:pr.position,mn=_r?oppositePosition[_r]:null;if(!_r||!mn)return null;if(_e)return React.createElement(_e,{connectionLineType:j,connectionLineStyle:$,fromNode:tt,fromHandle:pr,fromX:Ct,fromY:mr,toX:it,toY:lt,fromPosition:_r,toPosition:mn,connectionStatus:et});let dr="";const pn={sourceX:Ct,sourceY:mr,sourcePosition:_r,targetX:it,targetY:lt,targetPosition:mn};return j===ConnectionLineType.Bezier?[dr]=getBezierPath(pn):j===ConnectionLineType.Step?[dr]=getSmoothStepPath({...pn,borderRadius:0}):j===ConnectionLineType.SmoothStep?[dr]=getSmoothStepPath(pn):j===ConnectionLineType.SimpleBezier?[dr]=getSimpleBezierPath(pn):dr=`M${Ct},${mr} ${it},${lt}`,React.createElement("path",{d:dr,fill:"none",className:"react-flow__connection-path",style:$})};ConnectionLine.displayName="ConnectionLine";const selector$2$1=o=>({nodeId:o.connectionNodeId,handleType:o.connectionHandleType,nodesConnectable:o.nodesConnectable,connectionStatus:o.connectionStatus,width:o.width,height:o.height});function ConnectionLineWrapper({containerStyle:o,style:_,type:$,component:j}){const{nodeId:_e,handleType:et,nodesConnectable:tt,width:nt,height:it,connectionStatus:lt}=useStore(selector$2$1,shallow$1);return!(_e&&et&&nt&&tt)?null:React.createElement("svg",{style:o,width:nt,height:it,className:"react-flow__edges react-flow__connectionline react-flow__container"},React.createElement("g",{className:cc$1(["react-flow__connection",lt])},React.createElement(ConnectionLine,{nodeId:_e,handleType:et,style:_,type:$,CustomComponent:j,connectionStatus:lt})))}function useNodeOrEdgeTypes(o,_){return reactExports.useRef(null),useStoreApi(),reactExports.useMemo(()=>_(o),[o])}const GraphView=({nodeTypes:o,edgeTypes:_,onMove:$,onMoveStart:j,onMoveEnd:_e,onInit:et,onNodeClick:tt,onEdgeClick:nt,onNodeDoubleClick:it,onEdgeDoubleClick:lt,onNodeMouseEnter:dt,onNodeMouseMove:bt,onNodeMouseLeave:Ht,onNodeContextMenu:pr,onSelectionContextMenu:_n,onSelectionStart:ft,onSelectionEnd:Ct,connectionLineType:mr,connectionLineStyle:_r,connectionLineComponent:mn,connectionLineContainerStyle:dr,selectionKeyCode:pn,selectionOnDrag:Do,selectionMode:Io,multiSelectionKeyCode:Lo,panActivationKeyCode:ms,zoomActivationKeyCode:Uo,deleteKeyCode:_s,onlyRenderVisibleElements:yp,elementsSelectable:xs,selectNodesOnDrag:vs,defaultViewport:Sp,translateExtent:wp,minZoom:bp,maxZoom:Ep,preventScrolling:Cp,defaultMarkerColor:Ap,zoomOnScroll:Mp,zoomOnPinch:Pp,panOnScroll:Ip,panOnScrollSpeed:Op,panOnScrollMode:Wp,zoomOnDoubleClick:Yp,panOnDrag:Zp,onPaneClick:Qp,onPaneMouseEnter:Gp,onPaneMouseMove:rm,onPaneMouseLeave:Jp,onPaneScroll:Up,onPaneContextMenu:im,onEdgeContextMenu:em,onEdgeMouseEnter:gm,onEdgeMouseMove:bm,onEdgeMouseLeave:ym,onReconnect:am,onReconnectStart:fm,onReconnectEnd:vm,reconnectRadius:jp,noDragClassName:Rp,noWheelClassName:um,noPanClassName:_m,elevateEdgesOnSelect:Cm,disableKeyboardA11y:Sm,nodeOrigin:zp,nodeExtent:Dp,rfId:kp})=>{const nm=useNodeOrEdgeTypes(o,createNodeTypes),lm=useNodeOrEdgeTypes(_,createEdgeTypes);return useOnInitHandler(et),React.createElement(FlowRenderer$1,{onPaneClick:Qp,onPaneMouseEnter:Gp,onPaneMouseMove:rm,onPaneMouseLeave:Jp,onPaneContextMenu:im,onPaneScroll:Up,deleteKeyCode:_s,selectionKeyCode:pn,selectionOnDrag:Do,selectionMode:Io,onSelectionStart:ft,onSelectionEnd:Ct,multiSelectionKeyCode:Lo,panActivationKeyCode:ms,zoomActivationKeyCode:Uo,elementsSelectable:xs,onMove:$,onMoveStart:j,onMoveEnd:_e,zoomOnScroll:Mp,zoomOnPinch:Pp,zoomOnDoubleClick:Yp,panOnScroll:Ip,panOnScrollSpeed:Op,panOnScrollMode:Wp,panOnDrag:Zp,defaultViewport:Sp,translateExtent:wp,minZoom:bp,maxZoom:Ep,onSelectionContextMenu:_n,preventScrolling:Cp,noDragClassName:Rp,noWheelClassName:um,noPanClassName:_m,disableKeyboardA11y:Sm},React.createElement(Viewport,null,React.createElement(EdgeRenderer$1,{edgeTypes:lm,onEdgeClick:nt,onEdgeDoubleClick:lt,onlyRenderVisibleElements:yp,onEdgeContextMenu:em,onEdgeMouseEnter:gm,onEdgeMouseMove:bm,onEdgeMouseLeave:ym,onReconnect:am,onReconnectStart:fm,onReconnectEnd:vm,reconnectRadius:jp,defaultMarkerColor:Ap,noPanClassName:_m,elevateEdgesOnSelect:!!Cm,disableKeyboardA11y:Sm,rfId:kp},React.createElement(ConnectionLineWrapper,{style:_r,type:mr,component:mn,containerStyle:dr})),React.createElement("div",{className:"react-flow__edgelabel-renderer"}),React.createElement(NodeRenderer$1,{nodeTypes:nm,onNodeClick:tt,onNodeDoubleClick:it,onNodeMouseEnter:dt,onNodeMouseMove:bt,onNodeMouseLeave:Ht,onNodeContextMenu:pr,selectNodesOnDrag:vs,onlyRenderVisibleElements:yp,noPanClassName:_m,noDragClassName:Rp,disableKeyboardA11y:Sm,nodeOrigin:zp,nodeExtent:Dp,rfId:kp})))};GraphView.displayName="GraphView";var GraphView$1=reactExports.memo(GraphView);const infiniteExtent=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],initialState={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:infiniteExtent,nodeExtent:infiniteExtent,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:ConnectionMode.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:devWarn,isValidConnection:void 0},createRFStore=()=>createWithEqualityFn((o,_)=>({...initialState,setNodes:$=>{const{nodeInternals:j,nodeOrigin:_e,elevateNodesOnSelect:et}=_();o({nodeInternals:createNodeInternals($,j,_e,et)})},getNodes:()=>Array.from(_().nodeInternals.values()),setEdges:$=>{const{defaultEdgeOptions:j={}}=_();o({edges:$.map(_e=>({...j,..._e}))})},setDefaultNodesAndEdges:($,j)=>{const _e=typeof $<"u",et=typeof j<"u",tt=_e?createNodeInternals($,new Map,_().nodeOrigin,_().elevateNodesOnSelect):new Map;o({nodeInternals:tt,edges:et?j:[],hasDefaultNodes:_e,hasDefaultEdges:et})},updateNodeDimensions:$=>{const{onNodesChange:j,nodeInternals:_e,fitViewOnInit:et,fitViewOnInitDone:tt,fitViewOnInitOptions:nt,domNode:it,nodeOrigin:lt}=_(),dt=it==null?void 0:it.querySelector(".react-flow__viewport");if(!dt)return;const bt=window.getComputedStyle(dt),{m22:Ht}=new window.DOMMatrixReadOnly(bt.transform),pr=$.reduce((ft,Ct)=>{const mr=_e.get(Ct.id);if(mr!=null&&mr.hidden)_e.set(mr.id,{...mr,[internalsSymbol]:{...mr[internalsSymbol],handleBounds:void 0}});else if(mr){const _r=getDimensions$1(Ct.nodeElement);!!(_r.width&&_r.height&&(mr.width!==_r.width||mr.height!==_r.height||Ct.forceUpdate))&&(_e.set(mr.id,{...mr,[internalsSymbol]:{...mr[internalsSymbol],handleBounds:{source:getHandleBounds(".source",Ct.nodeElement,Ht,lt),target:getHandleBounds(".target",Ct.nodeElement,Ht,lt)}},..._r}),ft.push({id:mr.id,type:"dimensions",dimensions:_r}))}return ft},[]);updateAbsoluteNodePositions(_e,lt);const _n=tt||et&&!tt&&fitView(_,{initial:!0,...nt});o({nodeInternals:new Map(_e),fitViewOnInitDone:_n}),(pr==null?void 0:pr.length)>0&&(j==null||j(pr))},updateNodePositions:($,j=!0,_e=!1)=>{const{triggerNodeChanges:et}=_(),tt=$.map(nt=>{const it={id:nt.id,type:"position",dragging:_e};return j&&(it.positionAbsolute=nt.positionAbsolute,it.position=nt.position),it});et(tt)},triggerNodeChanges:$=>{const{onNodesChange:j,nodeInternals:_e,hasDefaultNodes:et,nodeOrigin:tt,getNodes:nt,elevateNodesOnSelect:it}=_();if($!=null&&$.length){if(et){const lt=applyNodeChanges($,nt()),dt=createNodeInternals(lt,_e,tt,it);o({nodeInternals:dt})}j==null||j($)}},addSelectedNodes:$=>{const{multiSelectionActive:j,edges:_e,getNodes:et}=_();let tt,nt=null;j?tt=$.map(it=>createSelectionChange(it,!0)):(tt=getSelectionChanges(et(),$),nt=getSelectionChanges(_e,[])),updateNodesAndEdgesSelections({changedNodes:tt,changedEdges:nt,get:_,set:o})},addSelectedEdges:$=>{const{multiSelectionActive:j,edges:_e,getNodes:et}=_();let tt,nt=null;j?tt=$.map(it=>createSelectionChange(it,!0)):(tt=getSelectionChanges(_e,$),nt=getSelectionChanges(et(),[])),updateNodesAndEdgesSelections({changedNodes:nt,changedEdges:tt,get:_,set:o})},unselectNodesAndEdges:({nodes:$,edges:j}={})=>{const{edges:_e,getNodes:et}=_(),tt=$||et(),nt=j||_e,it=tt.map(dt=>(dt.selected=!1,createSelectionChange(dt.id,!1))),lt=nt.map(dt=>createSelectionChange(dt.id,!1));updateNodesAndEdgesSelections({changedNodes:it,changedEdges:lt,get:_,set:o})},setMinZoom:$=>{const{d3Zoom:j,maxZoom:_e}=_();j==null||j.scaleExtent([$,_e]),o({minZoom:$})},setMaxZoom:$=>{const{d3Zoom:j,minZoom:_e}=_();j==null||j.scaleExtent([_e,$]),o({maxZoom:$})},setTranslateExtent:$=>{var j;(j=_().d3Zoom)==null||j.translateExtent($),o({translateExtent:$})},resetSelectedElements:()=>{const{edges:$,getNodes:j}=_(),et=j().filter(nt=>nt.selected).map(nt=>createSelectionChange(nt.id,!1)),tt=$.filter(nt=>nt.selected).map(nt=>createSelectionChange(nt.id,!1));updateNodesAndEdgesSelections({changedNodes:et,changedEdges:tt,get:_,set:o})},setNodeExtent:$=>{const{nodeInternals:j}=_();j.forEach(_e=>{_e.positionAbsolute=clampPosition(_e.position,$)}),o({nodeExtent:$,nodeInternals:new Map(j)})},panBy:$=>{const{transform:j,width:_e,height:et,d3Zoom:tt,d3Selection:nt,translateExtent:it}=_();if(!tt||!nt||!$.x&&!$.y)return!1;const lt=identity$c.translate(j[0]+$.x,j[1]+$.y).scale(j[2]),dt=[[0,0],[_e,et]],bt=tt==null?void 0:tt.constrain()(lt,dt,it);return tt.transform(nt,bt),j[0]!==bt.x||j[1]!==bt.y||j[2]!==bt.k},cancelConnection:()=>o({connectionNodeId:initialState.connectionNodeId,connectionHandleId:initialState.connectionHandleId,connectionHandleType:initialState.connectionHandleType,connectionStatus:initialState.connectionStatus,connectionStartHandle:initialState.connectionStartHandle,connectionEndHandle:initialState.connectionEndHandle}),reset:()=>o({...initialState})}),Object.is),ReactFlowProvider=({children:o})=>{const _=reactExports.useRef(null);return _.current||(_.current=createRFStore()),React.createElement(Provider$1,{value:_.current},o)};ReactFlowProvider.displayName="ReactFlowProvider";const Wrapper=({children:o})=>reactExports.useContext(StoreContext)?React.createElement(React.Fragment,null,o):React.createElement(ReactFlowProvider,null,o);Wrapper.displayName="ReactFlowWrapper";const defaultNodeTypes={input:InputNode$1,default:DefaultNode$1,output:OutputNode$1,group:GroupNode},defaultEdgeTypes={default:BezierEdge,straight:StraightEdge,step:StepEdge,smoothstep:SmoothStepEdge,simplebezier:SimpleBezierEdge},initNodeOrigin=[0,0],initSnapGrid=[15,15],initDefaultViewport={x:0,y:0,zoom:1},wrapperStyle={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},ReactFlow=reactExports.forwardRef(({nodes:o,edges:_,defaultNodes:$,defaultEdges:j,className:_e,nodeTypes:et=defaultNodeTypes,edgeTypes:tt=defaultEdgeTypes,onNodeClick:nt,onEdgeClick:it,onInit:lt,onMove:dt,onMoveStart:bt,onMoveEnd:Ht,onConnect:pr,onConnectStart:_n,onConnectEnd:ft,onClickConnectStart:Ct,onClickConnectEnd:mr,onNodeMouseEnter:_r,onNodeMouseMove:mn,onNodeMouseLeave:dr,onNodeContextMenu:pn,onNodeDoubleClick:Do,onNodeDragStart:Io,onNodeDrag:Lo,onNodeDragStop:ms,onNodesDelete:Uo,onEdgesDelete:_s,onSelectionChange:yp,onSelectionDragStart:xs,onSelectionDrag:vs,onSelectionDragStop:Sp,onSelectionContextMenu:wp,onSelectionStart:bp,onSelectionEnd:Ep,connectionMode:Cp=ConnectionMode.Strict,connectionLineType:Ap=ConnectionLineType.Bezier,connectionLineStyle:Mp,connectionLineComponent:Pp,connectionLineContainerStyle:Ip,deleteKeyCode:Op="Backspace",selectionKeyCode:Wp="Shift",selectionOnDrag:Yp=!1,selectionMode:Zp=SelectionMode.Full,panActivationKeyCode:Qp="Space",multiSelectionKeyCode:Gp=isMacOs()?"Meta":"Control",zoomActivationKeyCode:rm=isMacOs()?"Meta":"Control",snapToGrid:Jp=!1,snapGrid:Up=initSnapGrid,onlyRenderVisibleElements:im=!1,selectNodesOnDrag:em=!0,nodesDraggable:gm,nodesConnectable:bm,nodesFocusable:ym,nodeOrigin:am=initNodeOrigin,edgesFocusable:fm,edgesUpdatable:vm,elementsSelectable:jp,defaultViewport:Rp=initDefaultViewport,minZoom:um=.5,maxZoom:_m=2,translateExtent:Cm=infiniteExtent,preventScrolling:Sm=!0,nodeExtent:zp,defaultMarkerColor:Dp="#b1b1b7",zoomOnScroll:kp=!0,zoomOnPinch:nm=!0,panOnScroll:lm=!1,panOnScrollSpeed:hm=.5,panOnScrollMode:Em=PanOnScrollMode.Free,zoomOnDoubleClick:Lp=!0,panOnDrag:cm=!0,onPaneClick:mm,onPaneMouseEnter:Vp,onPaneMouseMove:qp,onPaneMouseLeave:xm,onPaneScroll:Np,onPaneContextMenu:Hp,children:Mm,onEdgeContextMenu:Tp,onEdgeDoubleClick:dm,onEdgeMouseEnter:om,onEdgeMouseMove:Bp,onEdgeMouseLeave:sm,onEdgeUpdate:$m,onEdgeUpdateStart:Nm,onEdgeUpdateEnd:Im,onReconnect:jm,onReconnectStart:Bm,onReconnectEnd:by,reconnectRadius:Zm=10,edgeUpdaterRadius:Jm=10,onNodesChange:ny,onEdgesChange:gy,noDragClassName:yy="nodrag",noWheelClassName:Ty="nowheel",noPanClassName:Ay="nopan",fitView:ly=!1,fitViewOptions:my,connectOnClick:Xp=!0,attributionPosition:Tm,proOptions:Pm,defaultEdgeOptions:km,elevateNodesOnSelect:Rm=!0,elevateEdgesOnSelect:Fm=!1,disableKeyboardA11y:Wm=!1,autoPanOnConnect:Hm=!0,autoPanOnNodeDrag:qm=!0,connectionRadius:_g=20,isValidConnection:Qm,onError:ey,style:Ym,id:dy,nodeDragThreshold:_y,...Py},hy)=>{const Xm=dy||"1";return React.createElement("div",{...Py,style:{...Ym,...wrapperStyle},ref:hy,className:cc$1(["react-flow",_e]),"data-testid":"rf__wrapper",id:dy},React.createElement(Wrapper,null,React.createElement(GraphView$1,{onInit:lt,onMove:dt,onMoveStart:bt,onMoveEnd:Ht,onNodeClick:nt,onEdgeClick:it,onNodeMouseEnter:_r,onNodeMouseMove:mn,onNodeMouseLeave:dr,onNodeContextMenu:pn,onNodeDoubleClick:Do,nodeTypes:et,edgeTypes:tt,connectionLineType:Ap,connectionLineStyle:Mp,connectionLineComponent:Pp,connectionLineContainerStyle:Ip,selectionKeyCode:Wp,selectionOnDrag:Yp,selectionMode:Zp,deleteKeyCode:Op,multiSelectionKeyCode:Gp,panActivationKeyCode:Qp,zoomActivationKeyCode:rm,onlyRenderVisibleElements:im,selectNodesOnDrag:em,defaultViewport:Rp,translateExtent:Cm,minZoom:um,maxZoom:_m,preventScrolling:Sm,zoomOnScroll:kp,zoomOnPinch:nm,zoomOnDoubleClick:Lp,panOnScroll:lm,panOnScrollSpeed:hm,panOnScrollMode:Em,panOnDrag:cm,onPaneClick:mm,onPaneMouseEnter:Vp,onPaneMouseMove:qp,onPaneMouseLeave:xm,onPaneScroll:Np,onPaneContextMenu:Hp,onSelectionContextMenu:wp,onSelectionStart:bp,onSelectionEnd:Ep,onEdgeContextMenu:Tp,onEdgeDoubleClick:dm,onEdgeMouseEnter:om,onEdgeMouseMove:Bp,onEdgeMouseLeave:sm,onReconnect:jm??$m,onReconnectStart:Bm??Nm,onReconnectEnd:by??Im,reconnectRadius:Zm??Jm,defaultMarkerColor:Dp,noDragClassName:yy,noWheelClassName:Ty,noPanClassName:Ay,elevateEdgesOnSelect:Fm,rfId:Xm,disableKeyboardA11y:Wm,nodeOrigin:am,nodeExtent:zp}),React.createElement(StoreUpdater,{nodes:o,edges:_,defaultNodes:$,defaultEdges:j,onConnect:pr,onConnectStart:_n,onConnectEnd:ft,onClickConnectStart:Ct,onClickConnectEnd:mr,nodesDraggable:gm,nodesConnectable:bm,nodesFocusable:ym,edgesFocusable:fm,edgesUpdatable:vm,elementsSelectable:jp,elevateNodesOnSelect:Rm,minZoom:um,maxZoom:_m,nodeExtent:zp,onNodesChange:ny,onEdgesChange:gy,snapToGrid:Jp,snapGrid:Up,connectionMode:Cp,translateExtent:Cm,connectOnClick:Xp,defaultEdgeOptions:km,fitView:ly,fitViewOptions:my,onNodesDelete:Uo,onEdgesDelete:_s,onNodeDragStart:Io,onNodeDrag:Lo,onNodeDragStop:ms,onSelectionDrag:vs,onSelectionDragStart:xs,onSelectionDragStop:Sp,noPanClassName:Ay,nodeOrigin:am,rfId:Xm,autoPanOnConnect:Hm,autoPanOnNodeDrag:qm,onError:ey,connectionRadius:_g,isValidConnection:Qm,nodeDragThreshold:_y}),React.createElement(Wrapper$1,{onSelectionChange:yp}),Mm,React.createElement(Attribution,{proOptions:Pm,position:Tm}),React.createElement(A11yDescriptions,{rfId:Xm,disableKeyboardA11y:Wm})))});ReactFlow.displayName="ReactFlow";function createUseItemsState(o){return _=>{const[$,j]=reactExports.useState(_),_e=reactExports.useCallback(et=>j(tt=>o(et,tt)),[]);return[$,j,_e]}}const useNodesState=createUseItemsState(applyNodeChanges),useEdgesState=createUseItemsState(applyEdgeChanges),MiniMapNode=({id:o,x:_,y:$,width:j,height:_e,style:et,color:tt,strokeColor:nt,strokeWidth:it,className:lt,borderRadius:dt,shapeRendering:bt,onClick:Ht,selected:pr})=>{const{background:_n,backgroundColor:ft}=et||{},Ct=tt||_n||ft;return React.createElement("rect",{className:cc$1(["react-flow__minimap-node",{selected:pr},lt]),x:_,y:$,rx:dt,ry:dt,width:j,height:_e,fill:Ct,stroke:nt,strokeWidth:it,shapeRendering:bt,onClick:Ht?mr=>Ht(mr,o):void 0})};MiniMapNode.displayName="MiniMapNode";var MiniMapNode$1=reactExports.memo(MiniMapNode);const selector$1$1=o=>o.nodeOrigin,selectorNodes=o=>o.getNodes().filter(_=>!_.hidden&&_.width&&_.height),getAttrFunction=o=>o instanceof Function?o:()=>o;function MiniMapNodes({nodeStrokeColor:o="transparent",nodeColor:_="#e2e2e2",nodeClassName:$="",nodeBorderRadius:j=5,nodeStrokeWidth:_e=2,nodeComponent:et=MiniMapNode$1,onClick:tt}){const nt=useStore(selectorNodes,shallow$1),it=useStore(selector$1$1),lt=getAttrFunction(_),dt=getAttrFunction(o),bt=getAttrFunction($),Ht=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return React.createElement(React.Fragment,null,nt.map(pr=>{const{x:_n,y:ft}=getNodePositionWithOrigin(pr,it).positionAbsolute;return React.createElement(et,{key:pr.id,x:_n,y:ft,width:pr.width,height:pr.height,style:pr.style,selected:pr.selected,className:bt(pr),color:lt(pr),borderRadius:j,strokeColor:dt(pr),strokeWidth:_e,shapeRendering:Ht,onClick:tt,id:pr.id})}))}var MiniMapNodes$1=reactExports.memo(MiniMapNodes);const defaultWidth=200,defaultHeight=150,selector$2=o=>{const _=o.getNodes(),$={x:-o.transform[0]/o.transform[2],y:-o.transform[1]/o.transform[2],width:o.width/o.transform[2],height:o.height/o.transform[2]};return{viewBB:$,boundingRect:_.length>0?getBoundsOfRects(getNodesBounds(_,o.nodeOrigin),$):$,rfId:o.rfId}},ARIA_LABEL_KEY="react-flow__minimap-desc";function MiniMap({style:o,className:_,nodeStrokeColor:$="transparent",nodeColor:j="#e2e2e2",nodeClassName:_e="",nodeBorderRadius:et=5,nodeStrokeWidth:tt=2,nodeComponent:nt,maskColor:it="rgb(240, 240, 240, 0.6)",maskStrokeColor:lt="none",maskStrokeWidth:dt=1,position:bt="bottom-right",onClick:Ht,onNodeClick:pr,pannable:_n=!1,zoomable:ft=!1,ariaLabel:Ct="React Flow mini map",inversePan:mr=!1,zoomStep:_r=10,offsetScale:mn=5}){const dr=useStoreApi(),pn=reactExports.useRef(null),{boundingRect:Do,viewBB:Io,rfId:Lo}=useStore(selector$2,shallow$1),ms=(o==null?void 0:o.width)??defaultWidth,Uo=(o==null?void 0:o.height)??defaultHeight,_s=Do.width/ms,yp=Do.height/Uo,xs=Math.max(_s,yp),vs=xs*ms,Sp=xs*Uo,wp=mn*xs,bp=Do.x-(vs-Do.width)/2-wp,Ep=Do.y-(Sp-Do.height)/2-wp,Cp=vs+wp*2,Ap=Sp+wp*2,Mp=`${ARIA_LABEL_KEY}-${Lo}`,Pp=reactExports.useRef(0);Pp.current=xs,reactExports.useEffect(()=>{if(pn.current){const Wp=select(pn.current),Yp=Gp=>{const{transform:rm,d3Selection:Jp,d3Zoom:Up}=dr.getState();if(Gp.sourceEvent.type!=="wheel"||!Jp||!Up)return;const im=-Gp.sourceEvent.deltaY*(Gp.sourceEvent.deltaMode===1?.05:Gp.sourceEvent.deltaMode?1:.002)*_r,em=rm[2]*Math.pow(2,im);Up.scaleTo(Jp,em)},Zp=Gp=>{const{transform:rm,d3Selection:Jp,d3Zoom:Up,translateExtent:im,width:em,height:gm}=dr.getState();if(Gp.sourceEvent.type!=="mousemove"||!Jp||!Up)return;const bm=Pp.current*Math.max(1,rm[2])*(mr?-1:1),ym={x:rm[0]-Gp.sourceEvent.movementX*bm,y:rm[1]-Gp.sourceEvent.movementY*bm},am=[[0,0],[em,gm]],fm=identity$c.translate(ym.x,ym.y).scale(rm[2]),vm=Up.constrain()(fm,am,im);Up.transform(Jp,vm)},Qp=zoom().on("zoom",_n?Zp:null).on("zoom.wheel",ft?Yp:null);return Wp.call(Qp),()=>{Wp.on("zoom",null)}}},[_n,ft,mr,_r]);const Ip=Ht?Wp=>{const Yp=pointer(Wp);Ht(Wp,{x:Yp[0],y:Yp[1]})}:void 0,Op=pr?(Wp,Yp)=>{const Zp=dr.getState().nodeInternals.get(Yp);pr(Wp,Zp)}:void 0;return React.createElement(Panel,{position:bt,style:o,className:cc$1(["react-flow__minimap",_]),"data-testid":"rf__minimap"},React.createElement("svg",{width:ms,height:Uo,viewBox:`${bp} ${Ep} ${Cp} ${Ap}`,role:"img","aria-labelledby":Mp,ref:pn,onClick:Ip},Ct&&React.createElement("title",{id:Mp},Ct),React.createElement(MiniMapNodes$1,{onClick:Op,nodeColor:j,nodeStrokeColor:$,nodeBorderRadius:et,nodeClassName:_e,nodeStrokeWidth:tt,nodeComponent:nt}),React.createElement("path",{className:"react-flow__minimap-mask",d:`M${bp-wp},${Ep-wp}h${Cp+wp*2}v${Ap+wp*2}h${-Cp-wp*2}z
        M${Io.x},${Io.y}h${Io.width}v${Io.height}h${-Io.width}z`,fill:it,fillRule:"evenodd",stroke:lt,strokeWidth:dt,pointerEvents:"none"})))}MiniMap.displayName="MiniMap";var MiniMap$1=reactExports.memo(MiniMap);function PlusIcon(){return React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},React.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function MinusIcon(){return React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},React.createElement("path",{d:"M0 0h32v4.2H0z"}))}function FitViewIcon(){return React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},React.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function LockIcon(){return React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},React.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function UnlockIcon(){return React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},React.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const ControlButton=({children:o,className:_,...$})=>React.createElement("button",{type:"button",className:cc$1(["react-flow__controls-button",_]),...$},o);ControlButton.displayName="ControlButton";const selector$1=o=>({isInteractive:o.nodesDraggable||o.nodesConnectable||o.elementsSelectable,minZoomReached:o.transform[2]<=o.minZoom,maxZoomReached:o.transform[2]>=o.maxZoom}),Controls=({style:o,showZoom:_=!0,showFitView:$=!0,showInteractive:j=!0,fitViewOptions:_e,onZoomIn:et,onZoomOut:tt,onFitView:nt,onInteractiveChange:it,className:lt,children:dt,position:bt="bottom-left"})=>{const Ht=useStoreApi(),[pr,_n]=reactExports.useState(!1),{isInteractive:ft,minZoomReached:Ct,maxZoomReached:mr}=useStore(selector$1,shallow$1),{zoomIn:_r,zoomOut:mn,fitView:dr}=useReactFlow();if(reactExports.useEffect(()=>{_n(!0)},[]),!pr)return null;const pn=()=>{_r(),et==null||et()},Do=()=>{mn(),tt==null||tt()},Io=()=>{dr(_e),nt==null||nt()},Lo=()=>{Ht.setState({nodesDraggable:!ft,nodesConnectable:!ft,elementsSelectable:!ft}),it==null||it(!ft)};return React.createElement(Panel,{className:cc$1(["react-flow__controls",lt]),position:bt,style:o,"data-testid":"rf__controls"},_&&React.createElement(React.Fragment,null,React.createElement(ControlButton,{onClick:pn,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:mr},React.createElement(PlusIcon,null)),React.createElement(ControlButton,{onClick:Do,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:Ct},React.createElement(MinusIcon,null))),$&&React.createElement(ControlButton,{className:"react-flow__controls-fitview",onClick:Io,title:"fit view","aria-label":"fit view"},React.createElement(FitViewIcon,null)),j&&React.createElement(ControlButton,{className:"react-flow__controls-interactive",onClick:Lo,title:"toggle interactivity","aria-label":"toggle interactivity"},ft?React.createElement(UnlockIcon,null):React.createElement(LockIcon,null)),dt)};Controls.displayName="Controls";var Controls$1=reactExports.memo(Controls),BackgroundVariant;(function(o){o.Lines="lines",o.Dots="dots",o.Cross="cross"})(BackgroundVariant||(BackgroundVariant={}));function LinePattern({color:o,dimensions:_,lineWidth:$}){return React.createElement("path",{stroke:o,strokeWidth:$,d:`M${_[0]/2} 0 V${_[1]} M0 ${_[1]/2} H${_[0]}`})}function DotPattern({color:o,radius:_}){return React.createElement("circle",{cx:_,cy:_,r:_,fill:o})}const defaultColor={[BackgroundVariant.Dots]:"#91919a",[BackgroundVariant.Lines]:"#eee",[BackgroundVariant.Cross]:"#e2e2e2"},defaultSize={[BackgroundVariant.Dots]:1,[BackgroundVariant.Lines]:1,[BackgroundVariant.Cross]:6},selector=o=>({transform:o.transform,patternId:`pattern-${o.rfId}`});function Background$1({id:o,variant:_=BackgroundVariant.Dots,gap:$=20,size:j,lineWidth:_e=1,offset:et=2,color:tt,style:nt,className:it}){const lt=reactExports.useRef(null),{transform:dt,patternId:bt}=useStore(selector,shallow$1),Ht=tt||defaultColor[_],pr=j||defaultSize[_],_n=_===BackgroundVariant.Dots,ft=_===BackgroundVariant.Cross,Ct=Array.isArray($)?$:[$,$],mr=[Ct[0]*dt[2]||1,Ct[1]*dt[2]||1],_r=pr*dt[2],mn=ft?[_r,_r]:mr,dr=_n?[_r/et,_r/et]:[mn[0]/et,mn[1]/et];return React.createElement("svg",{className:cc$1(["react-flow__background",it]),style:{...nt,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:lt,"data-testid":"rf__background"},React.createElement("pattern",{id:bt+o,x:dt[0]%mr[0],y:dt[1]%mr[1],width:mr[0],height:mr[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${dr[0]},-${dr[1]})`},_n?React.createElement(DotPattern,{color:Ht,radius:_r/et}):React.createElement(LinePattern,{dimensions:mn,color:Ht,lineWidth:_e})),React.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${bt+o})`}))}Background$1.displayName="Background";var Background$1$1=reactExports.memo(Background$1);const dataCache={},Tooltip$1=({details:o,position:_,containerRef:$,apiUrl:j})=>{const[_e,et]=reactExports.useState({x:0,y:0}),[tt,nt]=reactExports.useState(null),[it,lt]=reactExports.useState(!1),[dt,bt]=reactExports.useState(null);reactExports.useEffect(()=>{if($.current&&_){const pr=$.current.getBoundingClientRect(),_n=_.x-pr.left+40,ft=_.y-pr.top;et({x:_n,y:ft})}},[_]);const Ht=reactExports.useCallback(async pr=>{if(dataCache[pr]){nt(dataCache[pr]);return}lt(!0);try{const Ct=(await(await fetch(`${j}/nodes/${pr}`)).json()).data.nodes[0];dataCache[pr]=Ct,nt(Ct)}catch(_n){bt(_n)}finally{lt(!1)}},[j]);return reactExports.useEffect(()=>{o&&o.uuid&&Ht(o.uuid)},[o,Ht]),o?jsxRuntimeExports$1.jsxs("div",{className:"absolute bg-white z-50 text-gray-800 border border-gray-200 rounded-lg shadow-md p-4 text-sm",style:{top:_e.y,left:_e.x},children:[it&&jsxRuntimeExports$1.jsx("div",{children:"Loading..."}),dt&&jsxRuntimeExports$1.jsxs("div",{children:["Error: ",dt.message]}),tt&&jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsxs("div",{className:"mb-2 flex items-center",children:[jsxRuntimeExports$1.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-500 mr-2"}),jsxRuntimeExports$1.jsx("span",{className:"font-semibold",children:"ID : "})," ",tt.id]}),jsxRuntimeExports$1.jsxs("div",{className:"mb-2 flex items-center",children:[jsxRuntimeExports$1.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500 mr-2"}),jsxRuntimeExports$1.jsx("span",{className:"font-semibold",children:"UUID : "})," ",tt.uuid]}),jsxRuntimeExports$1.jsxs("div",{className:"mb-2 flex items-center",children:[jsxRuntimeExports$1.jsx("div",{className:"h-3 w-3 rounded-full bg-orange-500 mr-2"}),jsxRuntimeExports$1.jsx("span",{className:"font-semibold",children:"Type : "})," ",tt.node_type]}),jsxRuntimeExports$1.jsxs("div",{className:"mb-2 flex items-center",children:[jsxRuntimeExports$1.jsx("div",{className:"h-3 w-3 rounded-full bg-red-500 mr-2"}),jsxRuntimeExports$1.jsx("span",{className:"font-semibold",children:"Created : "})," ",tt.ctime]}),jsxRuntimeExports$1.jsxs("div",{className:"mb-2 flex items-center",children:[jsxRuntimeExports$1.jsx("div",{className:"h-3 w-3 rounded-full bg-gray-500 mr-2"}),jsxRuntimeExports$1.jsx("span",{className:"font-semibold",children:"Modified : "})," ",tt.mtime]}),tt.process_type&&jsxRuntimeExports$1.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports$1.jsx("div",{className:"h-3 w-3 rounded-full bg-indigo-500 mr-2"}),jsxRuntimeExports$1.jsx("span",{className:"font-semibold",children:"Process Type : "})," ",tt.process_type]})]})]}):null},CustomEdge=({id:o,sourceX:_,sourceY:$,targetX:j,targetY:_e,sourcePosition:et,targetPosition:tt,style:nt={},data:it,markerEnd:lt})=>{const[dt,bt]=reactExports.useState(!1),[Ht,pr]=reactExports.useState(!1);reactExports.useEffect(()=>{_!=null&&$!=null&&j!=null&&_e!=null&&bt(!0)},[_,$,j,_e]);const _n=reactExports.useCallback(()=>{pr(!0)},[]),ft=reactExports.useCallback(()=>{pr(!1)},[]);if(!dt)return jsxRuntimeExports$1.jsx("path",{id:o,style:{...nt,strokeWidth:1,stroke:"#d1d5db"},d:`M${_},${$} L${j},${_e}`});const[Ct]=getSmoothStepPath({sourceX:_,sourceY:$,sourcePosition:et,targetX:j,targetY:_e,targetPosition:tt});let mr=_+60,_r=$;it.index&&(mr=j-60,_r=_e);const mn=it!=null&&it.label?it.label.length*6:0,dr=14,pn=4,Do=(it==null?void 0:it.showLabel)||Ht,Io=it.isPreviouslySelected?"blue":"#d1d5db";return jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsx("path",{d:Ct,fill:"none",stroke:"transparent",strokeWidth:20,onMouseEnter:_n,onMouseLeave:ft}),jsxRuntimeExports$1.jsx("path",{id:o,style:{...nt,strokeWidth:it.isPreviouslySelected?3:1,stroke:Io,transition:"all 0.3s ease-in-out"},className:"react-flow__edge-path",d:Ct,markerEnd:lt}),Do&&(it==null?void 0:it.label)&&jsxRuntimeExports$1.jsxs("g",{transform:`translate(${mr}, ${_r})`,children:[jsxRuntimeExports$1.jsx("rect",{x:-mn/2-pn,y:-dr/2-pn,width:mn+2*pn,height:dr+2*pn,fill:"white",stroke:"#d1d5db",strokeWidth:"1",rx:"4",ry:"4"}),jsxRuntimeExports$1.jsx("text",{x:0,y:0,className:"react-flow__edge-text",textAnchor:"middle",dominantBaseline:"middle",style:{fontSize:12,fill:"#374151"},children:it.label})]})]})},apiCache={},getNodeStyle=(o,_)=>{if(!o)return{background:"#FFCC80",borderRadius:"4px",width:"150px",height:"60px",display:"flex",justifyContent:"center",alignItems:"center",border:_?"2px solid blue":"1px solid #000",transition:"all 0.3s ease-in-out",overflow:"hidden"};switch(o.toLowerCase()){case"calcjobnode":return{background:"#F5B1CD",borderRadius:"4px",width:"170px",height:"80px",display:"flex",justifyContent:"center",alignItems:"center",border:_?"2px solid blue":"1px solid #000",transition:"all 0.3s ease-in-out",overflow:"hidden"};case"workchainnode":return{background:"#f5b7b1",borderRadius:"4px",width:"170px",height:"80px",display:"flex",justifyContent:"center",alignItems:"center",border:_?"2px solid blue":"1px solid #000",transition:"all 0.3s ease-in-out",overflow:"hidden"};default:return{background:"#82e0aa",borderRadius:"4px",width:"150px",height:"60px",display:"flex",justifyContent:"center",alignItems:"center",border:_?"2px solid blue":"1px solid #000",transition:"all 0.3s ease-in-out",overflow:"hidden"}}},CustomNode=({data:o})=>{const[_,$]=reactExports.useState(""),[j,_e]=reactExports.useState(o.label);reactExports.useState(!1),reactExports.useState({x:0,y:0});const et=reactExports.useRef(null),tt=nt=>{if(!nt)return"";const it=nt.split(".");return it[it.length-2]};return reactExports.useEffect(()=>{(async()=>{var it,lt,dt,bt,Ht,pr,_n;try{if(apiCache[o.uuid]){const ft=apiCache[o.uuid];_e(ft.label),$(ft.subtitle)}else{const[ft,Ct,mr]=await Promise.all([fetch(`https://aiida.materialscloud.org/mc3d/api/v4/nodes/${o.uuid}`),fetch(`https://aiida.materialscloud.org/mc3d/api/v4/nodes/${o.uuid}/contents/attributes`),fetch(`https://aiida.materialscloud.org/mc3d/api/v4/nodes/${o.uuid}/contents/derived_properties`)]);let _r="";if(mr.ok){const pn=(lt=(it=(await mr.json()).data)==null?void 0:it.derived_properties)==null?void 0:lt.formula;pn&&(_r=pn)}if(!_r&&Ct.ok){const pn=(bt=(dt=(await Ct.json()).data)==null?void 0:dt.attributes)==null?void 0:bt.value;pn!=null&&(_r=String(pn))}if(ft.ok){const dr=await ft.json(),pn=tt(dr.data.nodes[0].node_type);_e(pn);const Do=(_n=(pr=(Ht=dr.data)==null?void 0:Ht.nodes)==null?void 0:pr[0])==null?void 0:_n.process_type;if(Do){const Io=Do.split(":");_r=Io.length>1?Io[1]:Do}}const mn={subtitle:_r,label:o.label};apiCache[o.uuid]=mn,$(_r)}}catch(ft){console.error("Error fetching node data:",ft),$("")}})()},[o.uuid,o.label]),console.log("labelRe:",j),jsxRuntimeExports$1.jsxs("div",{ref:et,style:getNodeStyle(o.label),children:[jsxRuntimeExports$1.jsx(Handle$1,{type:"target",position:Position.Left,style:{background:"#555"},onConnect:nt=>console.log("handle onConnect",nt)}),jsxRuntimeExports$1.jsxs("div",{className:"flex-col",children:[jsxRuntimeExports$1.jsx("div",{className:"text-sm text-center whitespace-nowrap overflow-hidden overflow-ellipsis",children:j}),_&&jsxRuntimeExports$1.jsx("div",{className:"text-xs font-thin text-center whitespace-nowrap overflow-hidden overflow-ellipsis mt-1",children:jsxRuntimeExports$1.jsx("i",{children:_})})]}),jsxRuntimeExports$1.jsx(Handle$1,{type:"source",position:Position.Right,style:{background:"#555"},onConnect:nt=>console.log("handle onConnect",nt)})]})},CustomNode$1=reactExports.memo(CustomNode),CENTRAL_X=600,CENTRAL_Y=300,INPUT_X=200,OUTPUT_X=1e3,LoadMoreNode=({data:o})=>jsxRuntimeExports$1.jsxs("div",{className:"load-more-node",style:{background:"#f0f0f0",border:"1px solid #ccc",borderRadius:"8px",padding:"16px",textAlign:"center",cursor:"pointer"},onClick:()=>o.onClick(o.type),children:["Load More (",o.count,")"]}),labelNode=({data:o})=>jsxRuntimeExports$1.jsx("div",{className:"px-3 text-center font-mono text-emerald-700 flex justify-center text-xl",style:{background:"transparent",border:"1px solid #ccf",color:"black",textAlign:"center",cursor:"default"},children:o.label.toUpperCase()}),nodeTypes={custom:React.memo(CustomNode$1),loadMore:LoadMoreNode,label:labelNode},edgeTypes={custom:CustomEdge},GraphBrowser=({apiUrl:o})=>{const _=useNavigate(),{uuid:$}=useParams(),[j,_e,et]=useNodesState([]),[tt,nt,it]=useEdgesState([]),[lt,dt]=reactExports.useState({}),[bt,Ht]=reactExports.useState([]),[pr,_n]=reactExports.useState(null),[ft,Ct]=reactExports.useState({x:null,y:null}),mr=reactExports.useRef(null),_r=reactExports.useRef(null),[mn,dr]=reactExports.useState(!1),[pn,Do]=reactExports.useState(!0),[Io,Lo]=reactExports.useState(!1),[ms,Uo]=reactExports.useState(null),[_s,yp]=reactExports.useState(!1),[xs,vs]=reactExports.useState("idle"),[Sp,wp]=reactExports.useState(null),[bp,Ep]=reactExports.useState([]),Cp=`${o}`,Ap=reactExports.useCallback(ym=>{_e(am=>{const fm=am.findIndex(kp=>kp.id===`loadMore-${ym}`);if(fm===-1)return am;const vm=am[fm],{remainingNodes:jp}=vm.data,Rp=jp.slice(0,10),um=jp.slice(10);let _m=vm.position.y;const Cm=ym.includes("Logical")?70:100,Sm=ym.includes("input")?INPUT_X:OUTPUT_X,zp=Rp.map(kp=>(_m+=Cm,Yp(kp,Sm,_m))),Dp=Rp.map((kp,nm)=>Zp(ym.includes("input")?kp.uuid:$,ym.includes("input")?$:kp.uuid,kp.link_label,!ym.includes("input"),am.filter(lm=>lm.type==="custom").length+nm));return nt(kp=>[...kp,...Dp]),um.length>0?[...am.slice(0,fm),...zp,{...vm,data:{...vm.data,count:um.length,remainingNodes:um},position:{x:Sm,y:_m+Cm}},...am.slice(fm+1)]:[...am.slice(0,fm),...zp,...am.slice(fm+1)]})},[$,_e,nt]),Mp=ym=>{if(!ym)return"";const am=ym.split(".");return am[am.length-2]},Pp=async ym=>{try{const vm=(await(await fetch(`${Cp}/nodes/${ym}`)).json()).data.nodes[0],jp=vm.node_type,Rp=vm.label||Mp(jp);return console.log(`Fetched central node: ${ym}, Label: ${Rp}, Type: ${jp}`),{nodeType:jp,label:Rp}}catch(am){return console.error("Error fetching central node:",am),null}};reactExports.useEffect(()=>{(async()=>{if($){const am=await Pp($);am&&(Uo(am.label),console.log(am.label,"-->Central"))}})()},[$]);const Ip=async(ym,am,fm="incoming",vm=0)=>{let jp=`${Cp}/nodes/${ym}/links/${fm}`;jp+=`?orderby=+ctime&full_type="${am}"`;try{console.log("Fetching URL:",jp);const Rp=await fetch(jp),um=await Rp.json();return{totalCount:Rp.headers.get("X-Total-Count"),links:fm==="incoming"?um.data.incoming:um.data.outgoing}}catch(Rp){return console.error("Error:",Rp),{totalCount:0,links:[]}}},Op=async ym=>{try{const am=await Ip(ym,"process.%25%7C%25","incoming"),fm=await Ip(ym,"data.%25%7C%25","incoming"),vm=await Ip(ym,"process.%25%7C%25","outgoing"),jp=await Ip(ym,"data.%25%7C%25","outgoing");return{inputLogical:am,inputData:fm,outputLogical:vm,outputData:jp}}catch(am){return console.error("Error:",am),null}},Wp=(ym="id")=>`${ym}-${Math.random().toString(36).substr(2,9)}`;reactExports.useEffect(()=>{(async()=>{if($){const am=await Pp($);am&&(Uo(am.label),console.log(am.label,"-->Central"),_e(fm=>fm.map(vm=>vm.id===$?{...vm,data:{...vm.data,label:am.label}}:vm)))}})()},[$]);const Yp=reactExports.useCallback((ym,am,fm,vm={})=>{const jp=ym.uuid===$,Rp=ym.uuid===Sp;let um;return jp?um=ym.label||ms||Mp(ym.node_type):um=Mp(ym.node_type),jp&&!um&&(um="Central Node"),console.log(`Creating node: ${ym.uuid}, Label: ${um}, IsCentral: ${jp}`),{id:ym.uuid,type:"custom",data:{label:um,uuid:ym.uuid,isPreviouslySelected:Rp,isCentralNode:jp},position:{x:am,y:fm},sourcePosition:"right",targetPosition:"left",style:vm}},[$,ms,Sp]),Zp=reactExports.useCallback((ym,am,fm,vm,jp)=>({id:Wp(`e${ym}-${am}`),source:ym,target:am,type:"custom",data:{label:fm,showLabel:pn,index:vm?jp+1:void 0,isPreviouslySelected:ym===Sp||am===Sp},markerEnd:{type:MarkerType.ArrowClosed,width:20,height:20,color:"#808080"},style:{strokeWidth:1,stroke:"#808080"}}),[pn,Sp]),Qp=async ym=>{if(lt[ym]){console.log("Using cached data for",ym),Gp(ym);return}try{console.log("Fetching data for",ym);const am=await Op(ym);if(console.log("Received data:",am),!am){console.log("No data received");return}const fm={...lt};fm[ym]=am,dt(fm),rm(am,ym)}catch(am){console.error("Error fetching nodes:",am)}},Gp=ym=>{const am=lt[ym];rm(am,ym)},rm=(ym,am)=>{const fm=[],vm=[],jp=j.find(Cm=>Cm.id===am),Rp=jp?jp.data.label:null,um=Yp({uuid:am,node_type:"central",label:Rp},CENTRAL_X,CENTRAL_Y+100);fm.push(um);const _m=(Cm,Sm,zp,Dp,kp,nm=!1)=>{if(Cm.length===0)return;let lm=zp;const hm=nm?Cm.slice().reverse():Cm,Em={id:`dummy-${kp}`,type:"label",data:{label:kp},position:{x:Sm,y:zp-Dp},style:{backgroundColor:"transparent",border:"none",color:"transparent"}};if(fm.push(Em),vm.push(Zp(Em.id,Em.id,"",!1,0)),hm.slice(0,10).forEach((Lp,cm)=>{const mm=Yp(Lp,Sm,lm);fm.push(mm),mm.originalPosition={x:Sm,y:lm},vm.push(Zp(kp.includes("input")?Lp.uuid:am,kp.includes("input")?am:Lp.uuid,Lp.link_label,!kp.includes("input"),cm)),lm+=Dp}),Cm.length>10){const Lp={id:`loadMore-${kp}`,type:"loadMore",data:{count:Cm.length-10,type:kp,onClick:Ap,remainingNodes:Cm.slice(10)},position:{x:Sm,y:lm}},cm={id:`loadEdge-${kp}`,type:"custom",source:`loadMore-${kp}`,target:um,data:{count:Cm.length-10,type:kp,onClick:Ap,remainingNodes:Cm.slice(10)},position:{x:Sm,y:lm}};fm.push(Lp),vm.push(cm)}};_m(ym.inputLogical.links,INPUT_X,CENTRAL_Y-300,100,"logical Input",!0),_m(ym.inputData.links,INPUT_X,CENTRAL_Y,100,"input Data"),_m(ym.outputLogical.links,OUTPUT_X,CENTRAL_Y-300,100,"logical Output",!0),_m(ym.outputData.links,OUTPUT_X,CENTRAL_Y,100,"output Data"),_e(fm),nt(vm)};reactExports.useEffect(()=>{Qp($)},[$]);const Jp=reactExports.useCallback((ym,am)=>{if(am.type==="loadMore"){Ap(am.data.type);return}const{uuid:fm}=am.data;wp(fm),Ht(vm=>[...vm,fm]),yp(!0),vs("shrinking"),Ep(vm=>[...vm,{nodes:j,edges:tt,centralNode:fm,label:am.data.label}].slice(-5)),_e(vm=>vm.map(jp=>({...jp,position:{x:CENTRAL_X,y:CENTRAL_Y},style:{...jp.style,transition:"all 0.5s ease-in-out"},data:{...jp.data,label:jp.data.label}}))),nt(vm=>vm.map(jp=>({...jp,style:{...jp.style,opacity:0,transition:"opacity 0.5s ease-in-out"}}))),setTimeout(()=>{Qp(fm),vs("expanding"),setTimeout(()=>{_e(vm=>vm.map(jp=>({...jp,position:jp.position,style:{...jp.style,transition:"all 0.5s ease-in-out"}}))),nt(vm=>vm.map(jp=>({...jp,style:{...jp.style,opacity:1,transition:"opacity 0.5s ease-in-out"}}))),setTimeout(()=>{yp(!1),vs("idle")},500)},100)},500),_(`/mc3d/details/${fm}`)},[_,o,Qp]);reactExports.useCallback(ym=>{const{nodes:am,edges:fm,centralNode:vm}=bp[ym];wp(vm),_e(am.map(jp=>({...jp,data:{...jp.data,isPreviouslySelected:jp.id===vm}}))),nt(fm.map(jp=>({...jp,data:{...jp.data,isPreviouslySelected:jp.source===vm||jp.target===vm}}))),_(`/mc3d/details/${vm}`),Ep(bp.slice(0,ym+1))},[bp,_]);const Up=(ym,am)=>{clearTimeout(mr.current),console.log(am),_n(am.data);const fm=_r.current.getBoundingClientRect();Ct({x:ym.clientX,y:ym.clientY-fm.top})},im=()=>{mr.current=setTimeout(()=>{_n(null)},500)},em=()=>dr(!mn),gm=()=>{Do(ym=>!ym),nt(ym=>ym.map(am=>({...am,data:{...am.data,showLabel:!pn}})))},bm=()=>Lo(!Io);return jsxRuntimeExports$1.jsx("div",{ref:_r,className:"h-full relative",children:jsxRuntimeExports$1.jsxs(ReactFlowProvider,{children:[jsxRuntimeExports$1.jsxs(ReactFlow,{nodes:j,edges:tt,onNodesChange:et,onEdgesChange:it,onNodeClick:Jp,onNodeMouseEnter:Up,onNodeMouseLeave:im,nodeTypes,edgeTypes,nodesDraggable:!1,nodesConnectable:!1,fitView:!0,children:[jsxRuntimeExports$1.jsx(MiniMap$1,{}),jsxRuntimeExports$1.jsx(Controls$1,{style:{backgroundColor:"#fff"},children:jsxRuntimeExports$1.jsx("button",{className:"m-auto  bg-slate-300",title:"Show/Hide Buttons",onClick:em,style:{backgroundColor:"transparent",color:"black"},children:jsxRuntimeExports$1.jsx(FaArrowUp,{className:"p-auto text-orange-700 items-center flex justify-center m-1 mt-2 mb-0"})})}),jsxRuntimeExports$1.jsx(Background$1$1,{})]}),pr&&jsxRuntimeExports$1.jsx(Tooltip$1,{apiUrl:o,details:pr,position:ft,containerRef:_r}),mn&&jsxRuntimeExports$1.jsxs("div",{className:"fixed bottom-16 right-1/4 transform translate-x-1/2 flex justify-between items-center w-full max-w-xs bg-white p-4 rounded-lg shadow-lg",children:[jsxRuntimeExports$1.jsx("button",{onClick:gm,className:"bg-green-200 hover:bg-green-300 text-green-700 font-bold py-2 px-4 rounded-full ml-2",children:pn?jsxRuntimeExports$1.jsx(FaEyeSlash,{}):jsxRuntimeExports$1.jsx(FaEye,{})}),jsxRuntimeExports$1.jsx("button",{onClick:bm,className:"bg-red-200 hover:bg-red-300 text-red-700 font-bold py-2 px-4 rounded-full ml-2",children:Io?jsxRuntimeExports$1.jsx(FaEyeSlash,{}):jsxRuntimeExports$1.jsx(FaShapes,{})})]}),Io&&jsxRuntimeExports$1.jsx("div",{className:"absolute w-full bottom-24 bg-blue-200 p-2 rounded-lg shadow-lg",children:jsxRuntimeExports$1.jsx("div",{className:"flex items-center space-x-2",children:bt.map((ym,am)=>jsxRuntimeExports$1.jsxs("span",{className:"text-blue-700 text-xs",children:[ym,am<bt.length-1&&jsxRuntimeExports$1.jsx("span",{className:"mx-1",children:"->"})]},ym))})})]})})},BrowserSelection=({uuid:o,apiUrl:_})=>{const[$,j]=reactExports.useState(!0),[_e,et]=reactExports.useState("local"),tt=()=>{j(!$)};return jsxRuntimeExports$1.jsxs("div",{className:"flex z-50 h-full ",children:[jsxRuntimeExports$1.jsx("div",{className:"flex-1 overflow-y-auto",children:_e==="local"?jsxRuntimeExports$1.jsx(GraphBrowser,{uuid:o,apiUrl:_}):jsxRuntimeExports$1.jsx(GraphBrowser,{uuid:o,apiUrl:_})}),jsxRuntimeExports$1.jsxs("div",{className:`relative flex flex-col items-center p-2 transition-all duration-300 ${$?"w-0":"w-20 bg-gray-200 text-gray-800"}`,children:[!$&&jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsx("button",{onClick:()=>et("local"),className:`flex items-center justify-center w-full px-4 py-2 mb-4  transition-colors duration-300 ${_e==="local"?"bg-blue-100 border-[1px] border-gray-400":"bg-blue-50 text-gray-800 hover:bg-blue-200"}`,children:jsxRuntimeExports$1.jsx(FaMapMarkerAlt,{})}),jsxRuntimeExports$1.jsx("button",{onClick:()=>et("global"),className:`flex items-center justify-center w-full px-4 py-2 mb-4 transition-colors duration-300 ${_e==="global"?"bg-blue-100":"bg-blue-50 text-gray-800 hover:bg-blue-200"}`,children:jsxRuntimeExports$1.jsx(FaGlobe,{})})]}),jsxRuntimeExports$1.jsx("button",{className:`absolute top-1/2 transform -translate-y-1/2 transition-transform duration-300 ${$?"translate-x-full":"translate-x-0"}`,onClick:tt,children:$?jsxRuntimeExports$1.jsx(FaBars,{className:"text-gray-800 "}):jsxRuntimeExports$1.jsx(FaChevronRight,{className:"text-gray-800"})})]})]})},ExtraContent=({uuid:o,apiUrl:_})=>{const[$,j]=reactExports.useState(null),[_e,et]=reactExports.useState(null);return reactExports.useEffect(()=>{fetch(`${_}/nodes/${o}/contents/extras`).then(tt=>{if(!tt.ok)throw new Error("Network response was not ok");return tt.json()}).then(tt=>j(tt)).catch(tt=>et(tt.message))},[_,o]),_e?jsxRuntimeExports$1.jsxs("div",{children:["Error: ",_e]}):$?jsxRuntimeExports$1.jsx("div",{className:"p-2 border-2 border-gray-50 rounded shadow-md",children:jsxRuntimeExports$1.jsx(JsonViewer,{value:$.data.extras,theme:"githubLight",displayDataTypes:!1,displayObjectSize:!1,enableClipboard:!1,rootName:!1})}):jsxRuntimeExports$1.jsx("div",{})},Search=({apiUrl:o,uuid:_})=>{const[$,j]=reactExports.useState(""),_e=useLocation(),et=useNavigate(),tt=()=>{if($.trim()!==""){const nt=_e.pathname,it=nt.indexOf("/details/");let lt;it!==-1?lt=`${nt.substring(0,it+9)}${$}`:lt=`${nt}/${$}`,et(lt)}};return jsxRuntimeExports$1.jsx("div",{className:"bg-gray-100",children:jsxRuntimeExports$1.jsxs("div",{className:"flex mt-4 items-center border-2 border-gray-300 hover:border-gray-600 rounded-md shadow-md bg-white",children:[jsxRuntimeExports$1.jsx("input",{type:"search",placeholder:_,className:"flex-grow p-1 border-0 outline-none rounded-l-md",value:$,onChange:nt=>j(nt.target.value),onKeyDown:nt=>{nt.key==="Enter"&&$.trim()!==""&&tt()}}),jsxRuntimeExports$1.jsx("div",{className:`p-2 ${$.trim()===""?"bg-gray-400":"bg-blue-500"} text-white rounded-r-md`,children:jsxRuntimeExports$1.jsx("button",{onClick:tt,disabled:$.trim()==="",className:"disabled:cursor-not-allowed",children:"Explore"})})]})})};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const os="162",Dn={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Un={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},No=0,Ms=1,Fo=2,Qa=1,Oo=2,qt=3,hn=0,Et=1,jt=2,ln$1=0,Qn=1,Ss=2,Es=3,ys=4,Bo=5,Tn=100,zo=101,Go=102,Ts=103,bs=104,Ho=200,Vo=201,ko=202,Wo=203,Jr=204,Qr=205,Xo=206,Yo=207,qo=208,jo=209,Ko=210,Zo=211,$o=212,Jo=213,Qo=214,el=0,tl=1,nl=2,Qi=3,il=4,rl=5,sl=6,al=7,eo=0,ol=1,ll=2,cn=0,cl=1,ul=2,hl=3,fl=4,dl=5,pl=6,ml=7,to=300,ii=301,ri=302,es=303,ts=304,lr=306,ns=1e3,Nt=1001,is=1002,xt=1003,As=1004,ui=1005,St=1006,gr=1007,An=1008,un=1009,_l=1010,gl=1011,ls=1012,no=1013,on=1014,Kt=1015,_i=1016,io=1017,ro=1018,wn=1020,vl=1021,Ft=1023,xl=1024,Ml=1025,Rn=1026,si=1027,Sl=1028,so=1029,El=1030,ao=1031,oo=1033,vr=33776,xr=33777,Mr=33778,Sr=33779,ws=35840,Rs=35841,Cs=35842,Ps=35843,lo=36196,Ls=37492,Ds=37496,Us=37808,Is=37809,Ns=37810,Fs=37811,Os=37812,Bs=37813,zs=37814,Gs=37815,Hs=37816,Vs=37817,ks=37818,Ws=37819,Xs=37820,Ys=37821,Er=36492,qs=36494,js=36495,yl=36283,Ks=36284,Zs=36285,$s=36286,Tl=3200,bl=3201,Al=0,wl=1,an="",Bt="srgb",dn="srgb-linear",cs="display-p3",cr="display-p3-linear",er="linear",$e="srgb",tr="rec709",nr="p3",In=7680,Js=519,Rl=512,Cl=513,Pl=514,co=515,Ll=516,Dl=517,Ul=518,Il=519,Qs=35044,ea="300 es",rs=1035,Zt=2e3,ir=2001;class Ln{addEventListener(_,$){this._listeners===void 0&&(this._listeners={});const j=this._listeners;j[_]===void 0&&(j[_]=[]),j[_].indexOf($)===-1&&j[_].push($)}hasEventListener(_,$){if(this._listeners===void 0)return!1;const j=this._listeners;return j[_]!==void 0&&j[_].indexOf($)!==-1}removeEventListener(_,$){if(this._listeners===void 0)return;const j=this._listeners[_];if(j!==void 0){const _e=j.indexOf($);_e!==-1&&j.splice(_e,1)}}dispatchEvent(_){if(this._listeners===void 0)return;const $=this._listeners[_.type];if($!==void 0){_.target=this;const j=$.slice(0);for(let _e=0,et=j.length;_e<et;_e++)j[_e].call(this,_);_.target=null}}}const pt=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let ta=1234567;const ei=Math.PI/180,gi=180/Math.PI;function oi(){const o=Math.random()*4294967295|0,_=Math.random()*4294967295|0,$=Math.random()*4294967295|0,j=Math.random()*4294967295|0;return(pt[o&255]+pt[o>>8&255]+pt[o>>16&255]+pt[o>>24&255]+"-"+pt[_&255]+pt[_>>8&255]+"-"+pt[_>>16&15|64]+pt[_>>24&255]+"-"+pt[$&63|128]+pt[$>>8&255]+"-"+pt[$>>16&255]+pt[$>>24&255]+pt[j&255]+pt[j>>8&255]+pt[j>>16&255]+pt[j>>24&255]).toLowerCase()}function _t(o,_,$){return Math.max(_,Math.min($,o))}function us(o,_){return(o%_+_)%_}function Nl(o,_,$,j,_e){return j+(o-_)*(_e-j)/($-_)}function Fl(o,_,$){return o!==_?($-o)/(_-o):0}function mi(o,_,$){return(1-$)*o+$*_}function Ol(o,_,$,j){return mi(o,_,1-Math.exp(-$*j))}function Bl(o,_=1){return _-Math.abs(us(o,_*2)-_)}function zl(o,_,$){return o<=_?0:o>=$?1:(o=(o-_)/($-_),o*o*(3-2*o))}function Gl(o,_,$){return o<=_?0:o>=$?1:(o=(o-_)/($-_),o*o*o*(o*(o*6-15)+10))}function Hl(o,_){return o+Math.floor(Math.random()*(_-o+1))}function Vl(o,_){return o+Math.random()*(_-o)}function kl(o){return o*(.5-Math.random())}function Wl(o){o!==void 0&&(ta=o);let _=ta+=1831565813;return _=Math.imul(_^_>>>15,_|1),_^=_+Math.imul(_^_>>>7,_|61),((_^_>>>14)>>>0)/4294967296}function Xl(o){return o*ei}function Yl(o){return o*gi}function ss(o){return(o&o-1)===0&&o!==0}function ql(o){return Math.pow(2,Math.ceil(Math.log(o)/Math.LN2))}function rr(o){return Math.pow(2,Math.floor(Math.log(o)/Math.LN2))}function jl(o,_,$,j,_e){const et=Math.cos,tt=Math.sin,nt=et($/2),it=tt($/2),lt=et((_+j)/2),dt=tt((_+j)/2),bt=et((_-j)/2),Ht=tt((_-j)/2),pr=et((j-_)/2),_n=tt((j-_)/2);switch(_e){case"XYX":o.set(nt*dt,it*bt,it*Ht,nt*lt);break;case"YZY":o.set(it*Ht,nt*dt,it*bt,nt*lt);break;case"ZXZ":o.set(it*bt,it*Ht,nt*dt,nt*lt);break;case"XZX":o.set(nt*dt,it*_n,it*pr,nt*lt);break;case"YXY":o.set(it*pr,nt*dt,it*_n,nt*lt);break;case"ZYZ":o.set(it*_n,it*pr,nt*dt,nt*lt);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+_e)}}function Zn(o,_){switch(_.constructor){case Float32Array:return o;case Uint32Array:return o/4294967295;case Uint16Array:return o/65535;case Uint8Array:return o/255;case Int32Array:return Math.max(o/2147483647,-1);case Int16Array:return Math.max(o/32767,-1);case Int8Array:return Math.max(o/127,-1);default:throw new Error("Invalid component type.")}}function gt(o,_){switch(_.constructor){case Float32Array:return o;case Uint32Array:return Math.round(o*4294967295);case Uint16Array:return Math.round(o*65535);case Uint8Array:return Math.round(o*255);case Int32Array:return Math.round(o*2147483647);case Int16Array:return Math.round(o*32767);case Int8Array:return Math.round(o*127);default:throw new Error("Invalid component type.")}}const Kl={DEG2RAD:ei,RAD2DEG:gi,generateUUID:oi,clamp:_t,euclideanModulo:us,mapLinear:Nl,inverseLerp:Fl,lerp:mi,damp:Ol,pingpong:Bl,smoothstep:zl,smootherstep:Gl,randInt:Hl,randFloat:Vl,randFloatSpread:kl,seededRandom:Wl,degToRad:Xl,radToDeg:Yl,isPowerOfTwo:ss,ceilPowerOfTwo:ql,floorPowerOfTwo:rr,setQuaternionFromProperEuler:jl,normalize:gt,denormalize:Zn};class Ie{constructor(_=0,$=0){Ie.prototype.isVector2=!0,this.x=_,this.y=$}get width(){return this.x}set width(_){this.x=_}get height(){return this.y}set height(_){this.y=_}set(_,$){return this.x=_,this.y=$,this}setScalar(_){return this.x=_,this.y=_,this}setX(_){return this.x=_,this}setY(_){return this.y=_,this}setComponent(_,$){switch(_){case 0:this.x=$;break;case 1:this.y=$;break;default:throw new Error("index is out of range: "+_)}return this}getComponent(_){switch(_){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+_)}}clone(){return new this.constructor(this.x,this.y)}copy(_){return this.x=_.x,this.y=_.y,this}add(_){return this.x+=_.x,this.y+=_.y,this}addScalar(_){return this.x+=_,this.y+=_,this}addVectors(_,$){return this.x=_.x+$.x,this.y=_.y+$.y,this}addScaledVector(_,$){return this.x+=_.x*$,this.y+=_.y*$,this}sub(_){return this.x-=_.x,this.y-=_.y,this}subScalar(_){return this.x-=_,this.y-=_,this}subVectors(_,$){return this.x=_.x-$.x,this.y=_.y-$.y,this}multiply(_){return this.x*=_.x,this.y*=_.y,this}multiplyScalar(_){return this.x*=_,this.y*=_,this}divide(_){return this.x/=_.x,this.y/=_.y,this}divideScalar(_){return this.multiplyScalar(1/_)}applyMatrix3(_){const $=this.x,j=this.y,_e=_.elements;return this.x=_e[0]*$+_e[3]*j+_e[6],this.y=_e[1]*$+_e[4]*j+_e[7],this}min(_){return this.x=Math.min(this.x,_.x),this.y=Math.min(this.y,_.y),this}max(_){return this.x=Math.max(this.x,_.x),this.y=Math.max(this.y,_.y),this}clamp(_,$){return this.x=Math.max(_.x,Math.min($.x,this.x)),this.y=Math.max(_.y,Math.min($.y,this.y)),this}clampScalar(_,$){return this.x=Math.max(_,Math.min($,this.x)),this.y=Math.max(_,Math.min($,this.y)),this}clampLength(_,$){const j=this.length();return this.divideScalar(j||1).multiplyScalar(Math.max(_,Math.min($,j)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(_){return this.x*_.x+this.y*_.y}cross(_){return this.x*_.y-this.y*_.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(_){const $=Math.sqrt(this.lengthSq()*_.lengthSq());if($===0)return Math.PI/2;const j=this.dot(_)/$;return Math.acos(_t(j,-1,1))}distanceTo(_){return Math.sqrt(this.distanceToSquared(_))}distanceToSquared(_){const $=this.x-_.x,j=this.y-_.y;return $*$+j*j}manhattanDistanceTo(_){return Math.abs(this.x-_.x)+Math.abs(this.y-_.y)}setLength(_){return this.normalize().multiplyScalar(_)}lerp(_,$){return this.x+=(_.x-this.x)*$,this.y+=(_.y-this.y)*$,this}lerpVectors(_,$,j){return this.x=_.x+($.x-_.x)*j,this.y=_.y+($.y-_.y)*j,this}equals(_){return _.x===this.x&&_.y===this.y}fromArray(_,$=0){return this.x=_[$],this.y=_[$+1],this}toArray(_=[],$=0){return _[$]=this.x,_[$+1]=this.y,_}fromBufferAttribute(_,$){return this.x=_.getX($),this.y=_.getY($),this}rotateAround(_,$){const j=Math.cos($),_e=Math.sin($),et=this.x-_.x,tt=this.y-_.y;return this.x=et*j-tt*_e+_.x,this.y=et*_e+tt*j+_.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ge{constructor(_,$,j,_e,et,tt,nt,it,lt){Ge.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],_!==void 0&&this.set(_,$,j,_e,et,tt,nt,it,lt)}set(_,$,j,_e,et,tt,nt,it,lt){const dt=this.elements;return dt[0]=_,dt[1]=_e,dt[2]=nt,dt[3]=$,dt[4]=et,dt[5]=it,dt[6]=j,dt[7]=tt,dt[8]=lt,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(_){const $=this.elements,j=_.elements;return $[0]=j[0],$[1]=j[1],$[2]=j[2],$[3]=j[3],$[4]=j[4],$[5]=j[5],$[6]=j[6],$[7]=j[7],$[8]=j[8],this}extractBasis(_,$,j){return _.setFromMatrix3Column(this,0),$.setFromMatrix3Column(this,1),j.setFromMatrix3Column(this,2),this}setFromMatrix4(_){const $=_.elements;return this.set($[0],$[4],$[8],$[1],$[5],$[9],$[2],$[6],$[10]),this}multiply(_){return this.multiplyMatrices(this,_)}premultiply(_){return this.multiplyMatrices(_,this)}multiplyMatrices(_,$){const j=_.elements,_e=$.elements,et=this.elements,tt=j[0],nt=j[3],it=j[6],lt=j[1],dt=j[4],bt=j[7],Ht=j[2],pr=j[5],_n=j[8],ft=_e[0],Ct=_e[3],mr=_e[6],_r=_e[1],mn=_e[4],dr=_e[7],pn=_e[2],Do=_e[5],Io=_e[8];return et[0]=tt*ft+nt*_r+it*pn,et[3]=tt*Ct+nt*mn+it*Do,et[6]=tt*mr+nt*dr+it*Io,et[1]=lt*ft+dt*_r+bt*pn,et[4]=lt*Ct+dt*mn+bt*Do,et[7]=lt*mr+dt*dr+bt*Io,et[2]=Ht*ft+pr*_r+_n*pn,et[5]=Ht*Ct+pr*mn+_n*Do,et[8]=Ht*mr+pr*dr+_n*Io,this}multiplyScalar(_){const $=this.elements;return $[0]*=_,$[3]*=_,$[6]*=_,$[1]*=_,$[4]*=_,$[7]*=_,$[2]*=_,$[5]*=_,$[8]*=_,this}determinant(){const _=this.elements,$=_[0],j=_[1],_e=_[2],et=_[3],tt=_[4],nt=_[5],it=_[6],lt=_[7],dt=_[8];return $*tt*dt-$*nt*lt-j*et*dt+j*nt*it+_e*et*lt-_e*tt*it}invert(){const _=this.elements,$=_[0],j=_[1],_e=_[2],et=_[3],tt=_[4],nt=_[5],it=_[6],lt=_[7],dt=_[8],bt=dt*tt-nt*lt,Ht=nt*it-dt*et,pr=lt*et-tt*it,_n=$*bt+j*Ht+_e*pr;if(_n===0)return this.set(0,0,0,0,0,0,0,0,0);const ft=1/_n;return _[0]=bt*ft,_[1]=(_e*lt-dt*j)*ft,_[2]=(nt*j-_e*tt)*ft,_[3]=Ht*ft,_[4]=(dt*$-_e*it)*ft,_[5]=(_e*et-nt*$)*ft,_[6]=pr*ft,_[7]=(j*it-lt*$)*ft,_[8]=(tt*$-j*et)*ft,this}transpose(){let _;const $=this.elements;return _=$[1],$[1]=$[3],$[3]=_,_=$[2],$[2]=$[6],$[6]=_,_=$[5],$[5]=$[7],$[7]=_,this}getNormalMatrix(_){return this.setFromMatrix4(_).invert().transpose()}transposeIntoArray(_){const $=this.elements;return _[0]=$[0],_[1]=$[3],_[2]=$[6],_[3]=$[1],_[4]=$[4],_[5]=$[7],_[6]=$[2],_[7]=$[5],_[8]=$[8],this}setUvTransform(_,$,j,_e,et,tt,nt){const it=Math.cos(et),lt=Math.sin(et);return this.set(j*it,j*lt,-j*(it*tt+lt*nt)+tt+_,-_e*lt,_e*it,-_e*(-lt*tt+it*nt)+nt+$,0,0,1),this}scale(_,$){return this.premultiply(yr.makeScale(_,$)),this}rotate(_){return this.premultiply(yr.makeRotation(-_)),this}translate(_,$){return this.premultiply(yr.makeTranslation(_,$)),this}makeTranslation(_,$){return _.isVector2?this.set(1,0,_.x,0,1,_.y,0,0,1):this.set(1,0,_,0,1,$,0,0,1),this}makeRotation(_){const $=Math.cos(_),j=Math.sin(_);return this.set($,-j,0,j,$,0,0,0,1),this}makeScale(_,$){return this.set(_,0,0,0,$,0,0,0,1),this}equals(_){const $=this.elements,j=_.elements;for(let _e=0;_e<9;_e++)if($[_e]!==j[_e])return!1;return!0}fromArray(_,$=0){for(let j=0;j<9;j++)this.elements[j]=_[j+$];return this}toArray(_=[],$=0){const j=this.elements;return _[$]=j[0],_[$+1]=j[1],_[$+2]=j[2],_[$+3]=j[3],_[$+4]=j[4],_[$+5]=j[5],_[$+6]=j[6],_[$+7]=j[7],_[$+8]=j[8],_}clone(){return new this.constructor().fromArray(this.elements)}}const yr=new Ge;function uo(o){for(let _=o.length-1;_>=0;--_)if(o[_]>=65535)return!0;return!1}function sr(o){return document.createElementNS("http://www.w3.org/1999/xhtml",o)}function Zl(){const o=sr("canvas");return o.style.display="block",o}const na={};function $l(o){o in na||(na[o]=!0,console.warn(o))}const ia=new Ge().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),ra=new Ge().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Ti={[dn]:{transfer:er,primaries:tr,toReference:o=>o,fromReference:o=>o},[Bt]:{transfer:$e,primaries:tr,toReference:o=>o.convertSRGBToLinear(),fromReference:o=>o.convertLinearToSRGB()},[cr]:{transfer:er,primaries:nr,toReference:o=>o.applyMatrix3(ra),fromReference:o=>o.applyMatrix3(ia)},[cs]:{transfer:$e,primaries:nr,toReference:o=>o.convertSRGBToLinear().applyMatrix3(ra),fromReference:o=>o.applyMatrix3(ia).convertLinearToSRGB()}},Jl=new Set([dn,cr]),je={enabled:!0,_workingColorSpace:dn,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(o){if(!Jl.has(o))throw new Error(`Unsupported working color space, "${o}".`);this._workingColorSpace=o},convert:function(o,_,$){if(this.enabled===!1||_===$||!_||!$)return o;const j=Ti[_].toReference,_e=Ti[$].fromReference;return _e(j(o))},fromWorkingColorSpace:function(o,_){return this.convert(o,this._workingColorSpace,_)},toWorkingColorSpace:function(o,_){return this.convert(o,_,this._workingColorSpace)},getPrimaries:function(o){return Ti[o].primaries},getTransfer:function(o){return o===an?er:Ti[o].transfer}};function ti(o){return o<.04045?o*.0773993808:Math.pow(o*.9478672986+.0521327014,2.4)}function Tr(o){return o<.0031308?o*12.92:1.055*Math.pow(o,.41666)-.055}let Nn;class ho{static getDataURL(_){if(/^data:/i.test(_.src)||typeof HTMLCanvasElement>"u")return _.src;let $;if(_ instanceof HTMLCanvasElement)$=_;else{Nn===void 0&&(Nn=sr("canvas")),Nn.width=_.width,Nn.height=_.height;const j=Nn.getContext("2d");_ instanceof ImageData?j.putImageData(_,0,0):j.drawImage(_,0,0,_.width,_.height),$=Nn}return $.width>2048||$.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",_),$.toDataURL("image/jpeg",.6)):$.toDataURL("image/png")}static sRGBToLinear(_){if(typeof HTMLImageElement<"u"&&_ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&_ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&_ instanceof ImageBitmap){const $=sr("canvas");$.width=_.width,$.height=_.height;const j=$.getContext("2d");j.drawImage(_,0,0,_.width,_.height);const _e=j.getImageData(0,0,_.width,_.height),et=_e.data;for(let tt=0;tt<et.length;tt++)et[tt]=ti(et[tt]/255)*255;return j.putImageData(_e,0,0),$}else if(_.data){const $=_.data.slice(0);for(let j=0;j<$.length;j++)$ instanceof Uint8Array||$ instanceof Uint8ClampedArray?$[j]=Math.floor(ti($[j]/255)*255):$[j]=ti($[j]);return{data:$,width:_.width,height:_.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),_}}let Ql=0;class fo{constructor(_=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Ql++}),this.uuid=oi(),this.data=_,this.dataReady=!0,this.version=0}set needsUpdate(_){_===!0&&this.version++}toJSON(_){const $=_===void 0||typeof _=="string";if(!$&&_.images[this.uuid]!==void 0)return _.images[this.uuid];const j={uuid:this.uuid,url:""},_e=this.data;if(_e!==null){let et;if(Array.isArray(_e)){et=[];for(let tt=0,nt=_e.length;tt<nt;tt++)_e[tt].isDataTexture?et.push(br(_e[tt].image)):et.push(br(_e[tt]))}else et=br(_e);j.url=et}return $||(_.images[this.uuid]=j),j}}function br(o){return typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&o instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&o instanceof ImageBitmap?ho.getDataURL(o):o.data?{data:Array.from(o.data),width:o.width,height:o.height,type:o.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let ec=0;class yt extends Ln{constructor(_=yt.DEFAULT_IMAGE,$=yt.DEFAULT_MAPPING,j=Nt,_e=Nt,et=St,tt=An,nt=Ft,it=un,lt=yt.DEFAULT_ANISOTROPY,dt=an){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:ec++}),this.uuid=oi(),this.name="",this.source=new fo(_),this.mipmaps=[],this.mapping=$,this.channel=0,this.wrapS=j,this.wrapT=_e,this.magFilter=et,this.minFilter=tt,this.anisotropy=lt,this.format=nt,this.internalFormat=null,this.type=it,this.offset=new Ie(0,0),this.repeat=new Ie(1,1),this.center=new Ie(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ge,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=dt,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(_=null){this.source.data=_}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(_){return this.name=_.name,this.source=_.source,this.mipmaps=_.mipmaps.slice(0),this.mapping=_.mapping,this.channel=_.channel,this.wrapS=_.wrapS,this.wrapT=_.wrapT,this.magFilter=_.magFilter,this.minFilter=_.minFilter,this.anisotropy=_.anisotropy,this.format=_.format,this.internalFormat=_.internalFormat,this.type=_.type,this.offset.copy(_.offset),this.repeat.copy(_.repeat),this.center.copy(_.center),this.rotation=_.rotation,this.matrixAutoUpdate=_.matrixAutoUpdate,this.matrix.copy(_.matrix),this.generateMipmaps=_.generateMipmaps,this.premultiplyAlpha=_.premultiplyAlpha,this.flipY=_.flipY,this.unpackAlignment=_.unpackAlignment,this.colorSpace=_.colorSpace,this.userData=JSON.parse(JSON.stringify(_.userData)),this.needsUpdate=!0,this}toJSON(_){const $=_===void 0||typeof _=="string";if(!$&&_.textures[this.uuid]!==void 0)return _.textures[this.uuid];const j={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(_).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(j.userData=this.userData),$||(_.textures[this.uuid]=j),j}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(_){if(this.mapping!==to)return _;if(_.applyMatrix3(this.matrix),_.x<0||_.x>1)switch(this.wrapS){case ns:_.x=_.x-Math.floor(_.x);break;case Nt:_.x=_.x<0?0:1;break;case is:Math.abs(Math.floor(_.x)%2)===1?_.x=Math.ceil(_.x)-_.x:_.x=_.x-Math.floor(_.x);break}if(_.y<0||_.y>1)switch(this.wrapT){case ns:_.y=_.y-Math.floor(_.y);break;case Nt:_.y=_.y<0?0:1;break;case is:Math.abs(Math.floor(_.y)%2)===1?_.y=Math.ceil(_.y)-_.y:_.y=_.y-Math.floor(_.y);break}return this.flipY&&(_.y=1-_.y),_}set needsUpdate(_){_===!0&&(this.version++,this.source.needsUpdate=!0)}}yt.DEFAULT_IMAGE=null;yt.DEFAULT_MAPPING=to;yt.DEFAULT_ANISOTROPY=1;class ht{constructor(_=0,$=0,j=0,_e=1){ht.prototype.isVector4=!0,this.x=_,this.y=$,this.z=j,this.w=_e}get width(){return this.z}set width(_){this.z=_}get height(){return this.w}set height(_){this.w=_}set(_,$,j,_e){return this.x=_,this.y=$,this.z=j,this.w=_e,this}setScalar(_){return this.x=_,this.y=_,this.z=_,this.w=_,this}setX(_){return this.x=_,this}setY(_){return this.y=_,this}setZ(_){return this.z=_,this}setW(_){return this.w=_,this}setComponent(_,$){switch(_){case 0:this.x=$;break;case 1:this.y=$;break;case 2:this.z=$;break;case 3:this.w=$;break;default:throw new Error("index is out of range: "+_)}return this}getComponent(_){switch(_){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+_)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(_){return this.x=_.x,this.y=_.y,this.z=_.z,this.w=_.w!==void 0?_.w:1,this}add(_){return this.x+=_.x,this.y+=_.y,this.z+=_.z,this.w+=_.w,this}addScalar(_){return this.x+=_,this.y+=_,this.z+=_,this.w+=_,this}addVectors(_,$){return this.x=_.x+$.x,this.y=_.y+$.y,this.z=_.z+$.z,this.w=_.w+$.w,this}addScaledVector(_,$){return this.x+=_.x*$,this.y+=_.y*$,this.z+=_.z*$,this.w+=_.w*$,this}sub(_){return this.x-=_.x,this.y-=_.y,this.z-=_.z,this.w-=_.w,this}subScalar(_){return this.x-=_,this.y-=_,this.z-=_,this.w-=_,this}subVectors(_,$){return this.x=_.x-$.x,this.y=_.y-$.y,this.z=_.z-$.z,this.w=_.w-$.w,this}multiply(_){return this.x*=_.x,this.y*=_.y,this.z*=_.z,this.w*=_.w,this}multiplyScalar(_){return this.x*=_,this.y*=_,this.z*=_,this.w*=_,this}applyMatrix4(_){const $=this.x,j=this.y,_e=this.z,et=this.w,tt=_.elements;return this.x=tt[0]*$+tt[4]*j+tt[8]*_e+tt[12]*et,this.y=tt[1]*$+tt[5]*j+tt[9]*_e+tt[13]*et,this.z=tt[2]*$+tt[6]*j+tt[10]*_e+tt[14]*et,this.w=tt[3]*$+tt[7]*j+tt[11]*_e+tt[15]*et,this}divideScalar(_){return this.multiplyScalar(1/_)}setAxisAngleFromQuaternion(_){this.w=2*Math.acos(_.w);const $=Math.sqrt(1-_.w*_.w);return $<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=_.x/$,this.y=_.y/$,this.z=_.z/$),this}setAxisAngleFromRotationMatrix(_){let $,j,_e,et;const tt=_.elements,nt=tt[0],it=tt[4],lt=tt[8],dt=tt[1],bt=tt[5],Ht=tt[9],pr=tt[2],_n=tt[6],ft=tt[10];if(Math.abs(it-dt)<.01&&Math.abs(lt-pr)<.01&&Math.abs(Ht-_n)<.01){if(Math.abs(it+dt)<.1&&Math.abs(lt+pr)<.1&&Math.abs(Ht+_n)<.1&&Math.abs(nt+bt+ft-3)<.1)return this.set(1,0,0,0),this;$=Math.PI;const mr=(nt+1)/2,_r=(bt+1)/2,mn=(ft+1)/2,dr=(it+dt)/4,pn=(lt+pr)/4,Do=(Ht+_n)/4;return mr>_r&&mr>mn?mr<.01?(j=0,_e=.707106781,et=.707106781):(j=Math.sqrt(mr),_e=dr/j,et=pn/j):_r>mn?_r<.01?(j=.707106781,_e=0,et=.707106781):(_e=Math.sqrt(_r),j=dr/_e,et=Do/_e):mn<.01?(j=.707106781,_e=.707106781,et=0):(et=Math.sqrt(mn),j=pn/et,_e=Do/et),this.set(j,_e,et,$),this}let Ct=Math.sqrt((_n-Ht)*(_n-Ht)+(lt-pr)*(lt-pr)+(dt-it)*(dt-it));return Math.abs(Ct)<.001&&(Ct=1),this.x=(_n-Ht)/Ct,this.y=(lt-pr)/Ct,this.z=(dt-it)/Ct,this.w=Math.acos((nt+bt+ft-1)/2),this}min(_){return this.x=Math.min(this.x,_.x),this.y=Math.min(this.y,_.y),this.z=Math.min(this.z,_.z),this.w=Math.min(this.w,_.w),this}max(_){return this.x=Math.max(this.x,_.x),this.y=Math.max(this.y,_.y),this.z=Math.max(this.z,_.z),this.w=Math.max(this.w,_.w),this}clamp(_,$){return this.x=Math.max(_.x,Math.min($.x,this.x)),this.y=Math.max(_.y,Math.min($.y,this.y)),this.z=Math.max(_.z,Math.min($.z,this.z)),this.w=Math.max(_.w,Math.min($.w,this.w)),this}clampScalar(_,$){return this.x=Math.max(_,Math.min($,this.x)),this.y=Math.max(_,Math.min($,this.y)),this.z=Math.max(_,Math.min($,this.z)),this.w=Math.max(_,Math.min($,this.w)),this}clampLength(_,$){const j=this.length();return this.divideScalar(j||1).multiplyScalar(Math.max(_,Math.min($,j)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(_){return this.x*_.x+this.y*_.y+this.z*_.z+this.w*_.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(_){return this.normalize().multiplyScalar(_)}lerp(_,$){return this.x+=(_.x-this.x)*$,this.y+=(_.y-this.y)*$,this.z+=(_.z-this.z)*$,this.w+=(_.w-this.w)*$,this}lerpVectors(_,$,j){return this.x=_.x+($.x-_.x)*j,this.y=_.y+($.y-_.y)*j,this.z=_.z+($.z-_.z)*j,this.w=_.w+($.w-_.w)*j,this}equals(_){return _.x===this.x&&_.y===this.y&&_.z===this.z&&_.w===this.w}fromArray(_,$=0){return this.x=_[$],this.y=_[$+1],this.z=_[$+2],this.w=_[$+3],this}toArray(_=[],$=0){return _[$]=this.x,_[$+1]=this.y,_[$+2]=this.z,_[$+3]=this.w,_}fromBufferAttribute(_,$){return this.x=_.getX($),this.y=_.getY($),this.z=_.getZ($),this.w=_.getW($),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class tc extends Ln{constructor(_=1,$=1,j={}){super(),this.isRenderTarget=!0,this.width=_,this.height=$,this.depth=1,this.scissor=new ht(0,0,_,$),this.scissorTest=!1,this.viewport=new ht(0,0,_,$);const _e={width:_,height:$,depth:1};j=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:St,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0,count:1},j);const et=new yt(_e,j.mapping,j.wrapS,j.wrapT,j.magFilter,j.minFilter,j.format,j.type,j.anisotropy,j.colorSpace);et.flipY=!1,et.generateMipmaps=j.generateMipmaps,et.internalFormat=j.internalFormat,this.textures=[];const tt=j.count;for(let nt=0;nt<tt;nt++)this.textures[nt]=et.clone(),this.textures[nt].isRenderTargetTexture=!0;this.depthBuffer=j.depthBuffer,this.stencilBuffer=j.stencilBuffer,this.depthTexture=j.depthTexture,this.samples=j.samples}get texture(){return this.textures[0]}set texture(_){this.textures[0]=_}setSize(_,$,j=1){if(this.width!==_||this.height!==$||this.depth!==j){this.width=_,this.height=$,this.depth=j;for(let _e=0,et=this.textures.length;_e<et;_e++)this.textures[_e].image.width=_,this.textures[_e].image.height=$,this.textures[_e].image.depth=j;this.dispose()}this.viewport.set(0,0,_,$),this.scissor.set(0,0,_,$)}clone(){return new this.constructor().copy(this)}copy(_){this.width=_.width,this.height=_.height,this.depth=_.depth,this.scissor.copy(_.scissor),this.scissorTest=_.scissorTest,this.viewport.copy(_.viewport),this.textures.length=0;for(let j=0,_e=_.textures.length;j<_e;j++)this.textures[j]=_.textures[j].clone(),this.textures[j].isRenderTargetTexture=!0;const $=Object.assign({},_.texture.image);return this.texture.source=new fo($),this.depthBuffer=_.depthBuffer,this.stencilBuffer=_.stencilBuffer,_.depthTexture!==null&&(this.depthTexture=_.depthTexture.clone()),this.samples=_.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Cn extends tc{constructor(_=1,$=1,j={}){super(_,$,j),this.isWebGLRenderTarget=!0}}class po extends yt{constructor(_=null,$=1,j=1,_e=1){super(null),this.isDataArrayTexture=!0,this.image={data:_,width:$,height:j,depth:_e},this.magFilter=xt,this.minFilter=xt,this.wrapR=Nt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class nc extends yt{constructor(_=null,$=1,j=1,_e=1){super(null),this.isData3DTexture=!0,this.image={data:_,width:$,height:j,depth:_e},this.magFilter=xt,this.minFilter=xt,this.wrapR=Nt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Pn{constructor(_=0,$=0,j=0,_e=1){this.isQuaternion=!0,this._x=_,this._y=$,this._z=j,this._w=_e}static slerpFlat(_,$,j,_e,et,tt,nt){let it=j[_e+0],lt=j[_e+1],dt=j[_e+2],bt=j[_e+3];const Ht=et[tt+0],pr=et[tt+1],_n=et[tt+2],ft=et[tt+3];if(nt===0){_[$+0]=it,_[$+1]=lt,_[$+2]=dt,_[$+3]=bt;return}if(nt===1){_[$+0]=Ht,_[$+1]=pr,_[$+2]=_n,_[$+3]=ft;return}if(bt!==ft||it!==Ht||lt!==pr||dt!==_n){let Ct=1-nt;const mr=it*Ht+lt*pr+dt*_n+bt*ft,_r=mr>=0?1:-1,mn=1-mr*mr;if(mn>Number.EPSILON){const pn=Math.sqrt(mn),Do=Math.atan2(pn,mr*_r);Ct=Math.sin(Ct*Do)/pn,nt=Math.sin(nt*Do)/pn}const dr=nt*_r;if(it=it*Ct+Ht*dr,lt=lt*Ct+pr*dr,dt=dt*Ct+_n*dr,bt=bt*Ct+ft*dr,Ct===1-nt){const pn=1/Math.sqrt(it*it+lt*lt+dt*dt+bt*bt);it*=pn,lt*=pn,dt*=pn,bt*=pn}}_[$]=it,_[$+1]=lt,_[$+2]=dt,_[$+3]=bt}static multiplyQuaternionsFlat(_,$,j,_e,et,tt){const nt=j[_e],it=j[_e+1],lt=j[_e+2],dt=j[_e+3],bt=et[tt],Ht=et[tt+1],pr=et[tt+2],_n=et[tt+3];return _[$]=nt*_n+dt*bt+it*pr-lt*Ht,_[$+1]=it*_n+dt*Ht+lt*bt-nt*pr,_[$+2]=lt*_n+dt*pr+nt*Ht-it*bt,_[$+3]=dt*_n-nt*bt-it*Ht-lt*pr,_}get x(){return this._x}set x(_){this._x=_,this._onChangeCallback()}get y(){return this._y}set y(_){this._y=_,this._onChangeCallback()}get z(){return this._z}set z(_){this._z=_,this._onChangeCallback()}get w(){return this._w}set w(_){this._w=_,this._onChangeCallback()}set(_,$,j,_e){return this._x=_,this._y=$,this._z=j,this._w=_e,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(_){return this._x=_.x,this._y=_.y,this._z=_.z,this._w=_.w,this._onChangeCallback(),this}setFromEuler(_,$=!0){const j=_._x,_e=_._y,et=_._z,tt=_._order,nt=Math.cos,it=Math.sin,lt=nt(j/2),dt=nt(_e/2),bt=nt(et/2),Ht=it(j/2),pr=it(_e/2),_n=it(et/2);switch(tt){case"XYZ":this._x=Ht*dt*bt+lt*pr*_n,this._y=lt*pr*bt-Ht*dt*_n,this._z=lt*dt*_n+Ht*pr*bt,this._w=lt*dt*bt-Ht*pr*_n;break;case"YXZ":this._x=Ht*dt*bt+lt*pr*_n,this._y=lt*pr*bt-Ht*dt*_n,this._z=lt*dt*_n-Ht*pr*bt,this._w=lt*dt*bt+Ht*pr*_n;break;case"ZXY":this._x=Ht*dt*bt-lt*pr*_n,this._y=lt*pr*bt+Ht*dt*_n,this._z=lt*dt*_n+Ht*pr*bt,this._w=lt*dt*bt-Ht*pr*_n;break;case"ZYX":this._x=Ht*dt*bt-lt*pr*_n,this._y=lt*pr*bt+Ht*dt*_n,this._z=lt*dt*_n-Ht*pr*bt,this._w=lt*dt*bt+Ht*pr*_n;break;case"YZX":this._x=Ht*dt*bt+lt*pr*_n,this._y=lt*pr*bt+Ht*dt*_n,this._z=lt*dt*_n-Ht*pr*bt,this._w=lt*dt*bt-Ht*pr*_n;break;case"XZY":this._x=Ht*dt*bt-lt*pr*_n,this._y=lt*pr*bt-Ht*dt*_n,this._z=lt*dt*_n+Ht*pr*bt,this._w=lt*dt*bt+Ht*pr*_n;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+tt)}return $===!0&&this._onChangeCallback(),this}setFromAxisAngle(_,$){const j=$/2,_e=Math.sin(j);return this._x=_.x*_e,this._y=_.y*_e,this._z=_.z*_e,this._w=Math.cos(j),this._onChangeCallback(),this}setFromRotationMatrix(_){const $=_.elements,j=$[0],_e=$[4],et=$[8],tt=$[1],nt=$[5],it=$[9],lt=$[2],dt=$[6],bt=$[10],Ht=j+nt+bt;if(Ht>0){const pr=.5/Math.sqrt(Ht+1);this._w=.25/pr,this._x=(dt-it)*pr,this._y=(et-lt)*pr,this._z=(tt-_e)*pr}else if(j>nt&&j>bt){const pr=2*Math.sqrt(1+j-nt-bt);this._w=(dt-it)/pr,this._x=.25*pr,this._y=(_e+tt)/pr,this._z=(et+lt)/pr}else if(nt>bt){const pr=2*Math.sqrt(1+nt-j-bt);this._w=(et-lt)/pr,this._x=(_e+tt)/pr,this._y=.25*pr,this._z=(it+dt)/pr}else{const pr=2*Math.sqrt(1+bt-j-nt);this._w=(tt-_e)/pr,this._x=(et+lt)/pr,this._y=(it+dt)/pr,this._z=.25*pr}return this._onChangeCallback(),this}setFromUnitVectors(_,$){let j=_.dot($)+1;return j<Number.EPSILON?(j=0,Math.abs(_.x)>Math.abs(_.z)?(this._x=-_.y,this._y=_.x,this._z=0,this._w=j):(this._x=0,this._y=-_.z,this._z=_.y,this._w=j)):(this._x=_.y*$.z-_.z*$.y,this._y=_.z*$.x-_.x*$.z,this._z=_.x*$.y-_.y*$.x,this._w=j),this.normalize()}angleTo(_){return 2*Math.acos(Math.abs(_t(this.dot(_),-1,1)))}rotateTowards(_,$){const j=this.angleTo(_);if(j===0)return this;const _e=Math.min(1,$/j);return this.slerp(_,_e),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(_){return this._x*_._x+this._y*_._y+this._z*_._z+this._w*_._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let _=this.length();return _===0?(this._x=0,this._y=0,this._z=0,this._w=1):(_=1/_,this._x=this._x*_,this._y=this._y*_,this._z=this._z*_,this._w=this._w*_),this._onChangeCallback(),this}multiply(_){return this.multiplyQuaternions(this,_)}premultiply(_){return this.multiplyQuaternions(_,this)}multiplyQuaternions(_,$){const j=_._x,_e=_._y,et=_._z,tt=_._w,nt=$._x,it=$._y,lt=$._z,dt=$._w;return this._x=j*dt+tt*nt+_e*lt-et*it,this._y=_e*dt+tt*it+et*nt-j*lt,this._z=et*dt+tt*lt+j*it-_e*nt,this._w=tt*dt-j*nt-_e*it-et*lt,this._onChangeCallback(),this}slerp(_,$){if($===0)return this;if($===1)return this.copy(_);const j=this._x,_e=this._y,et=this._z,tt=this._w;let nt=tt*_._w+j*_._x+_e*_._y+et*_._z;if(nt<0?(this._w=-_._w,this._x=-_._x,this._y=-_._y,this._z=-_._z,nt=-nt):this.copy(_),nt>=1)return this._w=tt,this._x=j,this._y=_e,this._z=et,this;const it=1-nt*nt;if(it<=Number.EPSILON){const pr=1-$;return this._w=pr*tt+$*this._w,this._x=pr*j+$*this._x,this._y=pr*_e+$*this._y,this._z=pr*et+$*this._z,this.normalize(),this}const lt=Math.sqrt(it),dt=Math.atan2(lt,nt),bt=Math.sin((1-$)*dt)/lt,Ht=Math.sin($*dt)/lt;return this._w=tt*bt+this._w*Ht,this._x=j*bt+this._x*Ht,this._y=_e*bt+this._y*Ht,this._z=et*bt+this._z*Ht,this._onChangeCallback(),this}slerpQuaternions(_,$,j){return this.copy(_).slerp($,j)}random(){const _=2*Math.PI*Math.random(),$=2*Math.PI*Math.random(),j=Math.random(),_e=Math.sqrt(1-j),et=Math.sqrt(j);return this.set(_e*Math.sin(_),_e*Math.cos(_),et*Math.sin($),et*Math.cos($))}equals(_){return _._x===this._x&&_._y===this._y&&_._z===this._z&&_._w===this._w}fromArray(_,$=0){return this._x=_[$],this._y=_[$+1],this._z=_[$+2],this._w=_[$+3],this._onChangeCallback(),this}toArray(_=[],$=0){return _[$]=this._x,_[$+1]=this._y,_[$+2]=this._z,_[$+3]=this._w,_}fromBufferAttribute(_,$){return this._x=_.getX($),this._y=_.getY($),this._z=_.getZ($),this._w=_.getW($),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(_){return this._onChangeCallback=_,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class I{constructor(_=0,$=0,j=0){I.prototype.isVector3=!0,this.x=_,this.y=$,this.z=j}set(_,$,j){return j===void 0&&(j=this.z),this.x=_,this.y=$,this.z=j,this}setScalar(_){return this.x=_,this.y=_,this.z=_,this}setX(_){return this.x=_,this}setY(_){return this.y=_,this}setZ(_){return this.z=_,this}setComponent(_,$){switch(_){case 0:this.x=$;break;case 1:this.y=$;break;case 2:this.z=$;break;default:throw new Error("index is out of range: "+_)}return this}getComponent(_){switch(_){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+_)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(_){return this.x=_.x,this.y=_.y,this.z=_.z,this}add(_){return this.x+=_.x,this.y+=_.y,this.z+=_.z,this}addScalar(_){return this.x+=_,this.y+=_,this.z+=_,this}addVectors(_,$){return this.x=_.x+$.x,this.y=_.y+$.y,this.z=_.z+$.z,this}addScaledVector(_,$){return this.x+=_.x*$,this.y+=_.y*$,this.z+=_.z*$,this}sub(_){return this.x-=_.x,this.y-=_.y,this.z-=_.z,this}subScalar(_){return this.x-=_,this.y-=_,this.z-=_,this}subVectors(_,$){return this.x=_.x-$.x,this.y=_.y-$.y,this.z=_.z-$.z,this}multiply(_){return this.x*=_.x,this.y*=_.y,this.z*=_.z,this}multiplyScalar(_){return this.x*=_,this.y*=_,this.z*=_,this}multiplyVectors(_,$){return this.x=_.x*$.x,this.y=_.y*$.y,this.z=_.z*$.z,this}applyEuler(_){return this.applyQuaternion(sa.setFromEuler(_))}applyAxisAngle(_,$){return this.applyQuaternion(sa.setFromAxisAngle(_,$))}applyMatrix3(_){const $=this.x,j=this.y,_e=this.z,et=_.elements;return this.x=et[0]*$+et[3]*j+et[6]*_e,this.y=et[1]*$+et[4]*j+et[7]*_e,this.z=et[2]*$+et[5]*j+et[8]*_e,this}applyNormalMatrix(_){return this.applyMatrix3(_).normalize()}applyMatrix4(_){const $=this.x,j=this.y,_e=this.z,et=_.elements,tt=1/(et[3]*$+et[7]*j+et[11]*_e+et[15]);return this.x=(et[0]*$+et[4]*j+et[8]*_e+et[12])*tt,this.y=(et[1]*$+et[5]*j+et[9]*_e+et[13])*tt,this.z=(et[2]*$+et[6]*j+et[10]*_e+et[14])*tt,this}applyQuaternion(_){const $=this.x,j=this.y,_e=this.z,et=_.x,tt=_.y,nt=_.z,it=_.w,lt=2*(tt*_e-nt*j),dt=2*(nt*$-et*_e),bt=2*(et*j-tt*$);return this.x=$+it*lt+tt*bt-nt*dt,this.y=j+it*dt+nt*lt-et*bt,this.z=_e+it*bt+et*dt-tt*lt,this}project(_){return this.applyMatrix4(_.matrixWorldInverse).applyMatrix4(_.projectionMatrix)}unproject(_){return this.applyMatrix4(_.projectionMatrixInverse).applyMatrix4(_.matrixWorld)}transformDirection(_){const $=this.x,j=this.y,_e=this.z,et=_.elements;return this.x=et[0]*$+et[4]*j+et[8]*_e,this.y=et[1]*$+et[5]*j+et[9]*_e,this.z=et[2]*$+et[6]*j+et[10]*_e,this.normalize()}divide(_){return this.x/=_.x,this.y/=_.y,this.z/=_.z,this}divideScalar(_){return this.multiplyScalar(1/_)}min(_){return this.x=Math.min(this.x,_.x),this.y=Math.min(this.y,_.y),this.z=Math.min(this.z,_.z),this}max(_){return this.x=Math.max(this.x,_.x),this.y=Math.max(this.y,_.y),this.z=Math.max(this.z,_.z),this}clamp(_,$){return this.x=Math.max(_.x,Math.min($.x,this.x)),this.y=Math.max(_.y,Math.min($.y,this.y)),this.z=Math.max(_.z,Math.min($.z,this.z)),this}clampScalar(_,$){return this.x=Math.max(_,Math.min($,this.x)),this.y=Math.max(_,Math.min($,this.y)),this.z=Math.max(_,Math.min($,this.z)),this}clampLength(_,$){const j=this.length();return this.divideScalar(j||1).multiplyScalar(Math.max(_,Math.min($,j)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(_){return this.x*_.x+this.y*_.y+this.z*_.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(_){return this.normalize().multiplyScalar(_)}lerp(_,$){return this.x+=(_.x-this.x)*$,this.y+=(_.y-this.y)*$,this.z+=(_.z-this.z)*$,this}lerpVectors(_,$,j){return this.x=_.x+($.x-_.x)*j,this.y=_.y+($.y-_.y)*j,this.z=_.z+($.z-_.z)*j,this}cross(_){return this.crossVectors(this,_)}crossVectors(_,$){const j=_.x,_e=_.y,et=_.z,tt=$.x,nt=$.y,it=$.z;return this.x=_e*it-et*nt,this.y=et*tt-j*it,this.z=j*nt-_e*tt,this}projectOnVector(_){const $=_.lengthSq();if($===0)return this.set(0,0,0);const j=_.dot(this)/$;return this.copy(_).multiplyScalar(j)}projectOnPlane(_){return Ar.copy(this).projectOnVector(_),this.sub(Ar)}reflect(_){return this.sub(Ar.copy(_).multiplyScalar(2*this.dot(_)))}angleTo(_){const $=Math.sqrt(this.lengthSq()*_.lengthSq());if($===0)return Math.PI/2;const j=this.dot(_)/$;return Math.acos(_t(j,-1,1))}distanceTo(_){return Math.sqrt(this.distanceToSquared(_))}distanceToSquared(_){const $=this.x-_.x,j=this.y-_.y,_e=this.z-_.z;return $*$+j*j+_e*_e}manhattanDistanceTo(_){return Math.abs(this.x-_.x)+Math.abs(this.y-_.y)+Math.abs(this.z-_.z)}setFromSpherical(_){return this.setFromSphericalCoords(_.radius,_.phi,_.theta)}setFromSphericalCoords(_,$,j){const _e=Math.sin($)*_;return this.x=_e*Math.sin(j),this.y=Math.cos($)*_,this.z=_e*Math.cos(j),this}setFromCylindrical(_){return this.setFromCylindricalCoords(_.radius,_.theta,_.y)}setFromCylindricalCoords(_,$,j){return this.x=_*Math.sin($),this.y=j,this.z=_*Math.cos($),this}setFromMatrixPosition(_){const $=_.elements;return this.x=$[12],this.y=$[13],this.z=$[14],this}setFromMatrixScale(_){const $=this.setFromMatrixColumn(_,0).length(),j=this.setFromMatrixColumn(_,1).length(),_e=this.setFromMatrixColumn(_,2).length();return this.x=$,this.y=j,this.z=_e,this}setFromMatrixColumn(_,$){return this.fromArray(_.elements,$*4)}setFromMatrix3Column(_,$){return this.fromArray(_.elements,$*3)}setFromEuler(_){return this.x=_._x,this.y=_._y,this.z=_._z,this}setFromColor(_){return this.x=_.r,this.y=_.g,this.z=_.b,this}equals(_){return _.x===this.x&&_.y===this.y&&_.z===this.z}fromArray(_,$=0){return this.x=_[$],this.y=_[$+1],this.z=_[$+2],this}toArray(_=[],$=0){return _[$]=this.x,_[$+1]=this.y,_[$+2]=this.z,_}fromBufferAttribute(_,$){return this.x=_.getX($),this.y=_.getY($),this.z=_.getZ($),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const _=Math.random()*Math.PI*2,$=Math.random()*2-1,j=Math.sqrt(1-$*$);return this.x=j*Math.cos(_),this.y=$,this.z=j*Math.sin(_),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Ar=new I,sa=new Pn;class vi{constructor(_=new I(1/0,1/0,1/0),$=new I(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=_,this.max=$}set(_,$){return this.min.copy(_),this.max.copy($),this}setFromArray(_){this.makeEmpty();for(let $=0,j=_.length;$<j;$+=3)this.expandByPoint(Dt.fromArray(_,$));return this}setFromBufferAttribute(_){this.makeEmpty();for(let $=0,j=_.count;$<j;$++)this.expandByPoint(Dt.fromBufferAttribute(_,$));return this}setFromPoints(_){this.makeEmpty();for(let $=0,j=_.length;$<j;$++)this.expandByPoint(_[$]);return this}setFromCenterAndSize(_,$){const j=Dt.copy($).multiplyScalar(.5);return this.min.copy(_).sub(j),this.max.copy(_).add(j),this}setFromObject(_,$=!1){return this.makeEmpty(),this.expandByObject(_,$)}clone(){return new this.constructor().copy(this)}copy(_){return this.min.copy(_.min),this.max.copy(_.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(_){return this.isEmpty()?_.set(0,0,0):_.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(_){return this.isEmpty()?_.set(0,0,0):_.subVectors(this.max,this.min)}expandByPoint(_){return this.min.min(_),this.max.max(_),this}expandByVector(_){return this.min.sub(_),this.max.add(_),this}expandByScalar(_){return this.min.addScalar(-_),this.max.addScalar(_),this}expandByObject(_,$=!1){_.updateWorldMatrix(!1,!1);const j=_.geometry;if(j!==void 0){const et=j.getAttribute("position");if($===!0&&et!==void 0&&_.isInstancedMesh!==!0)for(let tt=0,nt=et.count;tt<nt;tt++)_.isMesh===!0?_.getVertexPosition(tt,Dt):Dt.fromBufferAttribute(et,tt),Dt.applyMatrix4(_.matrixWorld),this.expandByPoint(Dt);else _.boundingBox!==void 0?(_.boundingBox===null&&_.computeBoundingBox(),bi.copy(_.boundingBox)):(j.boundingBox===null&&j.computeBoundingBox(),bi.copy(j.boundingBox)),bi.applyMatrix4(_.matrixWorld),this.union(bi)}const _e=_.children;for(let et=0,tt=_e.length;et<tt;et++)this.expandByObject(_e[et],$);return this}containsPoint(_){return!(_.x<this.min.x||_.x>this.max.x||_.y<this.min.y||_.y>this.max.y||_.z<this.min.z||_.z>this.max.z)}containsBox(_){return this.min.x<=_.min.x&&_.max.x<=this.max.x&&this.min.y<=_.min.y&&_.max.y<=this.max.y&&this.min.z<=_.min.z&&_.max.z<=this.max.z}getParameter(_,$){return $.set((_.x-this.min.x)/(this.max.x-this.min.x),(_.y-this.min.y)/(this.max.y-this.min.y),(_.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(_){return!(_.max.x<this.min.x||_.min.x>this.max.x||_.max.y<this.min.y||_.min.y>this.max.y||_.max.z<this.min.z||_.min.z>this.max.z)}intersectsSphere(_){return this.clampPoint(_.center,Dt),Dt.distanceToSquared(_.center)<=_.radius*_.radius}intersectsPlane(_){let $,j;return _.normal.x>0?($=_.normal.x*this.min.x,j=_.normal.x*this.max.x):($=_.normal.x*this.max.x,j=_.normal.x*this.min.x),_.normal.y>0?($+=_.normal.y*this.min.y,j+=_.normal.y*this.max.y):($+=_.normal.y*this.max.y,j+=_.normal.y*this.min.y),_.normal.z>0?($+=_.normal.z*this.min.z,j+=_.normal.z*this.max.z):($+=_.normal.z*this.max.z,j+=_.normal.z*this.min.z),$<=-_.constant&&j>=-_.constant}intersectsTriangle(_){if(this.isEmpty())return!1;this.getCenter(hi),Ai.subVectors(this.max,hi),Fn.subVectors(_.a,hi),On.subVectors(_.b,hi),Bn.subVectors(_.c,hi),Jt.subVectors(On,Fn),Qt.subVectors(Bn,On),gn.subVectors(Fn,Bn);let $=[0,-Jt.z,Jt.y,0,-Qt.z,Qt.y,0,-gn.z,gn.y,Jt.z,0,-Jt.x,Qt.z,0,-Qt.x,gn.z,0,-gn.x,-Jt.y,Jt.x,0,-Qt.y,Qt.x,0,-gn.y,gn.x,0];return!wr($,Fn,On,Bn,Ai)||($=[1,0,0,0,1,0,0,0,1],!wr($,Fn,On,Bn,Ai))?!1:(wi.crossVectors(Jt,Qt),$=[wi.x,wi.y,wi.z],wr($,Fn,On,Bn,Ai))}clampPoint(_,$){return $.copy(_).clamp(this.min,this.max)}distanceToPoint(_){return this.clampPoint(_,Dt).distanceTo(_)}getBoundingSphere(_){return this.isEmpty()?_.makeEmpty():(this.getCenter(_.center),_.radius=this.getSize(Dt).length()*.5),_}intersect(_){return this.min.max(_.min),this.max.min(_.max),this.isEmpty()&&this.makeEmpty(),this}union(_){return this.min.min(_.min),this.max.max(_.max),this}applyMatrix4(_){return this.isEmpty()?this:(Vt[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(_),Vt[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(_),Vt[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(_),Vt[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(_),Vt[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(_),Vt[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(_),Vt[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(_),Vt[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(_),this.setFromPoints(Vt),this)}translate(_){return this.min.add(_),this.max.add(_),this}equals(_){return _.min.equals(this.min)&&_.max.equals(this.max)}}const Vt=[new I,new I,new I,new I,new I,new I,new I,new I],Dt=new I,bi=new vi,Fn=new I,On=new I,Bn=new I,Jt=new I,Qt=new I,gn=new I,hi=new I,Ai=new I,wi=new I,vn=new I;function wr(o,_,$,j,_e){for(let et=0,tt=o.length-3;et<=tt;et+=3){vn.fromArray(o,et);const nt=_e.x*Math.abs(vn.x)+_e.y*Math.abs(vn.y)+_e.z*Math.abs(vn.z),it=_.dot(vn),lt=$.dot(vn),dt=j.dot(vn);if(Math.max(-Math.max(it,lt,dt),Math.min(it,lt,dt))>nt)return!1}return!0}const ic=new vi,fi=new I,Rr=new I;class ur{constructor(_=new I,$=-1){this.isSphere=!0,this.center=_,this.radius=$}set(_,$){return this.center.copy(_),this.radius=$,this}setFromPoints(_,$){const j=this.center;$!==void 0?j.copy($):ic.setFromPoints(_).getCenter(j);let _e=0;for(let et=0,tt=_.length;et<tt;et++)_e=Math.max(_e,j.distanceToSquared(_[et]));return this.radius=Math.sqrt(_e),this}copy(_){return this.center.copy(_.center),this.radius=_.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(_){return _.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(_){return _.distanceTo(this.center)-this.radius}intersectsSphere(_){const $=this.radius+_.radius;return _.center.distanceToSquared(this.center)<=$*$}intersectsBox(_){return _.intersectsSphere(this)}intersectsPlane(_){return Math.abs(_.distanceToPoint(this.center))<=this.radius}clampPoint(_,$){const j=this.center.distanceToSquared(_);return $.copy(_),j>this.radius*this.radius&&($.sub(this.center).normalize(),$.multiplyScalar(this.radius).add(this.center)),$}getBoundingBox(_){return this.isEmpty()?(_.makeEmpty(),_):(_.set(this.center,this.center),_.expandByScalar(this.radius),_)}applyMatrix4(_){return this.center.applyMatrix4(_),this.radius=this.radius*_.getMaxScaleOnAxis(),this}translate(_){return this.center.add(_),this}expandByPoint(_){if(this.isEmpty())return this.center.copy(_),this.radius=0,this;fi.subVectors(_,this.center);const $=fi.lengthSq();if($>this.radius*this.radius){const j=Math.sqrt($),_e=(j-this.radius)*.5;this.center.addScaledVector(fi,_e/j),this.radius+=_e}return this}union(_){return _.isEmpty()?this:this.isEmpty()?(this.copy(_),this):(this.center.equals(_.center)===!0?this.radius=Math.max(this.radius,_.radius):(Rr.subVectors(_.center,this.center).setLength(_.radius),this.expandByPoint(fi.copy(_.center).add(Rr)),this.expandByPoint(fi.copy(_.center).sub(Rr))),this)}equals(_){return _.center.equals(this.center)&&_.radius===this.radius}clone(){return new this.constructor().copy(this)}}const kt=new I,Cr=new I,Ri=new I,en=new I,Pr=new I,Ci=new I,Lr=new I;class hs{constructor(_=new I,$=new I(0,0,-1)){this.origin=_,this.direction=$}set(_,$){return this.origin.copy(_),this.direction.copy($),this}copy(_){return this.origin.copy(_.origin),this.direction.copy(_.direction),this}at(_,$){return $.copy(this.origin).addScaledVector(this.direction,_)}lookAt(_){return this.direction.copy(_).sub(this.origin).normalize(),this}recast(_){return this.origin.copy(this.at(_,kt)),this}closestPointToPoint(_,$){$.subVectors(_,this.origin);const j=$.dot(this.direction);return j<0?$.copy(this.origin):$.copy(this.origin).addScaledVector(this.direction,j)}distanceToPoint(_){return Math.sqrt(this.distanceSqToPoint(_))}distanceSqToPoint(_){const $=kt.subVectors(_,this.origin).dot(this.direction);return $<0?this.origin.distanceToSquared(_):(kt.copy(this.origin).addScaledVector(this.direction,$),kt.distanceToSquared(_))}distanceSqToSegment(_,$,j,_e){Cr.copy(_).add($).multiplyScalar(.5),Ri.copy($).sub(_).normalize(),en.copy(this.origin).sub(Cr);const et=_.distanceTo($)*.5,tt=-this.direction.dot(Ri),nt=en.dot(this.direction),it=-en.dot(Ri),lt=en.lengthSq(),dt=Math.abs(1-tt*tt);let bt,Ht,pr,_n;if(dt>0)if(bt=tt*it-nt,Ht=tt*nt-it,_n=et*dt,bt>=0)if(Ht>=-_n)if(Ht<=_n){const ft=1/dt;bt*=ft,Ht*=ft,pr=bt*(bt+tt*Ht+2*nt)+Ht*(tt*bt+Ht+2*it)+lt}else Ht=et,bt=Math.max(0,-(tt*Ht+nt)),pr=-bt*bt+Ht*(Ht+2*it)+lt;else Ht=-et,bt=Math.max(0,-(tt*Ht+nt)),pr=-bt*bt+Ht*(Ht+2*it)+lt;else Ht<=-_n?(bt=Math.max(0,-(-tt*et+nt)),Ht=bt>0?-et:Math.min(Math.max(-et,-it),et),pr=-bt*bt+Ht*(Ht+2*it)+lt):Ht<=_n?(bt=0,Ht=Math.min(Math.max(-et,-it),et),pr=Ht*(Ht+2*it)+lt):(bt=Math.max(0,-(tt*et+nt)),Ht=bt>0?et:Math.min(Math.max(-et,-it),et),pr=-bt*bt+Ht*(Ht+2*it)+lt);else Ht=tt>0?-et:et,bt=Math.max(0,-(tt*Ht+nt)),pr=-bt*bt+Ht*(Ht+2*it)+lt;return j&&j.copy(this.origin).addScaledVector(this.direction,bt),_e&&_e.copy(Cr).addScaledVector(Ri,Ht),pr}intersectSphere(_,$){kt.subVectors(_.center,this.origin);const j=kt.dot(this.direction),_e=kt.dot(kt)-j*j,et=_.radius*_.radius;if(_e>et)return null;const tt=Math.sqrt(et-_e),nt=j-tt,it=j+tt;return it<0?null:nt<0?this.at(it,$):this.at(nt,$)}intersectsSphere(_){return this.distanceSqToPoint(_.center)<=_.radius*_.radius}distanceToPlane(_){const $=_.normal.dot(this.direction);if($===0)return _.distanceToPoint(this.origin)===0?0:null;const j=-(this.origin.dot(_.normal)+_.constant)/$;return j>=0?j:null}intersectPlane(_,$){const j=this.distanceToPlane(_);return j===null?null:this.at(j,$)}intersectsPlane(_){const $=_.distanceToPoint(this.origin);return $===0||_.normal.dot(this.direction)*$<0}intersectBox(_,$){let j,_e,et,tt,nt,it;const lt=1/this.direction.x,dt=1/this.direction.y,bt=1/this.direction.z,Ht=this.origin;return lt>=0?(j=(_.min.x-Ht.x)*lt,_e=(_.max.x-Ht.x)*lt):(j=(_.max.x-Ht.x)*lt,_e=(_.min.x-Ht.x)*lt),dt>=0?(et=(_.min.y-Ht.y)*dt,tt=(_.max.y-Ht.y)*dt):(et=(_.max.y-Ht.y)*dt,tt=(_.min.y-Ht.y)*dt),j>tt||et>_e||((et>j||isNaN(j))&&(j=et),(tt<_e||isNaN(_e))&&(_e=tt),bt>=0?(nt=(_.min.z-Ht.z)*bt,it=(_.max.z-Ht.z)*bt):(nt=(_.max.z-Ht.z)*bt,it=(_.min.z-Ht.z)*bt),j>it||nt>_e)||((nt>j||j!==j)&&(j=nt),(it<_e||_e!==_e)&&(_e=it),_e<0)?null:this.at(j>=0?j:_e,$)}intersectsBox(_){return this.intersectBox(_,kt)!==null}intersectTriangle(_,$,j,_e,et){Pr.subVectors($,_),Ci.subVectors(j,_),Lr.crossVectors(Pr,Ci);let tt=this.direction.dot(Lr),nt;if(tt>0){if(_e)return null;nt=1}else if(tt<0)nt=-1,tt=-tt;else return null;en.subVectors(this.origin,_);const it=nt*this.direction.dot(Ci.crossVectors(en,Ci));if(it<0)return null;const lt=nt*this.direction.dot(Pr.cross(en));if(lt<0||it+lt>tt)return null;const dt=-nt*en.dot(Lr);return dt<0?null:this.at(dt/tt,et)}applyMatrix4(_){return this.origin.applyMatrix4(_),this.direction.transformDirection(_),this}equals(_){return _.origin.equals(this.origin)&&_.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class st{constructor(_,$,j,_e,et,tt,nt,it,lt,dt,bt,Ht,pr,_n,ft,Ct){st.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],_!==void 0&&this.set(_,$,j,_e,et,tt,nt,it,lt,dt,bt,Ht,pr,_n,ft,Ct)}set(_,$,j,_e,et,tt,nt,it,lt,dt,bt,Ht,pr,_n,ft,Ct){const mr=this.elements;return mr[0]=_,mr[4]=$,mr[8]=j,mr[12]=_e,mr[1]=et,mr[5]=tt,mr[9]=nt,mr[13]=it,mr[2]=lt,mr[6]=dt,mr[10]=bt,mr[14]=Ht,mr[3]=pr,mr[7]=_n,mr[11]=ft,mr[15]=Ct,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new st().fromArray(this.elements)}copy(_){const $=this.elements,j=_.elements;return $[0]=j[0],$[1]=j[1],$[2]=j[2],$[3]=j[3],$[4]=j[4],$[5]=j[5],$[6]=j[6],$[7]=j[7],$[8]=j[8],$[9]=j[9],$[10]=j[10],$[11]=j[11],$[12]=j[12],$[13]=j[13],$[14]=j[14],$[15]=j[15],this}copyPosition(_){const $=this.elements,j=_.elements;return $[12]=j[12],$[13]=j[13],$[14]=j[14],this}setFromMatrix3(_){const $=_.elements;return this.set($[0],$[3],$[6],0,$[1],$[4],$[7],0,$[2],$[5],$[8],0,0,0,0,1),this}extractBasis(_,$,j){return _.setFromMatrixColumn(this,0),$.setFromMatrixColumn(this,1),j.setFromMatrixColumn(this,2),this}makeBasis(_,$,j){return this.set(_.x,$.x,j.x,0,_.y,$.y,j.y,0,_.z,$.z,j.z,0,0,0,0,1),this}extractRotation(_){const $=this.elements,j=_.elements,_e=1/zn.setFromMatrixColumn(_,0).length(),et=1/zn.setFromMatrixColumn(_,1).length(),tt=1/zn.setFromMatrixColumn(_,2).length();return $[0]=j[0]*_e,$[1]=j[1]*_e,$[2]=j[2]*_e,$[3]=0,$[4]=j[4]*et,$[5]=j[5]*et,$[6]=j[6]*et,$[7]=0,$[8]=j[8]*tt,$[9]=j[9]*tt,$[10]=j[10]*tt,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,this}makeRotationFromEuler(_){const $=this.elements,j=_.x,_e=_.y,et=_.z,tt=Math.cos(j),nt=Math.sin(j),it=Math.cos(_e),lt=Math.sin(_e),dt=Math.cos(et),bt=Math.sin(et);if(_.order==="XYZ"){const Ht=tt*dt,pr=tt*bt,_n=nt*dt,ft=nt*bt;$[0]=it*dt,$[4]=-it*bt,$[8]=lt,$[1]=pr+_n*lt,$[5]=Ht-ft*lt,$[9]=-nt*it,$[2]=ft-Ht*lt,$[6]=_n+pr*lt,$[10]=tt*it}else if(_.order==="YXZ"){const Ht=it*dt,pr=it*bt,_n=lt*dt,ft=lt*bt;$[0]=Ht+ft*nt,$[4]=_n*nt-pr,$[8]=tt*lt,$[1]=tt*bt,$[5]=tt*dt,$[9]=-nt,$[2]=pr*nt-_n,$[6]=ft+Ht*nt,$[10]=tt*it}else if(_.order==="ZXY"){const Ht=it*dt,pr=it*bt,_n=lt*dt,ft=lt*bt;$[0]=Ht-ft*nt,$[4]=-tt*bt,$[8]=_n+pr*nt,$[1]=pr+_n*nt,$[5]=tt*dt,$[9]=ft-Ht*nt,$[2]=-tt*lt,$[6]=nt,$[10]=tt*it}else if(_.order==="ZYX"){const Ht=tt*dt,pr=tt*bt,_n=nt*dt,ft=nt*bt;$[0]=it*dt,$[4]=_n*lt-pr,$[8]=Ht*lt+ft,$[1]=it*bt,$[5]=ft*lt+Ht,$[9]=pr*lt-_n,$[2]=-lt,$[6]=nt*it,$[10]=tt*it}else if(_.order==="YZX"){const Ht=tt*it,pr=tt*lt,_n=nt*it,ft=nt*lt;$[0]=it*dt,$[4]=ft-Ht*bt,$[8]=_n*bt+pr,$[1]=bt,$[5]=tt*dt,$[9]=-nt*dt,$[2]=-lt*dt,$[6]=pr*bt+_n,$[10]=Ht-ft*bt}else if(_.order==="XZY"){const Ht=tt*it,pr=tt*lt,_n=nt*it,ft=nt*lt;$[0]=it*dt,$[4]=-bt,$[8]=lt*dt,$[1]=Ht*bt+ft,$[5]=tt*dt,$[9]=pr*bt-_n,$[2]=_n*bt-pr,$[6]=nt*dt,$[10]=ft*bt+Ht}return $[3]=0,$[7]=0,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,this}makeRotationFromQuaternion(_){return this.compose(rc,_,sc)}lookAt(_,$,j){const _e=this.elements;return At.subVectors(_,$),At.lengthSq()===0&&(At.z=1),At.normalize(),tn.crossVectors(j,At),tn.lengthSq()===0&&(Math.abs(j.z)===1?At.x+=1e-4:At.z+=1e-4,At.normalize(),tn.crossVectors(j,At)),tn.normalize(),Pi.crossVectors(At,tn),_e[0]=tn.x,_e[4]=Pi.x,_e[8]=At.x,_e[1]=tn.y,_e[5]=Pi.y,_e[9]=At.y,_e[2]=tn.z,_e[6]=Pi.z,_e[10]=At.z,this}multiply(_){return this.multiplyMatrices(this,_)}premultiply(_){return this.multiplyMatrices(_,this)}multiplyMatrices(_,$){const j=_.elements,_e=$.elements,et=this.elements,tt=j[0],nt=j[4],it=j[8],lt=j[12],dt=j[1],bt=j[5],Ht=j[9],pr=j[13],_n=j[2],ft=j[6],Ct=j[10],mr=j[14],_r=j[3],mn=j[7],dr=j[11],pn=j[15],Do=_e[0],Io=_e[4],Lo=_e[8],ms=_e[12],Uo=_e[1],_s=_e[5],yp=_e[9],xs=_e[13],vs=_e[2],Sp=_e[6],wp=_e[10],bp=_e[14],Ep=_e[3],Cp=_e[7],Ap=_e[11],Mp=_e[15];return et[0]=tt*Do+nt*Uo+it*vs+lt*Ep,et[4]=tt*Io+nt*_s+it*Sp+lt*Cp,et[8]=tt*Lo+nt*yp+it*wp+lt*Ap,et[12]=tt*ms+nt*xs+it*bp+lt*Mp,et[1]=dt*Do+bt*Uo+Ht*vs+pr*Ep,et[5]=dt*Io+bt*_s+Ht*Sp+pr*Cp,et[9]=dt*Lo+bt*yp+Ht*wp+pr*Ap,et[13]=dt*ms+bt*xs+Ht*bp+pr*Mp,et[2]=_n*Do+ft*Uo+Ct*vs+mr*Ep,et[6]=_n*Io+ft*_s+Ct*Sp+mr*Cp,et[10]=_n*Lo+ft*yp+Ct*wp+mr*Ap,et[14]=_n*ms+ft*xs+Ct*bp+mr*Mp,et[3]=_r*Do+mn*Uo+dr*vs+pn*Ep,et[7]=_r*Io+mn*_s+dr*Sp+pn*Cp,et[11]=_r*Lo+mn*yp+dr*wp+pn*Ap,et[15]=_r*ms+mn*xs+dr*bp+pn*Mp,this}multiplyScalar(_){const $=this.elements;return $[0]*=_,$[4]*=_,$[8]*=_,$[12]*=_,$[1]*=_,$[5]*=_,$[9]*=_,$[13]*=_,$[2]*=_,$[6]*=_,$[10]*=_,$[14]*=_,$[3]*=_,$[7]*=_,$[11]*=_,$[15]*=_,this}determinant(){const _=this.elements,$=_[0],j=_[4],_e=_[8],et=_[12],tt=_[1],nt=_[5],it=_[9],lt=_[13],dt=_[2],bt=_[6],Ht=_[10],pr=_[14],_n=_[3],ft=_[7],Ct=_[11],mr=_[15];return _n*(+et*it*bt-_e*lt*bt-et*nt*Ht+j*lt*Ht+_e*nt*pr-j*it*pr)+ft*(+$*it*pr-$*lt*Ht+et*tt*Ht-_e*tt*pr+_e*lt*dt-et*it*dt)+Ct*(+$*lt*bt-$*nt*pr-et*tt*bt+j*tt*pr+et*nt*dt-j*lt*dt)+mr*(-_e*nt*dt-$*it*bt+$*nt*Ht+_e*tt*bt-j*tt*Ht+j*it*dt)}transpose(){const _=this.elements;let $;return $=_[1],_[1]=_[4],_[4]=$,$=_[2],_[2]=_[8],_[8]=$,$=_[6],_[6]=_[9],_[9]=$,$=_[3],_[3]=_[12],_[12]=$,$=_[7],_[7]=_[13],_[13]=$,$=_[11],_[11]=_[14],_[14]=$,this}setPosition(_,$,j){const _e=this.elements;return _.isVector3?(_e[12]=_.x,_e[13]=_.y,_e[14]=_.z):(_e[12]=_,_e[13]=$,_e[14]=j),this}invert(){const _=this.elements,$=_[0],j=_[1],_e=_[2],et=_[3],tt=_[4],nt=_[5],it=_[6],lt=_[7],dt=_[8],bt=_[9],Ht=_[10],pr=_[11],_n=_[12],ft=_[13],Ct=_[14],mr=_[15],_r=bt*Ct*lt-ft*Ht*lt+ft*it*pr-nt*Ct*pr-bt*it*mr+nt*Ht*mr,mn=_n*Ht*lt-dt*Ct*lt-_n*it*pr+tt*Ct*pr+dt*it*mr-tt*Ht*mr,dr=dt*ft*lt-_n*bt*lt+_n*nt*pr-tt*ft*pr-dt*nt*mr+tt*bt*mr,pn=_n*bt*it-dt*ft*it-_n*nt*Ht+tt*ft*Ht+dt*nt*Ct-tt*bt*Ct,Do=$*_r+j*mn+_e*dr+et*pn;if(Do===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Io=1/Do;return _[0]=_r*Io,_[1]=(ft*Ht*et-bt*Ct*et-ft*_e*pr+j*Ct*pr+bt*_e*mr-j*Ht*mr)*Io,_[2]=(nt*Ct*et-ft*it*et+ft*_e*lt-j*Ct*lt-nt*_e*mr+j*it*mr)*Io,_[3]=(bt*it*et-nt*Ht*et-bt*_e*lt+j*Ht*lt+nt*_e*pr-j*it*pr)*Io,_[4]=mn*Io,_[5]=(dt*Ct*et-_n*Ht*et+_n*_e*pr-$*Ct*pr-dt*_e*mr+$*Ht*mr)*Io,_[6]=(_n*it*et-tt*Ct*et-_n*_e*lt+$*Ct*lt+tt*_e*mr-$*it*mr)*Io,_[7]=(tt*Ht*et-dt*it*et+dt*_e*lt-$*Ht*lt-tt*_e*pr+$*it*pr)*Io,_[8]=dr*Io,_[9]=(_n*bt*et-dt*ft*et-_n*j*pr+$*ft*pr+dt*j*mr-$*bt*mr)*Io,_[10]=(tt*ft*et-_n*nt*et+_n*j*lt-$*ft*lt-tt*j*mr+$*nt*mr)*Io,_[11]=(dt*nt*et-tt*bt*et-dt*j*lt+$*bt*lt+tt*j*pr-$*nt*pr)*Io,_[12]=pn*Io,_[13]=(dt*ft*_e-_n*bt*_e+_n*j*Ht-$*ft*Ht-dt*j*Ct+$*bt*Ct)*Io,_[14]=(_n*nt*_e-tt*ft*_e-_n*j*it+$*ft*it+tt*j*Ct-$*nt*Ct)*Io,_[15]=(tt*bt*_e-dt*nt*_e+dt*j*it-$*bt*it-tt*j*Ht+$*nt*Ht)*Io,this}scale(_){const $=this.elements,j=_.x,_e=_.y,et=_.z;return $[0]*=j,$[4]*=_e,$[8]*=et,$[1]*=j,$[5]*=_e,$[9]*=et,$[2]*=j,$[6]*=_e,$[10]*=et,$[3]*=j,$[7]*=_e,$[11]*=et,this}getMaxScaleOnAxis(){const _=this.elements,$=_[0]*_[0]+_[1]*_[1]+_[2]*_[2],j=_[4]*_[4]+_[5]*_[5]+_[6]*_[6],_e=_[8]*_[8]+_[9]*_[9]+_[10]*_[10];return Math.sqrt(Math.max($,j,_e))}makeTranslation(_,$,j){return _.isVector3?this.set(1,0,0,_.x,0,1,0,_.y,0,0,1,_.z,0,0,0,1):this.set(1,0,0,_,0,1,0,$,0,0,1,j,0,0,0,1),this}makeRotationX(_){const $=Math.cos(_),j=Math.sin(_);return this.set(1,0,0,0,0,$,-j,0,0,j,$,0,0,0,0,1),this}makeRotationY(_){const $=Math.cos(_),j=Math.sin(_);return this.set($,0,j,0,0,1,0,0,-j,0,$,0,0,0,0,1),this}makeRotationZ(_){const $=Math.cos(_),j=Math.sin(_);return this.set($,-j,0,0,j,$,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(_,$){const j=Math.cos($),_e=Math.sin($),et=1-j,tt=_.x,nt=_.y,it=_.z,lt=et*tt,dt=et*nt;return this.set(lt*tt+j,lt*nt-_e*it,lt*it+_e*nt,0,lt*nt+_e*it,dt*nt+j,dt*it-_e*tt,0,lt*it-_e*nt,dt*it+_e*tt,et*it*it+j,0,0,0,0,1),this}makeScale(_,$,j){return this.set(_,0,0,0,0,$,0,0,0,0,j,0,0,0,0,1),this}makeShear(_,$,j,_e,et,tt){return this.set(1,j,et,0,_,1,tt,0,$,_e,1,0,0,0,0,1),this}compose(_,$,j){const _e=this.elements,et=$._x,tt=$._y,nt=$._z,it=$._w,lt=et+et,dt=tt+tt,bt=nt+nt,Ht=et*lt,pr=et*dt,_n=et*bt,ft=tt*dt,Ct=tt*bt,mr=nt*bt,_r=it*lt,mn=it*dt,dr=it*bt,pn=j.x,Do=j.y,Io=j.z;return _e[0]=(1-(ft+mr))*pn,_e[1]=(pr+dr)*pn,_e[2]=(_n-mn)*pn,_e[3]=0,_e[4]=(pr-dr)*Do,_e[5]=(1-(Ht+mr))*Do,_e[6]=(Ct+_r)*Do,_e[7]=0,_e[8]=(_n+mn)*Io,_e[9]=(Ct-_r)*Io,_e[10]=(1-(Ht+ft))*Io,_e[11]=0,_e[12]=_.x,_e[13]=_.y,_e[14]=_.z,_e[15]=1,this}decompose(_,$,j){const _e=this.elements;let et=zn.set(_e[0],_e[1],_e[2]).length();const tt=zn.set(_e[4],_e[5],_e[6]).length(),nt=zn.set(_e[8],_e[9],_e[10]).length();this.determinant()<0&&(et=-et),_.x=_e[12],_.y=_e[13],_.z=_e[14],Ut.copy(this);const it=1/et,lt=1/tt,dt=1/nt;return Ut.elements[0]*=it,Ut.elements[1]*=it,Ut.elements[2]*=it,Ut.elements[4]*=lt,Ut.elements[5]*=lt,Ut.elements[6]*=lt,Ut.elements[8]*=dt,Ut.elements[9]*=dt,Ut.elements[10]*=dt,$.setFromRotationMatrix(Ut),j.x=et,j.y=tt,j.z=nt,this}makePerspective(_,$,j,_e,et,tt,nt=Zt){const it=this.elements,lt=2*et/($-_),dt=2*et/(j-_e),bt=($+_)/($-_),Ht=(j+_e)/(j-_e);let pr,_n;if(nt===Zt)pr=-(tt+et)/(tt-et),_n=-2*tt*et/(tt-et);else if(nt===ir)pr=-tt/(tt-et),_n=-tt*et/(tt-et);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+nt);return it[0]=lt,it[4]=0,it[8]=bt,it[12]=0,it[1]=0,it[5]=dt,it[9]=Ht,it[13]=0,it[2]=0,it[6]=0,it[10]=pr,it[14]=_n,it[3]=0,it[7]=0,it[11]=-1,it[15]=0,this}makeOrthographic(_,$,j,_e,et,tt,nt=Zt){const it=this.elements,lt=1/($-_),dt=1/(j-_e),bt=1/(tt-et),Ht=($+_)*lt,pr=(j+_e)*dt;let _n,ft;if(nt===Zt)_n=(tt+et)*bt,ft=-2*bt;else if(nt===ir)_n=et*bt,ft=-1*bt;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+nt);return it[0]=2*lt,it[4]=0,it[8]=0,it[12]=-Ht,it[1]=0,it[5]=2*dt,it[9]=0,it[13]=-pr,it[2]=0,it[6]=0,it[10]=ft,it[14]=-_n,it[3]=0,it[7]=0,it[11]=0,it[15]=1,this}equals(_){const $=this.elements,j=_.elements;for(let _e=0;_e<16;_e++)if($[_e]!==j[_e])return!1;return!0}fromArray(_,$=0){for(let j=0;j<16;j++)this.elements[j]=_[j+$];return this}toArray(_=[],$=0){const j=this.elements;return _[$]=j[0],_[$+1]=j[1],_[$+2]=j[2],_[$+3]=j[3],_[$+4]=j[4],_[$+5]=j[5],_[$+6]=j[6],_[$+7]=j[7],_[$+8]=j[8],_[$+9]=j[9],_[$+10]=j[10],_[$+11]=j[11],_[$+12]=j[12],_[$+13]=j[13],_[$+14]=j[14],_[$+15]=j[15],_}}const zn=new I,Ut=new st,rc=new I(0,0,0),sc=new I(1,1,1),tn=new I,Pi=new I,At=new I,aa=new st,oa=new Pn;class $t{constructor(_=0,$=0,j=0,_e=$t.DEFAULT_ORDER){this.isEuler=!0,this._x=_,this._y=$,this._z=j,this._order=_e}get x(){return this._x}set x(_){this._x=_,this._onChangeCallback()}get y(){return this._y}set y(_){this._y=_,this._onChangeCallback()}get z(){return this._z}set z(_){this._z=_,this._onChangeCallback()}get order(){return this._order}set order(_){this._order=_,this._onChangeCallback()}set(_,$,j,_e=this._order){return this._x=_,this._y=$,this._z=j,this._order=_e,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(_){return this._x=_._x,this._y=_._y,this._z=_._z,this._order=_._order,this._onChangeCallback(),this}setFromRotationMatrix(_,$=this._order,j=!0){const _e=_.elements,et=_e[0],tt=_e[4],nt=_e[8],it=_e[1],lt=_e[5],dt=_e[9],bt=_e[2],Ht=_e[6],pr=_e[10];switch($){case"XYZ":this._y=Math.asin(_t(nt,-1,1)),Math.abs(nt)<.9999999?(this._x=Math.atan2(-dt,pr),this._z=Math.atan2(-tt,et)):(this._x=Math.atan2(Ht,lt),this._z=0);break;case"YXZ":this._x=Math.asin(-_t(dt,-1,1)),Math.abs(dt)<.9999999?(this._y=Math.atan2(nt,pr),this._z=Math.atan2(it,lt)):(this._y=Math.atan2(-bt,et),this._z=0);break;case"ZXY":this._x=Math.asin(_t(Ht,-1,1)),Math.abs(Ht)<.9999999?(this._y=Math.atan2(-bt,pr),this._z=Math.atan2(-tt,lt)):(this._y=0,this._z=Math.atan2(it,et));break;case"ZYX":this._y=Math.asin(-_t(bt,-1,1)),Math.abs(bt)<.9999999?(this._x=Math.atan2(Ht,pr),this._z=Math.atan2(it,et)):(this._x=0,this._z=Math.atan2(-tt,lt));break;case"YZX":this._z=Math.asin(_t(it,-1,1)),Math.abs(it)<.9999999?(this._x=Math.atan2(-dt,lt),this._y=Math.atan2(-bt,et)):(this._x=0,this._y=Math.atan2(nt,pr));break;case"XZY":this._z=Math.asin(-_t(tt,-1,1)),Math.abs(tt)<.9999999?(this._x=Math.atan2(Ht,lt),this._y=Math.atan2(nt,et)):(this._x=Math.atan2(-dt,pr),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+$)}return this._order=$,j===!0&&this._onChangeCallback(),this}setFromQuaternion(_,$,j){return aa.makeRotationFromQuaternion(_),this.setFromRotationMatrix(aa,$,j)}setFromVector3(_,$=this._order){return this.set(_.x,_.y,_.z,$)}reorder(_){return oa.setFromEuler(this),this.setFromQuaternion(oa,_)}equals(_){return _._x===this._x&&_._y===this._y&&_._z===this._z&&_._order===this._order}fromArray(_){return this._x=_[0],this._y=_[1],this._z=_[2],_[3]!==void 0&&(this._order=_[3]),this._onChangeCallback(),this}toArray(_=[],$=0){return _[$]=this._x,_[$+1]=this._y,_[$+2]=this._z,_[$+3]=this._order,_}_onChange(_){return this._onChangeCallback=_,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}$t.DEFAULT_ORDER="XYZ";class mo{constructor(){this.mask=1}set(_){this.mask=(1<<_|0)>>>0}enable(_){this.mask|=1<<_|0}enableAll(){this.mask=-1}toggle(_){this.mask^=1<<_|0}disable(_){this.mask&=~(1<<_|0)}disableAll(){this.mask=0}test(_){return(this.mask&_.mask)!==0}isEnabled(_){return(this.mask&(1<<_|0))!==0}}let ac=0;const la=new I,Gn=new Pn,Wt=new st,Li=new I,di=new I,oc=new I,lc=new Pn,ca=new I(1,0,0),ua=new I(0,1,0),ha=new I(0,0,1),cc={type:"added"},uc={type:"removed"},Dr={type:"childadded",child:null},Ur={type:"childremoved",child:null};class Mt extends Ln{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ac++}),this.uuid=oi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Mt.DEFAULT_UP.clone();const _=new I,$=new $t,j=new Pn,_e=new I(1,1,1);function et(){j.setFromEuler($,!1)}function tt(){$.setFromQuaternion(j,void 0,!1)}$._onChange(et),j._onChange(tt),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:_},rotation:{configurable:!0,enumerable:!0,value:$},quaternion:{configurable:!0,enumerable:!0,value:j},scale:{configurable:!0,enumerable:!0,value:_e},modelViewMatrix:{value:new st},normalMatrix:{value:new Ge}}),this.matrix=new st,this.matrixWorld=new st,this.matrixAutoUpdate=Mt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Mt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new mo,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(_){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(_),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(_){return this.quaternion.premultiply(_),this}setRotationFromAxisAngle(_,$){this.quaternion.setFromAxisAngle(_,$)}setRotationFromEuler(_){this.quaternion.setFromEuler(_,!0)}setRotationFromMatrix(_){this.quaternion.setFromRotationMatrix(_)}setRotationFromQuaternion(_){this.quaternion.copy(_)}rotateOnAxis(_,$){return Gn.setFromAxisAngle(_,$),this.quaternion.multiply(Gn),this}rotateOnWorldAxis(_,$){return Gn.setFromAxisAngle(_,$),this.quaternion.premultiply(Gn),this}rotateX(_){return this.rotateOnAxis(ca,_)}rotateY(_){return this.rotateOnAxis(ua,_)}rotateZ(_){return this.rotateOnAxis(ha,_)}translateOnAxis(_,$){return la.copy(_).applyQuaternion(this.quaternion),this.position.add(la.multiplyScalar($)),this}translateX(_){return this.translateOnAxis(ca,_)}translateY(_){return this.translateOnAxis(ua,_)}translateZ(_){return this.translateOnAxis(ha,_)}localToWorld(_){return this.updateWorldMatrix(!0,!1),_.applyMatrix4(this.matrixWorld)}worldToLocal(_){return this.updateWorldMatrix(!0,!1),_.applyMatrix4(Wt.copy(this.matrixWorld).invert())}lookAt(_,$,j){_.isVector3?Li.copy(_):Li.set(_,$,j);const _e=this.parent;this.updateWorldMatrix(!0,!1),di.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Wt.lookAt(di,Li,this.up):Wt.lookAt(Li,di,this.up),this.quaternion.setFromRotationMatrix(Wt),_e&&(Wt.extractRotation(_e.matrixWorld),Gn.setFromRotationMatrix(Wt),this.quaternion.premultiply(Gn.invert()))}add(_){if(arguments.length>1){for(let $=0;$<arguments.length;$++)this.add(arguments[$]);return this}return _===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",_),this):(_&&_.isObject3D?(_.parent!==null&&_.parent.remove(_),_.parent=this,this.children.push(_),_.dispatchEvent(cc),Dr.child=_,this.dispatchEvent(Dr),Dr.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",_),this)}remove(_){if(arguments.length>1){for(let j=0;j<arguments.length;j++)this.remove(arguments[j]);return this}const $=this.children.indexOf(_);return $!==-1&&(_.parent=null,this.children.splice($,1),_.dispatchEvent(uc),Ur.child=_,this.dispatchEvent(Ur),Ur.child=null),this}removeFromParent(){const _=this.parent;return _!==null&&_.remove(this),this}clear(){return this.remove(...this.children)}attach(_){return this.updateWorldMatrix(!0,!1),Wt.copy(this.matrixWorld).invert(),_.parent!==null&&(_.parent.updateWorldMatrix(!0,!1),Wt.multiply(_.parent.matrixWorld)),_.applyMatrix4(Wt),this.add(_),_.updateWorldMatrix(!1,!0),this}getObjectById(_){return this.getObjectByProperty("id",_)}getObjectByName(_){return this.getObjectByProperty("name",_)}getObjectByProperty(_,$){if(this[_]===$)return this;for(let j=0,_e=this.children.length;j<_e;j++){const et=this.children[j].getObjectByProperty(_,$);if(et!==void 0)return et}}getObjectsByProperty(_,$,j=[]){this[_]===$&&j.push(this);const _e=this.children;for(let et=0,tt=_e.length;et<tt;et++)_e[et].getObjectsByProperty(_,$,j);return j}getWorldPosition(_){return this.updateWorldMatrix(!0,!1),_.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(_){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(di,_,oc),_}getWorldScale(_){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(di,lc,_),_}getWorldDirection(_){this.updateWorldMatrix(!0,!1);const $=this.matrixWorld.elements;return _.set($[8],$[9],$[10]).normalize()}raycast(){}traverse(_){_(this);const $=this.children;for(let j=0,_e=$.length;j<_e;j++)$[j].traverse(_)}traverseVisible(_){if(this.visible===!1)return;_(this);const $=this.children;for(let j=0,_e=$.length;j<_e;j++)$[j].traverseVisible(_)}traverseAncestors(_){const $=this.parent;$!==null&&(_($),$.traverseAncestors(_))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(_){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||_)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,_=!0);const $=this.children;for(let j=0,_e=$.length;j<_e;j++){const et=$[j];(et.matrixWorldAutoUpdate===!0||_===!0)&&et.updateMatrixWorld(_)}}updateWorldMatrix(_,$){const j=this.parent;if(_===!0&&j!==null&&j.matrixWorldAutoUpdate===!0&&j.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),$===!0){const _e=this.children;for(let et=0,tt=_e.length;et<tt;et++){const nt=_e[et];nt.matrixWorldAutoUpdate===!0&&nt.updateWorldMatrix(!1,!0)}}}toJSON(_){const $=_===void 0||typeof _=="string",j={};$&&(_={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},j.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const _e={};_e.uuid=this.uuid,_e.type=this.type,this.name!==""&&(_e.name=this.name),this.castShadow===!0&&(_e.castShadow=!0),this.receiveShadow===!0&&(_e.receiveShadow=!0),this.visible===!1&&(_e.visible=!1),this.frustumCulled===!1&&(_e.frustumCulled=!1),this.renderOrder!==0&&(_e.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(_e.userData=this.userData),_e.layers=this.layers.mask,_e.matrix=this.matrix.toArray(),_e.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(_e.matrixAutoUpdate=!1),this.isInstancedMesh&&(_e.type="InstancedMesh",_e.count=this.count,_e.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(_e.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(_e.type="BatchedMesh",_e.perObjectFrustumCulled=this.perObjectFrustumCulled,_e.sortObjects=this.sortObjects,_e.drawRanges=this._drawRanges,_e.reservedRanges=this._reservedRanges,_e.visibility=this._visibility,_e.active=this._active,_e.bounds=this._bounds.map(nt=>({boxInitialized:nt.boxInitialized,boxMin:nt.box.min.toArray(),boxMax:nt.box.max.toArray(),sphereInitialized:nt.sphereInitialized,sphereRadius:nt.sphere.radius,sphereCenter:nt.sphere.center.toArray()})),_e.maxGeometryCount=this._maxGeometryCount,_e.maxVertexCount=this._maxVertexCount,_e.maxIndexCount=this._maxIndexCount,_e.geometryInitialized=this._geometryInitialized,_e.geometryCount=this._geometryCount,_e.matricesTexture=this._matricesTexture.toJSON(_),this.boundingSphere!==null&&(_e.boundingSphere={center:_e.boundingSphere.center.toArray(),radius:_e.boundingSphere.radius}),this.boundingBox!==null&&(_e.boundingBox={min:_e.boundingBox.min.toArray(),max:_e.boundingBox.max.toArray()}));function et(nt,it){return nt[it.uuid]===void 0&&(nt[it.uuid]=it.toJSON(_)),it.uuid}if(this.isScene)this.background&&(this.background.isColor?_e.background=this.background.toJSON():this.background.isTexture&&(_e.background=this.background.toJSON(_).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(_e.environment=this.environment.toJSON(_).uuid);else if(this.isMesh||this.isLine||this.isPoints){_e.geometry=et(_.geometries,this.geometry);const nt=this.geometry.parameters;if(nt!==void 0&&nt.shapes!==void 0){const it=nt.shapes;if(Array.isArray(it))for(let lt=0,dt=it.length;lt<dt;lt++){const bt=it[lt];et(_.shapes,bt)}else et(_.shapes,it)}}if(this.isSkinnedMesh&&(_e.bindMode=this.bindMode,_e.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(et(_.skeletons,this.skeleton),_e.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const nt=[];for(let it=0,lt=this.material.length;it<lt;it++)nt.push(et(_.materials,this.material[it]));_e.material=nt}else _e.material=et(_.materials,this.material);if(this.children.length>0){_e.children=[];for(let nt=0;nt<this.children.length;nt++)_e.children.push(this.children[nt].toJSON(_).object)}if(this.animations.length>0){_e.animations=[];for(let nt=0;nt<this.animations.length;nt++){const it=this.animations[nt];_e.animations.push(et(_.animations,it))}}if($){const nt=tt(_.geometries),it=tt(_.materials),lt=tt(_.textures),dt=tt(_.images),bt=tt(_.shapes),Ht=tt(_.skeletons),pr=tt(_.animations),_n=tt(_.nodes);nt.length>0&&(j.geometries=nt),it.length>0&&(j.materials=it),lt.length>0&&(j.textures=lt),dt.length>0&&(j.images=dt),bt.length>0&&(j.shapes=bt),Ht.length>0&&(j.skeletons=Ht),pr.length>0&&(j.animations=pr),_n.length>0&&(j.nodes=_n)}return j.object=_e,j;function tt(nt){const it=[];for(const lt in nt){const dt=nt[lt];delete dt.metadata,it.push(dt)}return it}}clone(_){return new this.constructor().copy(this,_)}copy(_,$=!0){if(this.name=_.name,this.up.copy(_.up),this.position.copy(_.position),this.rotation.order=_.rotation.order,this.quaternion.copy(_.quaternion),this.scale.copy(_.scale),this.matrix.copy(_.matrix),this.matrixWorld.copy(_.matrixWorld),this.matrixAutoUpdate=_.matrixAutoUpdate,this.matrixWorldAutoUpdate=_.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=_.matrixWorldNeedsUpdate,this.layers.mask=_.layers.mask,this.visible=_.visible,this.castShadow=_.castShadow,this.receiveShadow=_.receiveShadow,this.frustumCulled=_.frustumCulled,this.renderOrder=_.renderOrder,this.animations=_.animations.slice(),this.userData=JSON.parse(JSON.stringify(_.userData)),$===!0)for(let j=0;j<_.children.length;j++){const _e=_.children[j];this.add(_e.clone())}return this}}Mt.DEFAULT_UP=new I(0,1,0);Mt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Mt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const It=new I,Xt=new I,Ir=new I,Yt=new I,Hn=new I,Vn=new I,fa=new I,Nr=new I,Fr=new I,Or=new I;class Ot{constructor(_=new I,$=new I,j=new I){this.a=_,this.b=$,this.c=j}static getNormal(_,$,j,_e){_e.subVectors(j,$),It.subVectors(_,$),_e.cross(It);const et=_e.lengthSq();return et>0?_e.multiplyScalar(1/Math.sqrt(et)):_e.set(0,0,0)}static getBarycoord(_,$,j,_e,et){It.subVectors(_e,$),Xt.subVectors(j,$),Ir.subVectors(_,$);const tt=It.dot(It),nt=It.dot(Xt),it=It.dot(Ir),lt=Xt.dot(Xt),dt=Xt.dot(Ir),bt=tt*lt-nt*nt;if(bt===0)return et.set(0,0,0),null;const Ht=1/bt,pr=(lt*it-nt*dt)*Ht,_n=(tt*dt-nt*it)*Ht;return et.set(1-pr-_n,_n,pr)}static containsPoint(_,$,j,_e){return this.getBarycoord(_,$,j,_e,Yt)===null?!1:Yt.x>=0&&Yt.y>=0&&Yt.x+Yt.y<=1}static getInterpolation(_,$,j,_e,et,tt,nt,it){return this.getBarycoord(_,$,j,_e,Yt)===null?(it.x=0,it.y=0,"z"in it&&(it.z=0),"w"in it&&(it.w=0),null):(it.setScalar(0),it.addScaledVector(et,Yt.x),it.addScaledVector(tt,Yt.y),it.addScaledVector(nt,Yt.z),it)}static isFrontFacing(_,$,j,_e){return It.subVectors(j,$),Xt.subVectors(_,$),It.cross(Xt).dot(_e)<0}set(_,$,j){return this.a.copy(_),this.b.copy($),this.c.copy(j),this}setFromPointsAndIndices(_,$,j,_e){return this.a.copy(_[$]),this.b.copy(_[j]),this.c.copy(_[_e]),this}setFromAttributeAndIndices(_,$,j,_e){return this.a.fromBufferAttribute(_,$),this.b.fromBufferAttribute(_,j),this.c.fromBufferAttribute(_,_e),this}clone(){return new this.constructor().copy(this)}copy(_){return this.a.copy(_.a),this.b.copy(_.b),this.c.copy(_.c),this}getArea(){return It.subVectors(this.c,this.b),Xt.subVectors(this.a,this.b),It.cross(Xt).length()*.5}getMidpoint(_){return _.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(_){return Ot.getNormal(this.a,this.b,this.c,_)}getPlane(_){return _.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(_,$){return Ot.getBarycoord(_,this.a,this.b,this.c,$)}getInterpolation(_,$,j,_e,et){return Ot.getInterpolation(_,this.a,this.b,this.c,$,j,_e,et)}containsPoint(_){return Ot.containsPoint(_,this.a,this.b,this.c)}isFrontFacing(_){return Ot.isFrontFacing(this.a,this.b,this.c,_)}intersectsBox(_){return _.intersectsTriangle(this)}closestPointToPoint(_,$){const j=this.a,_e=this.b,et=this.c;let tt,nt;Hn.subVectors(_e,j),Vn.subVectors(et,j),Nr.subVectors(_,j);const it=Hn.dot(Nr),lt=Vn.dot(Nr);if(it<=0&&lt<=0)return $.copy(j);Fr.subVectors(_,_e);const dt=Hn.dot(Fr),bt=Vn.dot(Fr);if(dt>=0&&bt<=dt)return $.copy(_e);const Ht=it*bt-dt*lt;if(Ht<=0&&it>=0&&dt<=0)return tt=it/(it-dt),$.copy(j).addScaledVector(Hn,tt);Or.subVectors(_,et);const pr=Hn.dot(Or),_n=Vn.dot(Or);if(_n>=0&&pr<=_n)return $.copy(et);const ft=pr*lt-it*_n;if(ft<=0&&lt>=0&&_n<=0)return nt=lt/(lt-_n),$.copy(j).addScaledVector(Vn,nt);const Ct=dt*_n-pr*bt;if(Ct<=0&&bt-dt>=0&&pr-_n>=0)return fa.subVectors(et,_e),nt=(bt-dt)/(bt-dt+(pr-_n)),$.copy(_e).addScaledVector(fa,nt);const mr=1/(Ct+ft+Ht);return tt=ft*mr,nt=Ht*mr,$.copy(j).addScaledVector(Hn,tt).addScaledVector(Vn,nt)}equals(_){return _.a.equals(this.a)&&_.b.equals(this.b)&&_.c.equals(this.c)}}const _o={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},nn={h:0,s:0,l:0},Di={h:0,s:0,l:0};function Br(o,_,$){return $<0&&($+=1),$>1&&($-=1),$<1/6?o+(_-o)*6*$:$<1/2?_:$<2/3?o+(_-o)*6*(2/3-$):o}class qe{constructor(_,$,j){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(_,$,j)}set(_,$,j){if($===void 0&&j===void 0){const _e=_;_e&&_e.isColor?this.copy(_e):typeof _e=="number"?this.setHex(_e):typeof _e=="string"&&this.setStyle(_e)}else this.setRGB(_,$,j);return this}setScalar(_){return this.r=_,this.g=_,this.b=_,this}setHex(_,$=Bt){return _=Math.floor(_),this.r=(_>>16&255)/255,this.g=(_>>8&255)/255,this.b=(_&255)/255,je.toWorkingColorSpace(this,$),this}setRGB(_,$,j,_e=je.workingColorSpace){return this.r=_,this.g=$,this.b=j,je.toWorkingColorSpace(this,_e),this}setHSL(_,$,j,_e=je.workingColorSpace){if(_=us(_,1),$=_t($,0,1),j=_t(j,0,1),$===0)this.r=this.g=this.b=j;else{const et=j<=.5?j*(1+$):j+$-j*$,tt=2*j-et;this.r=Br(tt,et,_+1/3),this.g=Br(tt,et,_),this.b=Br(tt,et,_-1/3)}return je.toWorkingColorSpace(this,_e),this}setStyle(_,$=Bt){function j(et){et!==void 0&&parseFloat(et)<1&&console.warn("THREE.Color: Alpha component of "+_+" will be ignored.")}let _e;if(_e=/^(\w+)\(([^\)]*)\)/.exec(_)){let et;const tt=_e[1],nt=_e[2];switch(tt){case"rgb":case"rgba":if(et=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(nt))return j(et[4]),this.setRGB(Math.min(255,parseInt(et[1],10))/255,Math.min(255,parseInt(et[2],10))/255,Math.min(255,parseInt(et[3],10))/255,$);if(et=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(nt))return j(et[4]),this.setRGB(Math.min(100,parseInt(et[1],10))/100,Math.min(100,parseInt(et[2],10))/100,Math.min(100,parseInt(et[3],10))/100,$);break;case"hsl":case"hsla":if(et=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(nt))return j(et[4]),this.setHSL(parseFloat(et[1])/360,parseFloat(et[2])/100,parseFloat(et[3])/100,$);break;default:console.warn("THREE.Color: Unknown color model "+_)}}else if(_e=/^\#([A-Fa-f\d]+)$/.exec(_)){const et=_e[1],tt=et.length;if(tt===3)return this.setRGB(parseInt(et.charAt(0),16)/15,parseInt(et.charAt(1),16)/15,parseInt(et.charAt(2),16)/15,$);if(tt===6)return this.setHex(parseInt(et,16),$);console.warn("THREE.Color: Invalid hex color "+_)}else if(_&&_.length>0)return this.setColorName(_,$);return this}setColorName(_,$=Bt){const j=_o[_.toLowerCase()];return j!==void 0?this.setHex(j,$):console.warn("THREE.Color: Unknown color "+_),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(_){return this.r=_.r,this.g=_.g,this.b=_.b,this}copySRGBToLinear(_){return this.r=ti(_.r),this.g=ti(_.g),this.b=ti(_.b),this}copyLinearToSRGB(_){return this.r=Tr(_.r),this.g=Tr(_.g),this.b=Tr(_.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(_=Bt){return je.fromWorkingColorSpace(mt.copy(this),_),Math.round(_t(mt.r*255,0,255))*65536+Math.round(_t(mt.g*255,0,255))*256+Math.round(_t(mt.b*255,0,255))}getHexString(_=Bt){return("000000"+this.getHex(_).toString(16)).slice(-6)}getHSL(_,$=je.workingColorSpace){je.fromWorkingColorSpace(mt.copy(this),$);const j=mt.r,_e=mt.g,et=mt.b,tt=Math.max(j,_e,et),nt=Math.min(j,_e,et);let it,lt;const dt=(nt+tt)/2;if(nt===tt)it=0,lt=0;else{const bt=tt-nt;switch(lt=dt<=.5?bt/(tt+nt):bt/(2-tt-nt),tt){case j:it=(_e-et)/bt+(_e<et?6:0);break;case _e:it=(et-j)/bt+2;break;case et:it=(j-_e)/bt+4;break}it/=6}return _.h=it,_.s=lt,_.l=dt,_}getRGB(_,$=je.workingColorSpace){return je.fromWorkingColorSpace(mt.copy(this),$),_.r=mt.r,_.g=mt.g,_.b=mt.b,_}getStyle(_=Bt){je.fromWorkingColorSpace(mt.copy(this),_);const $=mt.r,j=mt.g,_e=mt.b;return _!==Bt?`color(${_} ${$.toFixed(3)} ${j.toFixed(3)} ${_e.toFixed(3)})`:`rgb(${Math.round($*255)},${Math.round(j*255)},${Math.round(_e*255)})`}offsetHSL(_,$,j){return this.getHSL(nn),this.setHSL(nn.h+_,nn.s+$,nn.l+j)}add(_){return this.r+=_.r,this.g+=_.g,this.b+=_.b,this}addColors(_,$){return this.r=_.r+$.r,this.g=_.g+$.g,this.b=_.b+$.b,this}addScalar(_){return this.r+=_,this.g+=_,this.b+=_,this}sub(_){return this.r=Math.max(0,this.r-_.r),this.g=Math.max(0,this.g-_.g),this.b=Math.max(0,this.b-_.b),this}multiply(_){return this.r*=_.r,this.g*=_.g,this.b*=_.b,this}multiplyScalar(_){return this.r*=_,this.g*=_,this.b*=_,this}lerp(_,$){return this.r+=(_.r-this.r)*$,this.g+=(_.g-this.g)*$,this.b+=(_.b-this.b)*$,this}lerpColors(_,$,j){return this.r=_.r+($.r-_.r)*j,this.g=_.g+($.g-_.g)*j,this.b=_.b+($.b-_.b)*j,this}lerpHSL(_,$){this.getHSL(nn),_.getHSL(Di);const j=mi(nn.h,Di.h,$),_e=mi(nn.s,Di.s,$),et=mi(nn.l,Di.l,$);return this.setHSL(j,_e,et),this}setFromVector3(_){return this.r=_.x,this.g=_.y,this.b=_.z,this}applyMatrix3(_){const $=this.r,j=this.g,_e=this.b,et=_.elements;return this.r=et[0]*$+et[3]*j+et[6]*_e,this.g=et[1]*$+et[4]*j+et[7]*_e,this.b=et[2]*$+et[5]*j+et[8]*_e,this}equals(_){return _.r===this.r&&_.g===this.g&&_.b===this.b}fromArray(_,$=0){return this.r=_[$],this.g=_[$+1],this.b=_[$+2],this}toArray(_=[],$=0){return _[$]=this.r,_[$+1]=this.g,_[$+2]=this.b,_}fromBufferAttribute(_,$){return this.r=_.getX($),this.g=_.getY($),this.b=_.getZ($),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const mt=new qe;qe.NAMES=_o;let hc=0;class xi extends Ln{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:hc++}),this.uuid=oi(),this.name="",this.type="Material",this.blending=Qn,this.side=hn,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Jr,this.blendDst=Qr,this.blendEquation=Tn,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new qe(0,0,0),this.blendAlpha=0,this.depthFunc=Qi,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Js,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=In,this.stencilZFail=In,this.stencilZPass=In,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(_){this._alphaTest>0!=_>0&&this.version++,this._alphaTest=_}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(_){if(_!==void 0)for(const $ in _){const j=_[$];if(j===void 0){console.warn(`THREE.Material: parameter '${$}' has value of undefined.`);continue}const _e=this[$];if(_e===void 0){console.warn(`THREE.Material: '${$}' is not a property of THREE.${this.type}.`);continue}_e&&_e.isColor?_e.set(j):_e&&_e.isVector3&&j&&j.isVector3?_e.copy(j):this[$]=j}}toJSON(_){const $=_===void 0||typeof _=="string";$&&(_={textures:{},images:{}});const j={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};j.uuid=this.uuid,j.type=this.type,this.name!==""&&(j.name=this.name),this.color&&this.color.isColor&&(j.color=this.color.getHex()),this.roughness!==void 0&&(j.roughness=this.roughness),this.metalness!==void 0&&(j.metalness=this.metalness),this.sheen!==void 0&&(j.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(j.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(j.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(j.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(j.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(j.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(j.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(j.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(j.shininess=this.shininess),this.clearcoat!==void 0&&(j.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(j.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(j.clearcoatMap=this.clearcoatMap.toJSON(_).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(j.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(_).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(j.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(_).uuid,j.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(j.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(j.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(j.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(j.iridescenceMap=this.iridescenceMap.toJSON(_).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(j.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(_).uuid),this.anisotropy!==void 0&&(j.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(j.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(j.anisotropyMap=this.anisotropyMap.toJSON(_).uuid),this.map&&this.map.isTexture&&(j.map=this.map.toJSON(_).uuid),this.matcap&&this.matcap.isTexture&&(j.matcap=this.matcap.toJSON(_).uuid),this.alphaMap&&this.alphaMap.isTexture&&(j.alphaMap=this.alphaMap.toJSON(_).uuid),this.lightMap&&this.lightMap.isTexture&&(j.lightMap=this.lightMap.toJSON(_).uuid,j.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(j.aoMap=this.aoMap.toJSON(_).uuid,j.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(j.bumpMap=this.bumpMap.toJSON(_).uuid,j.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(j.normalMap=this.normalMap.toJSON(_).uuid,j.normalMapType=this.normalMapType,j.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(j.displacementMap=this.displacementMap.toJSON(_).uuid,j.displacementScale=this.displacementScale,j.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(j.roughnessMap=this.roughnessMap.toJSON(_).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(j.metalnessMap=this.metalnessMap.toJSON(_).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(j.emissiveMap=this.emissiveMap.toJSON(_).uuid),this.specularMap&&this.specularMap.isTexture&&(j.specularMap=this.specularMap.toJSON(_).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(j.specularIntensityMap=this.specularIntensityMap.toJSON(_).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(j.specularColorMap=this.specularColorMap.toJSON(_).uuid),this.envMap&&this.envMap.isTexture&&(j.envMap=this.envMap.toJSON(_).uuid,this.combine!==void 0&&(j.combine=this.combine)),this.envMapRotation!==void 0&&(j.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(j.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(j.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(j.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(j.gradientMap=this.gradientMap.toJSON(_).uuid),this.transmission!==void 0&&(j.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(j.transmissionMap=this.transmissionMap.toJSON(_).uuid),this.thickness!==void 0&&(j.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(j.thicknessMap=this.thicknessMap.toJSON(_).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(j.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(j.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(j.size=this.size),this.shadowSide!==null&&(j.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(j.sizeAttenuation=this.sizeAttenuation),this.blending!==Qn&&(j.blending=this.blending),this.side!==hn&&(j.side=this.side),this.vertexColors===!0&&(j.vertexColors=!0),this.opacity<1&&(j.opacity=this.opacity),this.transparent===!0&&(j.transparent=!0),this.blendSrc!==Jr&&(j.blendSrc=this.blendSrc),this.blendDst!==Qr&&(j.blendDst=this.blendDst),this.blendEquation!==Tn&&(j.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(j.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(j.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(j.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(j.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(j.blendAlpha=this.blendAlpha),this.depthFunc!==Qi&&(j.depthFunc=this.depthFunc),this.depthTest===!1&&(j.depthTest=this.depthTest),this.depthWrite===!1&&(j.depthWrite=this.depthWrite),this.colorWrite===!1&&(j.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(j.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Js&&(j.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(j.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(j.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==In&&(j.stencilFail=this.stencilFail),this.stencilZFail!==In&&(j.stencilZFail=this.stencilZFail),this.stencilZPass!==In&&(j.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(j.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(j.rotation=this.rotation),this.polygonOffset===!0&&(j.polygonOffset=!0),this.polygonOffsetFactor!==0&&(j.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(j.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(j.linewidth=this.linewidth),this.dashSize!==void 0&&(j.dashSize=this.dashSize),this.gapSize!==void 0&&(j.gapSize=this.gapSize),this.scale!==void 0&&(j.scale=this.scale),this.dithering===!0&&(j.dithering=!0),this.alphaTest>0&&(j.alphaTest=this.alphaTest),this.alphaHash===!0&&(j.alphaHash=!0),this.alphaToCoverage===!0&&(j.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(j.premultipliedAlpha=!0),this.forceSinglePass===!0&&(j.forceSinglePass=!0),this.wireframe===!0&&(j.wireframe=!0),this.wireframeLinewidth>1&&(j.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(j.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(j.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(j.flatShading=!0),this.visible===!1&&(j.visible=!1),this.toneMapped===!1&&(j.toneMapped=!1),this.fog===!1&&(j.fog=!1),Object.keys(this.userData).length>0&&(j.userData=this.userData);function _e(et){const tt=[];for(const nt in et){const it=et[nt];delete it.metadata,tt.push(it)}return tt}if($){const et=_e(_.textures),tt=_e(_.images);et.length>0&&(j.textures=et),tt.length>0&&(j.images=tt)}return j}clone(){return new this.constructor().copy(this)}copy(_){this.name=_.name,this.blending=_.blending,this.side=_.side,this.vertexColors=_.vertexColors,this.opacity=_.opacity,this.transparent=_.transparent,this.blendSrc=_.blendSrc,this.blendDst=_.blendDst,this.blendEquation=_.blendEquation,this.blendSrcAlpha=_.blendSrcAlpha,this.blendDstAlpha=_.blendDstAlpha,this.blendEquationAlpha=_.blendEquationAlpha,this.blendColor.copy(_.blendColor),this.blendAlpha=_.blendAlpha,this.depthFunc=_.depthFunc,this.depthTest=_.depthTest,this.depthWrite=_.depthWrite,this.stencilWriteMask=_.stencilWriteMask,this.stencilFunc=_.stencilFunc,this.stencilRef=_.stencilRef,this.stencilFuncMask=_.stencilFuncMask,this.stencilFail=_.stencilFail,this.stencilZFail=_.stencilZFail,this.stencilZPass=_.stencilZPass,this.stencilWrite=_.stencilWrite;const $=_.clippingPlanes;let j=null;if($!==null){const _e=$.length;j=new Array(_e);for(let et=0;et!==_e;++et)j[et]=$[et].clone()}return this.clippingPlanes=j,this.clipIntersection=_.clipIntersection,this.clipShadows=_.clipShadows,this.shadowSide=_.shadowSide,this.colorWrite=_.colorWrite,this.precision=_.precision,this.polygonOffset=_.polygonOffset,this.polygonOffsetFactor=_.polygonOffsetFactor,this.polygonOffsetUnits=_.polygonOffsetUnits,this.dithering=_.dithering,this.alphaTest=_.alphaTest,this.alphaHash=_.alphaHash,this.alphaToCoverage=_.alphaToCoverage,this.premultipliedAlpha=_.premultipliedAlpha,this.forceSinglePass=_.forceSinglePass,this.visible=_.visible,this.toneMapped=_.toneMapped,this.userData=JSON.parse(JSON.stringify(_.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(_){_===!0&&this.version++}}class ni extends xi{constructor(_){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new qe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new $t,this.combine=eo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.map=_.map,this.lightMap=_.lightMap,this.lightMapIntensity=_.lightMapIntensity,this.aoMap=_.aoMap,this.aoMapIntensity=_.aoMapIntensity,this.specularMap=_.specularMap,this.alphaMap=_.alphaMap,this.envMap=_.envMap,this.envMapRotation.copy(_.envMapRotation),this.combine=_.combine,this.reflectivity=_.reflectivity,this.refractionRatio=_.refractionRatio,this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this.wireframeLinecap=_.wireframeLinecap,this.wireframeLinejoin=_.wireframeLinejoin,this.fog=_.fog,this}}const rt=new I,Ui=new Ie;class Gt{constructor(_,$,j=!1){if(Array.isArray(_))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=_,this.itemSize=$,this.count=_!==void 0?_.length/$:0,this.normalized=j,this.usage=Qs,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Kt,this.version=0}onUploadCallback(){}set needsUpdate(_){_===!0&&this.version++}get updateRange(){return $l("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(_){return this.usage=_,this}addUpdateRange(_,$){this.updateRanges.push({start:_,count:$})}clearUpdateRanges(){this.updateRanges.length=0}copy(_){return this.name=_.name,this.array=new _.array.constructor(_.array),this.itemSize=_.itemSize,this.count=_.count,this.normalized=_.normalized,this.usage=_.usage,this.gpuType=_.gpuType,this}copyAt(_,$,j){_*=this.itemSize,j*=$.itemSize;for(let _e=0,et=this.itemSize;_e<et;_e++)this.array[_+_e]=$.array[j+_e];return this}copyArray(_){return this.array.set(_),this}applyMatrix3(_){if(this.itemSize===2)for(let $=0,j=this.count;$<j;$++)Ui.fromBufferAttribute(this,$),Ui.applyMatrix3(_),this.setXY($,Ui.x,Ui.y);else if(this.itemSize===3)for(let $=0,j=this.count;$<j;$++)rt.fromBufferAttribute(this,$),rt.applyMatrix3(_),this.setXYZ($,rt.x,rt.y,rt.z);return this}applyMatrix4(_){for(let $=0,j=this.count;$<j;$++)rt.fromBufferAttribute(this,$),rt.applyMatrix4(_),this.setXYZ($,rt.x,rt.y,rt.z);return this}applyNormalMatrix(_){for(let $=0,j=this.count;$<j;$++)rt.fromBufferAttribute(this,$),rt.applyNormalMatrix(_),this.setXYZ($,rt.x,rt.y,rt.z);return this}transformDirection(_){for(let $=0,j=this.count;$<j;$++)rt.fromBufferAttribute(this,$),rt.transformDirection(_),this.setXYZ($,rt.x,rt.y,rt.z);return this}set(_,$=0){return this.array.set(_,$),this}getComponent(_,$){let j=this.array[_*this.itemSize+$];return this.normalized&&(j=Zn(j,this.array)),j}setComponent(_,$,j){return this.normalized&&(j=gt(j,this.array)),this.array[_*this.itemSize+$]=j,this}getX(_){let $=this.array[_*this.itemSize];return this.normalized&&($=Zn($,this.array)),$}setX(_,$){return this.normalized&&($=gt($,this.array)),this.array[_*this.itemSize]=$,this}getY(_){let $=this.array[_*this.itemSize+1];return this.normalized&&($=Zn($,this.array)),$}setY(_,$){return this.normalized&&($=gt($,this.array)),this.array[_*this.itemSize+1]=$,this}getZ(_){let $=this.array[_*this.itemSize+2];return this.normalized&&($=Zn($,this.array)),$}setZ(_,$){return this.normalized&&($=gt($,this.array)),this.array[_*this.itemSize+2]=$,this}getW(_){let $=this.array[_*this.itemSize+3];return this.normalized&&($=Zn($,this.array)),$}setW(_,$){return this.normalized&&($=gt($,this.array)),this.array[_*this.itemSize+3]=$,this}setXY(_,$,j){return _*=this.itemSize,this.normalized&&($=gt($,this.array),j=gt(j,this.array)),this.array[_+0]=$,this.array[_+1]=j,this}setXYZ(_,$,j,_e){return _*=this.itemSize,this.normalized&&($=gt($,this.array),j=gt(j,this.array),_e=gt(_e,this.array)),this.array[_+0]=$,this.array[_+1]=j,this.array[_+2]=_e,this}setXYZW(_,$,j,_e,et){return _*=this.itemSize,this.normalized&&($=gt($,this.array),j=gt(j,this.array),_e=gt(_e,this.array),et=gt(et,this.array)),this.array[_+0]=$,this.array[_+1]=j,this.array[_+2]=_e,this.array[_+3]=et,this}onUpload(_){return this.onUploadCallback=_,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const _={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(_.name=this.name),this.usage!==Qs&&(_.usage=this.usage),_}}class go extends Gt{constructor(_,$,j){super(new Uint16Array(_),$,j)}}class vo extends Gt{constructor(_,$,j){super(new Uint32Array(_),$,j)}}class ut extends Gt{constructor(_,$,j){super(new Float32Array(_),$,j)}}let fc=0;const Pt=new st,zr=new Mt,kn=new I,wt=new vi,pi$2=new vi,ct=new I;class Tt extends Ln{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:fc++}),this.uuid=oi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(_){return Array.isArray(_)?this.index=new(uo(_)?vo:go)(_,1):this.index=_,this}getAttribute(_){return this.attributes[_]}setAttribute(_,$){return this.attributes[_]=$,this}deleteAttribute(_){return delete this.attributes[_],this}hasAttribute(_){return this.attributes[_]!==void 0}addGroup(_,$,j=0){this.groups.push({start:_,count:$,materialIndex:j})}clearGroups(){this.groups=[]}setDrawRange(_,$){this.drawRange.start=_,this.drawRange.count=$}applyMatrix4(_){const $=this.attributes.position;$!==void 0&&($.applyMatrix4(_),$.needsUpdate=!0);const j=this.attributes.normal;if(j!==void 0){const et=new Ge().getNormalMatrix(_);j.applyNormalMatrix(et),j.needsUpdate=!0}const _e=this.attributes.tangent;return _e!==void 0&&(_e.transformDirection(_),_e.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(_){return Pt.makeRotationFromQuaternion(_),this.applyMatrix4(Pt),this}rotateX(_){return Pt.makeRotationX(_),this.applyMatrix4(Pt),this}rotateY(_){return Pt.makeRotationY(_),this.applyMatrix4(Pt),this}rotateZ(_){return Pt.makeRotationZ(_),this.applyMatrix4(Pt),this}translate(_,$,j){return Pt.makeTranslation(_,$,j),this.applyMatrix4(Pt),this}scale(_,$,j){return Pt.makeScale(_,$,j),this.applyMatrix4(Pt),this}lookAt(_){return zr.lookAt(_),zr.updateMatrix(),this.applyMatrix4(zr.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(kn).negate(),this.translate(kn.x,kn.y,kn.z),this}setFromPoints(_){const $=[];for(let j=0,_e=_.length;j<_e;j++){const et=_[j];$.push(et.x,et.y,et.z||0)}return this.setAttribute("position",new ut($,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new vi);const _=this.attributes.position,$=this.morphAttributes.position;if(_&&_.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new I(-1/0,-1/0,-1/0),new I(1/0,1/0,1/0));return}if(_!==void 0){if(this.boundingBox.setFromBufferAttribute(_),$)for(let j=0,_e=$.length;j<_e;j++){const et=$[j];wt.setFromBufferAttribute(et),this.morphTargetsRelative?(ct.addVectors(this.boundingBox.min,wt.min),this.boundingBox.expandByPoint(ct),ct.addVectors(this.boundingBox.max,wt.max),this.boundingBox.expandByPoint(ct)):(this.boundingBox.expandByPoint(wt.min),this.boundingBox.expandByPoint(wt.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ur);const _=this.attributes.position,$=this.morphAttributes.position;if(_&&_.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new I,1/0);return}if(_){const j=this.boundingSphere.center;if(wt.setFromBufferAttribute(_),$)for(let et=0,tt=$.length;et<tt;et++){const nt=$[et];pi$2.setFromBufferAttribute(nt),this.morphTargetsRelative?(ct.addVectors(wt.min,pi$2.min),wt.expandByPoint(ct),ct.addVectors(wt.max,pi$2.max),wt.expandByPoint(ct)):(wt.expandByPoint(pi$2.min),wt.expandByPoint(pi$2.max))}wt.getCenter(j);let _e=0;for(let et=0,tt=_.count;et<tt;et++)ct.fromBufferAttribute(_,et),_e=Math.max(_e,j.distanceToSquared(ct));if($)for(let et=0,tt=$.length;et<tt;et++){const nt=$[et],it=this.morphTargetsRelative;for(let lt=0,dt=nt.count;lt<dt;lt++)ct.fromBufferAttribute(nt,lt),it&&(kn.fromBufferAttribute(_,lt),ct.add(kn)),_e=Math.max(_e,j.distanceToSquared(ct))}this.boundingSphere.radius=Math.sqrt(_e),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const _=this.index,$=this.attributes;if(_===null||$.position===void 0||$.normal===void 0||$.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const j=$.position,_e=$.normal,et=$.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Gt(new Float32Array(4*j.count),4));const tt=this.getAttribute("tangent"),nt=[],it=[];for(let Lo=0;Lo<j.count;Lo++)nt[Lo]=new I,it[Lo]=new I;const lt=new I,dt=new I,bt=new I,Ht=new Ie,pr=new Ie,_n=new Ie,ft=new I,Ct=new I;function mr(Lo,ms,Uo){lt.fromBufferAttribute(j,Lo),dt.fromBufferAttribute(j,ms),bt.fromBufferAttribute(j,Uo),Ht.fromBufferAttribute(et,Lo),pr.fromBufferAttribute(et,ms),_n.fromBufferAttribute(et,Uo),dt.sub(lt),bt.sub(lt),pr.sub(Ht),_n.sub(Ht);const _s=1/(pr.x*_n.y-_n.x*pr.y);isFinite(_s)&&(ft.copy(dt).multiplyScalar(_n.y).addScaledVector(bt,-pr.y).multiplyScalar(_s),Ct.copy(bt).multiplyScalar(pr.x).addScaledVector(dt,-_n.x).multiplyScalar(_s),nt[Lo].add(ft),nt[ms].add(ft),nt[Uo].add(ft),it[Lo].add(Ct),it[ms].add(Ct),it[Uo].add(Ct))}let _r=this.groups;_r.length===0&&(_r=[{start:0,count:_.count}]);for(let Lo=0,ms=_r.length;Lo<ms;++Lo){const Uo=_r[Lo],_s=Uo.start,yp=Uo.count;for(let xs=_s,vs=_s+yp;xs<vs;xs+=3)mr(_.getX(xs+0),_.getX(xs+1),_.getX(xs+2))}const mn=new I,dr=new I,pn=new I,Do=new I;function Io(Lo){pn.fromBufferAttribute(_e,Lo),Do.copy(pn);const ms=nt[Lo];mn.copy(ms),mn.sub(pn.multiplyScalar(pn.dot(ms))).normalize(),dr.crossVectors(Do,ms);const Uo=dr.dot(it[Lo])<0?-1:1;tt.setXYZW(Lo,mn.x,mn.y,mn.z,Uo)}for(let Lo=0,ms=_r.length;Lo<ms;++Lo){const Uo=_r[Lo],_s=Uo.start,yp=Uo.count;for(let xs=_s,vs=_s+yp;xs<vs;xs+=3)Io(_.getX(xs+0)),Io(_.getX(xs+1)),Io(_.getX(xs+2))}}computeVertexNormals(){const _=this.index,$=this.getAttribute("position");if($!==void 0){let j=this.getAttribute("normal");if(j===void 0)j=new Gt(new Float32Array($.count*3),3),this.setAttribute("normal",j);else for(let Ht=0,pr=j.count;Ht<pr;Ht++)j.setXYZ(Ht,0,0,0);const _e=new I,et=new I,tt=new I,nt=new I,it=new I,lt=new I,dt=new I,bt=new I;if(_)for(let Ht=0,pr=_.count;Ht<pr;Ht+=3){const _n=_.getX(Ht+0),ft=_.getX(Ht+1),Ct=_.getX(Ht+2);_e.fromBufferAttribute($,_n),et.fromBufferAttribute($,ft),tt.fromBufferAttribute($,Ct),dt.subVectors(tt,et),bt.subVectors(_e,et),dt.cross(bt),nt.fromBufferAttribute(j,_n),it.fromBufferAttribute(j,ft),lt.fromBufferAttribute(j,Ct),nt.add(dt),it.add(dt),lt.add(dt),j.setXYZ(_n,nt.x,nt.y,nt.z),j.setXYZ(ft,it.x,it.y,it.z),j.setXYZ(Ct,lt.x,lt.y,lt.z)}else for(let Ht=0,pr=$.count;Ht<pr;Ht+=3)_e.fromBufferAttribute($,Ht+0),et.fromBufferAttribute($,Ht+1),tt.fromBufferAttribute($,Ht+2),dt.subVectors(tt,et),bt.subVectors(_e,et),dt.cross(bt),j.setXYZ(Ht+0,dt.x,dt.y,dt.z),j.setXYZ(Ht+1,dt.x,dt.y,dt.z),j.setXYZ(Ht+2,dt.x,dt.y,dt.z);this.normalizeNormals(),j.needsUpdate=!0}}normalizeNormals(){const _=this.attributes.normal;for(let $=0,j=_.count;$<j;$++)ct.fromBufferAttribute(_,$),ct.normalize(),_.setXYZ($,ct.x,ct.y,ct.z)}toNonIndexed(){function _(nt,it){const lt=nt.array,dt=nt.itemSize,bt=nt.normalized,Ht=new lt.constructor(it.length*dt);let pr=0,_n=0;for(let ft=0,Ct=it.length;ft<Ct;ft++){nt.isInterleavedBufferAttribute?pr=it[ft]*nt.data.stride+nt.offset:pr=it[ft]*dt;for(let mr=0;mr<dt;mr++)Ht[_n++]=lt[pr++]}return new Gt(Ht,dt,bt)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const $=new Tt,j=this.index.array,_e=this.attributes;for(const nt in _e){const it=_e[nt],lt=_(it,j);$.setAttribute(nt,lt)}const et=this.morphAttributes;for(const nt in et){const it=[],lt=et[nt];for(let dt=0,bt=lt.length;dt<bt;dt++){const Ht=lt[dt],pr=_(Ht,j);it.push(pr)}$.morphAttributes[nt]=it}$.morphTargetsRelative=this.morphTargetsRelative;const tt=this.groups;for(let nt=0,it=tt.length;nt<it;nt++){const lt=tt[nt];$.addGroup(lt.start,lt.count,lt.materialIndex)}return $}toJSON(){const _={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(_.uuid=this.uuid,_.type=this.type,this.name!==""&&(_.name=this.name),Object.keys(this.userData).length>0&&(_.userData=this.userData),this.parameters!==void 0){const it=this.parameters;for(const lt in it)it[lt]!==void 0&&(_[lt]=it[lt]);return _}_.data={attributes:{}};const $=this.index;$!==null&&(_.data.index={type:$.array.constructor.name,array:Array.prototype.slice.call($.array)});const j=this.attributes;for(const it in j){const lt=j[it];_.data.attributes[it]=lt.toJSON(_.data)}const _e={};let et=!1;for(const it in this.morphAttributes){const lt=this.morphAttributes[it],dt=[];for(let bt=0,Ht=lt.length;bt<Ht;bt++){const pr=lt[bt];dt.push(pr.toJSON(_.data))}dt.length>0&&(_e[it]=dt,et=!0)}et&&(_.data.morphAttributes=_e,_.data.morphTargetsRelative=this.morphTargetsRelative);const tt=this.groups;tt.length>0&&(_.data.groups=JSON.parse(JSON.stringify(tt)));const nt=this.boundingSphere;return nt!==null&&(_.data.boundingSphere={center:nt.center.toArray(),radius:nt.radius}),_}clone(){return new this.constructor().copy(this)}copy(_){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const $={};this.name=_.name;const j=_.index;j!==null&&this.setIndex(j.clone($));const _e=_.attributes;for(const lt in _e){const dt=_e[lt];this.setAttribute(lt,dt.clone($))}const et=_.morphAttributes;for(const lt in et){const dt=[],bt=et[lt];for(let Ht=0,pr=bt.length;Ht<pr;Ht++)dt.push(bt[Ht].clone($));this.morphAttributes[lt]=dt}this.morphTargetsRelative=_.morphTargetsRelative;const tt=_.groups;for(let lt=0,dt=tt.length;lt<dt;lt++){const bt=tt[lt];this.addGroup(bt.start,bt.count,bt.materialIndex)}const nt=_.boundingBox;nt!==null&&(this.boundingBox=nt.clone());const it=_.boundingSphere;return it!==null&&(this.boundingSphere=it.clone()),this.drawRange.start=_.drawRange.start,this.drawRange.count=_.drawRange.count,this.userData=_.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const da=new st,xn=new hs,Ii=new ur,pa=new I,Wn=new I,Xn=new I,Yn=new I,Gr=new I,Ni=new I,Fi=new Ie,Oi=new Ie,Bi=new Ie,ma=new I,_a=new I,ga=new I,zi=new I,Gi=new I;class Rt extends Mt{constructor(_=new Tt,$=new ni){super(),this.isMesh=!0,this.type="Mesh",this.geometry=_,this.material=$,this.updateMorphTargets()}copy(_,$){return super.copy(_,$),_.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=_.morphTargetInfluences.slice()),_.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},_.morphTargetDictionary)),this.material=Array.isArray(_.material)?_.material.slice():_.material,this.geometry=_.geometry,this}updateMorphTargets(){const _=this.geometry.morphAttributes,$=Object.keys(_);if($.length>0){const j=_[$[0]];if(j!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let _e=0,et=j.length;_e<et;_e++){const tt=j[_e].name||String(_e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[tt]=_e}}}}getVertexPosition(_,$){const j=this.geometry,_e=j.attributes.position,et=j.morphAttributes.position,tt=j.morphTargetsRelative;$.fromBufferAttribute(_e,_);const nt=this.morphTargetInfluences;if(et&&nt){Ni.set(0,0,0);for(let it=0,lt=et.length;it<lt;it++){const dt=nt[it],bt=et[it];dt!==0&&(Gr.fromBufferAttribute(bt,_),tt?Ni.addScaledVector(Gr,dt):Ni.addScaledVector(Gr.sub($),dt))}$.add(Ni)}return $}raycast(_,$){const j=this.geometry,_e=this.material,et=this.matrixWorld;_e!==void 0&&(j.boundingSphere===null&&j.computeBoundingSphere(),Ii.copy(j.boundingSphere),Ii.applyMatrix4(et),xn.copy(_.ray).recast(_.near),!(Ii.containsPoint(xn.origin)===!1&&(xn.intersectSphere(Ii,pa)===null||xn.origin.distanceToSquared(pa)>(_.far-_.near)**2))&&(da.copy(et).invert(),xn.copy(_.ray).applyMatrix4(da),!(j.boundingBox!==null&&xn.intersectsBox(j.boundingBox)===!1)&&this._computeIntersections(_,$,xn)))}_computeIntersections(_,$,j){let _e;const et=this.geometry,tt=this.material,nt=et.index,it=et.attributes.position,lt=et.attributes.uv,dt=et.attributes.uv1,bt=et.attributes.normal,Ht=et.groups,pr=et.drawRange;if(nt!==null)if(Array.isArray(tt))for(let _n=0,ft=Ht.length;_n<ft;_n++){const Ct=Ht[_n],mr=tt[Ct.materialIndex],_r=Math.max(Ct.start,pr.start),mn=Math.min(nt.count,Math.min(Ct.start+Ct.count,pr.start+pr.count));for(let dr=_r,pn=mn;dr<pn;dr+=3){const Do=nt.getX(dr),Io=nt.getX(dr+1),Lo=nt.getX(dr+2);_e=Hi(this,mr,_,j,lt,dt,bt,Do,Io,Lo),_e&&(_e.faceIndex=Math.floor(dr/3),_e.face.materialIndex=Ct.materialIndex,$.push(_e))}}else{const _n=Math.max(0,pr.start),ft=Math.min(nt.count,pr.start+pr.count);for(let Ct=_n,mr=ft;Ct<mr;Ct+=3){const _r=nt.getX(Ct),mn=nt.getX(Ct+1),dr=nt.getX(Ct+2);_e=Hi(this,tt,_,j,lt,dt,bt,_r,mn,dr),_e&&(_e.faceIndex=Math.floor(Ct/3),$.push(_e))}}else if(it!==void 0)if(Array.isArray(tt))for(let _n=0,ft=Ht.length;_n<ft;_n++){const Ct=Ht[_n],mr=tt[Ct.materialIndex],_r=Math.max(Ct.start,pr.start),mn=Math.min(it.count,Math.min(Ct.start+Ct.count,pr.start+pr.count));for(let dr=_r,pn=mn;dr<pn;dr+=3){const Do=dr,Io=dr+1,Lo=dr+2;_e=Hi(this,mr,_,j,lt,dt,bt,Do,Io,Lo),_e&&(_e.faceIndex=Math.floor(dr/3),_e.face.materialIndex=Ct.materialIndex,$.push(_e))}}else{const _n=Math.max(0,pr.start),ft=Math.min(it.count,pr.start+pr.count);for(let Ct=_n,mr=ft;Ct<mr;Ct+=3){const _r=Ct,mn=Ct+1,dr=Ct+2;_e=Hi(this,tt,_,j,lt,dt,bt,_r,mn,dr),_e&&(_e.faceIndex=Math.floor(Ct/3),$.push(_e))}}}}function dc(o,_,$,j,_e,et,tt,nt){let it;if(_.side===Et?it=j.intersectTriangle(tt,et,_e,!0,nt):it=j.intersectTriangle(_e,et,tt,_.side===hn,nt),it===null)return null;Gi.copy(nt),Gi.applyMatrix4(o.matrixWorld);const lt=$.ray.origin.distanceTo(Gi);return lt<$.near||lt>$.far?null:{distance:lt,point:Gi.clone(),object:o}}function Hi(o,_,$,j,_e,et,tt,nt,it,lt){o.getVertexPosition(nt,Wn),o.getVertexPosition(it,Xn),o.getVertexPosition(lt,Yn);const dt=dc(o,_,$,j,Wn,Xn,Yn,zi);if(dt){_e&&(Fi.fromBufferAttribute(_e,nt),Oi.fromBufferAttribute(_e,it),Bi.fromBufferAttribute(_e,lt),dt.uv=Ot.getInterpolation(zi,Wn,Xn,Yn,Fi,Oi,Bi,new Ie)),et&&(Fi.fromBufferAttribute(et,nt),Oi.fromBufferAttribute(et,it),Bi.fromBufferAttribute(et,lt),dt.uv1=Ot.getInterpolation(zi,Wn,Xn,Yn,Fi,Oi,Bi,new Ie)),tt&&(ma.fromBufferAttribute(tt,nt),_a.fromBufferAttribute(tt,it),ga.fromBufferAttribute(tt,lt),dt.normal=Ot.getInterpolation(zi,Wn,Xn,Yn,ma,_a,ga,new I),dt.normal.dot(j.direction)>0&&dt.normal.multiplyScalar(-1));const bt={a:nt,b:it,c:lt,normal:new I,materialIndex:0};Ot.getNormal(Wn,Xn,Yn,bt.normal),dt.face=bt}return dt}class Mi extends Tt{constructor(_=1,$=1,j=1,_e=1,et=1,tt=1){super(),this.type="BoxGeometry",this.parameters={width:_,height:$,depth:j,widthSegments:_e,heightSegments:et,depthSegments:tt};const nt=this;_e=Math.floor(_e),et=Math.floor(et),tt=Math.floor(tt);const it=[],lt=[],dt=[],bt=[];let Ht=0,pr=0;_n("z","y","x",-1,-1,j,$,_,tt,et,0),_n("z","y","x",1,-1,j,$,-_,tt,et,1),_n("x","z","y",1,1,_,j,$,_e,tt,2),_n("x","z","y",1,-1,_,j,-$,_e,tt,3),_n("x","y","z",1,-1,_,$,j,_e,et,4),_n("x","y","z",-1,-1,_,$,-j,_e,et,5),this.setIndex(it),this.setAttribute("position",new ut(lt,3)),this.setAttribute("normal",new ut(dt,3)),this.setAttribute("uv",new ut(bt,2));function _n(ft,Ct,mr,_r,mn,dr,pn,Do,Io,Lo,ms){const Uo=dr/Io,_s=pn/Lo,yp=dr/2,xs=pn/2,vs=Do/2,Sp=Io+1,wp=Lo+1;let bp=0,Ep=0;const Cp=new I;for(let Ap=0;Ap<wp;Ap++){const Mp=Ap*_s-xs;for(let Pp=0;Pp<Sp;Pp++){const Ip=Pp*Uo-yp;Cp[ft]=Ip*_r,Cp[Ct]=Mp*mn,Cp[mr]=vs,lt.push(Cp.x,Cp.y,Cp.z),Cp[ft]=0,Cp[Ct]=0,Cp[mr]=Do>0?1:-1,dt.push(Cp.x,Cp.y,Cp.z),bt.push(Pp/Io),bt.push(1-Ap/Lo),bp+=1}}for(let Ap=0;Ap<Lo;Ap++)for(let Mp=0;Mp<Io;Mp++){const Pp=Ht+Mp+Sp*Ap,Ip=Ht+Mp+Sp*(Ap+1),Op=Ht+(Mp+1)+Sp*(Ap+1),Wp=Ht+(Mp+1)+Sp*Ap;it.push(Pp,Ip,Wp),it.push(Ip,Op,Wp),Ep+=6}nt.addGroup(pr,Ep,ms),pr+=Ep,Ht+=bp}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new Mi(_.width,_.height,_.depth,_.widthSegments,_.heightSegments,_.depthSegments)}}function ai(o){const _={};for(const $ in o){_[$]={};for(const j in o[$]){const _e=o[$][j];_e&&(_e.isColor||_e.isMatrix3||_e.isMatrix4||_e.isVector2||_e.isVector3||_e.isVector4||_e.isTexture||_e.isQuaternion)?_e.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),_[$][j]=null):_[$][j]=_e.clone():Array.isArray(_e)?_[$][j]=_e.slice():_[$][j]=_e}}return _}function vt(o){const _={};for(let $=0;$<o.length;$++){const j=ai(o[$]);for(const _e in j)_[_e]=j[_e]}return _}function pc(o){const _=[];for(let $=0;$<o.length;$++)_.push(o[$].clone());return _}function xo(o){return o.getRenderTarget()===null?o.outputColorSpace:je.workingColorSpace}const mc={clone:ai,merge:vt};var _c=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,gc=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class fn extends xi{constructor(_){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=_c,this.fragmentShader=gc,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,_!==void 0&&this.setValues(_)}copy(_){return super.copy(_),this.fragmentShader=_.fragmentShader,this.vertexShader=_.vertexShader,this.uniforms=ai(_.uniforms),this.uniformsGroups=pc(_.uniformsGroups),this.defines=Object.assign({},_.defines),this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this.fog=_.fog,this.lights=_.lights,this.clipping=_.clipping,this.extensions=Object.assign({},_.extensions),this.glslVersion=_.glslVersion,this}toJSON(_){const $=super.toJSON(_);$.glslVersion=this.glslVersion,$.uniforms={};for(const _e in this.uniforms){const et=this.uniforms[_e].value;et&&et.isTexture?$.uniforms[_e]={type:"t",value:et.toJSON(_).uuid}:et&&et.isColor?$.uniforms[_e]={type:"c",value:et.getHex()}:et&&et.isVector2?$.uniforms[_e]={type:"v2",value:et.toArray()}:et&&et.isVector3?$.uniforms[_e]={type:"v3",value:et.toArray()}:et&&et.isVector4?$.uniforms[_e]={type:"v4",value:et.toArray()}:et&&et.isMatrix3?$.uniforms[_e]={type:"m3",value:et.toArray()}:et&&et.isMatrix4?$.uniforms[_e]={type:"m4",value:et.toArray()}:$.uniforms[_e]={value:et}}Object.keys(this.defines).length>0&&($.defines=this.defines),$.vertexShader=this.vertexShader,$.fragmentShader=this.fragmentShader,$.lights=this.lights,$.clipping=this.clipping;const j={};for(const _e in this.extensions)this.extensions[_e]===!0&&(j[_e]=!0);return Object.keys(j).length>0&&($.extensions=j),$}}class Mo extends Mt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new st,this.projectionMatrix=new st,this.projectionMatrixInverse=new st,this.coordinateSystem=Zt}copy(_,$){return super.copy(_,$),this.matrixWorldInverse.copy(_.matrixWorldInverse),this.projectionMatrix.copy(_.projectionMatrix),this.projectionMatrixInverse.copy(_.projectionMatrixInverse),this.coordinateSystem=_.coordinateSystem,this}getWorldDirection(_){return super.getWorldDirection(_).negate()}updateMatrixWorld(_){super.updateMatrixWorld(_),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(_,$){super.updateWorldMatrix(_,$),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const rn=new I,va=new Ie,xa=new Ie;class Lt extends Mo{constructor(_=50,$=1,j=.1,_e=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=_,this.zoom=1,this.near=j,this.far=_e,this.focus=10,this.aspect=$,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(_,$){return super.copy(_,$),this.fov=_.fov,this.zoom=_.zoom,this.near=_.near,this.far=_.far,this.focus=_.focus,this.aspect=_.aspect,this.view=_.view===null?null:Object.assign({},_.view),this.filmGauge=_.filmGauge,this.filmOffset=_.filmOffset,this}setFocalLength(_){const $=.5*this.getFilmHeight()/_;this.fov=gi*2*Math.atan($),this.updateProjectionMatrix()}getFocalLength(){const _=Math.tan(ei*.5*this.fov);return .5*this.getFilmHeight()/_}getEffectiveFOV(){return gi*2*Math.atan(Math.tan(ei*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(_,$,j){rn.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),$.set(rn.x,rn.y).multiplyScalar(-_/rn.z),rn.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),j.set(rn.x,rn.y).multiplyScalar(-_/rn.z)}getViewSize(_,$){return this.getViewBounds(_,va,xa),$.subVectors(xa,va)}setViewOffset(_,$,j,_e,et,tt){this.aspect=_/$,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=_,this.view.fullHeight=$,this.view.offsetX=j,this.view.offsetY=_e,this.view.width=et,this.view.height=tt,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const _=this.near;let $=_*Math.tan(ei*.5*this.fov)/this.zoom,j=2*$,_e=this.aspect*j,et=-.5*_e;const tt=this.view;if(this.view!==null&&this.view.enabled){const it=tt.fullWidth,lt=tt.fullHeight;et+=tt.offsetX*_e/it,$-=tt.offsetY*j/lt,_e*=tt.width/it,j*=tt.height/lt}const nt=this.filmOffset;nt!==0&&(et+=_*nt/this.getFilmWidth()),this.projectionMatrix.makePerspective(et,et+_e,$,$-j,_,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(_){const $=super.toJSON(_);return $.object.fov=this.fov,$.object.zoom=this.zoom,$.object.near=this.near,$.object.far=this.far,$.object.focus=this.focus,$.object.aspect=this.aspect,this.view!==null&&($.object.view=Object.assign({},this.view)),$.object.filmGauge=this.filmGauge,$.object.filmOffset=this.filmOffset,$}}const qn=-90,jn=1;class vc extends Mt{constructor(_,$,j){super(),this.type="CubeCamera",this.renderTarget=j,this.coordinateSystem=null,this.activeMipmapLevel=0;const _e=new Lt(qn,jn,_,$);_e.layers=this.layers,this.add(_e);const et=new Lt(qn,jn,_,$);et.layers=this.layers,this.add(et);const tt=new Lt(qn,jn,_,$);tt.layers=this.layers,this.add(tt);const nt=new Lt(qn,jn,_,$);nt.layers=this.layers,this.add(nt);const it=new Lt(qn,jn,_,$);it.layers=this.layers,this.add(it);const lt=new Lt(qn,jn,_,$);lt.layers=this.layers,this.add(lt)}updateCoordinateSystem(){const _=this.coordinateSystem,$=this.children.concat(),[j,_e,et,tt,nt,it]=$;for(const lt of $)this.remove(lt);if(_===Zt)j.up.set(0,1,0),j.lookAt(1,0,0),_e.up.set(0,1,0),_e.lookAt(-1,0,0),et.up.set(0,0,-1),et.lookAt(0,1,0),tt.up.set(0,0,1),tt.lookAt(0,-1,0),nt.up.set(0,1,0),nt.lookAt(0,0,1),it.up.set(0,1,0),it.lookAt(0,0,-1);else if(_===ir)j.up.set(0,-1,0),j.lookAt(-1,0,0),_e.up.set(0,-1,0),_e.lookAt(1,0,0),et.up.set(0,0,1),et.lookAt(0,1,0),tt.up.set(0,0,-1),tt.lookAt(0,-1,0),nt.up.set(0,-1,0),nt.lookAt(0,0,1),it.up.set(0,-1,0),it.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+_);for(const lt of $)this.add(lt),lt.updateMatrixWorld()}update(_,$){this.parent===null&&this.updateMatrixWorld();const{renderTarget:j,activeMipmapLevel:_e}=this;this.coordinateSystem!==_.coordinateSystem&&(this.coordinateSystem=_.coordinateSystem,this.updateCoordinateSystem());const[et,tt,nt,it,lt,dt]=this.children,bt=_.getRenderTarget(),Ht=_.getActiveCubeFace(),pr=_.getActiveMipmapLevel(),_n=_.xr.enabled;_.xr.enabled=!1;const ft=j.texture.generateMipmaps;j.texture.generateMipmaps=!1,_.setRenderTarget(j,0,_e),_.render($,et),_.setRenderTarget(j,1,_e),_.render($,tt),_.setRenderTarget(j,2,_e),_.render($,nt),_.setRenderTarget(j,3,_e),_.render($,it),_.setRenderTarget(j,4,_e),_.render($,lt),j.texture.generateMipmaps=ft,_.setRenderTarget(j,5,_e),_.render($,dt),_.setRenderTarget(bt,Ht,pr),_.xr.enabled=_n,j.texture.needsPMREMUpdate=!0}}class So extends yt{constructor(_,$,j,_e,et,tt,nt,it,lt,dt){_=_!==void 0?_:[],$=$!==void 0?$:ii,super(_,$,j,_e,et,tt,nt,it,lt,dt),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(_){this.image=_}}class xc extends Cn{constructor(_=1,$={}){super(_,_,$),this.isWebGLCubeRenderTarget=!0;const j={width:_,height:_,depth:1},_e=[j,j,j,j,j,j];this.texture=new So(_e,$.mapping,$.wrapS,$.wrapT,$.magFilter,$.minFilter,$.format,$.type,$.anisotropy,$.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=$.generateMipmaps!==void 0?$.generateMipmaps:!1,this.texture.minFilter=$.minFilter!==void 0?$.minFilter:St}fromEquirectangularTexture(_,$){this.texture.type=$.type,this.texture.colorSpace=$.colorSpace,this.texture.generateMipmaps=$.generateMipmaps,this.texture.minFilter=$.minFilter,this.texture.magFilter=$.magFilter;const j={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},_e=new Mi(5,5,5),et=new fn({name:"CubemapFromEquirect",uniforms:ai(j.uniforms),vertexShader:j.vertexShader,fragmentShader:j.fragmentShader,side:Et,blending:ln$1});et.uniforms.tEquirect.value=$;const tt=new Rt(_e,et),nt=$.minFilter;return $.minFilter===An&&($.minFilter=St),new vc(1,10,this).update(_,tt),$.minFilter=nt,tt.geometry.dispose(),tt.material.dispose(),this}clear(_,$,j,_e){const et=_.getRenderTarget();for(let tt=0;tt<6;tt++)_.setRenderTarget(this,tt),_.clear($,j,_e);_.setRenderTarget(et)}}const Hr=new I,Mc=new I,Sc=new Ge;class sn{constructor(_=new I(1,0,0),$=0){this.isPlane=!0,this.normal=_,this.constant=$}set(_,$){return this.normal.copy(_),this.constant=$,this}setComponents(_,$,j,_e){return this.normal.set(_,$,j),this.constant=_e,this}setFromNormalAndCoplanarPoint(_,$){return this.normal.copy(_),this.constant=-$.dot(this.normal),this}setFromCoplanarPoints(_,$,j){const _e=Hr.subVectors(j,$).cross(Mc.subVectors(_,$)).normalize();return this.setFromNormalAndCoplanarPoint(_e,_),this}copy(_){return this.normal.copy(_.normal),this.constant=_.constant,this}normalize(){const _=1/this.normal.length();return this.normal.multiplyScalar(_),this.constant*=_,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(_){return this.normal.dot(_)+this.constant}distanceToSphere(_){return this.distanceToPoint(_.center)-_.radius}projectPoint(_,$){return $.copy(_).addScaledVector(this.normal,-this.distanceToPoint(_))}intersectLine(_,$){const j=_.delta(Hr),_e=this.normal.dot(j);if(_e===0)return this.distanceToPoint(_.start)===0?$.copy(_.start):null;const et=-(_.start.dot(this.normal)+this.constant)/_e;return et<0||et>1?null:$.copy(_.start).addScaledVector(j,et)}intersectsLine(_){const $=this.distanceToPoint(_.start),j=this.distanceToPoint(_.end);return $<0&&j>0||j<0&&$>0}intersectsBox(_){return _.intersectsPlane(this)}intersectsSphere(_){return _.intersectsPlane(this)}coplanarPoint(_){return _.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(_,$){const j=$||Sc.getNormalMatrix(_),_e=this.coplanarPoint(Hr).applyMatrix4(_),et=this.normal.applyMatrix3(j).normalize();return this.constant=-_e.dot(et),this}translate(_){return this.constant-=_.dot(this.normal),this}equals(_){return _.normal.equals(this.normal)&&_.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Mn=new ur,Vi=new I;class Eo{constructor(_=new sn,$=new sn,j=new sn,_e=new sn,et=new sn,tt=new sn){this.planes=[_,$,j,_e,et,tt]}set(_,$,j,_e,et,tt){const nt=this.planes;return nt[0].copy(_),nt[1].copy($),nt[2].copy(j),nt[3].copy(_e),nt[4].copy(et),nt[5].copy(tt),this}copy(_){const $=this.planes;for(let j=0;j<6;j++)$[j].copy(_.planes[j]);return this}setFromProjectionMatrix(_,$=Zt){const j=this.planes,_e=_.elements,et=_e[0],tt=_e[1],nt=_e[2],it=_e[3],lt=_e[4],dt=_e[5],bt=_e[6],Ht=_e[7],pr=_e[8],_n=_e[9],ft=_e[10],Ct=_e[11],mr=_e[12],_r=_e[13],mn=_e[14],dr=_e[15];if(j[0].setComponents(it-et,Ht-lt,Ct-pr,dr-mr).normalize(),j[1].setComponents(it+et,Ht+lt,Ct+pr,dr+mr).normalize(),j[2].setComponents(it+tt,Ht+dt,Ct+_n,dr+_r).normalize(),j[3].setComponents(it-tt,Ht-dt,Ct-_n,dr-_r).normalize(),j[4].setComponents(it-nt,Ht-bt,Ct-ft,dr-mn).normalize(),$===Zt)j[5].setComponents(it+nt,Ht+bt,Ct+ft,dr+mn).normalize();else if($===ir)j[5].setComponents(nt,bt,ft,mn).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+$);return this}intersectsObject(_){if(_.boundingSphere!==void 0)_.boundingSphere===null&&_.computeBoundingSphere(),Mn.copy(_.boundingSphere).applyMatrix4(_.matrixWorld);else{const $=_.geometry;$.boundingSphere===null&&$.computeBoundingSphere(),Mn.copy($.boundingSphere).applyMatrix4(_.matrixWorld)}return this.intersectsSphere(Mn)}intersectsSprite(_){return Mn.center.set(0,0,0),Mn.radius=.7071067811865476,Mn.applyMatrix4(_.matrixWorld),this.intersectsSphere(Mn)}intersectsSphere(_){const $=this.planes,j=_.center,_e=-_.radius;for(let et=0;et<6;et++)if($[et].distanceToPoint(j)<_e)return!1;return!0}intersectsBox(_){const $=this.planes;for(let j=0;j<6;j++){const _e=$[j];if(Vi.x=_e.normal.x>0?_.max.x:_.min.x,Vi.y=_e.normal.y>0?_.max.y:_.min.y,Vi.z=_e.normal.z>0?_.max.z:_.min.z,_e.distanceToPoint(Vi)<0)return!1}return!0}containsPoint(_){const $=this.planes;for(let j=0;j<6;j++)if($[j].distanceToPoint(_)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function yo(){let o=null,_=!1,$=null,j=null;function _e(et,tt){$(et,tt),j=o.requestAnimationFrame(_e)}return{start:function(){_!==!0&&$!==null&&(j=o.requestAnimationFrame(_e),_=!0)},stop:function(){o.cancelAnimationFrame(j),_=!1},setAnimationLoop:function(et){$=et},setContext:function(et){o=et}}}function Ec(o,_){const $=_.isWebGL2,j=new WeakMap;function _e(lt,dt){const bt=lt.array,Ht=lt.usage,pr=bt.byteLength,_n=o.createBuffer();o.bindBuffer(dt,_n),o.bufferData(dt,bt,Ht),lt.onUploadCallback();let ft;if(bt instanceof Float32Array)ft=o.FLOAT;else if(bt instanceof Uint16Array)if(lt.isFloat16BufferAttribute)if($)ft=o.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else ft=o.UNSIGNED_SHORT;else if(bt instanceof Int16Array)ft=o.SHORT;else if(bt instanceof Uint32Array)ft=o.UNSIGNED_INT;else if(bt instanceof Int32Array)ft=o.INT;else if(bt instanceof Int8Array)ft=o.BYTE;else if(bt instanceof Uint8Array)ft=o.UNSIGNED_BYTE;else if(bt instanceof Uint8ClampedArray)ft=o.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+bt);return{buffer:_n,type:ft,bytesPerElement:bt.BYTES_PER_ELEMENT,version:lt.version,size:pr}}function et(lt,dt,bt){const Ht=dt.array,pr=dt._updateRange,_n=dt.updateRanges;if(o.bindBuffer(bt,lt),pr.count===-1&&_n.length===0&&o.bufferSubData(bt,0,Ht),_n.length!==0){for(let ft=0,Ct=_n.length;ft<Ct;ft++){const mr=_n[ft];$?o.bufferSubData(bt,mr.start*Ht.BYTES_PER_ELEMENT,Ht,mr.start,mr.count):o.bufferSubData(bt,mr.start*Ht.BYTES_PER_ELEMENT,Ht.subarray(mr.start,mr.start+mr.count))}dt.clearUpdateRanges()}pr.count!==-1&&($?o.bufferSubData(bt,pr.offset*Ht.BYTES_PER_ELEMENT,Ht,pr.offset,pr.count):o.bufferSubData(bt,pr.offset*Ht.BYTES_PER_ELEMENT,Ht.subarray(pr.offset,pr.offset+pr.count)),pr.count=-1),dt.onUploadCallback()}function tt(lt){return lt.isInterleavedBufferAttribute&&(lt=lt.data),j.get(lt)}function nt(lt){lt.isInterleavedBufferAttribute&&(lt=lt.data);const dt=j.get(lt);dt&&(o.deleteBuffer(dt.buffer),j.delete(lt))}function it(lt,dt){if(lt.isGLBufferAttribute){const Ht=j.get(lt);(!Ht||Ht.version<lt.version)&&j.set(lt,{buffer:lt.buffer,type:lt.type,bytesPerElement:lt.elementSize,version:lt.version});return}lt.isInterleavedBufferAttribute&&(lt=lt.data);const bt=j.get(lt);if(bt===void 0)j.set(lt,_e(lt,dt));else if(bt.version<lt.version){if(bt.size!==lt.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");et(bt.buffer,lt,dt),bt.version=lt.version}}return{get:tt,remove:nt,update:it}}class hr extends Tt{constructor(_=1,$=1,j=1,_e=1){super(),this.type="PlaneGeometry",this.parameters={width:_,height:$,widthSegments:j,heightSegments:_e};const et=_/2,tt=$/2,nt=Math.floor(j),it=Math.floor(_e),lt=nt+1,dt=it+1,bt=_/nt,Ht=$/it,pr=[],_n=[],ft=[],Ct=[];for(let mr=0;mr<dt;mr++){const _r=mr*Ht-tt;for(let mn=0;mn<lt;mn++){const dr=mn*bt-et;_n.push(dr,-_r,0),ft.push(0,0,1),Ct.push(mn/nt),Ct.push(1-mr/it)}}for(let mr=0;mr<it;mr++)for(let _r=0;_r<nt;_r++){const mn=_r+lt*mr,dr=_r+lt*(mr+1),pn=_r+1+lt*(mr+1),Do=_r+1+lt*mr;pr.push(mn,dr,Do),pr.push(dr,pn,Do)}this.setIndex(pr),this.setAttribute("position",new ut(_n,3)),this.setAttribute("normal",new ut(ft,3)),this.setAttribute("uv",new ut(Ct,2))}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new hr(_.width,_.height,_.widthSegments,_.heightSegments)}}var yc=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Tc=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,bc=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Ac=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,wc=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Rc=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Cc=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Pc=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Lc=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Dc=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,Uc=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Ic=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Nc=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Fc=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Oc=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Bc=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,zc=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Gc=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Hc=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Vc=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,kc=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Wc=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Xc=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Yc=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,qc=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,jc=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Kc=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Zc=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,$c=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Jc=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Qc="gl_FragColor = linearToOutputTexel( gl_FragColor );",eu=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,tu=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,nu=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,iu=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,ru=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,su=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,au=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,ou=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,lu=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,cu=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,uu=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,hu=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,fu=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,du=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,pu=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,mu=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,_u=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,gu=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,vu=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,xu=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Mu=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Su=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Eu=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,yu=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Tu=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,bu=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Au=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,wu=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Ru=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Cu=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Pu=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Lu=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Du=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Uu=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Iu=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Nu=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Fu=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[MORPHTARGETS_COUNT];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Ou=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Bu=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,zu=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
	#endif
	#ifdef MORPHTARGETS_TEXTURE
		#ifndef USE_INSTANCING_MORPH
			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		#endif
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Gu=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Hu=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Vu=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,ku=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Wu=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Xu=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Yu=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,qu=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,ju=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Ku=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Zu=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,$u=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Ju=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Qu=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,eh=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,th=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,nh=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,ih=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,rh=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,sh=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,ah=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,oh=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,lh=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,ch=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,uh=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,hh=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,fh=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,dh=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,ph=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,mh=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,_h=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	float startCompression = 0.8 - 0.04;
	float desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min(color.r, min(color.g, color.b));
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max(color.r, max(color.g, color.b));
	if (peak < startCompression) return color;
	float d = 1. - startCompression;
	float newPeak = 1. - d * d / (peak + d - startCompression);
	color *= newPeak / peak;
	float g = 1. - 1. / (desaturation * (peak - newPeak) + 1.);
	return mix(color, vec3(1, 1, 1), g);
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,gh=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,vh=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,xh=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Mh=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Sh=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Eh=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const yh=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Th=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,bh=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Ah=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,wh=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Rh=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Ch=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Ph=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Lh=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Dh=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Uh=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Ih=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Nh=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Fh=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Oh=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Bh=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zh=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Gh=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Hh=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Vh=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kh=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Wh=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Xh=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Yh=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qh=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,jh=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Kh=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Zh=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$h=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Jh=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Qh=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ef=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,tf=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,nf=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ze={alphahash_fragment:yc,alphahash_pars_fragment:Tc,alphamap_fragment:bc,alphamap_pars_fragment:Ac,alphatest_fragment:wc,alphatest_pars_fragment:Rc,aomap_fragment:Cc,aomap_pars_fragment:Pc,batching_pars_vertex:Lc,batching_vertex:Dc,begin_vertex:Uc,beginnormal_vertex:Ic,bsdfs:Nc,iridescence_fragment:Fc,bumpmap_pars_fragment:Oc,clipping_planes_fragment:Bc,clipping_planes_pars_fragment:zc,clipping_planes_pars_vertex:Gc,clipping_planes_vertex:Hc,color_fragment:Vc,color_pars_fragment:kc,color_pars_vertex:Wc,color_vertex:Xc,common:Yc,cube_uv_reflection_fragment:qc,defaultnormal_vertex:jc,displacementmap_pars_vertex:Kc,displacementmap_vertex:Zc,emissivemap_fragment:$c,emissivemap_pars_fragment:Jc,colorspace_fragment:Qc,colorspace_pars_fragment:eu,envmap_fragment:tu,envmap_common_pars_fragment:nu,envmap_pars_fragment:iu,envmap_pars_vertex:ru,envmap_physical_pars_fragment:_u,envmap_vertex:su,fog_vertex:au,fog_pars_vertex:ou,fog_fragment:lu,fog_pars_fragment:cu,gradientmap_pars_fragment:uu,lightmap_fragment:hu,lightmap_pars_fragment:fu,lights_lambert_fragment:du,lights_lambert_pars_fragment:pu,lights_pars_begin:mu,lights_toon_fragment:gu,lights_toon_pars_fragment:vu,lights_phong_fragment:xu,lights_phong_pars_fragment:Mu,lights_physical_fragment:Su,lights_physical_pars_fragment:Eu,lights_fragment_begin:yu,lights_fragment_maps:Tu,lights_fragment_end:bu,logdepthbuf_fragment:Au,logdepthbuf_pars_fragment:wu,logdepthbuf_pars_vertex:Ru,logdepthbuf_vertex:Cu,map_fragment:Pu,map_pars_fragment:Lu,map_particle_fragment:Du,map_particle_pars_fragment:Uu,metalnessmap_fragment:Iu,metalnessmap_pars_fragment:Nu,morphinstance_vertex:Fu,morphcolor_vertex:Ou,morphnormal_vertex:Bu,morphtarget_pars_vertex:zu,morphtarget_vertex:Gu,normal_fragment_begin:Hu,normal_fragment_maps:Vu,normal_pars_fragment:ku,normal_pars_vertex:Wu,normal_vertex:Xu,normalmap_pars_fragment:Yu,clearcoat_normal_fragment_begin:qu,clearcoat_normal_fragment_maps:ju,clearcoat_pars_fragment:Ku,iridescence_pars_fragment:Zu,opaque_fragment:$u,packing:Ju,premultiplied_alpha_fragment:Qu,project_vertex:eh,dithering_fragment:th,dithering_pars_fragment:nh,roughnessmap_fragment:ih,roughnessmap_pars_fragment:rh,shadowmap_pars_fragment:sh,shadowmap_pars_vertex:ah,shadowmap_vertex:oh,shadowmask_pars_fragment:lh,skinbase_vertex:ch,skinning_pars_vertex:uh,skinning_vertex:hh,skinnormal_vertex:fh,specularmap_fragment:dh,specularmap_pars_fragment:ph,tonemapping_fragment:mh,tonemapping_pars_fragment:_h,transmission_fragment:gh,transmission_pars_fragment:vh,uv_pars_fragment:xh,uv_pars_vertex:Mh,uv_vertex:Sh,worldpos_vertex:Eh,background_vert:yh,background_frag:Th,backgroundCube_vert:bh,backgroundCube_frag:Ah,cube_vert:wh,cube_frag:Rh,depth_vert:Ch,depth_frag:Ph,distanceRGBA_vert:Lh,distanceRGBA_frag:Dh,equirect_vert:Uh,equirect_frag:Ih,linedashed_vert:Nh,linedashed_frag:Fh,meshbasic_vert:Oh,meshbasic_frag:Bh,meshlambert_vert:zh,meshlambert_frag:Gh,meshmatcap_vert:Hh,meshmatcap_frag:Vh,meshnormal_vert:kh,meshnormal_frag:Wh,meshphong_vert:Xh,meshphong_frag:Yh,meshphysical_vert:qh,meshphysical_frag:jh,meshtoon_vert:Kh,meshtoon_frag:Zh,points_vert:$h,points_frag:Jh,shadow_vert:Qh,shadow_frag:ef,sprite_vert:tf,sprite_frag:nf},oe={common:{diffuse:{value:new qe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ge},alphaMap:{value:null},alphaMapTransform:{value:new Ge},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ge}},envmap:{envMap:{value:null},envMapRotation:{value:new Ge},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ge}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ge}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ge},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ge},normalScale:{value:new Ie(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ge},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ge}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ge}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ge}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new qe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new qe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ge},alphaTest:{value:0},uvTransform:{value:new Ge}},sprite:{diffuse:{value:new qe(16777215)},opacity:{value:1},center:{value:new Ie(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ge},alphaMap:{value:null},alphaMapTransform:{value:new Ge},alphaTest:{value:0}}},zt={basic:{uniforms:vt([oe.common,oe.specularmap,oe.envmap,oe.aomap,oe.lightmap,oe.fog]),vertexShader:ze.meshbasic_vert,fragmentShader:ze.meshbasic_frag},lambert:{uniforms:vt([oe.common,oe.specularmap,oe.envmap,oe.aomap,oe.lightmap,oe.emissivemap,oe.bumpmap,oe.normalmap,oe.displacementmap,oe.fog,oe.lights,{emissive:{value:new qe(0)}}]),vertexShader:ze.meshlambert_vert,fragmentShader:ze.meshlambert_frag},phong:{uniforms:vt([oe.common,oe.specularmap,oe.envmap,oe.aomap,oe.lightmap,oe.emissivemap,oe.bumpmap,oe.normalmap,oe.displacementmap,oe.fog,oe.lights,{emissive:{value:new qe(0)},specular:{value:new qe(1118481)},shininess:{value:30}}]),vertexShader:ze.meshphong_vert,fragmentShader:ze.meshphong_frag},standard:{uniforms:vt([oe.common,oe.envmap,oe.aomap,oe.lightmap,oe.emissivemap,oe.bumpmap,oe.normalmap,oe.displacementmap,oe.roughnessmap,oe.metalnessmap,oe.fog,oe.lights,{emissive:{value:new qe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ze.meshphysical_vert,fragmentShader:ze.meshphysical_frag},toon:{uniforms:vt([oe.common,oe.aomap,oe.lightmap,oe.emissivemap,oe.bumpmap,oe.normalmap,oe.displacementmap,oe.gradientmap,oe.fog,oe.lights,{emissive:{value:new qe(0)}}]),vertexShader:ze.meshtoon_vert,fragmentShader:ze.meshtoon_frag},matcap:{uniforms:vt([oe.common,oe.bumpmap,oe.normalmap,oe.displacementmap,oe.fog,{matcap:{value:null}}]),vertexShader:ze.meshmatcap_vert,fragmentShader:ze.meshmatcap_frag},points:{uniforms:vt([oe.points,oe.fog]),vertexShader:ze.points_vert,fragmentShader:ze.points_frag},dashed:{uniforms:vt([oe.common,oe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ze.linedashed_vert,fragmentShader:ze.linedashed_frag},depth:{uniforms:vt([oe.common,oe.displacementmap]),vertexShader:ze.depth_vert,fragmentShader:ze.depth_frag},normal:{uniforms:vt([oe.common,oe.bumpmap,oe.normalmap,oe.displacementmap,{opacity:{value:1}}]),vertexShader:ze.meshnormal_vert,fragmentShader:ze.meshnormal_frag},sprite:{uniforms:vt([oe.sprite,oe.fog]),vertexShader:ze.sprite_vert,fragmentShader:ze.sprite_frag},background:{uniforms:{uvTransform:{value:new Ge},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ze.background_vert,fragmentShader:ze.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Ge}},vertexShader:ze.backgroundCube_vert,fragmentShader:ze.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ze.cube_vert,fragmentShader:ze.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ze.equirect_vert,fragmentShader:ze.equirect_frag},distanceRGBA:{uniforms:vt([oe.common,oe.displacementmap,{referencePosition:{value:new I},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ze.distanceRGBA_vert,fragmentShader:ze.distanceRGBA_frag},shadow:{uniforms:vt([oe.lights,oe.fog,{color:{value:new qe(0)},opacity:{value:1}}]),vertexShader:ze.shadow_vert,fragmentShader:ze.shadow_frag}};zt.physical={uniforms:vt([zt.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ge},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ge},clearcoatNormalScale:{value:new Ie(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ge},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ge},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ge},sheen:{value:0},sheenColor:{value:new qe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ge},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ge},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ge},transmissionSamplerSize:{value:new Ie},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ge},attenuationDistance:{value:0},attenuationColor:{value:new qe(0)},specularColor:{value:new qe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ge},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ge},anisotropyVector:{value:new Ie},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ge}}]),vertexShader:ze.meshphysical_vert,fragmentShader:ze.meshphysical_frag};const ki={r:0,b:0,g:0},Sn=new $t,rf=new st;function sf(o,_,$,j,_e,et,tt){const nt=new qe(0);let it=et===!0?0:1,lt,dt,bt=null,Ht=0,pr=null;function _n(Ct,mr){let _r=!1,mn=mr.isScene===!0?mr.background:null;mn&&mn.isTexture&&(mn=(mr.backgroundBlurriness>0?$:_).get(mn)),mn===null?ft(nt,it):mn&&mn.isColor&&(ft(mn,1),_r=!0);const dr=o.xr.getEnvironmentBlendMode();dr==="additive"?j.buffers.color.setClear(0,0,0,1,tt):dr==="alpha-blend"&&j.buffers.color.setClear(0,0,0,0,tt),(o.autoClear||_r)&&o.clear(o.autoClearColor,o.autoClearDepth,o.autoClearStencil),mn&&(mn.isCubeTexture||mn.mapping===lr)?(dt===void 0&&(dt=new Rt(new Mi(1,1,1),new fn({name:"BackgroundCubeMaterial",uniforms:ai(zt.backgroundCube.uniforms),vertexShader:zt.backgroundCube.vertexShader,fragmentShader:zt.backgroundCube.fragmentShader,side:Et,depthTest:!1,depthWrite:!1,fog:!1})),dt.geometry.deleteAttribute("normal"),dt.geometry.deleteAttribute("uv"),dt.onBeforeRender=function(pn,Do,Io){this.matrixWorld.copyPosition(Io.matrixWorld)},Object.defineProperty(dt.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),_e.update(dt)),Sn.copy(mr.backgroundRotation),Sn.x*=-1,Sn.y*=-1,Sn.z*=-1,mn.isCubeTexture&&mn.isRenderTargetTexture===!1&&(Sn.y*=-1,Sn.z*=-1),dt.material.uniforms.envMap.value=mn,dt.material.uniforms.flipEnvMap.value=mn.isCubeTexture&&mn.isRenderTargetTexture===!1?-1:1,dt.material.uniforms.backgroundBlurriness.value=mr.backgroundBlurriness,dt.material.uniforms.backgroundIntensity.value=mr.backgroundIntensity,dt.material.uniforms.backgroundRotation.value.setFromMatrix4(rf.makeRotationFromEuler(Sn)),dt.material.toneMapped=je.getTransfer(mn.colorSpace)!==$e,(bt!==mn||Ht!==mn.version||pr!==o.toneMapping)&&(dt.material.needsUpdate=!0,bt=mn,Ht=mn.version,pr=o.toneMapping),dt.layers.enableAll(),Ct.unshift(dt,dt.geometry,dt.material,0,0,null)):mn&&mn.isTexture&&(lt===void 0&&(lt=new Rt(new hr(2,2),new fn({name:"BackgroundMaterial",uniforms:ai(zt.background.uniforms),vertexShader:zt.background.vertexShader,fragmentShader:zt.background.fragmentShader,side:hn,depthTest:!1,depthWrite:!1,fog:!1})),lt.geometry.deleteAttribute("normal"),Object.defineProperty(lt.material,"map",{get:function(){return this.uniforms.t2D.value}}),_e.update(lt)),lt.material.uniforms.t2D.value=mn,lt.material.uniforms.backgroundIntensity.value=mr.backgroundIntensity,lt.material.toneMapped=je.getTransfer(mn.colorSpace)!==$e,mn.matrixAutoUpdate===!0&&mn.updateMatrix(),lt.material.uniforms.uvTransform.value.copy(mn.matrix),(bt!==mn||Ht!==mn.version||pr!==o.toneMapping)&&(lt.material.needsUpdate=!0,bt=mn,Ht=mn.version,pr=o.toneMapping),lt.layers.enableAll(),Ct.unshift(lt,lt.geometry,lt.material,0,0,null))}function ft(Ct,mr){Ct.getRGB(ki,xo(o)),j.buffers.color.setClear(ki.r,ki.g,ki.b,mr,tt)}return{getClearColor:function(){return nt},setClearColor:function(Ct,mr=1){nt.set(Ct),it=mr,ft(nt,it)},getClearAlpha:function(){return it},setClearAlpha:function(Ct){it=Ct,ft(nt,it)},render:_n}}function af(o,_,$,j){const _e=o.getParameter(o.MAX_VERTEX_ATTRIBS),et=j.isWebGL2?null:_.get("OES_vertex_array_object"),tt=j.isWebGL2||et!==null,nt={},it=Ct(null);let lt=it,dt=!1;function bt(vs,Sp,wp,bp,Ep){let Cp=!1;if(tt){const Ap=ft(bp,wp,Sp);lt!==Ap&&(lt=Ap,pr(lt.object)),Cp=mr(vs,bp,wp,Ep),Cp&&_r(vs,bp,wp,Ep)}else{const Ap=Sp.wireframe===!0;(lt.geometry!==bp.id||lt.program!==wp.id||lt.wireframe!==Ap)&&(lt.geometry=bp.id,lt.program=wp.id,lt.wireframe=Ap,Cp=!0)}Ep!==null&&$.update(Ep,o.ELEMENT_ARRAY_BUFFER),(Cp||dt)&&(dt=!1,Lo(vs,Sp,wp,bp),Ep!==null&&o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,$.get(Ep).buffer))}function Ht(){return j.isWebGL2?o.createVertexArray():et.createVertexArrayOES()}function pr(vs){return j.isWebGL2?o.bindVertexArray(vs):et.bindVertexArrayOES(vs)}function _n(vs){return j.isWebGL2?o.deleteVertexArray(vs):et.deleteVertexArrayOES(vs)}function ft(vs,Sp,wp){const bp=wp.wireframe===!0;let Ep=nt[vs.id];Ep===void 0&&(Ep={},nt[vs.id]=Ep);let Cp=Ep[Sp.id];Cp===void 0&&(Cp={},Ep[Sp.id]=Cp);let Ap=Cp[bp];return Ap===void 0&&(Ap=Ct(Ht()),Cp[bp]=Ap),Ap}function Ct(vs){const Sp=[],wp=[],bp=[];for(let Ep=0;Ep<_e;Ep++)Sp[Ep]=0,wp[Ep]=0,bp[Ep]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Sp,enabledAttributes:wp,attributeDivisors:bp,object:vs,attributes:{},index:null}}function mr(vs,Sp,wp,bp){const Ep=lt.attributes,Cp=Sp.attributes;let Ap=0;const Mp=wp.getAttributes();for(const Pp in Mp)if(Mp[Pp].location>=0){const Ip=Ep[Pp];let Op=Cp[Pp];if(Op===void 0&&(Pp==="instanceMatrix"&&vs.instanceMatrix&&(Op=vs.instanceMatrix),Pp==="instanceColor"&&vs.instanceColor&&(Op=vs.instanceColor)),Ip===void 0||Ip.attribute!==Op||Op&&Ip.data!==Op.data)return!0;Ap++}return lt.attributesNum!==Ap||lt.index!==bp}function _r(vs,Sp,wp,bp){const Ep={},Cp=Sp.attributes;let Ap=0;const Mp=wp.getAttributes();for(const Pp in Mp)if(Mp[Pp].location>=0){let Ip=Cp[Pp];Ip===void 0&&(Pp==="instanceMatrix"&&vs.instanceMatrix&&(Ip=vs.instanceMatrix),Pp==="instanceColor"&&vs.instanceColor&&(Ip=vs.instanceColor));const Op={};Op.attribute=Ip,Ip&&Ip.data&&(Op.data=Ip.data),Ep[Pp]=Op,Ap++}lt.attributes=Ep,lt.attributesNum=Ap,lt.index=bp}function mn(){const vs=lt.newAttributes;for(let Sp=0,wp=vs.length;Sp<wp;Sp++)vs[Sp]=0}function dr(vs){pn(vs,0)}function pn(vs,Sp){const wp=lt.newAttributes,bp=lt.enabledAttributes,Ep=lt.attributeDivisors;wp[vs]=1,bp[vs]===0&&(o.enableVertexAttribArray(vs),bp[vs]=1),Ep[vs]!==Sp&&((j.isWebGL2?o:_.get("ANGLE_instanced_arrays"))[j.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](vs,Sp),Ep[vs]=Sp)}function Do(){const vs=lt.newAttributes,Sp=lt.enabledAttributes;for(let wp=0,bp=Sp.length;wp<bp;wp++)Sp[wp]!==vs[wp]&&(o.disableVertexAttribArray(wp),Sp[wp]=0)}function Io(vs,Sp,wp,bp,Ep,Cp,Ap){Ap===!0?o.vertexAttribIPointer(vs,Sp,wp,Ep,Cp):o.vertexAttribPointer(vs,Sp,wp,bp,Ep,Cp)}function Lo(vs,Sp,wp,bp){if(j.isWebGL2===!1&&(vs.isInstancedMesh||bp.isInstancedBufferGeometry)&&_.get("ANGLE_instanced_arrays")===null)return;mn();const Ep=bp.attributes,Cp=wp.getAttributes(),Ap=Sp.defaultAttributeValues;for(const Mp in Cp){const Pp=Cp[Mp];if(Pp.location>=0){let Ip=Ep[Mp];if(Ip===void 0&&(Mp==="instanceMatrix"&&vs.instanceMatrix&&(Ip=vs.instanceMatrix),Mp==="instanceColor"&&vs.instanceColor&&(Ip=vs.instanceColor)),Ip!==void 0){const Op=Ip.normalized,Wp=Ip.itemSize,Yp=$.get(Ip);if(Yp===void 0)continue;const Zp=Yp.buffer,Qp=Yp.type,Gp=Yp.bytesPerElement,rm=j.isWebGL2===!0&&(Qp===o.INT||Qp===o.UNSIGNED_INT||Ip.gpuType===no);if(Ip.isInterleavedBufferAttribute){const Jp=Ip.data,Up=Jp.stride,im=Ip.offset;if(Jp.isInstancedInterleavedBuffer){for(let em=0;em<Pp.locationSize;em++)pn(Pp.location+em,Jp.meshPerAttribute);vs.isInstancedMesh!==!0&&bp._maxInstanceCount===void 0&&(bp._maxInstanceCount=Jp.meshPerAttribute*Jp.count)}else for(let em=0;em<Pp.locationSize;em++)dr(Pp.location+em);o.bindBuffer(o.ARRAY_BUFFER,Zp);for(let em=0;em<Pp.locationSize;em++)Io(Pp.location+em,Wp/Pp.locationSize,Qp,Op,Up*Gp,(im+Wp/Pp.locationSize*em)*Gp,rm)}else{if(Ip.isInstancedBufferAttribute){for(let Jp=0;Jp<Pp.locationSize;Jp++)pn(Pp.location+Jp,Ip.meshPerAttribute);vs.isInstancedMesh!==!0&&bp._maxInstanceCount===void 0&&(bp._maxInstanceCount=Ip.meshPerAttribute*Ip.count)}else for(let Jp=0;Jp<Pp.locationSize;Jp++)dr(Pp.location+Jp);o.bindBuffer(o.ARRAY_BUFFER,Zp);for(let Jp=0;Jp<Pp.locationSize;Jp++)Io(Pp.location+Jp,Wp/Pp.locationSize,Qp,Op,Wp*Gp,Wp/Pp.locationSize*Jp*Gp,rm)}}else if(Ap!==void 0){const Op=Ap[Mp];if(Op!==void 0)switch(Op.length){case 2:o.vertexAttrib2fv(Pp.location,Op);break;case 3:o.vertexAttrib3fv(Pp.location,Op);break;case 4:o.vertexAttrib4fv(Pp.location,Op);break;default:o.vertexAttrib1fv(Pp.location,Op)}}}}Do()}function ms(){yp();for(const vs in nt){const Sp=nt[vs];for(const wp in Sp){const bp=Sp[wp];for(const Ep in bp)_n(bp[Ep].object),delete bp[Ep];delete Sp[wp]}delete nt[vs]}}function Uo(vs){if(nt[vs.id]===void 0)return;const Sp=nt[vs.id];for(const wp in Sp){const bp=Sp[wp];for(const Ep in bp)_n(bp[Ep].object),delete bp[Ep];delete Sp[wp]}delete nt[vs.id]}function _s(vs){for(const Sp in nt){const wp=nt[Sp];if(wp[vs.id]===void 0)continue;const bp=wp[vs.id];for(const Ep in bp)_n(bp[Ep].object),delete bp[Ep];delete wp[vs.id]}}function yp(){xs(),dt=!0,lt!==it&&(lt=it,pr(lt.object))}function xs(){it.geometry=null,it.program=null,it.wireframe=!1}return{setup:bt,reset:yp,resetDefaultState:xs,dispose:ms,releaseStatesOfGeometry:Uo,releaseStatesOfProgram:_s,initAttributes:mn,enableAttribute:dr,disableUnusedAttributes:Do}}function of(o,_,$,j){const _e=j.isWebGL2;let et;function tt(dt){et=dt}function nt(dt,bt){o.drawArrays(et,dt,bt),$.update(bt,et,1)}function it(dt,bt,Ht){if(Ht===0)return;let pr,_n;if(_e)pr=o,_n="drawArraysInstanced";else if(pr=_.get("ANGLE_instanced_arrays"),_n="drawArraysInstancedANGLE",pr===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}pr[_n](et,dt,bt,Ht),$.update(bt,et,Ht)}function lt(dt,bt,Ht){if(Ht===0)return;const pr=_.get("WEBGL_multi_draw");if(pr===null)for(let _n=0;_n<Ht;_n++)this.render(dt[_n],bt[_n]);else{pr.multiDrawArraysWEBGL(et,dt,0,bt,0,Ht);let _n=0;for(let ft=0;ft<Ht;ft++)_n+=bt[ft];$.update(_n,et,1)}}this.setMode=tt,this.render=nt,this.renderInstances=it,this.renderMultiDraw=lt}function lf(o,_,$){let j;function _e(){if(j!==void 0)return j;if(_.has("EXT_texture_filter_anisotropic")===!0){const Io=_.get("EXT_texture_filter_anisotropic");j=o.getParameter(Io.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else j=0;return j}function et(Io){if(Io==="highp"){if(o.getShaderPrecisionFormat(o.VERTEX_SHADER,o.HIGH_FLOAT).precision>0&&o.getShaderPrecisionFormat(o.FRAGMENT_SHADER,o.HIGH_FLOAT).precision>0)return"highp";Io="mediump"}return Io==="mediump"&&o.getShaderPrecisionFormat(o.VERTEX_SHADER,o.MEDIUM_FLOAT).precision>0&&o.getShaderPrecisionFormat(o.FRAGMENT_SHADER,o.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const tt=typeof WebGL2RenderingContext<"u"&&o.constructor.name==="WebGL2RenderingContext";let nt=$.precision!==void 0?$.precision:"highp";const it=et(nt);it!==nt&&(console.warn("THREE.WebGLRenderer:",nt,"not supported, using",it,"instead."),nt=it);const lt=tt||_.has("WEBGL_draw_buffers"),dt=$.logarithmicDepthBuffer===!0,bt=o.getParameter(o.MAX_TEXTURE_IMAGE_UNITS),Ht=o.getParameter(o.MAX_VERTEX_TEXTURE_IMAGE_UNITS),pr=o.getParameter(o.MAX_TEXTURE_SIZE),_n=o.getParameter(o.MAX_CUBE_MAP_TEXTURE_SIZE),ft=o.getParameter(o.MAX_VERTEX_ATTRIBS),Ct=o.getParameter(o.MAX_VERTEX_UNIFORM_VECTORS),mr=o.getParameter(o.MAX_VARYING_VECTORS),_r=o.getParameter(o.MAX_FRAGMENT_UNIFORM_VECTORS),mn=Ht>0,dr=tt||_.has("OES_texture_float"),pn=mn&&dr,Do=tt?o.getParameter(o.MAX_SAMPLES):0;return{isWebGL2:tt,drawBuffers:lt,getMaxAnisotropy:_e,getMaxPrecision:et,precision:nt,logarithmicDepthBuffer:dt,maxTextures:bt,maxVertexTextures:Ht,maxTextureSize:pr,maxCubemapSize:_n,maxAttributes:ft,maxVertexUniforms:Ct,maxVaryings:mr,maxFragmentUniforms:_r,vertexTextures:mn,floatFragmentTextures:dr,floatVertexTextures:pn,maxSamples:Do}}function cf(o){const _=this;let $=null,j=0,_e=!1,et=!1;const tt=new sn,nt=new Ge,it={value:null,needsUpdate:!1};this.uniform=it,this.numPlanes=0,this.numIntersection=0,this.init=function(bt,Ht){const pr=bt.length!==0||Ht||j!==0||_e;return _e=Ht,j=bt.length,pr},this.beginShadows=function(){et=!0,dt(null)},this.endShadows=function(){et=!1},this.setGlobalState=function(bt,Ht){$=dt(bt,Ht,0)},this.setState=function(bt,Ht,pr){const _n=bt.clippingPlanes,ft=bt.clipIntersection,Ct=bt.clipShadows,mr=o.get(bt);if(!_e||_n===null||_n.length===0||et&&!Ct)et?dt(null):lt();else{const _r=et?0:j,mn=_r*4;let dr=mr.clippingState||null;it.value=dr,dr=dt(_n,Ht,mn,pr);for(let pn=0;pn!==mn;++pn)dr[pn]=$[pn];mr.clippingState=dr,this.numIntersection=ft?this.numPlanes:0,this.numPlanes+=_r}};function lt(){it.value!==$&&(it.value=$,it.needsUpdate=j>0),_.numPlanes=j,_.numIntersection=0}function dt(bt,Ht,pr,_n){const ft=bt!==null?bt.length:0;let Ct=null;if(ft!==0){if(Ct=it.value,_n!==!0||Ct===null){const mr=pr+ft*4,_r=Ht.matrixWorldInverse;nt.getNormalMatrix(_r),(Ct===null||Ct.length<mr)&&(Ct=new Float32Array(mr));for(let mn=0,dr=pr;mn!==ft;++mn,dr+=4)tt.copy(bt[mn]).applyMatrix4(_r,nt),tt.normal.toArray(Ct,dr),Ct[dr+3]=tt.constant}it.value=Ct,it.needsUpdate=!0}return _.numPlanes=ft,_.numIntersection=0,Ct}}function uf(o){let _=new WeakMap;function $(tt,nt){return nt===es?tt.mapping=ii:nt===ts&&(tt.mapping=ri),tt}function j(tt){if(tt&&tt.isTexture){const nt=tt.mapping;if(nt===es||nt===ts)if(_.has(tt)){const it=_.get(tt).texture;return $(it,tt.mapping)}else{const it=tt.image;if(it&&it.height>0){const lt=new xc(it.height);return lt.fromEquirectangularTexture(o,tt),_.set(tt,lt),tt.addEventListener("dispose",_e),$(lt.texture,tt.mapping)}else return null}}return tt}function _e(tt){const nt=tt.target;nt.removeEventListener("dispose",_e);const it=_.get(nt);it!==void 0&&(_.delete(nt),it.dispose())}function et(){_=new WeakMap}return{get:j,dispose:et}}class hf extends Mo{constructor(_=-1,$=1,j=1,_e=-1,et=.1,tt=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=_,this.right=$,this.top=j,this.bottom=_e,this.near=et,this.far=tt,this.updateProjectionMatrix()}copy(_,$){return super.copy(_,$),this.left=_.left,this.right=_.right,this.top=_.top,this.bottom=_.bottom,this.near=_.near,this.far=_.far,this.zoom=_.zoom,this.view=_.view===null?null:Object.assign({},_.view),this}setViewOffset(_,$,j,_e,et,tt){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=_,this.view.fullHeight=$,this.view.offsetX=j,this.view.offsetY=_e,this.view.width=et,this.view.height=tt,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const _=(this.right-this.left)/(2*this.zoom),$=(this.top-this.bottom)/(2*this.zoom),j=(this.right+this.left)/2,_e=(this.top+this.bottom)/2;let et=j-_,tt=j+_,nt=_e+$,it=_e-$;if(this.view!==null&&this.view.enabled){const lt=(this.right-this.left)/this.view.fullWidth/this.zoom,dt=(this.top-this.bottom)/this.view.fullHeight/this.zoom;et+=lt*this.view.offsetX,tt=et+lt*this.view.width,nt-=dt*this.view.offsetY,it=nt-dt*this.view.height}this.projectionMatrix.makeOrthographic(et,tt,nt,it,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(_){const $=super.toJSON(_);return $.object.zoom=this.zoom,$.object.left=this.left,$.object.right=this.right,$.object.top=this.top,$.object.bottom=this.bottom,$.object.near=this.near,$.object.far=this.far,this.view!==null&&($.object.view=Object.assign({},this.view)),$}}const $n=4,Ma=[.125,.215,.35,.446,.526,.582],bn=20,Vr=new hf,Sa=new qe;let kr$1=null,Wr=0,Xr=0;const yn=(1+Math.sqrt(5))/2,Kn=1/yn,Ea=[new I(1,1,1),new I(-1,1,1),new I(1,1,-1),new I(-1,1,-1),new I(0,yn,Kn),new I(0,yn,-Kn),new I(Kn,0,yn),new I(-Kn,0,yn),new I(yn,Kn,0),new I(-yn,Kn,0)];class ya{constructor(_){this._renderer=_,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(_,$=0,j=.1,_e=100){kr$1=this._renderer.getRenderTarget(),Wr=this._renderer.getActiveCubeFace(),Xr=this._renderer.getActiveMipmapLevel(),this._setSize(256);const et=this._allocateTargets();return et.depthBuffer=!0,this._sceneToCubeUV(_,j,_e,et),$>0&&this._blur(et,0,0,$),this._applyPMREM(et),this._cleanup(et),et}fromEquirectangular(_,$=null){return this._fromTexture(_,$)}fromCubemap(_,$=null){return this._fromTexture(_,$)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Aa(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=ba(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(_){this._lodMax=Math.floor(Math.log2(_)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let _=0;_<this._lodPlanes.length;_++)this._lodPlanes[_].dispose()}_cleanup(_){this._renderer.setRenderTarget(kr$1,Wr,Xr),_.scissorTest=!1,Wi(_,0,0,_.width,_.height)}_fromTexture(_,$){_.mapping===ii||_.mapping===ri?this._setSize(_.image.length===0?16:_.image[0].width||_.image[0].image.width):this._setSize(_.image.width/4),kr$1=this._renderer.getRenderTarget(),Wr=this._renderer.getActiveCubeFace(),Xr=this._renderer.getActiveMipmapLevel();const j=$||this._allocateTargets();return this._textureToCubeUV(_,j),this._applyPMREM(j),this._cleanup(j),j}_allocateTargets(){const _=3*Math.max(this._cubeSize,112),$=4*this._cubeSize,j={magFilter:St,minFilter:St,generateMipmaps:!1,type:_i,format:Ft,colorSpace:dn,depthBuffer:!1},_e=Ta(_,$,j);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==_||this._pingPongRenderTarget.height!==$){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Ta(_,$,j);const{_lodMax:et}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=ff(et)),this._blurMaterial=df(et,_,$)}return _e}_compileMaterial(_){const $=new Rt(this._lodPlanes[0],_);this._renderer.compile($,Vr)}_sceneToCubeUV(_,$,j,_e){const et=new Lt(90,1,$,j),tt=[1,-1,1,1,1,1],nt=[1,1,1,-1,-1,-1],it=this._renderer,lt=it.autoClear,dt=it.toneMapping;it.getClearColor(Sa),it.toneMapping=cn,it.autoClear=!1;const bt=new ni({name:"PMREM.Background",side:Et,depthWrite:!1,depthTest:!1}),Ht=new Rt(new Mi,bt);let pr=!1;const _n=_.background;_n?_n.isColor&&(bt.color.copy(_n),_.background=null,pr=!0):(bt.color.copy(Sa),pr=!0);for(let ft=0;ft<6;ft++){const Ct=ft%3;Ct===0?(et.up.set(0,tt[ft],0),et.lookAt(nt[ft],0,0)):Ct===1?(et.up.set(0,0,tt[ft]),et.lookAt(0,nt[ft],0)):(et.up.set(0,tt[ft],0),et.lookAt(0,0,nt[ft]));const mr=this._cubeSize;Wi(_e,Ct*mr,ft>2?mr:0,mr,mr),it.setRenderTarget(_e),pr&&it.render(Ht,et),it.render(_,et)}Ht.geometry.dispose(),Ht.material.dispose(),it.toneMapping=dt,it.autoClear=lt,_.background=_n}_textureToCubeUV(_,$){const j=this._renderer,_e=_.mapping===ii||_.mapping===ri;_e?(this._cubemapMaterial===null&&(this._cubemapMaterial=Aa()),this._cubemapMaterial.uniforms.flipEnvMap.value=_.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=ba());const et=_e?this._cubemapMaterial:this._equirectMaterial,tt=new Rt(this._lodPlanes[0],et),nt=et.uniforms;nt.envMap.value=_;const it=this._cubeSize;Wi($,0,0,3*it,2*it),j.setRenderTarget($),j.render(tt,Vr)}_applyPMREM(_){const $=this._renderer,j=$.autoClear;$.autoClear=!1;for(let _e=1;_e<this._lodPlanes.length;_e++){const et=Math.sqrt(this._sigmas[_e]*this._sigmas[_e]-this._sigmas[_e-1]*this._sigmas[_e-1]),tt=Ea[(_e-1)%Ea.length];this._blur(_,_e-1,_e,et,tt)}$.autoClear=j}_blur(_,$,j,_e,et){const tt=this._pingPongRenderTarget;this._halfBlur(_,tt,$,j,_e,"latitudinal",et),this._halfBlur(tt,_,j,j,_e,"longitudinal",et)}_halfBlur(_,$,j,_e,et,tt,nt){const it=this._renderer,lt=this._blurMaterial;tt!=="latitudinal"&&tt!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const dt=3,bt=new Rt(this._lodPlanes[_e],lt),Ht=lt.uniforms,pr=this._sizeLods[j]-1,_n=isFinite(et)?Math.PI/(2*pr):2*Math.PI/(2*bn-1),ft=et/_n,Ct=isFinite(et)?1+Math.floor(dt*ft):bn;Ct>bn&&console.warn(`sigmaRadians, ${et}, is too large and will clip, as it requested ${Ct} samples when the maximum is set to ${bn}`);const mr=[];let _r=0;for(let Io=0;Io<bn;++Io){const Lo=Io/ft,ms=Math.exp(-Lo*Lo/2);mr.push(ms),Io===0?_r+=ms:Io<Ct&&(_r+=2*ms)}for(let Io=0;Io<mr.length;Io++)mr[Io]=mr[Io]/_r;Ht.envMap.value=_.texture,Ht.samples.value=Ct,Ht.weights.value=mr,Ht.latitudinal.value=tt==="latitudinal",nt&&(Ht.poleAxis.value=nt);const{_lodMax:mn}=this;Ht.dTheta.value=_n,Ht.mipInt.value=mn-j;const dr=this._sizeLods[_e],pn=3*dr*(_e>mn-$n?_e-mn+$n:0),Do=4*(this._cubeSize-dr);Wi($,pn,Do,3*dr,2*dr),it.setRenderTarget($),it.render(bt,Vr)}}function ff(o){const _=[],$=[],j=[];let _e=o;const et=o-$n+1+Ma.length;for(let tt=0;tt<et;tt++){const nt=Math.pow(2,_e);$.push(nt);let it=1/nt;tt>o-$n?it=Ma[tt-o+$n-1]:tt===0&&(it=0),j.push(it);const lt=1/(nt-2),dt=-lt,bt=1+lt,Ht=[dt,dt,bt,dt,bt,bt,dt,dt,bt,bt,dt,bt],pr=6,_n=6,ft=3,Ct=2,mr=1,_r=new Float32Array(ft*_n*pr),mn=new Float32Array(Ct*_n*pr),dr=new Float32Array(mr*_n*pr);for(let Do=0;Do<pr;Do++){const Io=Do%3*2/3-1,Lo=Do>2?0:-1,ms=[Io,Lo,0,Io+2/3,Lo,0,Io+2/3,Lo+1,0,Io,Lo,0,Io+2/3,Lo+1,0,Io,Lo+1,0];_r.set(ms,ft*_n*Do),mn.set(Ht,Ct*_n*Do);const Uo=[Do,Do,Do,Do,Do,Do];dr.set(Uo,mr*_n*Do)}const pn=new Tt;pn.setAttribute("position",new Gt(_r,ft)),pn.setAttribute("uv",new Gt(mn,Ct)),pn.setAttribute("faceIndex",new Gt(dr,mr)),_.push(pn),_e>$n&&_e--}return{lodPlanes:_,sizeLods:$,sigmas:j}}function Ta(o,_,$){const j=new Cn(o,_,$);return j.texture.mapping=lr,j.texture.name="PMREM.cubeUv",j.scissorTest=!0,j}function Wi(o,_,$,j,_e){o.viewport.set(_,$,j,_e),o.scissor.set(_,$,j,_e)}function df(o,_,$){const j=new Float32Array(bn),_e=new I(0,1,0);return new fn({name:"SphericalGaussianBlur",defines:{n:bn,CUBEUV_TEXEL_WIDTH:1/_,CUBEUV_TEXEL_HEIGHT:1/$,CUBEUV_MAX_MIP:`${o}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:j},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:_e}},vertexShader:fs(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ln$1,depthTest:!1,depthWrite:!1})}function ba(){return new fn({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:fs(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ln$1,depthTest:!1,depthWrite:!1})}function Aa(){return new fn({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:fs(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ln$1,depthTest:!1,depthWrite:!1})}function fs(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function pf(o){let _=new WeakMap,$=null;function j(nt){if(nt&&nt.isTexture){const it=nt.mapping,lt=it===es||it===ts,dt=it===ii||it===ri;if(lt||dt)if(nt.isRenderTargetTexture&&nt.needsPMREMUpdate===!0){nt.needsPMREMUpdate=!1;let bt=_.get(nt);return $===null&&($=new ya(o)),bt=lt?$.fromEquirectangular(nt,bt):$.fromCubemap(nt,bt),_.set(nt,bt),bt.texture}else{if(_.has(nt))return _.get(nt).texture;{const bt=nt.image;if(lt&&bt&&bt.height>0||dt&&bt&&_e(bt)){$===null&&($=new ya(o));const Ht=lt?$.fromEquirectangular(nt):$.fromCubemap(nt);return _.set(nt,Ht),nt.addEventListener("dispose",et),Ht.texture}else return null}}}return nt}function _e(nt){let it=0;const lt=6;for(let dt=0;dt<lt;dt++)nt[dt]!==void 0&&it++;return it===lt}function et(nt){const it=nt.target;it.removeEventListener("dispose",et);const lt=_.get(it);lt!==void 0&&(_.delete(it),lt.dispose())}function tt(){_=new WeakMap,$!==null&&($.dispose(),$=null)}return{get:j,dispose:tt}}function mf(o){const _={};function $(j){if(_[j]!==void 0)return _[j];let _e;switch(j){case"WEBGL_depth_texture":_e=o.getExtension("WEBGL_depth_texture")||o.getExtension("MOZ_WEBGL_depth_texture")||o.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":_e=o.getExtension("EXT_texture_filter_anisotropic")||o.getExtension("MOZ_EXT_texture_filter_anisotropic")||o.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":_e=o.getExtension("WEBGL_compressed_texture_s3tc")||o.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||o.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":_e=o.getExtension("WEBGL_compressed_texture_pvrtc")||o.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:_e=o.getExtension(j)}return _[j]=_e,_e}return{has:function(j){return $(j)!==null},init:function(j){j.isWebGL2?($("EXT_color_buffer_float"),$("WEBGL_clip_cull_distance")):($("WEBGL_depth_texture"),$("OES_texture_float"),$("OES_texture_half_float"),$("OES_texture_half_float_linear"),$("OES_standard_derivatives"),$("OES_element_index_uint"),$("OES_vertex_array_object"),$("ANGLE_instanced_arrays")),$("OES_texture_float_linear"),$("EXT_color_buffer_half_float"),$("WEBGL_multisampled_render_to_texture")},get:function(j){const _e=$(j);return _e===null&&console.warn("THREE.WebGLRenderer: "+j+" extension not supported."),_e}}}function _f(o,_,$,j){const _e={},et=new WeakMap;function tt(bt){const Ht=bt.target;Ht.index!==null&&_.remove(Ht.index);for(const _n in Ht.attributes)_.remove(Ht.attributes[_n]);for(const _n in Ht.morphAttributes){const ft=Ht.morphAttributes[_n];for(let Ct=0,mr=ft.length;Ct<mr;Ct++)_.remove(ft[Ct])}Ht.removeEventListener("dispose",tt),delete _e[Ht.id];const pr=et.get(Ht);pr&&(_.remove(pr),et.delete(Ht)),j.releaseStatesOfGeometry(Ht),Ht.isInstancedBufferGeometry===!0&&delete Ht._maxInstanceCount,$.memory.geometries--}function nt(bt,Ht){return _e[Ht.id]===!0||(Ht.addEventListener("dispose",tt),_e[Ht.id]=!0,$.memory.geometries++),Ht}function it(bt){const Ht=bt.attributes;for(const _n in Ht)_.update(Ht[_n],o.ARRAY_BUFFER);const pr=bt.morphAttributes;for(const _n in pr){const ft=pr[_n];for(let Ct=0,mr=ft.length;Ct<mr;Ct++)_.update(ft[Ct],o.ARRAY_BUFFER)}}function lt(bt){const Ht=[],pr=bt.index,_n=bt.attributes.position;let ft=0;if(pr!==null){const _r=pr.array;ft=pr.version;for(let mn=0,dr=_r.length;mn<dr;mn+=3){const pn=_r[mn+0],Do=_r[mn+1],Io=_r[mn+2];Ht.push(pn,Do,Do,Io,Io,pn)}}else if(_n!==void 0){const _r=_n.array;ft=_n.version;for(let mn=0,dr=_r.length/3-1;mn<dr;mn+=3){const pn=mn+0,Do=mn+1,Io=mn+2;Ht.push(pn,Do,Do,Io,Io,pn)}}else return;const Ct=new(uo(Ht)?vo:go)(Ht,1);Ct.version=ft;const mr=et.get(bt);mr&&_.remove(mr),et.set(bt,Ct)}function dt(bt){const Ht=et.get(bt);if(Ht){const pr=bt.index;pr!==null&&Ht.version<pr.version&&lt(bt)}else lt(bt);return et.get(bt)}return{get:nt,update:it,getWireframeAttribute:dt}}function gf(o,_,$,j){const _e=j.isWebGL2;let et;function tt(pr){et=pr}let nt,it;function lt(pr){nt=pr.type,it=pr.bytesPerElement}function dt(pr,_n){o.drawElements(et,_n,nt,pr*it),$.update(_n,et,1)}function bt(pr,_n,ft){if(ft===0)return;let Ct,mr;if(_e)Ct=o,mr="drawElementsInstanced";else if(Ct=_.get("ANGLE_instanced_arrays"),mr="drawElementsInstancedANGLE",Ct===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}Ct[mr](et,_n,nt,pr*it,ft),$.update(_n,et,ft)}function Ht(pr,_n,ft){if(ft===0)return;const Ct=_.get("WEBGL_multi_draw");if(Ct===null)for(let mr=0;mr<ft;mr++)this.render(pr[mr]/it,_n[mr]);else{Ct.multiDrawElementsWEBGL(et,_n,0,nt,pr,0,ft);let mr=0;for(let _r=0;_r<ft;_r++)mr+=_n[_r];$.update(mr,et,1)}}this.setMode=tt,this.setIndex=lt,this.render=dt,this.renderInstances=bt,this.renderMultiDraw=Ht}function vf(o){const _={geometries:0,textures:0},$={frame:0,calls:0,triangles:0,points:0,lines:0};function j(et,tt,nt){switch($.calls++,tt){case o.TRIANGLES:$.triangles+=nt*(et/3);break;case o.LINES:$.lines+=nt*(et/2);break;case o.LINE_STRIP:$.lines+=nt*(et-1);break;case o.LINE_LOOP:$.lines+=nt*et;break;case o.POINTS:$.points+=nt*et;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",tt);break}}function _e(){$.calls=0,$.triangles=0,$.points=0,$.lines=0}return{memory:_,render:$,programs:null,autoReset:!0,reset:_e,update:j}}function xf(o,_){return o[0]-_[0]}function Mf(o,_){return Math.abs(_[1])-Math.abs(o[1])}function Sf(o,_,$){const j={},_e=new Float32Array(8),et=new WeakMap,tt=new ht,nt=[];for(let lt=0;lt<8;lt++)nt[lt]=[lt,0];function it(lt,dt,bt){const Ht=lt.morphTargetInfluences;if(_.isWebGL2===!0){const pr=dt.morphAttributes.position||dt.morphAttributes.normal||dt.morphAttributes.color,_n=pr!==void 0?pr.length:0;let ft=et.get(dt);if(ft===void 0||ft.count!==_n){let Ct=function(){_s.dispose(),et.delete(dt),dt.removeEventListener("dispose",Ct)};ft!==void 0&&ft.texture.dispose();const mr=dt.morphAttributes.position!==void 0,_r=dt.morphAttributes.normal!==void 0,mn=dt.morphAttributes.color!==void 0,dr=dt.morphAttributes.position||[],pn=dt.morphAttributes.normal||[],Do=dt.morphAttributes.color||[];let Io=0;mr===!0&&(Io=1),_r===!0&&(Io=2),mn===!0&&(Io=3);let Lo=dt.attributes.position.count*Io,ms=1;Lo>_.maxTextureSize&&(ms=Math.ceil(Lo/_.maxTextureSize),Lo=_.maxTextureSize);const Uo=new Float32Array(Lo*ms*4*_n),_s=new po(Uo,Lo,ms,_n);_s.type=Kt,_s.needsUpdate=!0;const yp=Io*4;for(let xs=0;xs<_n;xs++){const vs=dr[xs],Sp=pn[xs],wp=Do[xs],bp=Lo*ms*4*xs;for(let Ep=0;Ep<vs.count;Ep++){const Cp=Ep*yp;mr===!0&&(tt.fromBufferAttribute(vs,Ep),Uo[bp+Cp+0]=tt.x,Uo[bp+Cp+1]=tt.y,Uo[bp+Cp+2]=tt.z,Uo[bp+Cp+3]=0),_r===!0&&(tt.fromBufferAttribute(Sp,Ep),Uo[bp+Cp+4]=tt.x,Uo[bp+Cp+5]=tt.y,Uo[bp+Cp+6]=tt.z,Uo[bp+Cp+7]=0),mn===!0&&(tt.fromBufferAttribute(wp,Ep),Uo[bp+Cp+8]=tt.x,Uo[bp+Cp+9]=tt.y,Uo[bp+Cp+10]=tt.z,Uo[bp+Cp+11]=wp.itemSize===4?tt.w:1)}}ft={count:_n,texture:_s,size:new Ie(Lo,ms)},et.set(dt,ft),dt.addEventListener("dispose",Ct)}if(lt.isInstancedMesh===!0&&lt.morphTexture!==null)bt.getUniforms().setValue(o,"morphTexture",lt.morphTexture,$);else{let Ct=0;for(let _r=0;_r<Ht.length;_r++)Ct+=Ht[_r];const mr=dt.morphTargetsRelative?1:1-Ct;bt.getUniforms().setValue(o,"morphTargetBaseInfluence",mr),bt.getUniforms().setValue(o,"morphTargetInfluences",Ht)}bt.getUniforms().setValue(o,"morphTargetsTexture",ft.texture,$),bt.getUniforms().setValue(o,"morphTargetsTextureSize",ft.size)}else{const pr=Ht===void 0?0:Ht.length;let _n=j[dt.id];if(_n===void 0||_n.length!==pr){_n=[];for(let mn=0;mn<pr;mn++)_n[mn]=[mn,0];j[dt.id]=_n}for(let mn=0;mn<pr;mn++){const dr=_n[mn];dr[0]=mn,dr[1]=Ht[mn]}_n.sort(Mf);for(let mn=0;mn<8;mn++)mn<pr&&_n[mn][1]?(nt[mn][0]=_n[mn][0],nt[mn][1]=_n[mn][1]):(nt[mn][0]=Number.MAX_SAFE_INTEGER,nt[mn][1]=0);nt.sort(xf);const ft=dt.morphAttributes.position,Ct=dt.morphAttributes.normal;let mr=0;for(let mn=0;mn<8;mn++){const dr=nt[mn],pn=dr[0],Do=dr[1];pn!==Number.MAX_SAFE_INTEGER&&Do?(ft&&dt.getAttribute("morphTarget"+mn)!==ft[pn]&&dt.setAttribute("morphTarget"+mn,ft[pn]),Ct&&dt.getAttribute("morphNormal"+mn)!==Ct[pn]&&dt.setAttribute("morphNormal"+mn,Ct[pn]),_e[mn]=Do,mr+=Do):(ft&&dt.hasAttribute("morphTarget"+mn)===!0&&dt.deleteAttribute("morphTarget"+mn),Ct&&dt.hasAttribute("morphNormal"+mn)===!0&&dt.deleteAttribute("morphNormal"+mn),_e[mn]=0)}const _r=dt.morphTargetsRelative?1:1-mr;bt.getUniforms().setValue(o,"morphTargetBaseInfluence",_r),bt.getUniforms().setValue(o,"morphTargetInfluences",_e)}}return{update:it}}function Ef(o,_,$,j){let _e=new WeakMap;function et(it){const lt=j.render.frame,dt=it.geometry,bt=_.get(it,dt);if(_e.get(bt)!==lt&&(_.update(bt),_e.set(bt,lt)),it.isInstancedMesh&&(it.hasEventListener("dispose",nt)===!1&&it.addEventListener("dispose",nt),_e.get(it)!==lt&&($.update(it.instanceMatrix,o.ARRAY_BUFFER),it.instanceColor!==null&&$.update(it.instanceColor,o.ARRAY_BUFFER),_e.set(it,lt))),it.isSkinnedMesh){const Ht=it.skeleton;_e.get(Ht)!==lt&&(Ht.update(),_e.set(Ht,lt))}return bt}function tt(){_e=new WeakMap}function nt(it){const lt=it.target;lt.removeEventListener("dispose",nt),$.remove(lt.instanceMatrix),lt.instanceColor!==null&&$.remove(lt.instanceColor)}return{update:et,dispose:tt}}class To extends yt{constructor(_,$,j,_e,et,tt,nt,it,lt,dt){if(dt=dt!==void 0?dt:Rn,dt!==Rn&&dt!==si)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");j===void 0&&dt===Rn&&(j=on),j===void 0&&dt===si&&(j=wn),super(null,_e,et,tt,nt,it,dt,j,lt),this.isDepthTexture=!0,this.image={width:_,height:$},this.magFilter=nt!==void 0?nt:xt,this.minFilter=it!==void 0?it:xt,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(_){return super.copy(_),this.compareFunction=_.compareFunction,this}toJSON(_){const $=super.toJSON(_);return this.compareFunction!==null&&($.compareFunction=this.compareFunction),$}}const bo=new yt,Ao=new To(1,1);Ao.compareFunction=co;const wo=new po,Ro=new nc,Co=new So,wa=[],Ra=[],Ca=new Float32Array(16),Pa=new Float32Array(9),La=new Float32Array(4);function li(o,_,$){const j=o[0];if(j<=0||j>0)return o;const _e=_*$;let et=wa[_e];if(et===void 0&&(et=new Float32Array(_e),wa[_e]=et),_!==0){j.toArray(et,0);for(let tt=1,nt=0;tt!==_;++tt)nt+=$,o[tt].toArray(et,nt)}return et}function at(o,_){if(o.length!==_.length)return!1;for(let $=0,j=o.length;$<j;$++)if(o[$]!==_[$])return!1;return!0}function ot(o,_){for(let $=0,j=_.length;$<j;$++)o[$]=_[$]}function fr(o,_){let $=Ra[_];$===void 0&&($=new Int32Array(_),Ra[_]=$);for(let j=0;j!==_;++j)$[j]=o.allocateTextureUnit();return $}function yf(o,_){const $=this.cache;$[0]!==_&&(o.uniform1f(this.addr,_),$[0]=_)}function Tf(o,_){const $=this.cache;if(_.x!==void 0)($[0]!==_.x||$[1]!==_.y)&&(o.uniform2f(this.addr,_.x,_.y),$[0]=_.x,$[1]=_.y);else{if(at($,_))return;o.uniform2fv(this.addr,_),ot($,_)}}function bf(o,_){const $=this.cache;if(_.x!==void 0)($[0]!==_.x||$[1]!==_.y||$[2]!==_.z)&&(o.uniform3f(this.addr,_.x,_.y,_.z),$[0]=_.x,$[1]=_.y,$[2]=_.z);else if(_.r!==void 0)($[0]!==_.r||$[1]!==_.g||$[2]!==_.b)&&(o.uniform3f(this.addr,_.r,_.g,_.b),$[0]=_.r,$[1]=_.g,$[2]=_.b);else{if(at($,_))return;o.uniform3fv(this.addr,_),ot($,_)}}function Af(o,_){const $=this.cache;if(_.x!==void 0)($[0]!==_.x||$[1]!==_.y||$[2]!==_.z||$[3]!==_.w)&&(o.uniform4f(this.addr,_.x,_.y,_.z,_.w),$[0]=_.x,$[1]=_.y,$[2]=_.z,$[3]=_.w);else{if(at($,_))return;o.uniform4fv(this.addr,_),ot($,_)}}function wf(o,_){const $=this.cache,j=_.elements;if(j===void 0){if(at($,_))return;o.uniformMatrix2fv(this.addr,!1,_),ot($,_)}else{if(at($,j))return;La.set(j),o.uniformMatrix2fv(this.addr,!1,La),ot($,j)}}function Rf(o,_){const $=this.cache,j=_.elements;if(j===void 0){if(at($,_))return;o.uniformMatrix3fv(this.addr,!1,_),ot($,_)}else{if(at($,j))return;Pa.set(j),o.uniformMatrix3fv(this.addr,!1,Pa),ot($,j)}}function Cf(o,_){const $=this.cache,j=_.elements;if(j===void 0){if(at($,_))return;o.uniformMatrix4fv(this.addr,!1,_),ot($,_)}else{if(at($,j))return;Ca.set(j),o.uniformMatrix4fv(this.addr,!1,Ca),ot($,j)}}function Pf(o,_){const $=this.cache;$[0]!==_&&(o.uniform1i(this.addr,_),$[0]=_)}function Lf(o,_){const $=this.cache;if(_.x!==void 0)($[0]!==_.x||$[1]!==_.y)&&(o.uniform2i(this.addr,_.x,_.y),$[0]=_.x,$[1]=_.y);else{if(at($,_))return;o.uniform2iv(this.addr,_),ot($,_)}}function Df(o,_){const $=this.cache;if(_.x!==void 0)($[0]!==_.x||$[1]!==_.y||$[2]!==_.z)&&(o.uniform3i(this.addr,_.x,_.y,_.z),$[0]=_.x,$[1]=_.y,$[2]=_.z);else{if(at($,_))return;o.uniform3iv(this.addr,_),ot($,_)}}function Uf(o,_){const $=this.cache;if(_.x!==void 0)($[0]!==_.x||$[1]!==_.y||$[2]!==_.z||$[3]!==_.w)&&(o.uniform4i(this.addr,_.x,_.y,_.z,_.w),$[0]=_.x,$[1]=_.y,$[2]=_.z,$[3]=_.w);else{if(at($,_))return;o.uniform4iv(this.addr,_),ot($,_)}}function If(o,_){const $=this.cache;$[0]!==_&&(o.uniform1ui(this.addr,_),$[0]=_)}function Nf(o,_){const $=this.cache;if(_.x!==void 0)($[0]!==_.x||$[1]!==_.y)&&(o.uniform2ui(this.addr,_.x,_.y),$[0]=_.x,$[1]=_.y);else{if(at($,_))return;o.uniform2uiv(this.addr,_),ot($,_)}}function Ff(o,_){const $=this.cache;if(_.x!==void 0)($[0]!==_.x||$[1]!==_.y||$[2]!==_.z)&&(o.uniform3ui(this.addr,_.x,_.y,_.z),$[0]=_.x,$[1]=_.y,$[2]=_.z);else{if(at($,_))return;o.uniform3uiv(this.addr,_),ot($,_)}}function Of(o,_){const $=this.cache;if(_.x!==void 0)($[0]!==_.x||$[1]!==_.y||$[2]!==_.z||$[3]!==_.w)&&(o.uniform4ui(this.addr,_.x,_.y,_.z,_.w),$[0]=_.x,$[1]=_.y,$[2]=_.z,$[3]=_.w);else{if(at($,_))return;o.uniform4uiv(this.addr,_),ot($,_)}}function Bf(o,_,$){const j=this.cache,_e=$.allocateTextureUnit();j[0]!==_e&&(o.uniform1i(this.addr,_e),j[0]=_e);const et=this.type===o.SAMPLER_2D_SHADOW?Ao:bo;$.setTexture2D(_||et,_e)}function zf(o,_,$){const j=this.cache,_e=$.allocateTextureUnit();j[0]!==_e&&(o.uniform1i(this.addr,_e),j[0]=_e),$.setTexture3D(_||Ro,_e)}function Gf(o,_,$){const j=this.cache,_e=$.allocateTextureUnit();j[0]!==_e&&(o.uniform1i(this.addr,_e),j[0]=_e),$.setTextureCube(_||Co,_e)}function Hf(o,_,$){const j=this.cache,_e=$.allocateTextureUnit();j[0]!==_e&&(o.uniform1i(this.addr,_e),j[0]=_e),$.setTexture2DArray(_||wo,_e)}function Vf(o){switch(o){case 5126:return yf;case 35664:return Tf;case 35665:return bf;case 35666:return Af;case 35674:return wf;case 35675:return Rf;case 35676:return Cf;case 5124:case 35670:return Pf;case 35667:case 35671:return Lf;case 35668:case 35672:return Df;case 35669:case 35673:return Uf;case 5125:return If;case 36294:return Nf;case 36295:return Ff;case 36296:return Of;case 35678:case 36198:case 36298:case 36306:case 35682:return Bf;case 35679:case 36299:case 36307:return zf;case 35680:case 36300:case 36308:case 36293:return Gf;case 36289:case 36303:case 36311:case 36292:return Hf}}function kf(o,_){o.uniform1fv(this.addr,_)}function Wf(o,_){const $=li(_,this.size,2);o.uniform2fv(this.addr,$)}function Xf(o,_){const $=li(_,this.size,3);o.uniform3fv(this.addr,$)}function Yf(o,_){const $=li(_,this.size,4);o.uniform4fv(this.addr,$)}function qf(o,_){const $=li(_,this.size,4);o.uniformMatrix2fv(this.addr,!1,$)}function jf(o,_){const $=li(_,this.size,9);o.uniformMatrix3fv(this.addr,!1,$)}function Kf(o,_){const $=li(_,this.size,16);o.uniformMatrix4fv(this.addr,!1,$)}function Zf(o,_){o.uniform1iv(this.addr,_)}function $f(o,_){o.uniform2iv(this.addr,_)}function Jf(o,_){o.uniform3iv(this.addr,_)}function Qf(o,_){o.uniform4iv(this.addr,_)}function ed(o,_){o.uniform1uiv(this.addr,_)}function td(o,_){o.uniform2uiv(this.addr,_)}function nd(o,_){o.uniform3uiv(this.addr,_)}function id(o,_){o.uniform4uiv(this.addr,_)}function rd(o,_,$){const j=this.cache,_e=_.length,et=fr($,_e);at(j,et)||(o.uniform1iv(this.addr,et),ot(j,et));for(let tt=0;tt!==_e;++tt)$.setTexture2D(_[tt]||bo,et[tt])}function sd(o,_,$){const j=this.cache,_e=_.length,et=fr($,_e);at(j,et)||(o.uniform1iv(this.addr,et),ot(j,et));for(let tt=0;tt!==_e;++tt)$.setTexture3D(_[tt]||Ro,et[tt])}function ad(o,_,$){const j=this.cache,_e=_.length,et=fr($,_e);at(j,et)||(o.uniform1iv(this.addr,et),ot(j,et));for(let tt=0;tt!==_e;++tt)$.setTextureCube(_[tt]||Co,et[tt])}function od(o,_,$){const j=this.cache,_e=_.length,et=fr($,_e);at(j,et)||(o.uniform1iv(this.addr,et),ot(j,et));for(let tt=0;tt!==_e;++tt)$.setTexture2DArray(_[tt]||wo,et[tt])}function ld(o){switch(o){case 5126:return kf;case 35664:return Wf;case 35665:return Xf;case 35666:return Yf;case 35674:return qf;case 35675:return jf;case 35676:return Kf;case 5124:case 35670:return Zf;case 35667:case 35671:return $f;case 35668:case 35672:return Jf;case 35669:case 35673:return Qf;case 5125:return ed;case 36294:return td;case 36295:return nd;case 36296:return id;case 35678:case 36198:case 36298:case 36306:case 35682:return rd;case 35679:case 36299:case 36307:return sd;case 35680:case 36300:case 36308:case 36293:return ad;case 36289:case 36303:case 36311:case 36292:return od}}class cd{constructor(_,$,j){this.id=_,this.addr=j,this.cache=[],this.type=$.type,this.setValue=Vf($.type)}}class ud{constructor(_,$,j){this.id=_,this.addr=j,this.cache=[],this.type=$.type,this.size=$.size,this.setValue=ld($.type)}}class hd{constructor(_){this.id=_,this.seq=[],this.map={}}setValue(_,$,j){const _e=this.seq;for(let et=0,tt=_e.length;et!==tt;++et){const nt=_e[et];nt.setValue(_,$[nt.id],j)}}}const Yr=/(\w+)(\])?(\[|\.)?/g;function Da(o,_){o.seq.push(_),o.map[_.id]=_}function fd(o,_,$){const j=o.name,_e=j.length;for(Yr.lastIndex=0;;){const et=Yr.exec(j),tt=Yr.lastIndex;let nt=et[1];const it=et[2]==="]",lt=et[3];if(it&&(nt=nt|0),lt===void 0||lt==="["&&tt+2===_e){Da($,lt===void 0?new cd(nt,o,_):new ud(nt,o,_));break}else{let dt=$.map[nt];dt===void 0&&(dt=new hd(nt),Da($,dt)),$=dt}}}class Ji{constructor(_,$){this.seq=[],this.map={};const j=_.getProgramParameter($,_.ACTIVE_UNIFORMS);for(let _e=0;_e<j;++_e){const et=_.getActiveUniform($,_e),tt=_.getUniformLocation($,et.name);fd(et,tt,this)}}setValue(_,$,j,_e){const et=this.map[$];et!==void 0&&et.setValue(_,j,_e)}setOptional(_,$,j){const _e=$[j];_e!==void 0&&this.setValue(_,j,_e)}static upload(_,$,j,_e){for(let et=0,tt=$.length;et!==tt;++et){const nt=$[et],it=j[nt.id];it.needsUpdate!==!1&&nt.setValue(_,it.value,_e)}}static seqWithValue(_,$){const j=[];for(let _e=0,et=_.length;_e!==et;++_e){const tt=_[_e];tt.id in $&&j.push(tt)}return j}}function Ua(o,_,$){const j=o.createShader(_);return o.shaderSource(j,$),o.compileShader(j),j}const dd=37297;let pd=0;function md(o,_){const $=o.split(`
`),j=[],_e=Math.max(_-6,0),et=Math.min(_+6,$.length);for(let tt=_e;tt<et;tt++){const nt=tt+1;j.push(`${nt===_?">":" "} ${nt}: ${$[tt]}`)}return j.join(`
`)}function _d(o){const _=je.getPrimaries(je.workingColorSpace),$=je.getPrimaries(o);let j;switch(_===$?j="":_===nr&&$===tr?j="LinearDisplayP3ToLinearSRGB":_===tr&&$===nr&&(j="LinearSRGBToLinearDisplayP3"),o){case dn:case cr:return[j,"LinearTransferOETF"];case Bt:case cs:return[j,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",o),[j,"LinearTransferOETF"]}}function Ia(o,_,$){const j=o.getShaderParameter(_,o.COMPILE_STATUS),_e=o.getShaderInfoLog(_).trim();if(j&&_e==="")return"";const et=/ERROR: 0:(\d+)/.exec(_e);if(et){const tt=parseInt(et[1]);return $.toUpperCase()+`

`+_e+`

`+md(o.getShaderSource(_),tt)}else return _e}function gd(o,_){const $=_d(_);return`vec4 ${o}( vec4 value ) { return ${$[0]}( ${$[1]}( value ) ); }`}function vd(o,_){let $;switch(_){case cl:$="Linear";break;case ul:$="Reinhard";break;case hl:$="OptimizedCineon";break;case fl:$="ACESFilmic";break;case pl:$="AgX";break;case ml:$="Neutral";break;case dl:$="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",_),$="Linear"}return"vec3 "+o+"( vec3 color ) { return "+$+"ToneMapping( color ); }"}function xd(o){return[o.extensionDerivatives||o.envMapCubeUVHeight||o.bumpMap||o.normalMapTangentSpace||o.clearcoatNormalMap||o.flatShading||o.alphaToCoverage||o.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(o.extensionFragDepth||o.logarithmicDepthBuffer)&&o.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",o.extensionDrawBuffers&&o.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(o.extensionShaderTextureLOD||o.envMap||o.transmission)&&o.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Jn).join(`
`)}function Md(o){return[o.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",o.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Jn).join(`
`)}function Sd(o){const _=[];for(const $ in o){const j=o[$];j!==!1&&_.push("#define "+$+" "+j)}return _.join(`
`)}function Ed(o,_){const $={},j=o.getProgramParameter(_,o.ACTIVE_ATTRIBUTES);for(let _e=0;_e<j;_e++){const et=o.getActiveAttrib(_,_e),tt=et.name;let nt=1;et.type===o.FLOAT_MAT2&&(nt=2),et.type===o.FLOAT_MAT3&&(nt=3),et.type===o.FLOAT_MAT4&&(nt=4),$[tt]={type:et.type,location:o.getAttribLocation(_,tt),locationSize:nt}}return $}function Jn(o){return o!==""}function Na(o,_){const $=_.numSpotLightShadows+_.numSpotLightMaps-_.numSpotLightShadowsWithMaps;return o.replace(/NUM_DIR_LIGHTS/g,_.numDirLights).replace(/NUM_SPOT_LIGHTS/g,_.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,_.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,$).replace(/NUM_RECT_AREA_LIGHTS/g,_.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,_.numPointLights).replace(/NUM_HEMI_LIGHTS/g,_.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,_.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,_.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,_.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,_.numPointLightShadows)}function Fa(o,_){return o.replace(/NUM_CLIPPING_PLANES/g,_.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,_.numClippingPlanes-_.numClipIntersection)}const yd=/^[ \t]*#include +<([\w\d./]+)>/gm;function as(o){return o.replace(yd,bd)}const Td=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function bd(o,_){let $=ze[_];if($===void 0){const j=Td.get(_);if(j!==void 0)$=ze[j],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',_,j);else throw new Error("Can not resolve #include <"+_+">")}return as($)}const Ad=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Oa(o){return o.replace(Ad,wd)}function wd(o,_,$,j){let _e="";for(let et=parseInt(_);et<parseInt($);et++)_e+=j.replace(/\[\s*i\s*\]/g,"[ "+et+" ]").replace(/UNROLLED_LOOP_INDEX/g,et);return _e}function Ba(o){let _=`precision ${o.precision} float;
	precision ${o.precision} int;
	precision ${o.precision} sampler2D;
	precision ${o.precision} samplerCube;
	`;return o.isWebGL2&&(_+=`precision ${o.precision} sampler3D;
		precision ${o.precision} sampler2DArray;
		precision ${o.precision} sampler2DShadow;
		precision ${o.precision} samplerCubeShadow;
		precision ${o.precision} sampler2DArrayShadow;
		precision ${o.precision} isampler2D;
		precision ${o.precision} isampler3D;
		precision ${o.precision} isamplerCube;
		precision ${o.precision} isampler2DArray;
		precision ${o.precision} usampler2D;
		precision ${o.precision} usampler3D;
		precision ${o.precision} usamplerCube;
		precision ${o.precision} usampler2DArray;
		`),o.precision==="highp"?_+=`
#define HIGH_PRECISION`:o.precision==="mediump"?_+=`
#define MEDIUM_PRECISION`:o.precision==="lowp"&&(_+=`
#define LOW_PRECISION`),_}function Rd(o){let _="SHADOWMAP_TYPE_BASIC";return o.shadowMapType===Qa?_="SHADOWMAP_TYPE_PCF":o.shadowMapType===Oo?_="SHADOWMAP_TYPE_PCF_SOFT":o.shadowMapType===qt&&(_="SHADOWMAP_TYPE_VSM"),_}function Cd(o){let _="ENVMAP_TYPE_CUBE";if(o.envMap)switch(o.envMapMode){case ii:case ri:_="ENVMAP_TYPE_CUBE";break;case lr:_="ENVMAP_TYPE_CUBE_UV";break}return _}function Pd(o){let _="ENVMAP_MODE_REFLECTION";if(o.envMap)switch(o.envMapMode){case ri:_="ENVMAP_MODE_REFRACTION";break}return _}function Ld(o){let _="ENVMAP_BLENDING_NONE";if(o.envMap)switch(o.combine){case eo:_="ENVMAP_BLENDING_MULTIPLY";break;case ol:_="ENVMAP_BLENDING_MIX";break;case ll:_="ENVMAP_BLENDING_ADD";break}return _}function Dd(o){const _=o.envMapCubeUVHeight;if(_===null)return null;const $=Math.log2(_)-2,j=1/_;return{texelWidth:1/(3*Math.max(Math.pow(2,$),7*16)),texelHeight:j,maxMip:$}}function Ud(o,_,$,j){const _e=o.getContext(),et=$.defines;let tt=$.vertexShader,nt=$.fragmentShader;const it=Rd($),lt=Cd($),dt=Pd($),bt=Ld($),Ht=Dd($),pr=$.isWebGL2?"":xd($),_n=Md($),ft=Sd(et),Ct=_e.createProgram();let mr,_r,mn=$.glslVersion?"#version "+$.glslVersion+`
`:"";$.isRawShaderMaterial?(mr=["#define SHADER_TYPE "+$.shaderType,"#define SHADER_NAME "+$.shaderName,ft].filter(Jn).join(`
`),mr.length>0&&(mr+=`
`),_r=[pr,"#define SHADER_TYPE "+$.shaderType,"#define SHADER_NAME "+$.shaderName,ft].filter(Jn).join(`
`),_r.length>0&&(_r+=`
`)):(mr=[Ba($),"#define SHADER_TYPE "+$.shaderType,"#define SHADER_NAME "+$.shaderName,ft,$.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",$.batching?"#define USE_BATCHING":"",$.instancing?"#define USE_INSTANCING":"",$.instancingColor?"#define USE_INSTANCING_COLOR":"",$.instancingMorph?"#define USE_INSTANCING_MORPH":"",$.useFog&&$.fog?"#define USE_FOG":"",$.useFog&&$.fogExp2?"#define FOG_EXP2":"",$.map?"#define USE_MAP":"",$.envMap?"#define USE_ENVMAP":"",$.envMap?"#define "+dt:"",$.lightMap?"#define USE_LIGHTMAP":"",$.aoMap?"#define USE_AOMAP":"",$.bumpMap?"#define USE_BUMPMAP":"",$.normalMap?"#define USE_NORMALMAP":"",$.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",$.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",$.displacementMap?"#define USE_DISPLACEMENTMAP":"",$.emissiveMap?"#define USE_EMISSIVEMAP":"",$.anisotropy?"#define USE_ANISOTROPY":"",$.anisotropyMap?"#define USE_ANISOTROPYMAP":"",$.clearcoatMap?"#define USE_CLEARCOATMAP":"",$.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",$.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",$.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",$.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",$.specularMap?"#define USE_SPECULARMAP":"",$.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",$.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",$.roughnessMap?"#define USE_ROUGHNESSMAP":"",$.metalnessMap?"#define USE_METALNESSMAP":"",$.alphaMap?"#define USE_ALPHAMAP":"",$.alphaHash?"#define USE_ALPHAHASH":"",$.transmission?"#define USE_TRANSMISSION":"",$.transmissionMap?"#define USE_TRANSMISSIONMAP":"",$.thicknessMap?"#define USE_THICKNESSMAP":"",$.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",$.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",$.mapUv?"#define MAP_UV "+$.mapUv:"",$.alphaMapUv?"#define ALPHAMAP_UV "+$.alphaMapUv:"",$.lightMapUv?"#define LIGHTMAP_UV "+$.lightMapUv:"",$.aoMapUv?"#define AOMAP_UV "+$.aoMapUv:"",$.emissiveMapUv?"#define EMISSIVEMAP_UV "+$.emissiveMapUv:"",$.bumpMapUv?"#define BUMPMAP_UV "+$.bumpMapUv:"",$.normalMapUv?"#define NORMALMAP_UV "+$.normalMapUv:"",$.displacementMapUv?"#define DISPLACEMENTMAP_UV "+$.displacementMapUv:"",$.metalnessMapUv?"#define METALNESSMAP_UV "+$.metalnessMapUv:"",$.roughnessMapUv?"#define ROUGHNESSMAP_UV "+$.roughnessMapUv:"",$.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+$.anisotropyMapUv:"",$.clearcoatMapUv?"#define CLEARCOATMAP_UV "+$.clearcoatMapUv:"",$.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+$.clearcoatNormalMapUv:"",$.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+$.clearcoatRoughnessMapUv:"",$.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+$.iridescenceMapUv:"",$.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+$.iridescenceThicknessMapUv:"",$.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+$.sheenColorMapUv:"",$.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+$.sheenRoughnessMapUv:"",$.specularMapUv?"#define SPECULARMAP_UV "+$.specularMapUv:"",$.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+$.specularColorMapUv:"",$.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+$.specularIntensityMapUv:"",$.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+$.transmissionMapUv:"",$.thicknessMapUv?"#define THICKNESSMAP_UV "+$.thicknessMapUv:"",$.vertexTangents&&$.flatShading===!1?"#define USE_TANGENT":"",$.vertexColors?"#define USE_COLOR":"",$.vertexAlphas?"#define USE_COLOR_ALPHA":"",$.vertexUv1s?"#define USE_UV1":"",$.vertexUv2s?"#define USE_UV2":"",$.vertexUv3s?"#define USE_UV3":"",$.pointsUvs?"#define USE_POINTS_UV":"",$.flatShading?"#define FLAT_SHADED":"",$.skinning?"#define USE_SKINNING":"",$.morphTargets?"#define USE_MORPHTARGETS":"",$.morphNormals&&$.flatShading===!1?"#define USE_MORPHNORMALS":"",$.morphColors&&$.isWebGL2?"#define USE_MORPHCOLORS":"",$.morphTargetsCount>0&&$.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",$.morphTargetsCount>0&&$.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+$.morphTextureStride:"",$.morphTargetsCount>0&&$.isWebGL2?"#define MORPHTARGETS_COUNT "+$.morphTargetsCount:"",$.doubleSided?"#define DOUBLE_SIDED":"",$.flipSided?"#define FLIP_SIDED":"",$.shadowMapEnabled?"#define USE_SHADOWMAP":"",$.shadowMapEnabled?"#define "+it:"",$.sizeAttenuation?"#define USE_SIZEATTENUATION":"",$.numLightProbes>0?"#define USE_LIGHT_PROBES":"",$.useLegacyLights?"#define LEGACY_LIGHTS":"",$.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",$.logarithmicDepthBuffer&&$.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Jn).join(`
`),_r=[pr,Ba($),"#define SHADER_TYPE "+$.shaderType,"#define SHADER_NAME "+$.shaderName,ft,$.useFog&&$.fog?"#define USE_FOG":"",$.useFog&&$.fogExp2?"#define FOG_EXP2":"",$.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",$.map?"#define USE_MAP":"",$.matcap?"#define USE_MATCAP":"",$.envMap?"#define USE_ENVMAP":"",$.envMap?"#define "+lt:"",$.envMap?"#define "+dt:"",$.envMap?"#define "+bt:"",Ht?"#define CUBEUV_TEXEL_WIDTH "+Ht.texelWidth:"",Ht?"#define CUBEUV_TEXEL_HEIGHT "+Ht.texelHeight:"",Ht?"#define CUBEUV_MAX_MIP "+Ht.maxMip+".0":"",$.lightMap?"#define USE_LIGHTMAP":"",$.aoMap?"#define USE_AOMAP":"",$.bumpMap?"#define USE_BUMPMAP":"",$.normalMap?"#define USE_NORMALMAP":"",$.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",$.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",$.emissiveMap?"#define USE_EMISSIVEMAP":"",$.anisotropy?"#define USE_ANISOTROPY":"",$.anisotropyMap?"#define USE_ANISOTROPYMAP":"",$.clearcoat?"#define USE_CLEARCOAT":"",$.clearcoatMap?"#define USE_CLEARCOATMAP":"",$.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",$.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",$.iridescence?"#define USE_IRIDESCENCE":"",$.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",$.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",$.specularMap?"#define USE_SPECULARMAP":"",$.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",$.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",$.roughnessMap?"#define USE_ROUGHNESSMAP":"",$.metalnessMap?"#define USE_METALNESSMAP":"",$.alphaMap?"#define USE_ALPHAMAP":"",$.alphaTest?"#define USE_ALPHATEST":"",$.alphaHash?"#define USE_ALPHAHASH":"",$.sheen?"#define USE_SHEEN":"",$.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",$.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",$.transmission?"#define USE_TRANSMISSION":"",$.transmissionMap?"#define USE_TRANSMISSIONMAP":"",$.thicknessMap?"#define USE_THICKNESSMAP":"",$.vertexTangents&&$.flatShading===!1?"#define USE_TANGENT":"",$.vertexColors||$.instancingColor?"#define USE_COLOR":"",$.vertexAlphas?"#define USE_COLOR_ALPHA":"",$.vertexUv1s?"#define USE_UV1":"",$.vertexUv2s?"#define USE_UV2":"",$.vertexUv3s?"#define USE_UV3":"",$.pointsUvs?"#define USE_POINTS_UV":"",$.gradientMap?"#define USE_GRADIENTMAP":"",$.flatShading?"#define FLAT_SHADED":"",$.doubleSided?"#define DOUBLE_SIDED":"",$.flipSided?"#define FLIP_SIDED":"",$.shadowMapEnabled?"#define USE_SHADOWMAP":"",$.shadowMapEnabled?"#define "+it:"",$.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",$.numLightProbes>0?"#define USE_LIGHT_PROBES":"",$.useLegacyLights?"#define LEGACY_LIGHTS":"",$.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",$.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",$.logarithmicDepthBuffer&&$.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",$.toneMapping!==cn?"#define TONE_MAPPING":"",$.toneMapping!==cn?ze.tonemapping_pars_fragment:"",$.toneMapping!==cn?vd("toneMapping",$.toneMapping):"",$.dithering?"#define DITHERING":"",$.opaque?"#define OPAQUE":"",ze.colorspace_pars_fragment,gd("linearToOutputTexel",$.outputColorSpace),$.useDepthPacking?"#define DEPTH_PACKING "+$.depthPacking:"",`
`].filter(Jn).join(`
`)),tt=as(tt),tt=Na(tt,$),tt=Fa(tt,$),nt=as(nt),nt=Na(nt,$),nt=Fa(nt,$),tt=Oa(tt),nt=Oa(nt),$.isWebGL2&&$.isRawShaderMaterial!==!0&&(mn=`#version 300 es
`,mr=[_n,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+mr,_r=["precision mediump sampler2DArray;","#define varying in",$.glslVersion===ea?"":"layout(location = 0) out highp vec4 pc_fragColor;",$.glslVersion===ea?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_r);const dr=mn+mr+tt,pn=mn+_r+nt,Do=Ua(_e,_e.VERTEX_SHADER,dr),Io=Ua(_e,_e.FRAGMENT_SHADER,pn);_e.attachShader(Ct,Do),_e.attachShader(Ct,Io),$.index0AttributeName!==void 0?_e.bindAttribLocation(Ct,0,$.index0AttributeName):$.morphTargets===!0&&_e.bindAttribLocation(Ct,0,"position"),_e.linkProgram(Ct);function Lo(yp){if(o.debug.checkShaderErrors){const xs=_e.getProgramInfoLog(Ct).trim(),vs=_e.getShaderInfoLog(Do).trim(),Sp=_e.getShaderInfoLog(Io).trim();let wp=!0,bp=!0;if(_e.getProgramParameter(Ct,_e.LINK_STATUS)===!1)if(wp=!1,typeof o.debug.onShaderError=="function")o.debug.onShaderError(_e,Ct,Do,Io);else{const Ep=Ia(_e,Do,"vertex"),Cp=Ia(_e,Io,"fragment");console.error("THREE.WebGLProgram: Shader Error "+_e.getError()+" - VALIDATE_STATUS "+_e.getProgramParameter(Ct,_e.VALIDATE_STATUS)+`

Material Name: `+yp.name+`
Material Type: `+yp.type+`

Program Info Log: `+xs+`
`+Ep+`
`+Cp)}else xs!==""?console.warn("THREE.WebGLProgram: Program Info Log:",xs):(vs===""||Sp==="")&&(bp=!1);bp&&(yp.diagnostics={runnable:wp,programLog:xs,vertexShader:{log:vs,prefix:mr},fragmentShader:{log:Sp,prefix:_r}})}_e.deleteShader(Do),_e.deleteShader(Io),ms=new Ji(_e,Ct),Uo=Ed(_e,Ct)}let ms;this.getUniforms=function(){return ms===void 0&&Lo(this),ms};let Uo;this.getAttributes=function(){return Uo===void 0&&Lo(this),Uo};let _s=$.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return _s===!1&&(_s=_e.getProgramParameter(Ct,dd)),_s},this.destroy=function(){j.releaseStatesOfProgram(this),_e.deleteProgram(Ct),this.program=void 0},this.type=$.shaderType,this.name=$.shaderName,this.id=pd++,this.cacheKey=_,this.usedTimes=1,this.program=Ct,this.vertexShader=Do,this.fragmentShader=Io,this}let Id=0;class Nd{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(_){const $=_.vertexShader,j=_.fragmentShader,_e=this._getShaderStage($),et=this._getShaderStage(j),tt=this._getShaderCacheForMaterial(_);return tt.has(_e)===!1&&(tt.add(_e),_e.usedTimes++),tt.has(et)===!1&&(tt.add(et),et.usedTimes++),this}remove(_){const $=this.materialCache.get(_);for(const j of $)j.usedTimes--,j.usedTimes===0&&this.shaderCache.delete(j.code);return this.materialCache.delete(_),this}getVertexShaderID(_){return this._getShaderStage(_.vertexShader).id}getFragmentShaderID(_){return this._getShaderStage(_.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(_){const $=this.materialCache;let j=$.get(_);return j===void 0&&(j=new Set,$.set(_,j)),j}_getShaderStage(_){const $=this.shaderCache;let j=$.get(_);return j===void 0&&(j=new Fd(_),$.set(_,j)),j}}class Fd{constructor(_){this.id=Id++,this.code=_,this.usedTimes=0}}function Od(o,_,$,j,_e,et,tt){const nt=new mo,it=new Nd,lt=new Set,dt=[],bt=_e.isWebGL2,Ht=_e.logarithmicDepthBuffer,pr=_e.vertexTextures;let _n=_e.precision;const ft={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function Ct(Uo){return lt.add(Uo),Uo===0?"uv":`uv${Uo}`}function mr(Uo,_s,yp,xs,vs){const Sp=xs.fog,wp=vs.geometry,bp=Uo.isMeshStandardMaterial?xs.environment:null,Ep=(Uo.isMeshStandardMaterial?$:_).get(Uo.envMap||bp),Cp=Ep&&Ep.mapping===lr?Ep.image.height:null,Ap=ft[Uo.type];Uo.precision!==null&&(_n=_e.getMaxPrecision(Uo.precision),_n!==Uo.precision&&console.warn("THREE.WebGLProgram.getParameters:",Uo.precision,"not supported, using",_n,"instead."));const Mp=wp.morphAttributes.position||wp.morphAttributes.normal||wp.morphAttributes.color,Pp=Mp!==void 0?Mp.length:0;let Ip=0;wp.morphAttributes.position!==void 0&&(Ip=1),wp.morphAttributes.normal!==void 0&&(Ip=2),wp.morphAttributes.color!==void 0&&(Ip=3);let Op,Wp,Yp,Zp;if(Ap){const sm=zt[Ap];Op=sm.vertexShader,Wp=sm.fragmentShader}else Op=Uo.vertexShader,Wp=Uo.fragmentShader,it.update(Uo),Yp=it.getVertexShaderID(Uo),Zp=it.getFragmentShaderID(Uo);const Qp=o.getRenderTarget(),Gp=vs.isInstancedMesh===!0,rm=vs.isBatchedMesh===!0,Jp=!!Uo.map,Up=!!Uo.matcap,im=!!Ep,em=!!Uo.aoMap,gm=!!Uo.lightMap,bm=!!Uo.bumpMap,ym=!!Uo.normalMap,am=!!Uo.displacementMap,fm=!!Uo.emissiveMap,vm=!!Uo.metalnessMap,jp=!!Uo.roughnessMap,Rp=Uo.anisotropy>0,um=Uo.clearcoat>0,_m=Uo.iridescence>0,Cm=Uo.sheen>0,Sm=Uo.transmission>0,zp=Rp&&!!Uo.anisotropyMap,Dp=um&&!!Uo.clearcoatMap,kp=um&&!!Uo.clearcoatNormalMap,nm=um&&!!Uo.clearcoatRoughnessMap,lm=_m&&!!Uo.iridescenceMap,hm=_m&&!!Uo.iridescenceThicknessMap,Em=Cm&&!!Uo.sheenColorMap,Lp=Cm&&!!Uo.sheenRoughnessMap,cm=!!Uo.specularMap,mm=!!Uo.specularColorMap,Vp=!!Uo.specularIntensityMap,qp=Sm&&!!Uo.transmissionMap,xm=Sm&&!!Uo.thicknessMap,Np=!!Uo.gradientMap,Hp=!!Uo.alphaMap,Mm=Uo.alphaTest>0,Tp=!!Uo.alphaHash,dm=!!Uo.extensions;let om=cn;Uo.toneMapped&&(Qp===null||Qp.isXRRenderTarget===!0)&&(om=o.toneMapping);const Bp={isWebGL2:bt,shaderID:Ap,shaderType:Uo.type,shaderName:Uo.name,vertexShader:Op,fragmentShader:Wp,defines:Uo.defines,customVertexShaderID:Yp,customFragmentShaderID:Zp,isRawShaderMaterial:Uo.isRawShaderMaterial===!0,glslVersion:Uo.glslVersion,precision:_n,batching:rm,instancing:Gp,instancingColor:Gp&&vs.instanceColor!==null,instancingMorph:Gp&&vs.morphTexture!==null,supportsVertexTextures:pr,outputColorSpace:Qp===null?o.outputColorSpace:Qp.isXRRenderTarget===!0?Qp.texture.colorSpace:dn,alphaToCoverage:!!Uo.alphaToCoverage,map:Jp,matcap:Up,envMap:im,envMapMode:im&&Ep.mapping,envMapCubeUVHeight:Cp,aoMap:em,lightMap:gm,bumpMap:bm,normalMap:ym,displacementMap:pr&&am,emissiveMap:fm,normalMapObjectSpace:ym&&Uo.normalMapType===wl,normalMapTangentSpace:ym&&Uo.normalMapType===Al,metalnessMap:vm,roughnessMap:jp,anisotropy:Rp,anisotropyMap:zp,clearcoat:um,clearcoatMap:Dp,clearcoatNormalMap:kp,clearcoatRoughnessMap:nm,iridescence:_m,iridescenceMap:lm,iridescenceThicknessMap:hm,sheen:Cm,sheenColorMap:Em,sheenRoughnessMap:Lp,specularMap:cm,specularColorMap:mm,specularIntensityMap:Vp,transmission:Sm,transmissionMap:qp,thicknessMap:xm,gradientMap:Np,opaque:Uo.transparent===!1&&Uo.blending===Qn&&Uo.alphaToCoverage===!1,alphaMap:Hp,alphaTest:Mm,alphaHash:Tp,combine:Uo.combine,mapUv:Jp&&Ct(Uo.map.channel),aoMapUv:em&&Ct(Uo.aoMap.channel),lightMapUv:gm&&Ct(Uo.lightMap.channel),bumpMapUv:bm&&Ct(Uo.bumpMap.channel),normalMapUv:ym&&Ct(Uo.normalMap.channel),displacementMapUv:am&&Ct(Uo.displacementMap.channel),emissiveMapUv:fm&&Ct(Uo.emissiveMap.channel),metalnessMapUv:vm&&Ct(Uo.metalnessMap.channel),roughnessMapUv:jp&&Ct(Uo.roughnessMap.channel),anisotropyMapUv:zp&&Ct(Uo.anisotropyMap.channel),clearcoatMapUv:Dp&&Ct(Uo.clearcoatMap.channel),clearcoatNormalMapUv:kp&&Ct(Uo.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:nm&&Ct(Uo.clearcoatRoughnessMap.channel),iridescenceMapUv:lm&&Ct(Uo.iridescenceMap.channel),iridescenceThicknessMapUv:hm&&Ct(Uo.iridescenceThicknessMap.channel),sheenColorMapUv:Em&&Ct(Uo.sheenColorMap.channel),sheenRoughnessMapUv:Lp&&Ct(Uo.sheenRoughnessMap.channel),specularMapUv:cm&&Ct(Uo.specularMap.channel),specularColorMapUv:mm&&Ct(Uo.specularColorMap.channel),specularIntensityMapUv:Vp&&Ct(Uo.specularIntensityMap.channel),transmissionMapUv:qp&&Ct(Uo.transmissionMap.channel),thicknessMapUv:xm&&Ct(Uo.thicknessMap.channel),alphaMapUv:Hp&&Ct(Uo.alphaMap.channel),vertexTangents:!!wp.attributes.tangent&&(ym||Rp),vertexColors:Uo.vertexColors,vertexAlphas:Uo.vertexColors===!0&&!!wp.attributes.color&&wp.attributes.color.itemSize===4,pointsUvs:vs.isPoints===!0&&!!wp.attributes.uv&&(Jp||Hp),fog:!!Sp,useFog:Uo.fog===!0,fogExp2:!!Sp&&Sp.isFogExp2,flatShading:Uo.flatShading===!0,sizeAttenuation:Uo.sizeAttenuation===!0,logarithmicDepthBuffer:Ht,skinning:vs.isSkinnedMesh===!0,morphTargets:wp.morphAttributes.position!==void 0,morphNormals:wp.morphAttributes.normal!==void 0,morphColors:wp.morphAttributes.color!==void 0,morphTargetsCount:Pp,morphTextureStride:Ip,numDirLights:_s.directional.length,numPointLights:_s.point.length,numSpotLights:_s.spot.length,numSpotLightMaps:_s.spotLightMap.length,numRectAreaLights:_s.rectArea.length,numHemiLights:_s.hemi.length,numDirLightShadows:_s.directionalShadowMap.length,numPointLightShadows:_s.pointShadowMap.length,numSpotLightShadows:_s.spotShadowMap.length,numSpotLightShadowsWithMaps:_s.numSpotLightShadowsWithMaps,numLightProbes:_s.numLightProbes,numClippingPlanes:tt.numPlanes,numClipIntersection:tt.numIntersection,dithering:Uo.dithering,shadowMapEnabled:o.shadowMap.enabled&&yp.length>0,shadowMapType:o.shadowMap.type,toneMapping:om,useLegacyLights:o._useLegacyLights,decodeVideoTexture:Jp&&Uo.map.isVideoTexture===!0&&je.getTransfer(Uo.map.colorSpace)===$e,premultipliedAlpha:Uo.premultipliedAlpha,doubleSided:Uo.side===jt,flipSided:Uo.side===Et,useDepthPacking:Uo.depthPacking>=0,depthPacking:Uo.depthPacking||0,index0AttributeName:Uo.index0AttributeName,extensionDerivatives:dm&&Uo.extensions.derivatives===!0,extensionFragDepth:dm&&Uo.extensions.fragDepth===!0,extensionDrawBuffers:dm&&Uo.extensions.drawBuffers===!0,extensionShaderTextureLOD:dm&&Uo.extensions.shaderTextureLOD===!0,extensionClipCullDistance:dm&&Uo.extensions.clipCullDistance===!0&&j.has("WEBGL_clip_cull_distance"),extensionMultiDraw:dm&&Uo.extensions.multiDraw===!0&&j.has("WEBGL_multi_draw"),rendererExtensionFragDepth:bt||j.has("EXT_frag_depth"),rendererExtensionDrawBuffers:bt||j.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:bt||j.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:j.has("KHR_parallel_shader_compile"),customProgramCacheKey:Uo.customProgramCacheKey()};return Bp.vertexUv1s=lt.has(1),Bp.vertexUv2s=lt.has(2),Bp.vertexUv3s=lt.has(3),lt.clear(),Bp}function _r(Uo){const _s=[];if(Uo.shaderID?_s.push(Uo.shaderID):(_s.push(Uo.customVertexShaderID),_s.push(Uo.customFragmentShaderID)),Uo.defines!==void 0)for(const yp in Uo.defines)_s.push(yp),_s.push(Uo.defines[yp]);return Uo.isRawShaderMaterial===!1&&(mn(_s,Uo),dr(_s,Uo),_s.push(o.outputColorSpace)),_s.push(Uo.customProgramCacheKey),_s.join()}function mn(Uo,_s){Uo.push(_s.precision),Uo.push(_s.outputColorSpace),Uo.push(_s.envMapMode),Uo.push(_s.envMapCubeUVHeight),Uo.push(_s.mapUv),Uo.push(_s.alphaMapUv),Uo.push(_s.lightMapUv),Uo.push(_s.aoMapUv),Uo.push(_s.bumpMapUv),Uo.push(_s.normalMapUv),Uo.push(_s.displacementMapUv),Uo.push(_s.emissiveMapUv),Uo.push(_s.metalnessMapUv),Uo.push(_s.roughnessMapUv),Uo.push(_s.anisotropyMapUv),Uo.push(_s.clearcoatMapUv),Uo.push(_s.clearcoatNormalMapUv),Uo.push(_s.clearcoatRoughnessMapUv),Uo.push(_s.iridescenceMapUv),Uo.push(_s.iridescenceThicknessMapUv),Uo.push(_s.sheenColorMapUv),Uo.push(_s.sheenRoughnessMapUv),Uo.push(_s.specularMapUv),Uo.push(_s.specularColorMapUv),Uo.push(_s.specularIntensityMapUv),Uo.push(_s.transmissionMapUv),Uo.push(_s.thicknessMapUv),Uo.push(_s.combine),Uo.push(_s.fogExp2),Uo.push(_s.sizeAttenuation),Uo.push(_s.morphTargetsCount),Uo.push(_s.morphAttributeCount),Uo.push(_s.numDirLights),Uo.push(_s.numPointLights),Uo.push(_s.numSpotLights),Uo.push(_s.numSpotLightMaps),Uo.push(_s.numHemiLights),Uo.push(_s.numRectAreaLights),Uo.push(_s.numDirLightShadows),Uo.push(_s.numPointLightShadows),Uo.push(_s.numSpotLightShadows),Uo.push(_s.numSpotLightShadowsWithMaps),Uo.push(_s.numLightProbes),Uo.push(_s.shadowMapType),Uo.push(_s.toneMapping),Uo.push(_s.numClippingPlanes),Uo.push(_s.numClipIntersection),Uo.push(_s.depthPacking)}function dr(Uo,_s){nt.disableAll(),_s.isWebGL2&&nt.enable(0),_s.supportsVertexTextures&&nt.enable(1),_s.instancing&&nt.enable(2),_s.instancingColor&&nt.enable(3),_s.instancingMorph&&nt.enable(4),_s.matcap&&nt.enable(5),_s.envMap&&nt.enable(6),_s.normalMapObjectSpace&&nt.enable(7),_s.normalMapTangentSpace&&nt.enable(8),_s.clearcoat&&nt.enable(9),_s.iridescence&&nt.enable(10),_s.alphaTest&&nt.enable(11),_s.vertexColors&&nt.enable(12),_s.vertexAlphas&&nt.enable(13),_s.vertexUv1s&&nt.enable(14),_s.vertexUv2s&&nt.enable(15),_s.vertexUv3s&&nt.enable(16),_s.vertexTangents&&nt.enable(17),_s.anisotropy&&nt.enable(18),_s.alphaHash&&nt.enable(19),_s.batching&&nt.enable(20),Uo.push(nt.mask),nt.disableAll(),_s.fog&&nt.enable(0),_s.useFog&&nt.enable(1),_s.flatShading&&nt.enable(2),_s.logarithmicDepthBuffer&&nt.enable(3),_s.skinning&&nt.enable(4),_s.morphTargets&&nt.enable(5),_s.morphNormals&&nt.enable(6),_s.morphColors&&nt.enable(7),_s.premultipliedAlpha&&nt.enable(8),_s.shadowMapEnabled&&nt.enable(9),_s.useLegacyLights&&nt.enable(10),_s.doubleSided&&nt.enable(11),_s.flipSided&&nt.enable(12),_s.useDepthPacking&&nt.enable(13),_s.dithering&&nt.enable(14),_s.transmission&&nt.enable(15),_s.sheen&&nt.enable(16),_s.opaque&&nt.enable(17),_s.pointsUvs&&nt.enable(18),_s.decodeVideoTexture&&nt.enable(19),_s.alphaToCoverage&&nt.enable(20),Uo.push(nt.mask)}function pn(Uo){const _s=ft[Uo.type];let yp;if(_s){const xs=zt[_s];yp=mc.clone(xs.uniforms)}else yp=Uo.uniforms;return yp}function Do(Uo,_s){let yp;for(let xs=0,vs=dt.length;xs<vs;xs++){const Sp=dt[xs];if(Sp.cacheKey===_s){yp=Sp,++yp.usedTimes;break}}return yp===void 0&&(yp=new Ud(o,_s,Uo,et),dt.push(yp)),yp}function Io(Uo){if(--Uo.usedTimes===0){const _s=dt.indexOf(Uo);dt[_s]=dt[dt.length-1],dt.pop(),Uo.destroy()}}function Lo(Uo){it.remove(Uo)}function ms(){it.dispose()}return{getParameters:mr,getProgramCacheKey:_r,getUniforms:pn,acquireProgram:Do,releaseProgram:Io,releaseShaderCache:Lo,programs:dt,dispose:ms}}function Bd(){let o=new WeakMap;function _(et){let tt=o.get(et);return tt===void 0&&(tt={},o.set(et,tt)),tt}function $(et){o.delete(et)}function j(et,tt,nt){o.get(et)[tt]=nt}function _e(){o=new WeakMap}return{get:_,remove:$,update:j,dispose:_e}}function zd(o,_){return o.groupOrder!==_.groupOrder?o.groupOrder-_.groupOrder:o.renderOrder!==_.renderOrder?o.renderOrder-_.renderOrder:o.material.id!==_.material.id?o.material.id-_.material.id:o.z!==_.z?o.z-_.z:o.id-_.id}function za(o,_){return o.groupOrder!==_.groupOrder?o.groupOrder-_.groupOrder:o.renderOrder!==_.renderOrder?o.renderOrder-_.renderOrder:o.z!==_.z?_.z-o.z:o.id-_.id}function Ga(){const o=[];let _=0;const $=[],j=[],_e=[];function et(){_=0,$.length=0,j.length=0,_e.length=0}function tt(bt,Ht,pr,_n,ft,Ct){let mr=o[_];return mr===void 0?(mr={id:bt.id,object:bt,geometry:Ht,material:pr,groupOrder:_n,renderOrder:bt.renderOrder,z:ft,group:Ct},o[_]=mr):(mr.id=bt.id,mr.object=bt,mr.geometry=Ht,mr.material=pr,mr.groupOrder=_n,mr.renderOrder=bt.renderOrder,mr.z=ft,mr.group=Ct),_++,mr}function nt(bt,Ht,pr,_n,ft,Ct){const mr=tt(bt,Ht,pr,_n,ft,Ct);pr.transmission>0?j.push(mr):pr.transparent===!0?_e.push(mr):$.push(mr)}function it(bt,Ht,pr,_n,ft,Ct){const mr=tt(bt,Ht,pr,_n,ft,Ct);pr.transmission>0?j.unshift(mr):pr.transparent===!0?_e.unshift(mr):$.unshift(mr)}function lt(bt,Ht){$.length>1&&$.sort(bt||zd),j.length>1&&j.sort(Ht||za),_e.length>1&&_e.sort(Ht||za)}function dt(){for(let bt=_,Ht=o.length;bt<Ht;bt++){const pr=o[bt];if(pr.id===null)break;pr.id=null,pr.object=null,pr.geometry=null,pr.material=null,pr.group=null}}return{opaque:$,transmissive:j,transparent:_e,init:et,push:nt,unshift:it,finish:dt,sort:lt}}function Gd(){let o=new WeakMap;function _(j,_e){const et=o.get(j);let tt;return et===void 0?(tt=new Ga,o.set(j,[tt])):_e>=et.length?(tt=new Ga,et.push(tt)):tt=et[_e],tt}function $(){o=new WeakMap}return{get:_,dispose:$}}function Hd(){const o={};return{get:function(_){if(o[_.id]!==void 0)return o[_.id];let $;switch(_.type){case"DirectionalLight":$={direction:new I,color:new qe};break;case"SpotLight":$={position:new I,direction:new I,color:new qe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":$={position:new I,color:new qe,distance:0,decay:0};break;case"HemisphereLight":$={direction:new I,skyColor:new qe,groundColor:new qe};break;case"RectAreaLight":$={color:new qe,position:new I,halfWidth:new I,halfHeight:new I};break}return o[_.id]=$,$}}}function Vd(){const o={};return{get:function(_){if(o[_.id]!==void 0)return o[_.id];let $;switch(_.type){case"DirectionalLight":$={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie};break;case"SpotLight":$={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie};break;case"PointLight":$={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie,shadowCameraNear:1,shadowCameraFar:1e3};break}return o[_.id]=$,$}}}let kd=0;function Wd(o,_){return(_.castShadow?2:0)-(o.castShadow?2:0)+(_.map?1:0)-(o.map?1:0)}function Xd(o,_){const $=new Hd,j=Vd(),_e={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let dt=0;dt<9;dt++)_e.probe.push(new I);const et=new I,tt=new st,nt=new st;function it(dt,bt){let Ht=0,pr=0,_n=0;for(let yp=0;yp<9;yp++)_e.probe[yp].set(0,0,0);let ft=0,Ct=0,mr=0,_r=0,mn=0,dr=0,pn=0,Do=0,Io=0,Lo=0,ms=0;dt.sort(Wd);const Uo=bt===!0?Math.PI:1;for(let yp=0,xs=dt.length;yp<xs;yp++){const vs=dt[yp],Sp=vs.color,wp=vs.intensity,bp=vs.distance,Ep=vs.shadow&&vs.shadow.map?vs.shadow.map.texture:null;if(vs.isAmbientLight)Ht+=Sp.r*wp*Uo,pr+=Sp.g*wp*Uo,_n+=Sp.b*wp*Uo;else if(vs.isLightProbe){for(let Cp=0;Cp<9;Cp++)_e.probe[Cp].addScaledVector(vs.sh.coefficients[Cp],wp);ms++}else if(vs.isDirectionalLight){const Cp=$.get(vs);if(Cp.color.copy(vs.color).multiplyScalar(vs.intensity*Uo),vs.castShadow){const Ap=vs.shadow,Mp=j.get(vs);Mp.shadowBias=Ap.bias,Mp.shadowNormalBias=Ap.normalBias,Mp.shadowRadius=Ap.radius,Mp.shadowMapSize=Ap.mapSize,_e.directionalShadow[ft]=Mp,_e.directionalShadowMap[ft]=Ep,_e.directionalShadowMatrix[ft]=vs.shadow.matrix,dr++}_e.directional[ft]=Cp,ft++}else if(vs.isSpotLight){const Cp=$.get(vs);Cp.position.setFromMatrixPosition(vs.matrixWorld),Cp.color.copy(Sp).multiplyScalar(wp*Uo),Cp.distance=bp,Cp.coneCos=Math.cos(vs.angle),Cp.penumbraCos=Math.cos(vs.angle*(1-vs.penumbra)),Cp.decay=vs.decay,_e.spot[mr]=Cp;const Ap=vs.shadow;if(vs.map&&(_e.spotLightMap[Io]=vs.map,Io++,Ap.updateMatrices(vs),vs.castShadow&&Lo++),_e.spotLightMatrix[mr]=Ap.matrix,vs.castShadow){const Mp=j.get(vs);Mp.shadowBias=Ap.bias,Mp.shadowNormalBias=Ap.normalBias,Mp.shadowRadius=Ap.radius,Mp.shadowMapSize=Ap.mapSize,_e.spotShadow[mr]=Mp,_e.spotShadowMap[mr]=Ep,Do++}mr++}else if(vs.isRectAreaLight){const Cp=$.get(vs);Cp.color.copy(Sp).multiplyScalar(wp),Cp.halfWidth.set(vs.width*.5,0,0),Cp.halfHeight.set(0,vs.height*.5,0),_e.rectArea[_r]=Cp,_r++}else if(vs.isPointLight){const Cp=$.get(vs);if(Cp.color.copy(vs.color).multiplyScalar(vs.intensity*Uo),Cp.distance=vs.distance,Cp.decay=vs.decay,vs.castShadow){const Ap=vs.shadow,Mp=j.get(vs);Mp.shadowBias=Ap.bias,Mp.shadowNormalBias=Ap.normalBias,Mp.shadowRadius=Ap.radius,Mp.shadowMapSize=Ap.mapSize,Mp.shadowCameraNear=Ap.camera.near,Mp.shadowCameraFar=Ap.camera.far,_e.pointShadow[Ct]=Mp,_e.pointShadowMap[Ct]=Ep,_e.pointShadowMatrix[Ct]=vs.shadow.matrix,pn++}_e.point[Ct]=Cp,Ct++}else if(vs.isHemisphereLight){const Cp=$.get(vs);Cp.skyColor.copy(vs.color).multiplyScalar(wp*Uo),Cp.groundColor.copy(vs.groundColor).multiplyScalar(wp*Uo),_e.hemi[mn]=Cp,mn++}}_r>0&&(_.isWebGL2?o.has("OES_texture_float_linear")===!0?(_e.rectAreaLTC1=oe.LTC_FLOAT_1,_e.rectAreaLTC2=oe.LTC_FLOAT_2):(_e.rectAreaLTC1=oe.LTC_HALF_1,_e.rectAreaLTC2=oe.LTC_HALF_2):o.has("OES_texture_float_linear")===!0?(_e.rectAreaLTC1=oe.LTC_FLOAT_1,_e.rectAreaLTC2=oe.LTC_FLOAT_2):o.has("OES_texture_half_float_linear")===!0?(_e.rectAreaLTC1=oe.LTC_HALF_1,_e.rectAreaLTC2=oe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),_e.ambient[0]=Ht,_e.ambient[1]=pr,_e.ambient[2]=_n;const _s=_e.hash;(_s.directionalLength!==ft||_s.pointLength!==Ct||_s.spotLength!==mr||_s.rectAreaLength!==_r||_s.hemiLength!==mn||_s.numDirectionalShadows!==dr||_s.numPointShadows!==pn||_s.numSpotShadows!==Do||_s.numSpotMaps!==Io||_s.numLightProbes!==ms)&&(_e.directional.length=ft,_e.spot.length=mr,_e.rectArea.length=_r,_e.point.length=Ct,_e.hemi.length=mn,_e.directionalShadow.length=dr,_e.directionalShadowMap.length=dr,_e.pointShadow.length=pn,_e.pointShadowMap.length=pn,_e.spotShadow.length=Do,_e.spotShadowMap.length=Do,_e.directionalShadowMatrix.length=dr,_e.pointShadowMatrix.length=pn,_e.spotLightMatrix.length=Do+Io-Lo,_e.spotLightMap.length=Io,_e.numSpotLightShadowsWithMaps=Lo,_e.numLightProbes=ms,_s.directionalLength=ft,_s.pointLength=Ct,_s.spotLength=mr,_s.rectAreaLength=_r,_s.hemiLength=mn,_s.numDirectionalShadows=dr,_s.numPointShadows=pn,_s.numSpotShadows=Do,_s.numSpotMaps=Io,_s.numLightProbes=ms,_e.version=kd++)}function lt(dt,bt){let Ht=0,pr=0,_n=0,ft=0,Ct=0;const mr=bt.matrixWorldInverse;for(let _r=0,mn=dt.length;_r<mn;_r++){const dr=dt[_r];if(dr.isDirectionalLight){const pn=_e.directional[Ht];pn.direction.setFromMatrixPosition(dr.matrixWorld),et.setFromMatrixPosition(dr.target.matrixWorld),pn.direction.sub(et),pn.direction.transformDirection(mr),Ht++}else if(dr.isSpotLight){const pn=_e.spot[_n];pn.position.setFromMatrixPosition(dr.matrixWorld),pn.position.applyMatrix4(mr),pn.direction.setFromMatrixPosition(dr.matrixWorld),et.setFromMatrixPosition(dr.target.matrixWorld),pn.direction.sub(et),pn.direction.transformDirection(mr),_n++}else if(dr.isRectAreaLight){const pn=_e.rectArea[ft];pn.position.setFromMatrixPosition(dr.matrixWorld),pn.position.applyMatrix4(mr),nt.identity(),tt.copy(dr.matrixWorld),tt.premultiply(mr),nt.extractRotation(tt),pn.halfWidth.set(dr.width*.5,0,0),pn.halfHeight.set(0,dr.height*.5,0),pn.halfWidth.applyMatrix4(nt),pn.halfHeight.applyMatrix4(nt),ft++}else if(dr.isPointLight){const pn=_e.point[pr];pn.position.setFromMatrixPosition(dr.matrixWorld),pn.position.applyMatrix4(mr),pr++}else if(dr.isHemisphereLight){const pn=_e.hemi[Ct];pn.direction.setFromMatrixPosition(dr.matrixWorld),pn.direction.transformDirection(mr),Ct++}}}return{setup:it,setupView:lt,state:_e}}function Ha(o,_){const $=new Xd(o,_),j=[],_e=[];function et(){j.length=0,_e.length=0}function tt(dt){j.push(dt)}function nt(dt){_e.push(dt)}function it(dt){$.setup(j,dt)}function lt(dt){$.setupView(j,dt)}return{init:et,state:{lightsArray:j,shadowsArray:_e,lights:$},setupLights:it,setupLightsView:lt,pushLight:tt,pushShadow:nt}}function Yd(o,_){let $=new WeakMap;function j(et,tt=0){const nt=$.get(et);let it;return nt===void 0?(it=new Ha(o,_),$.set(et,[it])):tt>=nt.length?(it=new Ha(o,_),nt.push(it)):it=nt[tt],it}function _e(){$=new WeakMap}return{get:j,dispose:_e}}class qd extends xi{constructor(_){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Tl,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(_)}copy(_){return super.copy(_),this.depthPacking=_.depthPacking,this.map=_.map,this.alphaMap=_.alphaMap,this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this}}class jd extends xi{constructor(_){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(_)}copy(_){return super.copy(_),this.map=_.map,this.alphaMap=_.alphaMap,this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this}}const Kd=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Zd=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function $d(o,_,$){let j=new Eo;const _e=new Ie,et=new Ie,tt=new ht,nt=new qd({depthPacking:bl}),it=new jd,lt={},dt=$.maxTextureSize,bt={[hn]:Et,[Et]:hn,[jt]:jt},Ht=new fn({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ie},radius:{value:4}},vertexShader:Kd,fragmentShader:Zd}),pr=Ht.clone();pr.defines.HORIZONTAL_PASS=1;const _n=new Tt;_n.setAttribute("position",new Gt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const ft=new Rt(_n,Ht),Ct=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Qa;let mr=this.type;this.render=function(Do,Io,Lo){if(Ct.enabled===!1||Ct.autoUpdate===!1&&Ct.needsUpdate===!1||Do.length===0)return;const ms=o.getRenderTarget(),Uo=o.getActiveCubeFace(),_s=o.getActiveMipmapLevel(),yp=o.state;yp.setBlending(ln$1),yp.buffers.color.setClear(1,1,1,1),yp.buffers.depth.setTest(!0),yp.setScissorTest(!1);const xs=mr!==qt&&this.type===qt,vs=mr===qt&&this.type!==qt;for(let Sp=0,wp=Do.length;Sp<wp;Sp++){const bp=Do[Sp],Ep=bp.shadow;if(Ep===void 0){console.warn("THREE.WebGLShadowMap:",bp,"has no shadow.");continue}if(Ep.autoUpdate===!1&&Ep.needsUpdate===!1)continue;_e.copy(Ep.mapSize);const Cp=Ep.getFrameExtents();if(_e.multiply(Cp),et.copy(Ep.mapSize),(_e.x>dt||_e.y>dt)&&(_e.x>dt&&(et.x=Math.floor(dt/Cp.x),_e.x=et.x*Cp.x,Ep.mapSize.x=et.x),_e.y>dt&&(et.y=Math.floor(dt/Cp.y),_e.y=et.y*Cp.y,Ep.mapSize.y=et.y)),Ep.map===null||xs===!0||vs===!0){const Mp=this.type!==qt?{minFilter:xt,magFilter:xt}:{};Ep.map!==null&&Ep.map.dispose(),Ep.map=new Cn(_e.x,_e.y,Mp),Ep.map.texture.name=bp.name+".shadowMap",Ep.camera.updateProjectionMatrix()}o.setRenderTarget(Ep.map),o.clear();const Ap=Ep.getViewportCount();for(let Mp=0;Mp<Ap;Mp++){const Pp=Ep.getViewport(Mp);tt.set(et.x*Pp.x,et.y*Pp.y,et.x*Pp.z,et.y*Pp.w),yp.viewport(tt),Ep.updateMatrices(bp,Mp),j=Ep.getFrustum(),dr(Io,Lo,Ep.camera,bp,this.type)}Ep.isPointLightShadow!==!0&&this.type===qt&&_r(Ep,Lo),Ep.needsUpdate=!1}mr=this.type,Ct.needsUpdate=!1,o.setRenderTarget(ms,Uo,_s)};function _r(Do,Io){const Lo=_.update(ft);Ht.defines.VSM_SAMPLES!==Do.blurSamples&&(Ht.defines.VSM_SAMPLES=Do.blurSamples,pr.defines.VSM_SAMPLES=Do.blurSamples,Ht.needsUpdate=!0,pr.needsUpdate=!0),Do.mapPass===null&&(Do.mapPass=new Cn(_e.x,_e.y)),Ht.uniforms.shadow_pass.value=Do.map.texture,Ht.uniforms.resolution.value=Do.mapSize,Ht.uniforms.radius.value=Do.radius,o.setRenderTarget(Do.mapPass),o.clear(),o.renderBufferDirect(Io,null,Lo,Ht,ft,null),pr.uniforms.shadow_pass.value=Do.mapPass.texture,pr.uniforms.resolution.value=Do.mapSize,pr.uniforms.radius.value=Do.radius,o.setRenderTarget(Do.map),o.clear(),o.renderBufferDirect(Io,null,Lo,pr,ft,null)}function mn(Do,Io,Lo,ms){let Uo=null;const _s=Lo.isPointLight===!0?Do.customDistanceMaterial:Do.customDepthMaterial;if(_s!==void 0)Uo=_s;else if(Uo=Lo.isPointLight===!0?it:nt,o.localClippingEnabled&&Io.clipShadows===!0&&Array.isArray(Io.clippingPlanes)&&Io.clippingPlanes.length!==0||Io.displacementMap&&Io.displacementScale!==0||Io.alphaMap&&Io.alphaTest>0||Io.map&&Io.alphaTest>0){const yp=Uo.uuid,xs=Io.uuid;let vs=lt[yp];vs===void 0&&(vs={},lt[yp]=vs);let Sp=vs[xs];Sp===void 0&&(Sp=Uo.clone(),vs[xs]=Sp,Io.addEventListener("dispose",pn)),Uo=Sp}if(Uo.visible=Io.visible,Uo.wireframe=Io.wireframe,ms===qt?Uo.side=Io.shadowSide!==null?Io.shadowSide:Io.side:Uo.side=Io.shadowSide!==null?Io.shadowSide:bt[Io.side],Uo.alphaMap=Io.alphaMap,Uo.alphaTest=Io.alphaTest,Uo.map=Io.map,Uo.clipShadows=Io.clipShadows,Uo.clippingPlanes=Io.clippingPlanes,Uo.clipIntersection=Io.clipIntersection,Uo.displacementMap=Io.displacementMap,Uo.displacementScale=Io.displacementScale,Uo.displacementBias=Io.displacementBias,Uo.wireframeLinewidth=Io.wireframeLinewidth,Uo.linewidth=Io.linewidth,Lo.isPointLight===!0&&Uo.isMeshDistanceMaterial===!0){const yp=o.properties.get(Uo);yp.light=Lo}return Uo}function dr(Do,Io,Lo,ms,Uo){if(Do.visible===!1)return;if(Do.layers.test(Io.layers)&&(Do.isMesh||Do.isLine||Do.isPoints)&&(Do.castShadow||Do.receiveShadow&&Uo===qt)&&(!Do.frustumCulled||j.intersectsObject(Do))){Do.modelViewMatrix.multiplyMatrices(Lo.matrixWorldInverse,Do.matrixWorld);const yp=_.update(Do),xs=Do.material;if(Array.isArray(xs)){const vs=yp.groups;for(let Sp=0,wp=vs.length;Sp<wp;Sp++){const bp=vs[Sp],Ep=xs[bp.materialIndex];if(Ep&&Ep.visible){const Cp=mn(Do,Ep,ms,Uo);Do.onBeforeShadow(o,Do,Io,Lo,yp,Cp,bp),o.renderBufferDirect(Lo,null,yp,Cp,Do,bp),Do.onAfterShadow(o,Do,Io,Lo,yp,Cp,bp)}}}else if(xs.visible){const vs=mn(Do,xs,ms,Uo);Do.onBeforeShadow(o,Do,Io,Lo,yp,vs,null),o.renderBufferDirect(Lo,null,yp,vs,Do,null),Do.onAfterShadow(o,Do,Io,Lo,yp,vs,null)}}const _s=Do.children;for(let yp=0,xs=_s.length;yp<xs;yp++)dr(_s[yp],Io,Lo,ms,Uo)}function pn(Do){Do.target.removeEventListener("dispose",pn);for(const Io in lt){const Lo=lt[Io],ms=Do.target.uuid;ms in Lo&&(Lo[ms].dispose(),delete Lo[ms])}}}function Jd(o,_,$){const j=$.isWebGL2;function _e(){let Hp=!1;const Mm=new ht;let Tp=null;const dm=new ht(0,0,0,0);return{setMask:function(om){Tp!==om&&!Hp&&(o.colorMask(om,om,om,om),Tp=om)},setLocked:function(om){Hp=om},setClear:function(om,Bp,sm,$m,Nm){Nm===!0&&(om*=$m,Bp*=$m,sm*=$m),Mm.set(om,Bp,sm,$m),dm.equals(Mm)===!1&&(o.clearColor(om,Bp,sm,$m),dm.copy(Mm))},reset:function(){Hp=!1,Tp=null,dm.set(-1,0,0,0)}}}function et(){let Hp=!1,Mm=null,Tp=null,dm=null;return{setTest:function(om){om?Gp(o.DEPTH_TEST):rm(o.DEPTH_TEST)},setMask:function(om){Mm!==om&&!Hp&&(o.depthMask(om),Mm=om)},setFunc:function(om){if(Tp!==om){switch(om){case el:o.depthFunc(o.NEVER);break;case tl:o.depthFunc(o.ALWAYS);break;case nl:o.depthFunc(o.LESS);break;case Qi:o.depthFunc(o.LEQUAL);break;case il:o.depthFunc(o.EQUAL);break;case rl:o.depthFunc(o.GEQUAL);break;case sl:o.depthFunc(o.GREATER);break;case al:o.depthFunc(o.NOTEQUAL);break;default:o.depthFunc(o.LEQUAL)}Tp=om}},setLocked:function(om){Hp=om},setClear:function(om){dm!==om&&(o.clearDepth(om),dm=om)},reset:function(){Hp=!1,Mm=null,Tp=null,dm=null}}}function tt(){let Hp=!1,Mm=null,Tp=null,dm=null,om=null,Bp=null,sm=null,$m=null,Nm=null;return{setTest:function(Im){Hp||(Im?Gp(o.STENCIL_TEST):rm(o.STENCIL_TEST))},setMask:function(Im){Mm!==Im&&!Hp&&(o.stencilMask(Im),Mm=Im)},setFunc:function(Im,jm,Bm){(Tp!==Im||dm!==jm||om!==Bm)&&(o.stencilFunc(Im,jm,Bm),Tp=Im,dm=jm,om=Bm)},setOp:function(Im,jm,Bm){(Bp!==Im||sm!==jm||$m!==Bm)&&(o.stencilOp(Im,jm,Bm),Bp=Im,sm=jm,$m=Bm)},setLocked:function(Im){Hp=Im},setClear:function(Im){Nm!==Im&&(o.clearStencil(Im),Nm=Im)},reset:function(){Hp=!1,Mm=null,Tp=null,dm=null,om=null,Bp=null,sm=null,$m=null,Nm=null}}}const nt=new _e,it=new et,lt=new tt,dt=new WeakMap,bt=new WeakMap;let Ht={},pr={},_n=new WeakMap,ft=[],Ct=null,mr=!1,_r=null,mn=null,dr=null,pn=null,Do=null,Io=null,Lo=null,ms=new qe(0,0,0),Uo=0,_s=!1,yp=null,xs=null,vs=null,Sp=null,wp=null;const bp=o.getParameter(o.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Ep=!1,Cp=0;const Ap=o.getParameter(o.VERSION);Ap.indexOf("WebGL")!==-1?(Cp=parseFloat(/^WebGL (\d)/.exec(Ap)[1]),Ep=Cp>=1):Ap.indexOf("OpenGL ES")!==-1&&(Cp=parseFloat(/^OpenGL ES (\d)/.exec(Ap)[1]),Ep=Cp>=2);let Mp=null,Pp={};const Ip=o.getParameter(o.SCISSOR_BOX),Op=o.getParameter(o.VIEWPORT),Wp=new ht().fromArray(Ip),Yp=new ht().fromArray(Op);function Zp(Hp,Mm,Tp,dm){const om=new Uint8Array(4),Bp=o.createTexture();o.bindTexture(Hp,Bp),o.texParameteri(Hp,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(Hp,o.TEXTURE_MAG_FILTER,o.NEAREST);for(let sm=0;sm<Tp;sm++)j&&(Hp===o.TEXTURE_3D||Hp===o.TEXTURE_2D_ARRAY)?o.texImage3D(Mm,0,o.RGBA,1,1,dm,0,o.RGBA,o.UNSIGNED_BYTE,om):o.texImage2D(Mm+sm,0,o.RGBA,1,1,0,o.RGBA,o.UNSIGNED_BYTE,om);return Bp}const Qp={};Qp[o.TEXTURE_2D]=Zp(o.TEXTURE_2D,o.TEXTURE_2D,1),Qp[o.TEXTURE_CUBE_MAP]=Zp(o.TEXTURE_CUBE_MAP,o.TEXTURE_CUBE_MAP_POSITIVE_X,6),j&&(Qp[o.TEXTURE_2D_ARRAY]=Zp(o.TEXTURE_2D_ARRAY,o.TEXTURE_2D_ARRAY,1,1),Qp[o.TEXTURE_3D]=Zp(o.TEXTURE_3D,o.TEXTURE_3D,1,1)),nt.setClear(0,0,0,1),it.setClear(1),lt.setClear(0),Gp(o.DEPTH_TEST),it.setFunc(Qi),am(!1),fm(Ms),Gp(o.CULL_FACE),bm(ln$1);function Gp(Hp){Ht[Hp]!==!0&&(o.enable(Hp),Ht[Hp]=!0)}function rm(Hp){Ht[Hp]!==!1&&(o.disable(Hp),Ht[Hp]=!1)}function Jp(Hp,Mm){return pr[Hp]!==Mm?(o.bindFramebuffer(Hp,Mm),pr[Hp]=Mm,j&&(Hp===o.DRAW_FRAMEBUFFER&&(pr[o.FRAMEBUFFER]=Mm),Hp===o.FRAMEBUFFER&&(pr[o.DRAW_FRAMEBUFFER]=Mm)),!0):!1}function Up(Hp,Mm){let Tp=ft,dm=!1;if(Hp){Tp=_n.get(Mm),Tp===void 0&&(Tp=[],_n.set(Mm,Tp));const om=Hp.textures;if(Tp.length!==om.length||Tp[0]!==o.COLOR_ATTACHMENT0){for(let Bp=0,sm=om.length;Bp<sm;Bp++)Tp[Bp]=o.COLOR_ATTACHMENT0+Bp;Tp.length=om.length,dm=!0}}else Tp[0]!==o.BACK&&(Tp[0]=o.BACK,dm=!0);if(dm)if($.isWebGL2)o.drawBuffers(Tp);else if(_.has("WEBGL_draw_buffers")===!0)_.get("WEBGL_draw_buffers").drawBuffersWEBGL(Tp);else throw new Error("THREE.WebGLState: Usage of gl.drawBuffers() require WebGL2 or WEBGL_draw_buffers extension")}function im(Hp){return Ct!==Hp?(o.useProgram(Hp),Ct=Hp,!0):!1}const em={[Tn]:o.FUNC_ADD,[zo]:o.FUNC_SUBTRACT,[Go]:o.FUNC_REVERSE_SUBTRACT};if(j)em[Ts]=o.MIN,em[bs]=o.MAX;else{const Hp=_.get("EXT_blend_minmax");Hp!==null&&(em[Ts]=Hp.MIN_EXT,em[bs]=Hp.MAX_EXT)}const gm={[Ho]:o.ZERO,[Vo]:o.ONE,[ko]:o.SRC_COLOR,[Jr]:o.SRC_ALPHA,[Ko]:o.SRC_ALPHA_SATURATE,[qo]:o.DST_COLOR,[Xo]:o.DST_ALPHA,[Wo]:o.ONE_MINUS_SRC_COLOR,[Qr]:o.ONE_MINUS_SRC_ALPHA,[jo]:o.ONE_MINUS_DST_COLOR,[Yo]:o.ONE_MINUS_DST_ALPHA,[Zo]:o.CONSTANT_COLOR,[$o]:o.ONE_MINUS_CONSTANT_COLOR,[Jo]:o.CONSTANT_ALPHA,[Qo]:o.ONE_MINUS_CONSTANT_ALPHA};function bm(Hp,Mm,Tp,dm,om,Bp,sm,$m,Nm,Im){if(Hp===ln$1){mr===!0&&(rm(o.BLEND),mr=!1);return}if(mr===!1&&(Gp(o.BLEND),mr=!0),Hp!==Bo){if(Hp!==_r||Im!==_s){if((mn!==Tn||Do!==Tn)&&(o.blendEquation(o.FUNC_ADD),mn=Tn,Do=Tn),Im)switch(Hp){case Qn:o.blendFuncSeparate(o.ONE,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA);break;case Ss:o.blendFunc(o.ONE,o.ONE);break;case Es:o.blendFuncSeparate(o.ZERO,o.ONE_MINUS_SRC_COLOR,o.ZERO,o.ONE);break;case ys:o.blendFuncSeparate(o.ZERO,o.SRC_COLOR,o.ZERO,o.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Hp);break}else switch(Hp){case Qn:o.blendFuncSeparate(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA);break;case Ss:o.blendFunc(o.SRC_ALPHA,o.ONE);break;case Es:o.blendFuncSeparate(o.ZERO,o.ONE_MINUS_SRC_COLOR,o.ZERO,o.ONE);break;case ys:o.blendFunc(o.ZERO,o.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Hp);break}dr=null,pn=null,Io=null,Lo=null,ms.set(0,0,0),Uo=0,_r=Hp,_s=Im}return}om=om||Mm,Bp=Bp||Tp,sm=sm||dm,(Mm!==mn||om!==Do)&&(o.blendEquationSeparate(em[Mm],em[om]),mn=Mm,Do=om),(Tp!==dr||dm!==pn||Bp!==Io||sm!==Lo)&&(o.blendFuncSeparate(gm[Tp],gm[dm],gm[Bp],gm[sm]),dr=Tp,pn=dm,Io=Bp,Lo=sm),($m.equals(ms)===!1||Nm!==Uo)&&(o.blendColor($m.r,$m.g,$m.b,Nm),ms.copy($m),Uo=Nm),_r=Hp,_s=!1}function ym(Hp,Mm){Hp.side===jt?rm(o.CULL_FACE):Gp(o.CULL_FACE);let Tp=Hp.side===Et;Mm&&(Tp=!Tp),am(Tp),Hp.blending===Qn&&Hp.transparent===!1?bm(ln$1):bm(Hp.blending,Hp.blendEquation,Hp.blendSrc,Hp.blendDst,Hp.blendEquationAlpha,Hp.blendSrcAlpha,Hp.blendDstAlpha,Hp.blendColor,Hp.blendAlpha,Hp.premultipliedAlpha),it.setFunc(Hp.depthFunc),it.setTest(Hp.depthTest),it.setMask(Hp.depthWrite),nt.setMask(Hp.colorWrite);const dm=Hp.stencilWrite;lt.setTest(dm),dm&&(lt.setMask(Hp.stencilWriteMask),lt.setFunc(Hp.stencilFunc,Hp.stencilRef,Hp.stencilFuncMask),lt.setOp(Hp.stencilFail,Hp.stencilZFail,Hp.stencilZPass)),jp(Hp.polygonOffset,Hp.polygonOffsetFactor,Hp.polygonOffsetUnits),Hp.alphaToCoverage===!0?Gp(o.SAMPLE_ALPHA_TO_COVERAGE):rm(o.SAMPLE_ALPHA_TO_COVERAGE)}function am(Hp){yp!==Hp&&(Hp?o.frontFace(o.CW):o.frontFace(o.CCW),yp=Hp)}function fm(Hp){Hp!==No?(Gp(o.CULL_FACE),Hp!==xs&&(Hp===Ms?o.cullFace(o.BACK):Hp===Fo?o.cullFace(o.FRONT):o.cullFace(o.FRONT_AND_BACK))):rm(o.CULL_FACE),xs=Hp}function vm(Hp){Hp!==vs&&(Ep&&o.lineWidth(Hp),vs=Hp)}function jp(Hp,Mm,Tp){Hp?(Gp(o.POLYGON_OFFSET_FILL),(Sp!==Mm||wp!==Tp)&&(o.polygonOffset(Mm,Tp),Sp=Mm,wp=Tp)):rm(o.POLYGON_OFFSET_FILL)}function Rp(Hp){Hp?Gp(o.SCISSOR_TEST):rm(o.SCISSOR_TEST)}function um(Hp){Hp===void 0&&(Hp=o.TEXTURE0+bp-1),Mp!==Hp&&(o.activeTexture(Hp),Mp=Hp)}function _m(Hp,Mm,Tp){Tp===void 0&&(Mp===null?Tp=o.TEXTURE0+bp-1:Tp=Mp);let dm=Pp[Tp];dm===void 0&&(dm={type:void 0,texture:void 0},Pp[Tp]=dm),(dm.type!==Hp||dm.texture!==Mm)&&(Mp!==Tp&&(o.activeTexture(Tp),Mp=Tp),o.bindTexture(Hp,Mm||Qp[Hp]),dm.type=Hp,dm.texture=Mm)}function Cm(){const Hp=Pp[Mp];Hp!==void 0&&Hp.type!==void 0&&(o.bindTexture(Hp.type,null),Hp.type=void 0,Hp.texture=void 0)}function Sm(){try{o.compressedTexImage2D.apply(o,arguments)}catch(Hp){console.error("THREE.WebGLState:",Hp)}}function zp(){try{o.compressedTexImage3D.apply(o,arguments)}catch(Hp){console.error("THREE.WebGLState:",Hp)}}function Dp(){try{o.texSubImage2D.apply(o,arguments)}catch(Hp){console.error("THREE.WebGLState:",Hp)}}function kp(){try{o.texSubImage3D.apply(o,arguments)}catch(Hp){console.error("THREE.WebGLState:",Hp)}}function nm(){try{o.compressedTexSubImage2D.apply(o,arguments)}catch(Hp){console.error("THREE.WebGLState:",Hp)}}function lm(){try{o.compressedTexSubImage3D.apply(o,arguments)}catch(Hp){console.error("THREE.WebGLState:",Hp)}}function hm(){try{o.texStorage2D.apply(o,arguments)}catch(Hp){console.error("THREE.WebGLState:",Hp)}}function Em(){try{o.texStorage3D.apply(o,arguments)}catch(Hp){console.error("THREE.WebGLState:",Hp)}}function Lp(){try{o.texImage2D.apply(o,arguments)}catch(Hp){console.error("THREE.WebGLState:",Hp)}}function cm(){try{o.texImage3D.apply(o,arguments)}catch(Hp){console.error("THREE.WebGLState:",Hp)}}function mm(Hp){Wp.equals(Hp)===!1&&(o.scissor(Hp.x,Hp.y,Hp.z,Hp.w),Wp.copy(Hp))}function Vp(Hp){Yp.equals(Hp)===!1&&(o.viewport(Hp.x,Hp.y,Hp.z,Hp.w),Yp.copy(Hp))}function qp(Hp,Mm){let Tp=bt.get(Mm);Tp===void 0&&(Tp=new WeakMap,bt.set(Mm,Tp));let dm=Tp.get(Hp);dm===void 0&&(dm=o.getUniformBlockIndex(Mm,Hp.name),Tp.set(Hp,dm))}function xm(Hp,Mm){const Tp=bt.get(Mm).get(Hp);dt.get(Mm)!==Tp&&(o.uniformBlockBinding(Mm,Tp,Hp.__bindingPointIndex),dt.set(Mm,Tp))}function Np(){o.disable(o.BLEND),o.disable(o.CULL_FACE),o.disable(o.DEPTH_TEST),o.disable(o.POLYGON_OFFSET_FILL),o.disable(o.SCISSOR_TEST),o.disable(o.STENCIL_TEST),o.disable(o.SAMPLE_ALPHA_TO_COVERAGE),o.blendEquation(o.FUNC_ADD),o.blendFunc(o.ONE,o.ZERO),o.blendFuncSeparate(o.ONE,o.ZERO,o.ONE,o.ZERO),o.blendColor(0,0,0,0),o.colorMask(!0,!0,!0,!0),o.clearColor(0,0,0,0),o.depthMask(!0),o.depthFunc(o.LESS),o.clearDepth(1),o.stencilMask(4294967295),o.stencilFunc(o.ALWAYS,0,4294967295),o.stencilOp(o.KEEP,o.KEEP,o.KEEP),o.clearStencil(0),o.cullFace(o.BACK),o.frontFace(o.CCW),o.polygonOffset(0,0),o.activeTexture(o.TEXTURE0),o.bindFramebuffer(o.FRAMEBUFFER,null),j===!0&&(o.bindFramebuffer(o.DRAW_FRAMEBUFFER,null),o.bindFramebuffer(o.READ_FRAMEBUFFER,null)),o.useProgram(null),o.lineWidth(1),o.scissor(0,0,o.canvas.width,o.canvas.height),o.viewport(0,0,o.canvas.width,o.canvas.height),Ht={},Mp=null,Pp={},pr={},_n=new WeakMap,ft=[],Ct=null,mr=!1,_r=null,mn=null,dr=null,pn=null,Do=null,Io=null,Lo=null,ms=new qe(0,0,0),Uo=0,_s=!1,yp=null,xs=null,vs=null,Sp=null,wp=null,Wp.set(0,0,o.canvas.width,o.canvas.height),Yp.set(0,0,o.canvas.width,o.canvas.height),nt.reset(),it.reset(),lt.reset()}return{buffers:{color:nt,depth:it,stencil:lt},enable:Gp,disable:rm,bindFramebuffer:Jp,drawBuffers:Up,useProgram:im,setBlending:bm,setMaterial:ym,setFlipSided:am,setCullFace:fm,setLineWidth:vm,setPolygonOffset:jp,setScissorTest:Rp,activeTexture:um,bindTexture:_m,unbindTexture:Cm,compressedTexImage2D:Sm,compressedTexImage3D:zp,texImage2D:Lp,texImage3D:cm,updateUBOMapping:qp,uniformBlockBinding:xm,texStorage2D:hm,texStorage3D:Em,texSubImage2D:Dp,texSubImage3D:kp,compressedTexSubImage2D:nm,compressedTexSubImage3D:lm,scissor:mm,viewport:Vp,reset:Np}}function Qd(o,_,$,j,_e,et,tt){const nt=_e.isWebGL2,it=_.has("WEBGL_multisampled_render_to_texture")?_.get("WEBGL_multisampled_render_to_texture"):null,lt=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),dt=new Ie,bt=new WeakMap;let Ht;const pr=new WeakMap;let _n=!1;try{_n=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function ft(jp,Rp){return _n?new OffscreenCanvas(jp,Rp):sr("canvas")}function Ct(jp,Rp,um,_m){let Cm=1;const Sm=vm(jp);if((Sm.width>_m||Sm.height>_m)&&(Cm=_m/Math.max(Sm.width,Sm.height)),Cm<1||Rp===!0)if(typeof HTMLImageElement<"u"&&jp instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&jp instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&jp instanceof ImageBitmap||typeof VideoFrame<"u"&&jp instanceof VideoFrame){const zp=Rp?rr:Math.floor,Dp=zp(Cm*Sm.width),kp=zp(Cm*Sm.height);Ht===void 0&&(Ht=ft(Dp,kp));const nm=um?ft(Dp,kp):Ht;return nm.width=Dp,nm.height=kp,nm.getContext("2d").drawImage(jp,0,0,Dp,kp),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Sm.width+"x"+Sm.height+") to ("+Dp+"x"+kp+")."),nm}else return"data"in jp&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Sm.width+"x"+Sm.height+")."),jp;return jp}function mr(jp){const Rp=vm(jp);return ss(Rp.width)&&ss(Rp.height)}function _r(jp){return nt?!1:jp.wrapS!==Nt||jp.wrapT!==Nt||jp.minFilter!==xt&&jp.minFilter!==St}function mn(jp,Rp){return jp.generateMipmaps&&Rp&&jp.minFilter!==xt&&jp.minFilter!==St}function dr(jp){o.generateMipmap(jp)}function pn(jp,Rp,um,_m,Cm=!1){if(nt===!1)return Rp;if(jp!==null){if(o[jp]!==void 0)return o[jp];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+jp+"'")}let Sm=Rp;if(Rp===o.RED&&(um===o.FLOAT&&(Sm=o.R32F),um===o.HALF_FLOAT&&(Sm=o.R16F),um===o.UNSIGNED_BYTE&&(Sm=o.R8)),Rp===o.RED_INTEGER&&(um===o.UNSIGNED_BYTE&&(Sm=o.R8UI),um===o.UNSIGNED_SHORT&&(Sm=o.R16UI),um===o.UNSIGNED_INT&&(Sm=o.R32UI),um===o.BYTE&&(Sm=o.R8I),um===o.SHORT&&(Sm=o.R16I),um===o.INT&&(Sm=o.R32I)),Rp===o.RG&&(um===o.FLOAT&&(Sm=o.RG32F),um===o.HALF_FLOAT&&(Sm=o.RG16F),um===o.UNSIGNED_BYTE&&(Sm=o.RG8)),Rp===o.RG_INTEGER&&(um===o.UNSIGNED_BYTE&&(Sm=o.RG8UI),um===o.UNSIGNED_SHORT&&(Sm=o.RG16UI),um===o.UNSIGNED_INT&&(Sm=o.RG32UI),um===o.BYTE&&(Sm=o.RG8I),um===o.SHORT&&(Sm=o.RG16I),um===o.INT&&(Sm=o.RG32I)),Rp===o.RGBA){const zp=Cm?er:je.getTransfer(_m);um===o.FLOAT&&(Sm=o.RGBA32F),um===o.HALF_FLOAT&&(Sm=o.RGBA16F),um===o.UNSIGNED_BYTE&&(Sm=zp===$e?o.SRGB8_ALPHA8:o.RGBA8),um===o.UNSIGNED_SHORT_4_4_4_4&&(Sm=o.RGBA4),um===o.UNSIGNED_SHORT_5_5_5_1&&(Sm=o.RGB5_A1)}return(Sm===o.R16F||Sm===o.R32F||Sm===o.RG16F||Sm===o.RG32F||Sm===o.RGBA16F||Sm===o.RGBA32F)&&_.get("EXT_color_buffer_float"),Sm}function Do(jp,Rp,um){return mn(jp,um)===!0||jp.isFramebufferTexture&&jp.minFilter!==xt&&jp.minFilter!==St?Math.log2(Math.max(Rp.width,Rp.height))+1:jp.mipmaps!==void 0&&jp.mipmaps.length>0?jp.mipmaps.length:jp.isCompressedTexture&&Array.isArray(jp.image)?Rp.mipmaps.length:1}function Io(jp){return jp===xt||jp===As||jp===ui?o.NEAREST:o.LINEAR}function Lo(jp){const Rp=jp.target;Rp.removeEventListener("dispose",Lo),Uo(Rp),Rp.isVideoTexture&&bt.delete(Rp)}function ms(jp){const Rp=jp.target;Rp.removeEventListener("dispose",ms),yp(Rp)}function Uo(jp){const Rp=j.get(jp);if(Rp.__webglInit===void 0)return;const um=jp.source,_m=pr.get(um);if(_m){const Cm=_m[Rp.__cacheKey];Cm.usedTimes--,Cm.usedTimes===0&&_s(jp),Object.keys(_m).length===0&&pr.delete(um)}j.remove(jp)}function _s(jp){const Rp=j.get(jp);o.deleteTexture(Rp.__webglTexture);const um=jp.source,_m=pr.get(um);delete _m[Rp.__cacheKey],tt.memory.textures--}function yp(jp){const Rp=j.get(jp);if(jp.depthTexture&&jp.depthTexture.dispose(),jp.isWebGLCubeRenderTarget)for(let _m=0;_m<6;_m++){if(Array.isArray(Rp.__webglFramebuffer[_m]))for(let Cm=0;Cm<Rp.__webglFramebuffer[_m].length;Cm++)o.deleteFramebuffer(Rp.__webglFramebuffer[_m][Cm]);else o.deleteFramebuffer(Rp.__webglFramebuffer[_m]);Rp.__webglDepthbuffer&&o.deleteRenderbuffer(Rp.__webglDepthbuffer[_m])}else{if(Array.isArray(Rp.__webglFramebuffer))for(let _m=0;_m<Rp.__webglFramebuffer.length;_m++)o.deleteFramebuffer(Rp.__webglFramebuffer[_m]);else o.deleteFramebuffer(Rp.__webglFramebuffer);if(Rp.__webglDepthbuffer&&o.deleteRenderbuffer(Rp.__webglDepthbuffer),Rp.__webglMultisampledFramebuffer&&o.deleteFramebuffer(Rp.__webglMultisampledFramebuffer),Rp.__webglColorRenderbuffer)for(let _m=0;_m<Rp.__webglColorRenderbuffer.length;_m++)Rp.__webglColorRenderbuffer[_m]&&o.deleteRenderbuffer(Rp.__webglColorRenderbuffer[_m]);Rp.__webglDepthRenderbuffer&&o.deleteRenderbuffer(Rp.__webglDepthRenderbuffer)}const um=jp.textures;for(let _m=0,Cm=um.length;_m<Cm;_m++){const Sm=j.get(um[_m]);Sm.__webglTexture&&(o.deleteTexture(Sm.__webglTexture),tt.memory.textures--),j.remove(um[_m])}j.remove(jp)}let xs=0;function vs(){xs=0}function Sp(){const jp=xs;return jp>=_e.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+jp+" texture units while this GPU supports only "+_e.maxTextures),xs+=1,jp}function wp(jp){const Rp=[];return Rp.push(jp.wrapS),Rp.push(jp.wrapT),Rp.push(jp.wrapR||0),Rp.push(jp.magFilter),Rp.push(jp.minFilter),Rp.push(jp.anisotropy),Rp.push(jp.internalFormat),Rp.push(jp.format),Rp.push(jp.type),Rp.push(jp.generateMipmaps),Rp.push(jp.premultiplyAlpha),Rp.push(jp.flipY),Rp.push(jp.unpackAlignment),Rp.push(jp.colorSpace),Rp.join()}function bp(jp,Rp){const um=j.get(jp);if(jp.isVideoTexture&&am(jp),jp.isRenderTargetTexture===!1&&jp.version>0&&um.__version!==jp.version){const _m=jp.image;if(_m===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(_m.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Yp(um,jp,Rp);return}}$.bindTexture(o.TEXTURE_2D,um.__webglTexture,o.TEXTURE0+Rp)}function Ep(jp,Rp){const um=j.get(jp);if(jp.version>0&&um.__version!==jp.version){Yp(um,jp,Rp);return}$.bindTexture(o.TEXTURE_2D_ARRAY,um.__webglTexture,o.TEXTURE0+Rp)}function Cp(jp,Rp){const um=j.get(jp);if(jp.version>0&&um.__version!==jp.version){Yp(um,jp,Rp);return}$.bindTexture(o.TEXTURE_3D,um.__webglTexture,o.TEXTURE0+Rp)}function Ap(jp,Rp){const um=j.get(jp);if(jp.version>0&&um.__version!==jp.version){Zp(um,jp,Rp);return}$.bindTexture(o.TEXTURE_CUBE_MAP,um.__webglTexture,o.TEXTURE0+Rp)}const Mp={[ns]:o.REPEAT,[Nt]:o.CLAMP_TO_EDGE,[is]:o.MIRRORED_REPEAT},Pp={[xt]:o.NEAREST,[As]:o.NEAREST_MIPMAP_NEAREST,[ui]:o.NEAREST_MIPMAP_LINEAR,[St]:o.LINEAR,[gr]:o.LINEAR_MIPMAP_NEAREST,[An]:o.LINEAR_MIPMAP_LINEAR},Ip={[Rl]:o.NEVER,[Il]:o.ALWAYS,[Cl]:o.LESS,[co]:o.LEQUAL,[Pl]:o.EQUAL,[Ul]:o.GEQUAL,[Ll]:o.GREATER,[Dl]:o.NOTEQUAL};function Op(jp,Rp,um){if(Rp.type===Kt&&_.has("OES_texture_float_linear")===!1&&(Rp.magFilter===St||Rp.magFilter===gr||Rp.magFilter===ui||Rp.magFilter===An||Rp.minFilter===St||Rp.minFilter===gr||Rp.minFilter===ui||Rp.minFilter===An)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),um?(o.texParameteri(jp,o.TEXTURE_WRAP_S,Mp[Rp.wrapS]),o.texParameteri(jp,o.TEXTURE_WRAP_T,Mp[Rp.wrapT]),(jp===o.TEXTURE_3D||jp===o.TEXTURE_2D_ARRAY)&&o.texParameteri(jp,o.TEXTURE_WRAP_R,Mp[Rp.wrapR]),o.texParameteri(jp,o.TEXTURE_MAG_FILTER,Pp[Rp.magFilter]),o.texParameteri(jp,o.TEXTURE_MIN_FILTER,Pp[Rp.minFilter])):(o.texParameteri(jp,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(jp,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),(jp===o.TEXTURE_3D||jp===o.TEXTURE_2D_ARRAY)&&o.texParameteri(jp,o.TEXTURE_WRAP_R,o.CLAMP_TO_EDGE),(Rp.wrapS!==Nt||Rp.wrapT!==Nt)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),o.texParameteri(jp,o.TEXTURE_MAG_FILTER,Io(Rp.magFilter)),o.texParameteri(jp,o.TEXTURE_MIN_FILTER,Io(Rp.minFilter)),Rp.minFilter!==xt&&Rp.minFilter!==St&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),Rp.compareFunction&&(o.texParameteri(jp,o.TEXTURE_COMPARE_MODE,o.COMPARE_REF_TO_TEXTURE),o.texParameteri(jp,o.TEXTURE_COMPARE_FUNC,Ip[Rp.compareFunction])),_.has("EXT_texture_filter_anisotropic")===!0){if(Rp.magFilter===xt||Rp.minFilter!==ui&&Rp.minFilter!==An||Rp.type===Kt&&_.has("OES_texture_float_linear")===!1||nt===!1&&Rp.type===_i&&_.has("OES_texture_half_float_linear")===!1)return;if(Rp.anisotropy>1||j.get(Rp).__currentAnisotropy){const _m=_.get("EXT_texture_filter_anisotropic");o.texParameterf(jp,_m.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Rp.anisotropy,_e.getMaxAnisotropy())),j.get(Rp).__currentAnisotropy=Rp.anisotropy}}}function Wp(jp,Rp){let um=!1;jp.__webglInit===void 0&&(jp.__webglInit=!0,Rp.addEventListener("dispose",Lo));const _m=Rp.source;let Cm=pr.get(_m);Cm===void 0&&(Cm={},pr.set(_m,Cm));const Sm=wp(Rp);if(Sm!==jp.__cacheKey){Cm[Sm]===void 0&&(Cm[Sm]={texture:o.createTexture(),usedTimes:0},tt.memory.textures++,um=!0),Cm[Sm].usedTimes++;const zp=Cm[jp.__cacheKey];zp!==void 0&&(Cm[jp.__cacheKey].usedTimes--,zp.usedTimes===0&&_s(Rp)),jp.__cacheKey=Sm,jp.__webglTexture=Cm[Sm].texture}return um}function Yp(jp,Rp,um){let _m=o.TEXTURE_2D;(Rp.isDataArrayTexture||Rp.isCompressedArrayTexture)&&(_m=o.TEXTURE_2D_ARRAY),Rp.isData3DTexture&&(_m=o.TEXTURE_3D);const Cm=Wp(jp,Rp),Sm=Rp.source;$.bindTexture(_m,jp.__webglTexture,o.TEXTURE0+um);const zp=j.get(Sm);if(Sm.version!==zp.__version||Cm===!0){$.activeTexture(o.TEXTURE0+um);const Dp=je.getPrimaries(je.workingColorSpace),kp=Rp.colorSpace===an?null:je.getPrimaries(Rp.colorSpace),nm=Rp.colorSpace===an||Dp===kp?o.NONE:o.BROWSER_DEFAULT_WEBGL;o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,Rp.flipY),o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Rp.premultiplyAlpha),o.pixelStorei(o.UNPACK_ALIGNMENT,Rp.unpackAlignment),o.pixelStorei(o.UNPACK_COLORSPACE_CONVERSION_WEBGL,nm);const lm=_r(Rp)&&mr(Rp.image)===!1;let hm=Ct(Rp.image,lm,!1,_e.maxTextureSize);hm=fm(Rp,hm);const Em=mr(hm)||nt,Lp=et.convert(Rp.format,Rp.colorSpace);let cm=et.convert(Rp.type),mm=pn(Rp.internalFormat,Lp,cm,Rp.colorSpace,Rp.isVideoTexture);Op(_m,Rp,Em);let Vp;const qp=Rp.mipmaps,xm=nt&&Rp.isVideoTexture!==!0&&mm!==lo,Np=zp.__version===void 0||Cm===!0,Hp=Sm.dataReady,Mm=Do(Rp,hm,Em);if(Rp.isDepthTexture)mm=o.DEPTH_COMPONENT,nt?Rp.type===Kt?mm=o.DEPTH_COMPONENT32F:Rp.type===on?mm=o.DEPTH_COMPONENT24:Rp.type===wn?mm=o.DEPTH24_STENCIL8:mm=o.DEPTH_COMPONENT16:Rp.type===Kt&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Rp.format===Rn&&mm===o.DEPTH_COMPONENT&&Rp.type!==ls&&Rp.type!==on&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Rp.type=on,cm=et.convert(Rp.type)),Rp.format===si&&mm===o.DEPTH_COMPONENT&&(mm=o.DEPTH_STENCIL,Rp.type!==wn&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Rp.type=wn,cm=et.convert(Rp.type))),Np&&(xm?$.texStorage2D(o.TEXTURE_2D,1,mm,hm.width,hm.height):$.texImage2D(o.TEXTURE_2D,0,mm,hm.width,hm.height,0,Lp,cm,null));else if(Rp.isDataTexture)if(qp.length>0&&Em){xm&&Np&&$.texStorage2D(o.TEXTURE_2D,Mm,mm,qp[0].width,qp[0].height);for(let Tp=0,dm=qp.length;Tp<dm;Tp++)Vp=qp[Tp],xm?Hp&&$.texSubImage2D(o.TEXTURE_2D,Tp,0,0,Vp.width,Vp.height,Lp,cm,Vp.data):$.texImage2D(o.TEXTURE_2D,Tp,mm,Vp.width,Vp.height,0,Lp,cm,Vp.data);Rp.generateMipmaps=!1}else xm?(Np&&$.texStorage2D(o.TEXTURE_2D,Mm,mm,hm.width,hm.height),Hp&&$.texSubImage2D(o.TEXTURE_2D,0,0,0,hm.width,hm.height,Lp,cm,hm.data)):$.texImage2D(o.TEXTURE_2D,0,mm,hm.width,hm.height,0,Lp,cm,hm.data);else if(Rp.isCompressedTexture)if(Rp.isCompressedArrayTexture){xm&&Np&&$.texStorage3D(o.TEXTURE_2D_ARRAY,Mm,mm,qp[0].width,qp[0].height,hm.depth);for(let Tp=0,dm=qp.length;Tp<dm;Tp++)Vp=qp[Tp],Rp.format!==Ft?Lp!==null?xm?Hp&&$.compressedTexSubImage3D(o.TEXTURE_2D_ARRAY,Tp,0,0,0,Vp.width,Vp.height,hm.depth,Lp,Vp.data,0,0):$.compressedTexImage3D(o.TEXTURE_2D_ARRAY,Tp,mm,Vp.width,Vp.height,hm.depth,0,Vp.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):xm?Hp&&$.texSubImage3D(o.TEXTURE_2D_ARRAY,Tp,0,0,0,Vp.width,Vp.height,hm.depth,Lp,cm,Vp.data):$.texImage3D(o.TEXTURE_2D_ARRAY,Tp,mm,Vp.width,Vp.height,hm.depth,0,Lp,cm,Vp.data)}else{xm&&Np&&$.texStorage2D(o.TEXTURE_2D,Mm,mm,qp[0].width,qp[0].height);for(let Tp=0,dm=qp.length;Tp<dm;Tp++)Vp=qp[Tp],Rp.format!==Ft?Lp!==null?xm?Hp&&$.compressedTexSubImage2D(o.TEXTURE_2D,Tp,0,0,Vp.width,Vp.height,Lp,Vp.data):$.compressedTexImage2D(o.TEXTURE_2D,Tp,mm,Vp.width,Vp.height,0,Vp.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):xm?Hp&&$.texSubImage2D(o.TEXTURE_2D,Tp,0,0,Vp.width,Vp.height,Lp,cm,Vp.data):$.texImage2D(o.TEXTURE_2D,Tp,mm,Vp.width,Vp.height,0,Lp,cm,Vp.data)}else if(Rp.isDataArrayTexture)xm?(Np&&$.texStorage3D(o.TEXTURE_2D_ARRAY,Mm,mm,hm.width,hm.height,hm.depth),Hp&&$.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,0,hm.width,hm.height,hm.depth,Lp,cm,hm.data)):$.texImage3D(o.TEXTURE_2D_ARRAY,0,mm,hm.width,hm.height,hm.depth,0,Lp,cm,hm.data);else if(Rp.isData3DTexture)xm?(Np&&$.texStorage3D(o.TEXTURE_3D,Mm,mm,hm.width,hm.height,hm.depth),Hp&&$.texSubImage3D(o.TEXTURE_3D,0,0,0,0,hm.width,hm.height,hm.depth,Lp,cm,hm.data)):$.texImage3D(o.TEXTURE_3D,0,mm,hm.width,hm.height,hm.depth,0,Lp,cm,hm.data);else if(Rp.isFramebufferTexture){if(Np)if(xm)$.texStorage2D(o.TEXTURE_2D,Mm,mm,hm.width,hm.height);else{let Tp=hm.width,dm=hm.height;for(let om=0;om<Mm;om++)$.texImage2D(o.TEXTURE_2D,om,mm,Tp,dm,0,Lp,cm,null),Tp>>=1,dm>>=1}}else if(qp.length>0&&Em){if(xm&&Np){const Tp=vm(qp[0]);$.texStorage2D(o.TEXTURE_2D,Mm,mm,Tp.width,Tp.height)}for(let Tp=0,dm=qp.length;Tp<dm;Tp++)Vp=qp[Tp],xm?Hp&&$.texSubImage2D(o.TEXTURE_2D,Tp,0,0,Lp,cm,Vp):$.texImage2D(o.TEXTURE_2D,Tp,mm,Lp,cm,Vp);Rp.generateMipmaps=!1}else if(xm){if(Np){const Tp=vm(hm);$.texStorage2D(o.TEXTURE_2D,Mm,mm,Tp.width,Tp.height)}Hp&&$.texSubImage2D(o.TEXTURE_2D,0,0,0,Lp,cm,hm)}else $.texImage2D(o.TEXTURE_2D,0,mm,Lp,cm,hm);mn(Rp,Em)&&dr(_m),zp.__version=Sm.version,Rp.onUpdate&&Rp.onUpdate(Rp)}jp.__version=Rp.version}function Zp(jp,Rp,um){if(Rp.image.length!==6)return;const _m=Wp(jp,Rp),Cm=Rp.source;$.bindTexture(o.TEXTURE_CUBE_MAP,jp.__webglTexture,o.TEXTURE0+um);const Sm=j.get(Cm);if(Cm.version!==Sm.__version||_m===!0){$.activeTexture(o.TEXTURE0+um);const zp=je.getPrimaries(je.workingColorSpace),Dp=Rp.colorSpace===an?null:je.getPrimaries(Rp.colorSpace),kp=Rp.colorSpace===an||zp===Dp?o.NONE:o.BROWSER_DEFAULT_WEBGL;o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,Rp.flipY),o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Rp.premultiplyAlpha),o.pixelStorei(o.UNPACK_ALIGNMENT,Rp.unpackAlignment),o.pixelStorei(o.UNPACK_COLORSPACE_CONVERSION_WEBGL,kp);const nm=Rp.isCompressedTexture||Rp.image[0].isCompressedTexture,lm=Rp.image[0]&&Rp.image[0].isDataTexture,hm=[];for(let Tp=0;Tp<6;Tp++)!nm&&!lm?hm[Tp]=Ct(Rp.image[Tp],!1,!0,_e.maxCubemapSize):hm[Tp]=lm?Rp.image[Tp].image:Rp.image[Tp],hm[Tp]=fm(Rp,hm[Tp]);const Em=hm[0],Lp=mr(Em)||nt,cm=et.convert(Rp.format,Rp.colorSpace),mm=et.convert(Rp.type),Vp=pn(Rp.internalFormat,cm,mm,Rp.colorSpace),qp=nt&&Rp.isVideoTexture!==!0,xm=Sm.__version===void 0||_m===!0,Np=Cm.dataReady;let Hp=Do(Rp,Em,Lp);Op(o.TEXTURE_CUBE_MAP,Rp,Lp);let Mm;if(nm){qp&&xm&&$.texStorage2D(o.TEXTURE_CUBE_MAP,Hp,Vp,Em.width,Em.height);for(let Tp=0;Tp<6;Tp++){Mm=hm[Tp].mipmaps;for(let dm=0;dm<Mm.length;dm++){const om=Mm[dm];Rp.format!==Ft?cm!==null?qp?Np&&$.compressedTexSubImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+Tp,dm,0,0,om.width,om.height,cm,om.data):$.compressedTexImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+Tp,dm,Vp,om.width,om.height,0,om.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):qp?Np&&$.texSubImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+Tp,dm,0,0,om.width,om.height,cm,mm,om.data):$.texImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+Tp,dm,Vp,om.width,om.height,0,cm,mm,om.data)}}}else{if(Mm=Rp.mipmaps,qp&&xm){Mm.length>0&&Hp++;const Tp=vm(hm[0]);$.texStorage2D(o.TEXTURE_CUBE_MAP,Hp,Vp,Tp.width,Tp.height)}for(let Tp=0;Tp<6;Tp++)if(lm){qp?Np&&$.texSubImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+Tp,0,0,0,hm[Tp].width,hm[Tp].height,cm,mm,hm[Tp].data):$.texImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+Tp,0,Vp,hm[Tp].width,hm[Tp].height,0,cm,mm,hm[Tp].data);for(let dm=0;dm<Mm.length;dm++){const om=Mm[dm].image[Tp].image;qp?Np&&$.texSubImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+Tp,dm+1,0,0,om.width,om.height,cm,mm,om.data):$.texImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+Tp,dm+1,Vp,om.width,om.height,0,cm,mm,om.data)}}else{qp?Np&&$.texSubImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+Tp,0,0,0,cm,mm,hm[Tp]):$.texImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+Tp,0,Vp,cm,mm,hm[Tp]);for(let dm=0;dm<Mm.length;dm++){const om=Mm[dm];qp?Np&&$.texSubImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+Tp,dm+1,0,0,cm,mm,om.image[Tp]):$.texImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+Tp,dm+1,Vp,cm,mm,om.image[Tp])}}}mn(Rp,Lp)&&dr(o.TEXTURE_CUBE_MAP),Sm.__version=Cm.version,Rp.onUpdate&&Rp.onUpdate(Rp)}jp.__version=Rp.version}function Qp(jp,Rp,um,_m,Cm,Sm){const zp=et.convert(um.format,um.colorSpace),Dp=et.convert(um.type),kp=pn(um.internalFormat,zp,Dp,um.colorSpace);if(!j.get(Rp).__hasExternalTextures){const nm=Math.max(1,Rp.width>>Sm),lm=Math.max(1,Rp.height>>Sm);Cm===o.TEXTURE_3D||Cm===o.TEXTURE_2D_ARRAY?$.texImage3D(Cm,Sm,kp,nm,lm,Rp.depth,0,zp,Dp,null):$.texImage2D(Cm,Sm,kp,nm,lm,0,zp,Dp,null)}$.bindFramebuffer(o.FRAMEBUFFER,jp),ym(Rp)?it.framebufferTexture2DMultisampleEXT(o.FRAMEBUFFER,_m,Cm,j.get(um).__webglTexture,0,bm(Rp)):(Cm===o.TEXTURE_2D||Cm>=o.TEXTURE_CUBE_MAP_POSITIVE_X&&Cm<=o.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&o.framebufferTexture2D(o.FRAMEBUFFER,_m,Cm,j.get(um).__webglTexture,Sm),$.bindFramebuffer(o.FRAMEBUFFER,null)}function Gp(jp,Rp,um){if(o.bindRenderbuffer(o.RENDERBUFFER,jp),Rp.depthBuffer&&!Rp.stencilBuffer){let _m=nt===!0?o.DEPTH_COMPONENT24:o.DEPTH_COMPONENT16;if(um||ym(Rp)){const Cm=Rp.depthTexture;Cm&&Cm.isDepthTexture&&(Cm.type===Kt?_m=o.DEPTH_COMPONENT32F:Cm.type===on&&(_m=o.DEPTH_COMPONENT24));const Sm=bm(Rp);ym(Rp)?it.renderbufferStorageMultisampleEXT(o.RENDERBUFFER,Sm,_m,Rp.width,Rp.height):o.renderbufferStorageMultisample(o.RENDERBUFFER,Sm,_m,Rp.width,Rp.height)}else o.renderbufferStorage(o.RENDERBUFFER,_m,Rp.width,Rp.height);o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_ATTACHMENT,o.RENDERBUFFER,jp)}else if(Rp.depthBuffer&&Rp.stencilBuffer){const _m=bm(Rp);um&&ym(Rp)===!1?o.renderbufferStorageMultisample(o.RENDERBUFFER,_m,o.DEPTH24_STENCIL8,Rp.width,Rp.height):ym(Rp)?it.renderbufferStorageMultisampleEXT(o.RENDERBUFFER,_m,o.DEPTH24_STENCIL8,Rp.width,Rp.height):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,Rp.width,Rp.height),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,jp)}else{const _m=Rp.textures;for(let Cm=0;Cm<_m.length;Cm++){const Sm=_m[Cm],zp=et.convert(Sm.format,Sm.colorSpace),Dp=et.convert(Sm.type),kp=pn(Sm.internalFormat,zp,Dp,Sm.colorSpace),nm=bm(Rp);um&&ym(Rp)===!1?o.renderbufferStorageMultisample(o.RENDERBUFFER,nm,kp,Rp.width,Rp.height):ym(Rp)?it.renderbufferStorageMultisampleEXT(o.RENDERBUFFER,nm,kp,Rp.width,Rp.height):o.renderbufferStorage(o.RENDERBUFFER,kp,Rp.width,Rp.height)}}o.bindRenderbuffer(o.RENDERBUFFER,null)}function rm(jp,Rp){if(Rp&&Rp.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if($.bindFramebuffer(o.FRAMEBUFFER,jp),!(Rp.depthTexture&&Rp.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!j.get(Rp.depthTexture).__webglTexture||Rp.depthTexture.image.width!==Rp.width||Rp.depthTexture.image.height!==Rp.height)&&(Rp.depthTexture.image.width=Rp.width,Rp.depthTexture.image.height=Rp.height,Rp.depthTexture.needsUpdate=!0),bp(Rp.depthTexture,0);const um=j.get(Rp.depthTexture).__webglTexture,_m=bm(Rp);if(Rp.depthTexture.format===Rn)ym(Rp)?it.framebufferTexture2DMultisampleEXT(o.FRAMEBUFFER,o.DEPTH_ATTACHMENT,o.TEXTURE_2D,um,0,_m):o.framebufferTexture2D(o.FRAMEBUFFER,o.DEPTH_ATTACHMENT,o.TEXTURE_2D,um,0);else if(Rp.depthTexture.format===si)ym(Rp)?it.framebufferTexture2DMultisampleEXT(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.TEXTURE_2D,um,0,_m):o.framebufferTexture2D(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.TEXTURE_2D,um,0);else throw new Error("Unknown depthTexture format")}function Jp(jp){const Rp=j.get(jp),um=jp.isWebGLCubeRenderTarget===!0;if(jp.depthTexture&&!Rp.__autoAllocateDepthBuffer){if(um)throw new Error("target.depthTexture not supported in Cube render targets");rm(Rp.__webglFramebuffer,jp)}else if(um){Rp.__webglDepthbuffer=[];for(let _m=0;_m<6;_m++)$.bindFramebuffer(o.FRAMEBUFFER,Rp.__webglFramebuffer[_m]),Rp.__webglDepthbuffer[_m]=o.createRenderbuffer(),Gp(Rp.__webglDepthbuffer[_m],jp,!1)}else $.bindFramebuffer(o.FRAMEBUFFER,Rp.__webglFramebuffer),Rp.__webglDepthbuffer=o.createRenderbuffer(),Gp(Rp.__webglDepthbuffer,jp,!1);$.bindFramebuffer(o.FRAMEBUFFER,null)}function Up(jp,Rp,um){const _m=j.get(jp);Rp!==void 0&&Qp(_m.__webglFramebuffer,jp,jp.texture,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,0),um!==void 0&&Jp(jp)}function im(jp){const Rp=jp.texture,um=j.get(jp),_m=j.get(Rp);jp.addEventListener("dispose",ms);const Cm=jp.textures,Sm=jp.isWebGLCubeRenderTarget===!0,zp=Cm.length>1,Dp=mr(jp)||nt;if(zp||(_m.__webglTexture===void 0&&(_m.__webglTexture=o.createTexture()),_m.__version=Rp.version,tt.memory.textures++),Sm){um.__webglFramebuffer=[];for(let kp=0;kp<6;kp++)if(nt&&Rp.mipmaps&&Rp.mipmaps.length>0){um.__webglFramebuffer[kp]=[];for(let nm=0;nm<Rp.mipmaps.length;nm++)um.__webglFramebuffer[kp][nm]=o.createFramebuffer()}else um.__webglFramebuffer[kp]=o.createFramebuffer()}else{if(nt&&Rp.mipmaps&&Rp.mipmaps.length>0){um.__webglFramebuffer=[];for(let kp=0;kp<Rp.mipmaps.length;kp++)um.__webglFramebuffer[kp]=o.createFramebuffer()}else um.__webglFramebuffer=o.createFramebuffer();if(zp)if(_e.drawBuffers)for(let kp=0,nm=Cm.length;kp<nm;kp++){const lm=j.get(Cm[kp]);lm.__webglTexture===void 0&&(lm.__webglTexture=o.createTexture(),tt.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(nt&&jp.samples>0&&ym(jp)===!1){um.__webglMultisampledFramebuffer=o.createFramebuffer(),um.__webglColorRenderbuffer=[],$.bindFramebuffer(o.FRAMEBUFFER,um.__webglMultisampledFramebuffer);for(let kp=0;kp<Cm.length;kp++){const nm=Cm[kp];um.__webglColorRenderbuffer[kp]=o.createRenderbuffer(),o.bindRenderbuffer(o.RENDERBUFFER,um.__webglColorRenderbuffer[kp]);const lm=et.convert(nm.format,nm.colorSpace),hm=et.convert(nm.type),Em=pn(nm.internalFormat,lm,hm,nm.colorSpace,jp.isXRRenderTarget===!0),Lp=bm(jp);o.renderbufferStorageMultisample(o.RENDERBUFFER,Lp,Em,jp.width,jp.height),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0+kp,o.RENDERBUFFER,um.__webglColorRenderbuffer[kp])}o.bindRenderbuffer(o.RENDERBUFFER,null),jp.depthBuffer&&(um.__webglDepthRenderbuffer=o.createRenderbuffer(),Gp(um.__webglDepthRenderbuffer,jp,!0)),$.bindFramebuffer(o.FRAMEBUFFER,null)}}if(Sm){$.bindTexture(o.TEXTURE_CUBE_MAP,_m.__webglTexture),Op(o.TEXTURE_CUBE_MAP,Rp,Dp);for(let kp=0;kp<6;kp++)if(nt&&Rp.mipmaps&&Rp.mipmaps.length>0)for(let nm=0;nm<Rp.mipmaps.length;nm++)Qp(um.__webglFramebuffer[kp][nm],jp,Rp,o.COLOR_ATTACHMENT0,o.TEXTURE_CUBE_MAP_POSITIVE_X+kp,nm);else Qp(um.__webglFramebuffer[kp],jp,Rp,o.COLOR_ATTACHMENT0,o.TEXTURE_CUBE_MAP_POSITIVE_X+kp,0);mn(Rp,Dp)&&dr(o.TEXTURE_CUBE_MAP),$.unbindTexture()}else if(zp){for(let kp=0,nm=Cm.length;kp<nm;kp++){const lm=Cm[kp],hm=j.get(lm);$.bindTexture(o.TEXTURE_2D,hm.__webglTexture),Op(o.TEXTURE_2D,lm,Dp),Qp(um.__webglFramebuffer,jp,lm,o.COLOR_ATTACHMENT0+kp,o.TEXTURE_2D,0),mn(lm,Dp)&&dr(o.TEXTURE_2D)}$.unbindTexture()}else{let kp=o.TEXTURE_2D;if((jp.isWebGL3DRenderTarget||jp.isWebGLArrayRenderTarget)&&(nt?kp=jp.isWebGL3DRenderTarget?o.TEXTURE_3D:o.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),$.bindTexture(kp,_m.__webglTexture),Op(kp,Rp,Dp),nt&&Rp.mipmaps&&Rp.mipmaps.length>0)for(let nm=0;nm<Rp.mipmaps.length;nm++)Qp(um.__webglFramebuffer[nm],jp,Rp,o.COLOR_ATTACHMENT0,kp,nm);else Qp(um.__webglFramebuffer,jp,Rp,o.COLOR_ATTACHMENT0,kp,0);mn(Rp,Dp)&&dr(kp),$.unbindTexture()}jp.depthBuffer&&Jp(jp)}function em(jp){const Rp=mr(jp)||nt,um=jp.textures;for(let _m=0,Cm=um.length;_m<Cm;_m++){const Sm=um[_m];if(mn(Sm,Rp)){const zp=jp.isWebGLCubeRenderTarget?o.TEXTURE_CUBE_MAP:o.TEXTURE_2D,Dp=j.get(Sm).__webglTexture;$.bindTexture(zp,Dp),dr(zp),$.unbindTexture()}}}function gm(jp){if(nt&&jp.samples>0&&ym(jp)===!1){const Rp=jp.textures,um=jp.width,_m=jp.height;let Cm=o.COLOR_BUFFER_BIT;const Sm=[],zp=jp.stencilBuffer?o.DEPTH_STENCIL_ATTACHMENT:o.DEPTH_ATTACHMENT,Dp=j.get(jp),kp=Rp.length>1;if(kp)for(let nm=0;nm<Rp.length;nm++)$.bindFramebuffer(o.FRAMEBUFFER,Dp.__webglMultisampledFramebuffer),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0+nm,o.RENDERBUFFER,null),$.bindFramebuffer(o.FRAMEBUFFER,Dp.__webglFramebuffer),o.framebufferTexture2D(o.DRAW_FRAMEBUFFER,o.COLOR_ATTACHMENT0+nm,o.TEXTURE_2D,null,0);$.bindFramebuffer(o.READ_FRAMEBUFFER,Dp.__webglMultisampledFramebuffer),$.bindFramebuffer(o.DRAW_FRAMEBUFFER,Dp.__webglFramebuffer);for(let nm=0;nm<Rp.length;nm++){Sm.push(o.COLOR_ATTACHMENT0+nm),jp.depthBuffer&&Sm.push(zp);const lm=Dp.__ignoreDepthValues!==void 0?Dp.__ignoreDepthValues:!1;if(lm===!1&&(jp.depthBuffer&&(Cm|=o.DEPTH_BUFFER_BIT),jp.stencilBuffer&&(Cm|=o.STENCIL_BUFFER_BIT)),kp&&o.framebufferRenderbuffer(o.READ_FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.RENDERBUFFER,Dp.__webglColorRenderbuffer[nm]),lm===!0&&(o.invalidateFramebuffer(o.READ_FRAMEBUFFER,[zp]),o.invalidateFramebuffer(o.DRAW_FRAMEBUFFER,[zp])),kp){const hm=j.get(Rp[nm]).__webglTexture;o.framebufferTexture2D(o.DRAW_FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,hm,0)}o.blitFramebuffer(0,0,um,_m,0,0,um,_m,Cm,o.NEAREST),lt&&o.invalidateFramebuffer(o.READ_FRAMEBUFFER,Sm)}if($.bindFramebuffer(o.READ_FRAMEBUFFER,null),$.bindFramebuffer(o.DRAW_FRAMEBUFFER,null),kp)for(let nm=0;nm<Rp.length;nm++){$.bindFramebuffer(o.FRAMEBUFFER,Dp.__webglMultisampledFramebuffer),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0+nm,o.RENDERBUFFER,Dp.__webglColorRenderbuffer[nm]);const lm=j.get(Rp[nm]).__webglTexture;$.bindFramebuffer(o.FRAMEBUFFER,Dp.__webglFramebuffer),o.framebufferTexture2D(o.DRAW_FRAMEBUFFER,o.COLOR_ATTACHMENT0+nm,o.TEXTURE_2D,lm,0)}$.bindFramebuffer(o.DRAW_FRAMEBUFFER,Dp.__webglMultisampledFramebuffer)}}function bm(jp){return Math.min(_e.maxSamples,jp.samples)}function ym(jp){const Rp=j.get(jp);return nt&&jp.samples>0&&_.has("WEBGL_multisampled_render_to_texture")===!0&&Rp.__useRenderToTexture!==!1}function am(jp){const Rp=tt.render.frame;bt.get(jp)!==Rp&&(bt.set(jp,Rp),jp.update())}function fm(jp,Rp){const um=jp.colorSpace,_m=jp.format,Cm=jp.type;return jp.isCompressedTexture===!0||jp.isVideoTexture===!0||jp.format===rs||um!==dn&&um!==an&&(je.getTransfer(um)===$e?nt===!1?_.has("EXT_sRGB")===!0&&_m===Ft?(jp.format=rs,jp.minFilter=St,jp.generateMipmaps=!1):Rp=ho.sRGBToLinear(Rp):(_m!==Ft||Cm!==un)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",um)),Rp}function vm(jp){return typeof HTMLImageElement<"u"&&jp instanceof HTMLImageElement?(dt.width=jp.naturalWidth||jp.width,dt.height=jp.naturalHeight||jp.height):typeof VideoFrame<"u"&&jp instanceof VideoFrame?(dt.width=jp.displayWidth,dt.height=jp.displayHeight):(dt.width=jp.width,dt.height=jp.height),dt}this.allocateTextureUnit=Sp,this.resetTextureUnits=vs,this.setTexture2D=bp,this.setTexture2DArray=Ep,this.setTexture3D=Cp,this.setTextureCube=Ap,this.rebindTextures=Up,this.setupRenderTarget=im,this.updateRenderTargetMipmap=em,this.updateMultisampleRenderTarget=gm,this.setupDepthRenderbuffer=Jp,this.setupFrameBufferTexture=Qp,this.useMultisampledRTT=ym}function ep(o,_,$){const j=$.isWebGL2;function _e(et,tt=an){let nt;const it=je.getTransfer(tt);if(et===un)return o.UNSIGNED_BYTE;if(et===io)return o.UNSIGNED_SHORT_4_4_4_4;if(et===ro)return o.UNSIGNED_SHORT_5_5_5_1;if(et===_l)return o.BYTE;if(et===gl)return o.SHORT;if(et===ls)return o.UNSIGNED_SHORT;if(et===no)return o.INT;if(et===on)return o.UNSIGNED_INT;if(et===Kt)return o.FLOAT;if(et===_i)return j?o.HALF_FLOAT:(nt=_.get("OES_texture_half_float"),nt!==null?nt.HALF_FLOAT_OES:null);if(et===vl)return o.ALPHA;if(et===Ft)return o.RGBA;if(et===xl)return o.LUMINANCE;if(et===Ml)return o.LUMINANCE_ALPHA;if(et===Rn)return o.DEPTH_COMPONENT;if(et===si)return o.DEPTH_STENCIL;if(et===rs)return nt=_.get("EXT_sRGB"),nt!==null?nt.SRGB_ALPHA_EXT:null;if(et===Sl)return o.RED;if(et===so)return o.RED_INTEGER;if(et===El)return o.RG;if(et===ao)return o.RG_INTEGER;if(et===oo)return o.RGBA_INTEGER;if(et===vr||et===xr||et===Mr||et===Sr)if(it===$e)if(nt=_.get("WEBGL_compressed_texture_s3tc_srgb"),nt!==null){if(et===vr)return nt.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(et===xr)return nt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(et===Mr)return nt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(et===Sr)return nt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(nt=_.get("WEBGL_compressed_texture_s3tc"),nt!==null){if(et===vr)return nt.COMPRESSED_RGB_S3TC_DXT1_EXT;if(et===xr)return nt.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(et===Mr)return nt.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(et===Sr)return nt.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(et===ws||et===Rs||et===Cs||et===Ps)if(nt=_.get("WEBGL_compressed_texture_pvrtc"),nt!==null){if(et===ws)return nt.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(et===Rs)return nt.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(et===Cs)return nt.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(et===Ps)return nt.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(et===lo)return nt=_.get("WEBGL_compressed_texture_etc1"),nt!==null?nt.COMPRESSED_RGB_ETC1_WEBGL:null;if(et===Ls||et===Ds)if(nt=_.get("WEBGL_compressed_texture_etc"),nt!==null){if(et===Ls)return it===$e?nt.COMPRESSED_SRGB8_ETC2:nt.COMPRESSED_RGB8_ETC2;if(et===Ds)return it===$e?nt.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:nt.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(et===Us||et===Is||et===Ns||et===Fs||et===Os||et===Bs||et===zs||et===Gs||et===Hs||et===Vs||et===ks||et===Ws||et===Xs||et===Ys)if(nt=_.get("WEBGL_compressed_texture_astc"),nt!==null){if(et===Us)return it===$e?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:nt.COMPRESSED_RGBA_ASTC_4x4_KHR;if(et===Is)return it===$e?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:nt.COMPRESSED_RGBA_ASTC_5x4_KHR;if(et===Ns)return it===$e?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:nt.COMPRESSED_RGBA_ASTC_5x5_KHR;if(et===Fs)return it===$e?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:nt.COMPRESSED_RGBA_ASTC_6x5_KHR;if(et===Os)return it===$e?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:nt.COMPRESSED_RGBA_ASTC_6x6_KHR;if(et===Bs)return it===$e?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:nt.COMPRESSED_RGBA_ASTC_8x5_KHR;if(et===zs)return it===$e?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:nt.COMPRESSED_RGBA_ASTC_8x6_KHR;if(et===Gs)return it===$e?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:nt.COMPRESSED_RGBA_ASTC_8x8_KHR;if(et===Hs)return it===$e?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:nt.COMPRESSED_RGBA_ASTC_10x5_KHR;if(et===Vs)return it===$e?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:nt.COMPRESSED_RGBA_ASTC_10x6_KHR;if(et===ks)return it===$e?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:nt.COMPRESSED_RGBA_ASTC_10x8_KHR;if(et===Ws)return it===$e?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:nt.COMPRESSED_RGBA_ASTC_10x10_KHR;if(et===Xs)return it===$e?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:nt.COMPRESSED_RGBA_ASTC_12x10_KHR;if(et===Ys)return it===$e?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:nt.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(et===Er||et===qs||et===js)if(nt=_.get("EXT_texture_compression_bptc"),nt!==null){if(et===Er)return it===$e?nt.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:nt.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(et===qs)return nt.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(et===js)return nt.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(et===yl||et===Ks||et===Zs||et===$s)if(nt=_.get("EXT_texture_compression_rgtc"),nt!==null){if(et===Er)return nt.COMPRESSED_RED_RGTC1_EXT;if(et===Ks)return nt.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(et===Zs)return nt.COMPRESSED_RED_GREEN_RGTC2_EXT;if(et===$s)return nt.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return et===wn?j?o.UNSIGNED_INT_24_8:(nt=_.get("WEBGL_depth_texture"),nt!==null?nt.UNSIGNED_INT_24_8_WEBGL:null):o[et]!==void 0?o[et]:null}return{convert:_e}}class tp extends Lt{constructor(_=[]){super(),this.isArrayCamera=!0,this.cameras=_}}class Xi extends Mt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const np={type:"move"};class qr{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Xi,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Xi,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new I,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new I),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Xi,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new I,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new I),this._grip}dispatchEvent(_){return this._targetRay!==null&&this._targetRay.dispatchEvent(_),this._grip!==null&&this._grip.dispatchEvent(_),this._hand!==null&&this._hand.dispatchEvent(_),this}connect(_){if(_&&_.hand){const $=this._hand;if($)for(const j of _.hand.values())this._getHandJoint($,j)}return this.dispatchEvent({type:"connected",data:_}),this}disconnect(_){return this.dispatchEvent({type:"disconnected",data:_}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(_,$,j){let _e=null,et=null,tt=null;const nt=this._targetRay,it=this._grip,lt=this._hand;if(_&&$.session.visibilityState!=="visible-blurred"){if(lt&&_.hand){tt=!0;for(const ft of _.hand.values()){const Ct=$.getJointPose(ft,j),mr=this._getHandJoint(lt,ft);Ct!==null&&(mr.matrix.fromArray(Ct.transform.matrix),mr.matrix.decompose(mr.position,mr.rotation,mr.scale),mr.matrixWorldNeedsUpdate=!0,mr.jointRadius=Ct.radius),mr.visible=Ct!==null}const dt=lt.joints["index-finger-tip"],bt=lt.joints["thumb-tip"],Ht=dt.position.distanceTo(bt.position),pr=.02,_n=.005;lt.inputState.pinching&&Ht>pr+_n?(lt.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:_.handedness,target:this})):!lt.inputState.pinching&&Ht<=pr-_n&&(lt.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:_.handedness,target:this}))}else it!==null&&_.gripSpace&&(et=$.getPose(_.gripSpace,j),et!==null&&(it.matrix.fromArray(et.transform.matrix),it.matrix.decompose(it.position,it.rotation,it.scale),it.matrixWorldNeedsUpdate=!0,et.linearVelocity?(it.hasLinearVelocity=!0,it.linearVelocity.copy(et.linearVelocity)):it.hasLinearVelocity=!1,et.angularVelocity?(it.hasAngularVelocity=!0,it.angularVelocity.copy(et.angularVelocity)):it.hasAngularVelocity=!1));nt!==null&&(_e=$.getPose(_.targetRaySpace,j),_e===null&&et!==null&&(_e=et),_e!==null&&(nt.matrix.fromArray(_e.transform.matrix),nt.matrix.decompose(nt.position,nt.rotation,nt.scale),nt.matrixWorldNeedsUpdate=!0,_e.linearVelocity?(nt.hasLinearVelocity=!0,nt.linearVelocity.copy(_e.linearVelocity)):nt.hasLinearVelocity=!1,_e.angularVelocity?(nt.hasAngularVelocity=!0,nt.angularVelocity.copy(_e.angularVelocity)):nt.hasAngularVelocity=!1,this.dispatchEvent(np)))}return nt!==null&&(nt.visible=_e!==null),it!==null&&(it.visible=et!==null),lt!==null&&(lt.visible=tt!==null),this}_getHandJoint(_,$){if(_.joints[$.jointName]===void 0){const j=new Xi;j.matrixAutoUpdate=!1,j.visible=!1,_.joints[$.jointName]=j,_.add(j)}return _.joints[$.jointName]}}const ip=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,rp=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class sp{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(_,$,j){if(this.texture===null){const _e=new yt,et=_.properties.get(_e);et.__webglTexture=$.texture,($.depthNear!=j.depthNear||$.depthFar!=j.depthFar)&&(this.depthNear=$.depthNear,this.depthFar=$.depthFar),this.texture=_e}}render(_,$){if(this.texture!==null){if(this.mesh===null){const j=$.cameras[0].viewport,_e=new fn({extensions:{fragDepth:!0},vertexShader:ip,fragmentShader:rp,uniforms:{depthColor:{value:this.texture},depthWidth:{value:j.z},depthHeight:{value:j.w}}});this.mesh=new Rt(new hr(20,20),_e)}_.render(this.mesh,$)}}reset(){this.texture=null,this.mesh=null}}class ap extends Ln{constructor(_,$){super();const j=this;let _e=null,et=1,tt=null,nt="local-floor",it=1,lt=null,dt=null,bt=null,Ht=null,pr=null,_n=null;const ft=new sp,Ct=$.getContextAttributes();let mr=null,_r=null;const mn=[],dr=[],pn=new Ie;let Do=null;const Io=new Lt;Io.layers.enable(1),Io.viewport=new ht;const Lo=new Lt;Lo.layers.enable(2),Lo.viewport=new ht;const ms=[Io,Lo],Uo=new tp;Uo.layers.enable(1),Uo.layers.enable(2);let _s=null,yp=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Op){let Wp=mn[Op];return Wp===void 0&&(Wp=new qr,mn[Op]=Wp),Wp.getTargetRaySpace()},this.getControllerGrip=function(Op){let Wp=mn[Op];return Wp===void 0&&(Wp=new qr,mn[Op]=Wp),Wp.getGripSpace()},this.getHand=function(Op){let Wp=mn[Op];return Wp===void 0&&(Wp=new qr,mn[Op]=Wp),Wp.getHandSpace()};function xs(Op){const Wp=dr.indexOf(Op.inputSource);if(Wp===-1)return;const Yp=mn[Wp];Yp!==void 0&&(Yp.update(Op.inputSource,Op.frame,lt||tt),Yp.dispatchEvent({type:Op.type,data:Op.inputSource}))}function vs(){_e.removeEventListener("select",xs),_e.removeEventListener("selectstart",xs),_e.removeEventListener("selectend",xs),_e.removeEventListener("squeeze",xs),_e.removeEventListener("squeezestart",xs),_e.removeEventListener("squeezeend",xs),_e.removeEventListener("end",vs),_e.removeEventListener("inputsourceschange",Sp);for(let Op=0;Op<mn.length;Op++){const Wp=dr[Op];Wp!==null&&(dr[Op]=null,mn[Op].disconnect(Wp))}_s=null,yp=null,ft.reset(),_.setRenderTarget(mr),pr=null,Ht=null,bt=null,_e=null,_r=null,Ip.stop(),j.isPresenting=!1,_.setPixelRatio(Do),_.setSize(pn.width,pn.height,!1),j.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Op){et=Op,j.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Op){nt=Op,j.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return lt||tt},this.setReferenceSpace=function(Op){lt=Op},this.getBaseLayer=function(){return Ht!==null?Ht:pr},this.getBinding=function(){return bt},this.getFrame=function(){return _n},this.getSession=function(){return _e},this.setSession=async function(Op){if(_e=Op,_e!==null){if(mr=_.getRenderTarget(),_e.addEventListener("select",xs),_e.addEventListener("selectstart",xs),_e.addEventListener("selectend",xs),_e.addEventListener("squeeze",xs),_e.addEventListener("squeezestart",xs),_e.addEventListener("squeezeend",xs),_e.addEventListener("end",vs),_e.addEventListener("inputsourceschange",Sp),Ct.xrCompatible!==!0&&await $.makeXRCompatible(),Do=_.getPixelRatio(),_.getSize(pn),_e.renderState.layers===void 0||_.capabilities.isWebGL2===!1){const Wp={antialias:_e.renderState.layers===void 0?Ct.antialias:!0,alpha:!0,depth:Ct.depth,stencil:Ct.stencil,framebufferScaleFactor:et};pr=new XRWebGLLayer(_e,$,Wp),_e.updateRenderState({baseLayer:pr}),_.setPixelRatio(1),_.setSize(pr.framebufferWidth,pr.framebufferHeight,!1),_r=new Cn(pr.framebufferWidth,pr.framebufferHeight,{format:Ft,type:un,colorSpace:_.outputColorSpace,stencilBuffer:Ct.stencil})}else{let Wp=null,Yp=null,Zp=null;Ct.depth&&(Zp=Ct.stencil?$.DEPTH24_STENCIL8:$.DEPTH_COMPONENT24,Wp=Ct.stencil?si:Rn,Yp=Ct.stencil?wn:on);const Qp={colorFormat:$.RGBA8,depthFormat:Zp,scaleFactor:et};bt=new XRWebGLBinding(_e,$),Ht=bt.createProjectionLayer(Qp),_e.updateRenderState({layers:[Ht]}),_.setPixelRatio(1),_.setSize(Ht.textureWidth,Ht.textureHeight,!1),_r=new Cn(Ht.textureWidth,Ht.textureHeight,{format:Ft,type:un,depthTexture:new To(Ht.textureWidth,Ht.textureHeight,Yp,void 0,void 0,void 0,void 0,void 0,void 0,Wp),stencilBuffer:Ct.stencil,colorSpace:_.outputColorSpace,samples:Ct.antialias?4:0});const Gp=_.properties.get(_r);Gp.__ignoreDepthValues=Ht.ignoreDepthValues}_r.isXRRenderTarget=!0,this.setFoveation(it),lt=null,tt=await _e.requestReferenceSpace(nt),Ip.setContext(_e),Ip.start(),j.isPresenting=!0,j.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(_e!==null)return _e.environmentBlendMode};function Sp(Op){for(let Wp=0;Wp<Op.removed.length;Wp++){const Yp=Op.removed[Wp],Zp=dr.indexOf(Yp);Zp>=0&&(dr[Zp]=null,mn[Zp].disconnect(Yp))}for(let Wp=0;Wp<Op.added.length;Wp++){const Yp=Op.added[Wp];let Zp=dr.indexOf(Yp);if(Zp===-1){for(let Gp=0;Gp<mn.length;Gp++)if(Gp>=dr.length){dr.push(Yp),Zp=Gp;break}else if(dr[Gp]===null){dr[Gp]=Yp,Zp=Gp;break}if(Zp===-1)break}const Qp=mn[Zp];Qp&&Qp.connect(Yp)}}const wp=new I,bp=new I;function Ep(Op,Wp,Yp){wp.setFromMatrixPosition(Wp.matrixWorld),bp.setFromMatrixPosition(Yp.matrixWorld);const Zp=wp.distanceTo(bp),Qp=Wp.projectionMatrix.elements,Gp=Yp.projectionMatrix.elements,rm=Qp[14]/(Qp[10]-1),Jp=Qp[14]/(Qp[10]+1),Up=(Qp[9]+1)/Qp[5],im=(Qp[9]-1)/Qp[5],em=(Qp[8]-1)/Qp[0],gm=(Gp[8]+1)/Gp[0],bm=rm*em,ym=rm*gm,am=Zp/(-em+gm),fm=am*-em;Wp.matrixWorld.decompose(Op.position,Op.quaternion,Op.scale),Op.translateX(fm),Op.translateZ(am),Op.matrixWorld.compose(Op.position,Op.quaternion,Op.scale),Op.matrixWorldInverse.copy(Op.matrixWorld).invert();const vm=rm+am,jp=Jp+am,Rp=bm-fm,um=ym+(Zp-fm),_m=Up*Jp/jp*vm,Cm=im*Jp/jp*vm;Op.projectionMatrix.makePerspective(Rp,um,_m,Cm,vm,jp),Op.projectionMatrixInverse.copy(Op.projectionMatrix).invert()}function Cp(Op,Wp){Wp===null?Op.matrixWorld.copy(Op.matrix):Op.matrixWorld.multiplyMatrices(Wp.matrixWorld,Op.matrix),Op.matrixWorldInverse.copy(Op.matrixWorld).invert()}this.updateCamera=function(Op){if(_e===null)return;ft.texture!==null&&(Op.near=ft.depthNear,Op.far=ft.depthFar),Uo.near=Lo.near=Io.near=Op.near,Uo.far=Lo.far=Io.far=Op.far,(_s!==Uo.near||yp!==Uo.far)&&(_e.updateRenderState({depthNear:Uo.near,depthFar:Uo.far}),_s=Uo.near,yp=Uo.far,Io.near=_s,Io.far=yp,Lo.near=_s,Lo.far=yp,Io.updateProjectionMatrix(),Lo.updateProjectionMatrix(),Op.updateProjectionMatrix());const Wp=Op.parent,Yp=Uo.cameras;Cp(Uo,Wp);for(let Zp=0;Zp<Yp.length;Zp++)Cp(Yp[Zp],Wp);Yp.length===2?Ep(Uo,Io,Lo):Uo.projectionMatrix.copy(Io.projectionMatrix),Ap(Op,Uo,Wp)};function Ap(Op,Wp,Yp){Yp===null?Op.matrix.copy(Wp.matrixWorld):(Op.matrix.copy(Yp.matrixWorld),Op.matrix.invert(),Op.matrix.multiply(Wp.matrixWorld)),Op.matrix.decompose(Op.position,Op.quaternion,Op.scale),Op.updateMatrixWorld(!0),Op.projectionMatrix.copy(Wp.projectionMatrix),Op.projectionMatrixInverse.copy(Wp.projectionMatrixInverse),Op.isPerspectiveCamera&&(Op.fov=gi*2*Math.atan(1/Op.projectionMatrix.elements[5]),Op.zoom=1)}this.getCamera=function(){return Uo},this.getFoveation=function(){if(!(Ht===null&&pr===null))return it},this.setFoveation=function(Op){it=Op,Ht!==null&&(Ht.fixedFoveation=Op),pr!==null&&pr.fixedFoveation!==void 0&&(pr.fixedFoveation=Op)},this.hasDepthSensing=function(){return ft.texture!==null};let Mp=null;function Pp(Op,Wp){if(dt=Wp.getViewerPose(lt||tt),_n=Wp,dt!==null){const Yp=dt.views;pr!==null&&(_.setRenderTargetFramebuffer(_r,pr.framebuffer),_.setRenderTarget(_r));let Zp=!1;Yp.length!==Uo.cameras.length&&(Uo.cameras.length=0,Zp=!0);for(let Gp=0;Gp<Yp.length;Gp++){const rm=Yp[Gp];let Jp=null;if(pr!==null)Jp=pr.getViewport(rm);else{const im=bt.getViewSubImage(Ht,rm);Jp=im.viewport,Gp===0&&(_.setRenderTargetTextures(_r,im.colorTexture,Ht.ignoreDepthValues?void 0:im.depthStencilTexture),_.setRenderTarget(_r))}let Up=ms[Gp];Up===void 0&&(Up=new Lt,Up.layers.enable(Gp),Up.viewport=new ht,ms[Gp]=Up),Up.matrix.fromArray(rm.transform.matrix),Up.matrix.decompose(Up.position,Up.quaternion,Up.scale),Up.projectionMatrix.fromArray(rm.projectionMatrix),Up.projectionMatrixInverse.copy(Up.projectionMatrix).invert(),Up.viewport.set(Jp.x,Jp.y,Jp.width,Jp.height),Gp===0&&(Uo.matrix.copy(Up.matrix),Uo.matrix.decompose(Uo.position,Uo.quaternion,Uo.scale)),Zp===!0&&Uo.cameras.push(Up)}const Qp=_e.enabledFeatures;if(Qp&&Qp.includes("depth-sensing")){const Gp=bt.getDepthInformation(Yp[0]);Gp&&Gp.isValid&&Gp.texture&&ft.init(_,Gp,_e.renderState)}}for(let Yp=0;Yp<mn.length;Yp++){const Zp=dr[Yp],Qp=mn[Yp];Zp!==null&&Qp!==void 0&&Qp.update(Zp,Wp,lt||tt)}ft.render(_,Uo),Mp&&Mp(Op,Wp),Wp.detectedPlanes&&j.dispatchEvent({type:"planesdetected",data:Wp}),_n=null}const Ip=new yo;Ip.setAnimationLoop(Pp),this.setAnimationLoop=function(Op){Mp=Op},this.dispose=function(){}}}const En=new $t,op=new st;function lp(o,_){function $(Ct,mr){Ct.matrixAutoUpdate===!0&&Ct.updateMatrix(),mr.value.copy(Ct.matrix)}function j(Ct,mr){mr.color.getRGB(Ct.fogColor.value,xo(o)),mr.isFog?(Ct.fogNear.value=mr.near,Ct.fogFar.value=mr.far):mr.isFogExp2&&(Ct.fogDensity.value=mr.density)}function _e(Ct,mr,_r,mn,dr){mr.isMeshBasicMaterial||mr.isMeshLambertMaterial?et(Ct,mr):mr.isMeshToonMaterial?(et(Ct,mr),bt(Ct,mr)):mr.isMeshPhongMaterial?(et(Ct,mr),dt(Ct,mr)):mr.isMeshStandardMaterial?(et(Ct,mr),Ht(Ct,mr),mr.isMeshPhysicalMaterial&&pr(Ct,mr,dr)):mr.isMeshMatcapMaterial?(et(Ct,mr),_n(Ct,mr)):mr.isMeshDepthMaterial?et(Ct,mr):mr.isMeshDistanceMaterial?(et(Ct,mr),ft(Ct,mr)):mr.isMeshNormalMaterial?et(Ct,mr):mr.isLineBasicMaterial?(tt(Ct,mr),mr.isLineDashedMaterial&&nt(Ct,mr)):mr.isPointsMaterial?it(Ct,mr,_r,mn):mr.isSpriteMaterial?lt(Ct,mr):mr.isShadowMaterial?(Ct.color.value.copy(mr.color),Ct.opacity.value=mr.opacity):mr.isShaderMaterial&&(mr.uniformsNeedUpdate=!1)}function et(Ct,mr){Ct.opacity.value=mr.opacity,mr.color&&Ct.diffuse.value.copy(mr.color),mr.emissive&&Ct.emissive.value.copy(mr.emissive).multiplyScalar(mr.emissiveIntensity),mr.map&&(Ct.map.value=mr.map,$(mr.map,Ct.mapTransform)),mr.alphaMap&&(Ct.alphaMap.value=mr.alphaMap,$(mr.alphaMap,Ct.alphaMapTransform)),mr.bumpMap&&(Ct.bumpMap.value=mr.bumpMap,$(mr.bumpMap,Ct.bumpMapTransform),Ct.bumpScale.value=mr.bumpScale,mr.side===Et&&(Ct.bumpScale.value*=-1)),mr.normalMap&&(Ct.normalMap.value=mr.normalMap,$(mr.normalMap,Ct.normalMapTransform),Ct.normalScale.value.copy(mr.normalScale),mr.side===Et&&Ct.normalScale.value.negate()),mr.displacementMap&&(Ct.displacementMap.value=mr.displacementMap,$(mr.displacementMap,Ct.displacementMapTransform),Ct.displacementScale.value=mr.displacementScale,Ct.displacementBias.value=mr.displacementBias),mr.emissiveMap&&(Ct.emissiveMap.value=mr.emissiveMap,$(mr.emissiveMap,Ct.emissiveMapTransform)),mr.specularMap&&(Ct.specularMap.value=mr.specularMap,$(mr.specularMap,Ct.specularMapTransform)),mr.alphaTest>0&&(Ct.alphaTest.value=mr.alphaTest);const _r=_.get(mr),mn=_r.envMap,dr=_r.envMapRotation;if(mn&&(Ct.envMap.value=mn,En.copy(dr),En.x*=-1,En.y*=-1,En.z*=-1,mn.isCubeTexture&&mn.isRenderTargetTexture===!1&&(En.y*=-1,En.z*=-1),Ct.envMapRotation.value.setFromMatrix4(op.makeRotationFromEuler(En)),Ct.flipEnvMap.value=mn.isCubeTexture&&mn.isRenderTargetTexture===!1?-1:1,Ct.reflectivity.value=mr.reflectivity,Ct.ior.value=mr.ior,Ct.refractionRatio.value=mr.refractionRatio),mr.lightMap){Ct.lightMap.value=mr.lightMap;const pn=o._useLegacyLights===!0?Math.PI:1;Ct.lightMapIntensity.value=mr.lightMapIntensity*pn,$(mr.lightMap,Ct.lightMapTransform)}mr.aoMap&&(Ct.aoMap.value=mr.aoMap,Ct.aoMapIntensity.value=mr.aoMapIntensity,$(mr.aoMap,Ct.aoMapTransform))}function tt(Ct,mr){Ct.diffuse.value.copy(mr.color),Ct.opacity.value=mr.opacity,mr.map&&(Ct.map.value=mr.map,$(mr.map,Ct.mapTransform))}function nt(Ct,mr){Ct.dashSize.value=mr.dashSize,Ct.totalSize.value=mr.dashSize+mr.gapSize,Ct.scale.value=mr.scale}function it(Ct,mr,_r,mn){Ct.diffuse.value.copy(mr.color),Ct.opacity.value=mr.opacity,Ct.size.value=mr.size*_r,Ct.scale.value=mn*.5,mr.map&&(Ct.map.value=mr.map,$(mr.map,Ct.uvTransform)),mr.alphaMap&&(Ct.alphaMap.value=mr.alphaMap,$(mr.alphaMap,Ct.alphaMapTransform)),mr.alphaTest>0&&(Ct.alphaTest.value=mr.alphaTest)}function lt(Ct,mr){Ct.diffuse.value.copy(mr.color),Ct.opacity.value=mr.opacity,Ct.rotation.value=mr.rotation,mr.map&&(Ct.map.value=mr.map,$(mr.map,Ct.mapTransform)),mr.alphaMap&&(Ct.alphaMap.value=mr.alphaMap,$(mr.alphaMap,Ct.alphaMapTransform)),mr.alphaTest>0&&(Ct.alphaTest.value=mr.alphaTest)}function dt(Ct,mr){Ct.specular.value.copy(mr.specular),Ct.shininess.value=Math.max(mr.shininess,1e-4)}function bt(Ct,mr){mr.gradientMap&&(Ct.gradientMap.value=mr.gradientMap)}function Ht(Ct,mr){Ct.metalness.value=mr.metalness,mr.metalnessMap&&(Ct.metalnessMap.value=mr.metalnessMap,$(mr.metalnessMap,Ct.metalnessMapTransform)),Ct.roughness.value=mr.roughness,mr.roughnessMap&&(Ct.roughnessMap.value=mr.roughnessMap,$(mr.roughnessMap,Ct.roughnessMapTransform)),_.get(mr).envMap&&(Ct.envMapIntensity.value=mr.envMapIntensity)}function pr(Ct,mr,_r){Ct.ior.value=mr.ior,mr.sheen>0&&(Ct.sheenColor.value.copy(mr.sheenColor).multiplyScalar(mr.sheen),Ct.sheenRoughness.value=mr.sheenRoughness,mr.sheenColorMap&&(Ct.sheenColorMap.value=mr.sheenColorMap,$(mr.sheenColorMap,Ct.sheenColorMapTransform)),mr.sheenRoughnessMap&&(Ct.sheenRoughnessMap.value=mr.sheenRoughnessMap,$(mr.sheenRoughnessMap,Ct.sheenRoughnessMapTransform))),mr.clearcoat>0&&(Ct.clearcoat.value=mr.clearcoat,Ct.clearcoatRoughness.value=mr.clearcoatRoughness,mr.clearcoatMap&&(Ct.clearcoatMap.value=mr.clearcoatMap,$(mr.clearcoatMap,Ct.clearcoatMapTransform)),mr.clearcoatRoughnessMap&&(Ct.clearcoatRoughnessMap.value=mr.clearcoatRoughnessMap,$(mr.clearcoatRoughnessMap,Ct.clearcoatRoughnessMapTransform)),mr.clearcoatNormalMap&&(Ct.clearcoatNormalMap.value=mr.clearcoatNormalMap,$(mr.clearcoatNormalMap,Ct.clearcoatNormalMapTransform),Ct.clearcoatNormalScale.value.copy(mr.clearcoatNormalScale),mr.side===Et&&Ct.clearcoatNormalScale.value.negate())),mr.iridescence>0&&(Ct.iridescence.value=mr.iridescence,Ct.iridescenceIOR.value=mr.iridescenceIOR,Ct.iridescenceThicknessMinimum.value=mr.iridescenceThicknessRange[0],Ct.iridescenceThicknessMaximum.value=mr.iridescenceThicknessRange[1],mr.iridescenceMap&&(Ct.iridescenceMap.value=mr.iridescenceMap,$(mr.iridescenceMap,Ct.iridescenceMapTransform)),mr.iridescenceThicknessMap&&(Ct.iridescenceThicknessMap.value=mr.iridescenceThicknessMap,$(mr.iridescenceThicknessMap,Ct.iridescenceThicknessMapTransform))),mr.transmission>0&&(Ct.transmission.value=mr.transmission,Ct.transmissionSamplerMap.value=_r.texture,Ct.transmissionSamplerSize.value.set(_r.width,_r.height),mr.transmissionMap&&(Ct.transmissionMap.value=mr.transmissionMap,$(mr.transmissionMap,Ct.transmissionMapTransform)),Ct.thickness.value=mr.thickness,mr.thicknessMap&&(Ct.thicknessMap.value=mr.thicknessMap,$(mr.thicknessMap,Ct.thicknessMapTransform)),Ct.attenuationDistance.value=mr.attenuationDistance,Ct.attenuationColor.value.copy(mr.attenuationColor)),mr.anisotropy>0&&(Ct.anisotropyVector.value.set(mr.anisotropy*Math.cos(mr.anisotropyRotation),mr.anisotropy*Math.sin(mr.anisotropyRotation)),mr.anisotropyMap&&(Ct.anisotropyMap.value=mr.anisotropyMap,$(mr.anisotropyMap,Ct.anisotropyMapTransform))),Ct.specularIntensity.value=mr.specularIntensity,Ct.specularColor.value.copy(mr.specularColor),mr.specularColorMap&&(Ct.specularColorMap.value=mr.specularColorMap,$(mr.specularColorMap,Ct.specularColorMapTransform)),mr.specularIntensityMap&&(Ct.specularIntensityMap.value=mr.specularIntensityMap,$(mr.specularIntensityMap,Ct.specularIntensityMapTransform))}function _n(Ct,mr){mr.matcap&&(Ct.matcap.value=mr.matcap)}function ft(Ct,mr){const _r=_.get(mr).light;Ct.referencePosition.value.setFromMatrixPosition(_r.matrixWorld),Ct.nearDistance.value=_r.shadow.camera.near,Ct.farDistance.value=_r.shadow.camera.far}return{refreshFogUniforms:j,refreshMaterialUniforms:_e}}function cp(o,_,$,j){let _e={},et={},tt=[];const nt=$.isWebGL2?o.getParameter(o.MAX_UNIFORM_BUFFER_BINDINGS):0;function it(_r,mn){const dr=mn.program;j.uniformBlockBinding(_r,dr)}function lt(_r,mn){let dr=_e[_r.id];dr===void 0&&(_n(_r),dr=dt(_r),_e[_r.id]=dr,_r.addEventListener("dispose",Ct));const pn=mn.program;j.updateUBOMapping(_r,pn);const Do=_.render.frame;et[_r.id]!==Do&&(Ht(_r),et[_r.id]=Do)}function dt(_r){const mn=bt();_r.__bindingPointIndex=mn;const dr=o.createBuffer(),pn=_r.__size,Do=_r.usage;return o.bindBuffer(o.UNIFORM_BUFFER,dr),o.bufferData(o.UNIFORM_BUFFER,pn,Do),o.bindBuffer(o.UNIFORM_BUFFER,null),o.bindBufferBase(o.UNIFORM_BUFFER,mn,dr),dr}function bt(){for(let _r=0;_r<nt;_r++)if(tt.indexOf(_r)===-1)return tt.push(_r),_r;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function Ht(_r){const mn=_e[_r.id],dr=_r.uniforms,pn=_r.__cache;o.bindBuffer(o.UNIFORM_BUFFER,mn);for(let Do=0,Io=dr.length;Do<Io;Do++){const Lo=Array.isArray(dr[Do])?dr[Do]:[dr[Do]];for(let ms=0,Uo=Lo.length;ms<Uo;ms++){const _s=Lo[ms];if(pr(_s,Do,ms,pn)===!0){const yp=_s.__offset,xs=Array.isArray(_s.value)?_s.value:[_s.value];let vs=0;for(let Sp=0;Sp<xs.length;Sp++){const wp=xs[Sp],bp=ft(wp);typeof wp=="number"||typeof wp=="boolean"?(_s.__data[0]=wp,o.bufferSubData(o.UNIFORM_BUFFER,yp+vs,_s.__data)):wp.isMatrix3?(_s.__data[0]=wp.elements[0],_s.__data[1]=wp.elements[1],_s.__data[2]=wp.elements[2],_s.__data[3]=0,_s.__data[4]=wp.elements[3],_s.__data[5]=wp.elements[4],_s.__data[6]=wp.elements[5],_s.__data[7]=0,_s.__data[8]=wp.elements[6],_s.__data[9]=wp.elements[7],_s.__data[10]=wp.elements[8],_s.__data[11]=0):(wp.toArray(_s.__data,vs),vs+=bp.storage/Float32Array.BYTES_PER_ELEMENT)}o.bufferSubData(o.UNIFORM_BUFFER,yp,_s.__data)}}}o.bindBuffer(o.UNIFORM_BUFFER,null)}function pr(_r,mn,dr,pn){const Do=_r.value,Io=mn+"_"+dr;if(pn[Io]===void 0)return typeof Do=="number"||typeof Do=="boolean"?pn[Io]=Do:pn[Io]=Do.clone(),!0;{const Lo=pn[Io];if(typeof Do=="number"||typeof Do=="boolean"){if(Lo!==Do)return pn[Io]=Do,!0}else if(Lo.equals(Do)===!1)return Lo.copy(Do),!0}return!1}function _n(_r){const mn=_r.uniforms;let dr=0;const pn=16;for(let Io=0,Lo=mn.length;Io<Lo;Io++){const ms=Array.isArray(mn[Io])?mn[Io]:[mn[Io]];for(let Uo=0,_s=ms.length;Uo<_s;Uo++){const yp=ms[Uo],xs=Array.isArray(yp.value)?yp.value:[yp.value];for(let vs=0,Sp=xs.length;vs<Sp;vs++){const wp=xs[vs],bp=ft(wp),Ep=dr%pn;Ep!==0&&pn-Ep<bp.boundary&&(dr+=pn-Ep),yp.__data=new Float32Array(bp.storage/Float32Array.BYTES_PER_ELEMENT),yp.__offset=dr,dr+=bp.storage}}}const Do=dr%pn;return Do>0&&(dr+=pn-Do),_r.__size=dr,_r.__cache={},this}function ft(_r){const mn={boundary:0,storage:0};return typeof _r=="number"||typeof _r=="boolean"?(mn.boundary=4,mn.storage=4):_r.isVector2?(mn.boundary=8,mn.storage=8):_r.isVector3||_r.isColor?(mn.boundary=16,mn.storage=12):_r.isVector4?(mn.boundary=16,mn.storage=16):_r.isMatrix3?(mn.boundary=48,mn.storage=48):_r.isMatrix4?(mn.boundary=64,mn.storage=64):_r.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_r),mn}function Ct(_r){const mn=_r.target;mn.removeEventListener("dispose",Ct);const dr=tt.indexOf(mn.__bindingPointIndex);tt.splice(dr,1),o.deleteBuffer(_e[mn.id]),delete _e[mn.id],delete et[mn.id]}function mr(){for(const _r in _e)o.deleteBuffer(_e[_r]);tt=[],_e={},et={}}return{bind:it,update:lt,dispose:mr}}class Po{constructor(_={}){const{canvas:$=Zl(),context:j=null,depth:_e=!0,stencil:et=!0,alpha:tt=!1,antialias:nt=!1,premultipliedAlpha:it=!0,preserveDrawingBuffer:lt=!1,powerPreference:dt="default",failIfMajorPerformanceCaveat:bt=!1}=_;this.isWebGLRenderer=!0;let Ht;j!==null?Ht=j.getContextAttributes().alpha:Ht=tt;const pr=new Uint32Array(4),_n=new Int32Array(4);let ft=null,Ct=null;const mr=[],_r=[];this.domElement=$,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Bt,this._useLegacyLights=!1,this.toneMapping=cn,this.toneMappingExposure=1;const mn=this;let dr=!1,pn=0,Do=0,Io=null,Lo=-1,ms=null;const Uo=new ht,_s=new ht;let yp=null;const xs=new qe(0);let vs=0,Sp=$.width,wp=$.height,bp=1,Ep=null,Cp=null;const Ap=new ht(0,0,Sp,wp),Mp=new ht(0,0,Sp,wp);let Pp=!1;const Ip=new Eo;let Op=!1,Wp=!1,Yp=null;const Zp=new st,Qp=new Ie,Gp=new I,rm={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Jp(){return Io===null?bp:1}let Up=j;function im(Xp,Tm){for(let Pm=0;Pm<Xp.length;Pm++){const km=Xp[Pm],Rm=$.getContext(km,Tm);if(Rm!==null)return Rm}return null}try{const Xp={alpha:!0,depth:_e,stencil:et,antialias:nt,premultipliedAlpha:it,preserveDrawingBuffer:lt,powerPreference:dt,failIfMajorPerformanceCaveat:bt};if("setAttribute"in $&&$.setAttribute("data-engine",`three.js r${os}`),$.addEventListener("webglcontextlost",Np,!1),$.addEventListener("webglcontextrestored",Hp,!1),$.addEventListener("webglcontextcreationerror",Mm,!1),Up===null){const Tm=["webgl2","webgl","experimental-webgl"];if(mn.isWebGL1Renderer===!0&&Tm.shift(),Up=im(Tm,Xp),Up===null)throw im(Tm)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Up instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Up.getShaderPrecisionFormat===void 0&&(Up.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Xp){throw console.error("THREE.WebGLRenderer: "+Xp.message),Xp}let em,gm,bm,ym,am,fm,vm,jp,Rp,um,_m,Cm,Sm,zp,Dp,kp,nm,lm,hm,Em,Lp,cm,mm,Vp;function qp(){em=new mf(Up),gm=new lf(Up,em,_),em.init(gm),cm=new ep(Up,em,gm),bm=new Jd(Up,em,gm),ym=new vf(Up),am=new Bd,fm=new Qd(Up,em,bm,am,gm,cm,ym),vm=new uf(mn),jp=new pf(mn),Rp=new Ec(Up,gm),mm=new af(Up,em,Rp,gm),um=new _f(Up,Rp,ym,mm),_m=new Ef(Up,um,Rp,ym),hm=new Sf(Up,gm,fm),kp=new cf(am),Cm=new Od(mn,vm,jp,em,gm,mm,kp),Sm=new lp(mn,am),zp=new Gd,Dp=new Yd(em,gm),lm=new sf(mn,vm,jp,bm,_m,Ht,it),nm=new $d(mn,_m,gm),Vp=new cp(Up,ym,gm,bm),Em=new of(Up,em,ym,gm),Lp=new gf(Up,em,ym,gm),ym.programs=Cm.programs,mn.capabilities=gm,mn.extensions=em,mn.properties=am,mn.renderLists=zp,mn.shadowMap=nm,mn.state=bm,mn.info=ym}qp();const xm=new ap(mn,Up);this.xr=xm,this.getContext=function(){return Up},this.getContextAttributes=function(){return Up.getContextAttributes()},this.forceContextLoss=function(){const Xp=em.get("WEBGL_lose_context");Xp&&Xp.loseContext()},this.forceContextRestore=function(){const Xp=em.get("WEBGL_lose_context");Xp&&Xp.restoreContext()},this.getPixelRatio=function(){return bp},this.setPixelRatio=function(Xp){Xp!==void 0&&(bp=Xp,this.setSize(Sp,wp,!1))},this.getSize=function(Xp){return Xp.set(Sp,wp)},this.setSize=function(Xp,Tm,Pm=!0){if(xm.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Sp=Xp,wp=Tm,$.width=Math.floor(Xp*bp),$.height=Math.floor(Tm*bp),Pm===!0&&($.style.width=Xp+"px",$.style.height=Tm+"px"),this.setViewport(0,0,Xp,Tm)},this.getDrawingBufferSize=function(Xp){return Xp.set(Sp*bp,wp*bp).floor()},this.setDrawingBufferSize=function(Xp,Tm,Pm){Sp=Xp,wp=Tm,bp=Pm,$.width=Math.floor(Xp*Pm),$.height=Math.floor(Tm*Pm),this.setViewport(0,0,Xp,Tm)},this.getCurrentViewport=function(Xp){return Xp.copy(Uo)},this.getViewport=function(Xp){return Xp.copy(Ap)},this.setViewport=function(Xp,Tm,Pm,km){Xp.isVector4?Ap.set(Xp.x,Xp.y,Xp.z,Xp.w):Ap.set(Xp,Tm,Pm,km),bm.viewport(Uo.copy(Ap).multiplyScalar(bp).round())},this.getScissor=function(Xp){return Xp.copy(Mp)},this.setScissor=function(Xp,Tm,Pm,km){Xp.isVector4?Mp.set(Xp.x,Xp.y,Xp.z,Xp.w):Mp.set(Xp,Tm,Pm,km),bm.scissor(_s.copy(Mp).multiplyScalar(bp).round())},this.getScissorTest=function(){return Pp},this.setScissorTest=function(Xp){bm.setScissorTest(Pp=Xp)},this.setOpaqueSort=function(Xp){Ep=Xp},this.setTransparentSort=function(Xp){Cp=Xp},this.getClearColor=function(Xp){return Xp.copy(lm.getClearColor())},this.setClearColor=function(){lm.setClearColor.apply(lm,arguments)},this.getClearAlpha=function(){return lm.getClearAlpha()},this.setClearAlpha=function(){lm.setClearAlpha.apply(lm,arguments)},this.clear=function(Xp=!0,Tm=!0,Pm=!0){let km=0;if(Xp){let Rm=!1;if(Io!==null){const Fm=Io.texture.format;Rm=Fm===oo||Fm===ao||Fm===so}if(Rm){const Fm=Io.texture.type,Wm=Fm===un||Fm===on||Fm===ls||Fm===wn||Fm===io||Fm===ro,Hm=lm.getClearColor(),qm=lm.getClearAlpha(),_g=Hm.r,Qm=Hm.g,ey=Hm.b;Wm?(pr[0]=_g,pr[1]=Qm,pr[2]=ey,pr[3]=qm,Up.clearBufferuiv(Up.COLOR,0,pr)):(_n[0]=_g,_n[1]=Qm,_n[2]=ey,_n[3]=qm,Up.clearBufferiv(Up.COLOR,0,_n))}else km|=Up.COLOR_BUFFER_BIT}Tm&&(km|=Up.DEPTH_BUFFER_BIT),Pm&&(km|=Up.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Up.clear(km)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){$.removeEventListener("webglcontextlost",Np,!1),$.removeEventListener("webglcontextrestored",Hp,!1),$.removeEventListener("webglcontextcreationerror",Mm,!1),zp.dispose(),Dp.dispose(),am.dispose(),vm.dispose(),jp.dispose(),_m.dispose(),mm.dispose(),Vp.dispose(),Cm.dispose(),xm.dispose(),xm.removeEventListener("sessionstart",Nm),xm.removeEventListener("sessionend",Im),Yp&&(Yp.dispose(),Yp=null),jm.stop()};function Np(Xp){Xp.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),dr=!0}function Hp(){console.log("THREE.WebGLRenderer: Context Restored."),dr=!1;const Xp=ym.autoReset,Tm=nm.enabled,Pm=nm.autoUpdate,km=nm.needsUpdate,Rm=nm.type;qp(),ym.autoReset=Xp,nm.enabled=Tm,nm.autoUpdate=Pm,nm.needsUpdate=km,nm.type=Rm}function Mm(Xp){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Xp.statusMessage)}function Tp(Xp){const Tm=Xp.target;Tm.removeEventListener("dispose",Tp),dm(Tm)}function dm(Xp){om(Xp),am.remove(Xp)}function om(Xp){const Tm=am.get(Xp).programs;Tm!==void 0&&(Tm.forEach(function(Pm){Cm.releaseProgram(Pm)}),Xp.isShaderMaterial&&Cm.releaseShaderCache(Xp))}this.renderBufferDirect=function(Xp,Tm,Pm,km,Rm,Fm){Tm===null&&(Tm=rm);const Wm=Rm.isMesh&&Rm.matrixWorld.determinant()<0,Hm=Ay(Xp,Tm,Pm,km,Rm);bm.setMaterial(km,Wm);let qm=Pm.index,_g=1;if(km.wireframe===!0){if(qm=um.getWireframeAttribute(Pm),qm===void 0)return;_g=2}const Qm=Pm.drawRange,ey=Pm.attributes.position;let Ym=Qm.start*_g,dy=(Qm.start+Qm.count)*_g;Fm!==null&&(Ym=Math.max(Ym,Fm.start*_g),dy=Math.min(dy,(Fm.start+Fm.count)*_g)),qm!==null?(Ym=Math.max(Ym,0),dy=Math.min(dy,qm.count)):ey!=null&&(Ym=Math.max(Ym,0),dy=Math.min(dy,ey.count));const _y=dy-Ym;if(_y<0||_y===1/0)return;mm.setup(Rm,km,Hm,Pm,qm);let Py,hy=Em;if(qm!==null&&(Py=Rp.get(qm),hy=Lp,hy.setIndex(Py)),Rm.isMesh)km.wireframe===!0?(bm.setLineWidth(km.wireframeLinewidth*Jp()),hy.setMode(Up.LINES)):hy.setMode(Up.TRIANGLES);else if(Rm.isLine){let Xm=km.linewidth;Xm===void 0&&(Xm=1),bm.setLineWidth(Xm*Jp()),Rm.isLineSegments?hy.setMode(Up.LINES):Rm.isLineLoop?hy.setMode(Up.LINE_LOOP):hy.setMode(Up.LINE_STRIP)}else Rm.isPoints?hy.setMode(Up.POINTS):Rm.isSprite&&hy.setMode(Up.TRIANGLES);if(Rm.isBatchedMesh)hy.renderMultiDraw(Rm._multiDrawStarts,Rm._multiDrawCounts,Rm._multiDrawCount);else if(Rm.isInstancedMesh)hy.renderInstances(Ym,_y,Rm.count);else if(Pm.isInstancedBufferGeometry){const Xm=Pm._maxInstanceCount!==void 0?Pm._maxInstanceCount:1/0,Wy=Math.min(Pm.instanceCount,Xm);hy.renderInstances(Ym,_y,Wy)}else hy.render(Ym,_y)};function Bp(Xp,Tm,Pm){Xp.transparent===!0&&Xp.side===jt&&Xp.forceSinglePass===!1?(Xp.side=Et,Xp.needsUpdate=!0,gy(Xp,Tm,Pm),Xp.side=hn,Xp.needsUpdate=!0,gy(Xp,Tm,Pm),Xp.side=jt):gy(Xp,Tm,Pm)}this.compile=function(Xp,Tm,Pm=null){Pm===null&&(Pm=Xp),Ct=Dp.get(Pm),Ct.init(),_r.push(Ct),Pm.traverseVisible(function(Rm){Rm.isLight&&Rm.layers.test(Tm.layers)&&(Ct.pushLight(Rm),Rm.castShadow&&Ct.pushShadow(Rm))}),Xp!==Pm&&Xp.traverseVisible(function(Rm){Rm.isLight&&Rm.layers.test(Tm.layers)&&(Ct.pushLight(Rm),Rm.castShadow&&Ct.pushShadow(Rm))}),Ct.setupLights(mn._useLegacyLights);const km=new Set;return Xp.traverse(function(Rm){const Fm=Rm.material;if(Fm)if(Array.isArray(Fm))for(let Wm=0;Wm<Fm.length;Wm++){const Hm=Fm[Wm];Bp(Hm,Pm,Rm),km.add(Hm)}else Bp(Fm,Pm,Rm),km.add(Fm)}),_r.pop(),Ct=null,km},this.compileAsync=function(Xp,Tm,Pm=null){const km=this.compile(Xp,Tm,Pm);return new Promise(Rm=>{function Fm(){if(km.forEach(function(Wm){am.get(Wm).currentProgram.isReady()&&km.delete(Wm)}),km.size===0){Rm(Xp);return}setTimeout(Fm,10)}em.get("KHR_parallel_shader_compile")!==null?Fm():setTimeout(Fm,10)})};let sm=null;function $m(Xp){sm&&sm(Xp)}function Nm(){jm.stop()}function Im(){jm.start()}const jm=new yo;jm.setAnimationLoop($m),typeof self<"u"&&jm.setContext(self),this.setAnimationLoop=function(Xp){sm=Xp,xm.setAnimationLoop(Xp),Xp===null?jm.stop():jm.start()},xm.addEventListener("sessionstart",Nm),xm.addEventListener("sessionend",Im),this.render=function(Xp,Tm){if(Tm!==void 0&&Tm.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(dr===!0)return;Xp.matrixWorldAutoUpdate===!0&&Xp.updateMatrixWorld(),Tm.parent===null&&Tm.matrixWorldAutoUpdate===!0&&Tm.updateMatrixWorld(),xm.enabled===!0&&xm.isPresenting===!0&&(xm.cameraAutoUpdate===!0&&xm.updateCamera(Tm),Tm=xm.getCamera()),Xp.isScene===!0&&Xp.onBeforeRender(mn,Xp,Tm,Io),Ct=Dp.get(Xp,_r.length),Ct.init(),_r.push(Ct),Zp.multiplyMatrices(Tm.projectionMatrix,Tm.matrixWorldInverse),Ip.setFromProjectionMatrix(Zp),Wp=this.localClippingEnabled,Op=kp.init(this.clippingPlanes,Wp),ft=zp.get(Xp,mr.length),ft.init(),mr.push(ft),Bm(Xp,Tm,0,mn.sortObjects),ft.finish(),mn.sortObjects===!0&&ft.sort(Ep,Cp),this.info.render.frame++,Op===!0&&kp.beginShadows();const Pm=Ct.state.shadowsArray;if(nm.render(Pm,Xp,Tm),Op===!0&&kp.endShadows(),this.info.autoReset===!0&&this.info.reset(),(xm.enabled===!1||xm.isPresenting===!1||xm.hasDepthSensing()===!1)&&lm.render(ft,Xp),Ct.setupLights(mn._useLegacyLights),Tm.isArrayCamera){const km=Tm.cameras;for(let Rm=0,Fm=km.length;Rm<Fm;Rm++){const Wm=km[Rm];by(ft,Xp,Wm,Wm.viewport)}}else by(ft,Xp,Tm);Io!==null&&(fm.updateMultisampleRenderTarget(Io),fm.updateRenderTargetMipmap(Io)),Xp.isScene===!0&&Xp.onAfterRender(mn,Xp,Tm),mm.resetDefaultState(),Lo=-1,ms=null,_r.pop(),_r.length>0?Ct=_r[_r.length-1]:Ct=null,mr.pop(),mr.length>0?ft=mr[mr.length-1]:ft=null};function Bm(Xp,Tm,Pm,km){if(Xp.visible===!1)return;if(Xp.layers.test(Tm.layers)){if(Xp.isGroup)Pm=Xp.renderOrder;else if(Xp.isLOD)Xp.autoUpdate===!0&&Xp.update(Tm);else if(Xp.isLight)Ct.pushLight(Xp),Xp.castShadow&&Ct.pushShadow(Xp);else if(Xp.isSprite){if(!Xp.frustumCulled||Ip.intersectsSprite(Xp)){km&&Gp.setFromMatrixPosition(Xp.matrixWorld).applyMatrix4(Zp);const Fm=_m.update(Xp),Wm=Xp.material;Wm.visible&&ft.push(Xp,Fm,Wm,Pm,Gp.z,null)}}else if((Xp.isMesh||Xp.isLine||Xp.isPoints)&&(!Xp.frustumCulled||Ip.intersectsObject(Xp))){const Fm=_m.update(Xp),Wm=Xp.material;if(km&&(Xp.boundingSphere!==void 0?(Xp.boundingSphere===null&&Xp.computeBoundingSphere(),Gp.copy(Xp.boundingSphere.center)):(Fm.boundingSphere===null&&Fm.computeBoundingSphere(),Gp.copy(Fm.boundingSphere.center)),Gp.applyMatrix4(Xp.matrixWorld).applyMatrix4(Zp)),Array.isArray(Wm)){const Hm=Fm.groups;for(let qm=0,_g=Hm.length;qm<_g;qm++){const Qm=Hm[qm],ey=Wm[Qm.materialIndex];ey&&ey.visible&&ft.push(Xp,Fm,ey,Pm,Gp.z,Qm)}}else Wm.visible&&ft.push(Xp,Fm,Wm,Pm,Gp.z,null)}}const Rm=Xp.children;for(let Fm=0,Wm=Rm.length;Fm<Wm;Fm++)Bm(Rm[Fm],Tm,Pm,km)}function by(Xp,Tm,Pm,km){const Rm=Xp.opaque,Fm=Xp.transmissive,Wm=Xp.transparent;Ct.setupLightsView(Pm),Op===!0&&kp.setGlobalState(mn.clippingPlanes,Pm),Fm.length>0&&Zm(Rm,Fm,Tm,Pm),km&&bm.viewport(Uo.copy(km)),Rm.length>0&&Jm(Rm,Tm,Pm),Fm.length>0&&Jm(Fm,Tm,Pm),Wm.length>0&&Jm(Wm,Tm,Pm),bm.buffers.depth.setTest(!0),bm.buffers.depth.setMask(!0),bm.buffers.color.setMask(!0),bm.setPolygonOffset(!1)}function Zm(Xp,Tm,Pm,km){if((Pm.isScene===!0?Pm.overrideMaterial:null)!==null)return;const Rm=gm.isWebGL2;Yp===null&&(Yp=new Cn(1,1,{generateMipmaps:!0,type:em.has("EXT_color_buffer_half_float")?_i:un,minFilter:An,samples:Rm?4:0})),mn.getDrawingBufferSize(Qp),Rm?Yp.setSize(Qp.x,Qp.y):Yp.setSize(rr(Qp.x),rr(Qp.y));const Fm=mn.getRenderTarget();mn.setRenderTarget(Yp),mn.getClearColor(xs),vs=mn.getClearAlpha(),vs<1&&mn.setClearColor(16777215,.5),mn.clear();const Wm=mn.toneMapping;mn.toneMapping=cn,Jm(Xp,Pm,km),fm.updateMultisampleRenderTarget(Yp),fm.updateRenderTargetMipmap(Yp);let Hm=!1;for(let qm=0,_g=Tm.length;qm<_g;qm++){const Qm=Tm[qm],ey=Qm.object,Ym=Qm.geometry,dy=Qm.material,_y=Qm.group;if(dy.side===jt&&ey.layers.test(km.layers)){const Py=dy.side;dy.side=Et,dy.needsUpdate=!0,ny(ey,Pm,km,Ym,dy,_y),dy.side=Py,dy.needsUpdate=!0,Hm=!0}}Hm===!0&&(fm.updateMultisampleRenderTarget(Yp),fm.updateRenderTargetMipmap(Yp)),mn.setRenderTarget(Fm),mn.setClearColor(xs,vs),mn.toneMapping=Wm}function Jm(Xp,Tm,Pm){const km=Tm.isScene===!0?Tm.overrideMaterial:null;for(let Rm=0,Fm=Xp.length;Rm<Fm;Rm++){const Wm=Xp[Rm],Hm=Wm.object,qm=Wm.geometry,_g=km===null?Wm.material:km,Qm=Wm.group;Hm.layers.test(Pm.layers)&&ny(Hm,Tm,Pm,qm,_g,Qm)}}function ny(Xp,Tm,Pm,km,Rm,Fm){Xp.onBeforeRender(mn,Tm,Pm,km,Rm,Fm),Xp.modelViewMatrix.multiplyMatrices(Pm.matrixWorldInverse,Xp.matrixWorld),Xp.normalMatrix.getNormalMatrix(Xp.modelViewMatrix),Rm.onBeforeRender(mn,Tm,Pm,km,Xp,Fm),Rm.transparent===!0&&Rm.side===jt&&Rm.forceSinglePass===!1?(Rm.side=Et,Rm.needsUpdate=!0,mn.renderBufferDirect(Pm,Tm,km,Rm,Xp,Fm),Rm.side=hn,Rm.needsUpdate=!0,mn.renderBufferDirect(Pm,Tm,km,Rm,Xp,Fm),Rm.side=jt):mn.renderBufferDirect(Pm,Tm,km,Rm,Xp,Fm),Xp.onAfterRender(mn,Tm,Pm,km,Rm,Fm)}function gy(Xp,Tm,Pm){Tm.isScene!==!0&&(Tm=rm);const km=am.get(Xp),Rm=Ct.state.lights,Fm=Ct.state.shadowsArray,Wm=Rm.state.version,Hm=Cm.getParameters(Xp,Rm.state,Fm,Tm,Pm),qm=Cm.getProgramCacheKey(Hm);let _g=km.programs;km.environment=Xp.isMeshStandardMaterial?Tm.environment:null,km.fog=Tm.fog,km.envMap=(Xp.isMeshStandardMaterial?jp:vm).get(Xp.envMap||km.environment),km.envMapRotation=km.environment!==null&&Xp.envMap===null?Tm.environmentRotation:Xp.envMapRotation,_g===void 0&&(Xp.addEventListener("dispose",Tp),_g=new Map,km.programs=_g);let Qm=_g.get(qm);if(Qm!==void 0){if(km.currentProgram===Qm&&km.lightsStateVersion===Wm)return Ty(Xp,Hm),Qm}else Hm.uniforms=Cm.getUniforms(Xp),Xp.onBuild(Pm,Hm,mn),Xp.onBeforeCompile(Hm,mn),Qm=Cm.acquireProgram(Hm,qm),_g.set(qm,Qm),km.uniforms=Hm.uniforms;const ey=km.uniforms;return(!Xp.isShaderMaterial&&!Xp.isRawShaderMaterial||Xp.clipping===!0)&&(ey.clippingPlanes=kp.uniform),Ty(Xp,Hm),km.needsLights=my(Xp),km.lightsStateVersion=Wm,km.needsLights&&(ey.ambientLightColor.value=Rm.state.ambient,ey.lightProbe.value=Rm.state.probe,ey.directionalLights.value=Rm.state.directional,ey.directionalLightShadows.value=Rm.state.directionalShadow,ey.spotLights.value=Rm.state.spot,ey.spotLightShadows.value=Rm.state.spotShadow,ey.rectAreaLights.value=Rm.state.rectArea,ey.ltc_1.value=Rm.state.rectAreaLTC1,ey.ltc_2.value=Rm.state.rectAreaLTC2,ey.pointLights.value=Rm.state.point,ey.pointLightShadows.value=Rm.state.pointShadow,ey.hemisphereLights.value=Rm.state.hemi,ey.directionalShadowMap.value=Rm.state.directionalShadowMap,ey.directionalShadowMatrix.value=Rm.state.directionalShadowMatrix,ey.spotShadowMap.value=Rm.state.spotShadowMap,ey.spotLightMatrix.value=Rm.state.spotLightMatrix,ey.spotLightMap.value=Rm.state.spotLightMap,ey.pointShadowMap.value=Rm.state.pointShadowMap,ey.pointShadowMatrix.value=Rm.state.pointShadowMatrix),km.currentProgram=Qm,km.uniformsList=null,Qm}function yy(Xp){if(Xp.uniformsList===null){const Tm=Xp.currentProgram.getUniforms();Xp.uniformsList=Ji.seqWithValue(Tm.seq,Xp.uniforms)}return Xp.uniformsList}function Ty(Xp,Tm){const Pm=am.get(Xp);Pm.outputColorSpace=Tm.outputColorSpace,Pm.batching=Tm.batching,Pm.instancing=Tm.instancing,Pm.instancingColor=Tm.instancingColor,Pm.instancingMorph=Tm.instancingMorph,Pm.skinning=Tm.skinning,Pm.morphTargets=Tm.morphTargets,Pm.morphNormals=Tm.morphNormals,Pm.morphColors=Tm.morphColors,Pm.morphTargetsCount=Tm.morphTargetsCount,Pm.numClippingPlanes=Tm.numClippingPlanes,Pm.numIntersection=Tm.numClipIntersection,Pm.vertexAlphas=Tm.vertexAlphas,Pm.vertexTangents=Tm.vertexTangents,Pm.toneMapping=Tm.toneMapping}function Ay(Xp,Tm,Pm,km,Rm){Tm.isScene!==!0&&(Tm=rm),fm.resetTextureUnits();const Fm=Tm.fog,Wm=km.isMeshStandardMaterial?Tm.environment:null,Hm=Io===null?mn.outputColorSpace:Io.isXRRenderTarget===!0?Io.texture.colorSpace:dn,qm=(km.isMeshStandardMaterial?jp:vm).get(km.envMap||Wm),_g=km.vertexColors===!0&&!!Pm.attributes.color&&Pm.attributes.color.itemSize===4,Qm=!!Pm.attributes.tangent&&(!!km.normalMap||km.anisotropy>0),ey=!!Pm.morphAttributes.position,Ym=!!Pm.morphAttributes.normal,dy=!!Pm.morphAttributes.color;let _y=cn;km.toneMapped&&(Io===null||Io.isXRRenderTarget===!0)&&(_y=mn.toneMapping);const Py=Pm.morphAttributes.position||Pm.morphAttributes.normal||Pm.morphAttributes.color,hy=Py!==void 0?Py.length:0,Xm=am.get(km),Wy=Ct.state.lights;if(Op===!0&&(Wp===!0||Xp!==ms)){const Ey=Xp===ms&&km.id===Lo;kp.setState(km,Xp,Ey)}let Hy=!1;km.version===Xm.__version?(Xm.needsLights&&Xm.lightsStateVersion!==Wy.state.version||Xm.outputColorSpace!==Hm||Rm.isBatchedMesh&&Xm.batching===!1||!Rm.isBatchedMesh&&Xm.batching===!0||Rm.isInstancedMesh&&Xm.instancing===!1||!Rm.isInstancedMesh&&Xm.instancing===!0||Rm.isSkinnedMesh&&Xm.skinning===!1||!Rm.isSkinnedMesh&&Xm.skinning===!0||Rm.isInstancedMesh&&Xm.instancingColor===!0&&Rm.instanceColor===null||Rm.isInstancedMesh&&Xm.instancingColor===!1&&Rm.instanceColor!==null||Rm.isInstancedMesh&&Xm.instancingMorph===!0&&Rm.morphTexture===null||Rm.isInstancedMesh&&Xm.instancingMorph===!1&&Rm.morphTexture!==null||Xm.envMap!==qm||km.fog===!0&&Xm.fog!==Fm||Xm.numClippingPlanes!==void 0&&(Xm.numClippingPlanes!==kp.numPlanes||Xm.numIntersection!==kp.numIntersection)||Xm.vertexAlphas!==_g||Xm.vertexTangents!==Qm||Xm.morphTargets!==ey||Xm.morphNormals!==Ym||Xm.morphColors!==dy||Xm.toneMapping!==_y||gm.isWebGL2===!0&&Xm.morphTargetsCount!==hy)&&(Hy=!0):(Hy=!0,Xm.__version=km.version);let Iy=Xm.currentProgram;Hy===!0&&(Iy=gy(km,Tm,Rm));let Xy=!1,Ry=!1,Fy=!1;const cy=Iy.getUniforms(),My=Xm.uniforms;if(bm.useProgram(Iy.program)&&(Xy=!0,Ry=!0,Fy=!0),km.id!==Lo&&(Lo=km.id,Ry=!0),Xy||ms!==Xp){cy.setValue(Up,"projectionMatrix",Xp.projectionMatrix),cy.setValue(Up,"viewMatrix",Xp.matrixWorldInverse);const Ey=cy.map.cameraPosition;Ey!==void 0&&Ey.setValue(Up,Gp.setFromMatrixPosition(Xp.matrixWorld)),gm.logarithmicDepthBuffer&&cy.setValue(Up,"logDepthBufFC",2/(Math.log(Xp.far+1)/Math.LN2)),(km.isMeshPhongMaterial||km.isMeshToonMaterial||km.isMeshLambertMaterial||km.isMeshBasicMaterial||km.isMeshStandardMaterial||km.isShaderMaterial)&&cy.setValue(Up,"isOrthographic",Xp.isOrthographicCamera===!0),ms!==Xp&&(ms=Xp,Ry=!0,Fy=!0)}if(Rm.isSkinnedMesh){cy.setOptional(Up,Rm,"bindMatrix"),cy.setOptional(Up,Rm,"bindMatrixInverse");const Ey=Rm.skeleton;Ey&&(gm.floatVertexTextures?(Ey.boneTexture===null&&Ey.computeBoneTexture(),cy.setValue(Up,"boneTexture",Ey.boneTexture,fm)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}Rm.isBatchedMesh&&(cy.setOptional(Up,Rm,"batchingTexture"),cy.setValue(Up,"batchingTexture",Rm._matricesTexture,fm));const Ly=Pm.morphAttributes;if((Ly.position!==void 0||Ly.normal!==void 0||Ly.color!==void 0&&gm.isWebGL2===!0)&&hm.update(Rm,Pm,Iy),(Ry||Xm.receiveShadow!==Rm.receiveShadow)&&(Xm.receiveShadow=Rm.receiveShadow,cy.setValue(Up,"receiveShadow",Rm.receiveShadow)),km.isMeshGouraudMaterial&&km.envMap!==null&&(My.envMap.value=qm,My.flipEnvMap.value=qm.isCubeTexture&&qm.isRenderTargetTexture===!1?-1:1),Ry&&(cy.setValue(Up,"toneMappingExposure",mn.toneMappingExposure),Xm.needsLights&&ly(My,Fy),Fm&&km.fog===!0&&Sm.refreshFogUniforms(My,Fm),Sm.refreshMaterialUniforms(My,km,bp,wp,Yp),Ji.upload(Up,yy(Xm),My,fm)),km.isShaderMaterial&&km.uniformsNeedUpdate===!0&&(Ji.upload(Up,yy(Xm),My,fm),km.uniformsNeedUpdate=!1),km.isSpriteMaterial&&cy.setValue(Up,"center",Rm.center),cy.setValue(Up,"modelViewMatrix",Rm.modelViewMatrix),cy.setValue(Up,"normalMatrix",Rm.normalMatrix),cy.setValue(Up,"modelMatrix",Rm.matrixWorld),km.isShaderMaterial||km.isRawShaderMaterial){const Ey=km.uniformsGroups;for(let e0=0,zy=Ey.length;e0<zy;e0++)if(gm.isWebGL2){const r0=Ey[e0];Vp.update(r0,Iy),Vp.bind(r0,Iy)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Iy}function ly(Xp,Tm){Xp.ambientLightColor.needsUpdate=Tm,Xp.lightProbe.needsUpdate=Tm,Xp.directionalLights.needsUpdate=Tm,Xp.directionalLightShadows.needsUpdate=Tm,Xp.pointLights.needsUpdate=Tm,Xp.pointLightShadows.needsUpdate=Tm,Xp.spotLights.needsUpdate=Tm,Xp.spotLightShadows.needsUpdate=Tm,Xp.rectAreaLights.needsUpdate=Tm,Xp.hemisphereLights.needsUpdate=Tm}function my(Xp){return Xp.isMeshLambertMaterial||Xp.isMeshToonMaterial||Xp.isMeshPhongMaterial||Xp.isMeshStandardMaterial||Xp.isShadowMaterial||Xp.isShaderMaterial&&Xp.lights===!0}this.getActiveCubeFace=function(){return pn},this.getActiveMipmapLevel=function(){return Do},this.getRenderTarget=function(){return Io},this.setRenderTargetTextures=function(Xp,Tm,Pm){am.get(Xp.texture).__webglTexture=Tm,am.get(Xp.depthTexture).__webglTexture=Pm;const km=am.get(Xp);km.__hasExternalTextures=!0,km.__autoAllocateDepthBuffer=Pm===void 0,km.__autoAllocateDepthBuffer||em.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),km.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(Xp,Tm){const Pm=am.get(Xp);Pm.__webglFramebuffer=Tm,Pm.__useDefaultFramebuffer=Tm===void 0},this.setRenderTarget=function(Xp,Tm=0,Pm=0){Io=Xp,pn=Tm,Do=Pm;let km=!0,Rm=null,Fm=!1,Wm=!1;if(Xp){const Hm=am.get(Xp);Hm.__useDefaultFramebuffer!==void 0?(bm.bindFramebuffer(Up.FRAMEBUFFER,null),km=!1):Hm.__webglFramebuffer===void 0?fm.setupRenderTarget(Xp):Hm.__hasExternalTextures&&fm.rebindTextures(Xp,am.get(Xp.texture).__webglTexture,am.get(Xp.depthTexture).__webglTexture);const qm=Xp.texture;(qm.isData3DTexture||qm.isDataArrayTexture||qm.isCompressedArrayTexture)&&(Wm=!0);const _g=am.get(Xp).__webglFramebuffer;Xp.isWebGLCubeRenderTarget?(Array.isArray(_g[Tm])?Rm=_g[Tm][Pm]:Rm=_g[Tm],Fm=!0):gm.isWebGL2&&Xp.samples>0&&fm.useMultisampledRTT(Xp)===!1?Rm=am.get(Xp).__webglMultisampledFramebuffer:Array.isArray(_g)?Rm=_g[Pm]:Rm=_g,Uo.copy(Xp.viewport),_s.copy(Xp.scissor),yp=Xp.scissorTest}else Uo.copy(Ap).multiplyScalar(bp).floor(),_s.copy(Mp).multiplyScalar(bp).floor(),yp=Pp;if(bm.bindFramebuffer(Up.FRAMEBUFFER,Rm)&&gm.drawBuffers&&km&&bm.drawBuffers(Xp,Rm),bm.viewport(Uo),bm.scissor(_s),bm.setScissorTest(yp),Fm){const Hm=am.get(Xp.texture);Up.framebufferTexture2D(Up.FRAMEBUFFER,Up.COLOR_ATTACHMENT0,Up.TEXTURE_CUBE_MAP_POSITIVE_X+Tm,Hm.__webglTexture,Pm)}else if(Wm){const Hm=am.get(Xp.texture),qm=Tm||0;Up.framebufferTextureLayer(Up.FRAMEBUFFER,Up.COLOR_ATTACHMENT0,Hm.__webglTexture,Pm||0,qm)}Lo=-1},this.readRenderTargetPixels=function(Xp,Tm,Pm,km,Rm,Fm,Wm){if(!(Xp&&Xp.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Hm=am.get(Xp).__webglFramebuffer;if(Xp.isWebGLCubeRenderTarget&&Wm!==void 0&&(Hm=Hm[Wm]),Hm){bm.bindFramebuffer(Up.FRAMEBUFFER,Hm);try{const qm=Xp.texture,_g=qm.format,Qm=qm.type;if(_g!==Ft&&cm.convert(_g)!==Up.getParameter(Up.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const ey=Qm===_i&&(em.has("EXT_color_buffer_half_float")||gm.isWebGL2&&em.has("EXT_color_buffer_float"));if(Qm!==un&&cm.convert(Qm)!==Up.getParameter(Up.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Qm===Kt&&(gm.isWebGL2||em.has("OES_texture_float")||em.has("WEBGL_color_buffer_float")))&&!ey){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Tm>=0&&Tm<=Xp.width-km&&Pm>=0&&Pm<=Xp.height-Rm&&Up.readPixels(Tm,Pm,km,Rm,cm.convert(_g),cm.convert(Qm),Fm)}finally{const qm=Io!==null?am.get(Io).__webglFramebuffer:null;bm.bindFramebuffer(Up.FRAMEBUFFER,qm)}}},this.copyFramebufferToTexture=function(Xp,Tm,Pm=0){const km=Math.pow(2,-Pm),Rm=Math.floor(Tm.image.width*km),Fm=Math.floor(Tm.image.height*km);fm.setTexture2D(Tm,0),Up.copyTexSubImage2D(Up.TEXTURE_2D,Pm,0,0,Xp.x,Xp.y,Rm,Fm),bm.unbindTexture()},this.copyTextureToTexture=function(Xp,Tm,Pm,km=0){const Rm=Tm.image.width,Fm=Tm.image.height,Wm=cm.convert(Pm.format),Hm=cm.convert(Pm.type);fm.setTexture2D(Pm,0),Up.pixelStorei(Up.UNPACK_FLIP_Y_WEBGL,Pm.flipY),Up.pixelStorei(Up.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Pm.premultiplyAlpha),Up.pixelStorei(Up.UNPACK_ALIGNMENT,Pm.unpackAlignment),Tm.isDataTexture?Up.texSubImage2D(Up.TEXTURE_2D,km,Xp.x,Xp.y,Rm,Fm,Wm,Hm,Tm.image.data):Tm.isCompressedTexture?Up.compressedTexSubImage2D(Up.TEXTURE_2D,km,Xp.x,Xp.y,Tm.mipmaps[0].width,Tm.mipmaps[0].height,Wm,Tm.mipmaps[0].data):Up.texSubImage2D(Up.TEXTURE_2D,km,Xp.x,Xp.y,Wm,Hm,Tm.image),km===0&&Pm.generateMipmaps&&Up.generateMipmap(Up.TEXTURE_2D),bm.unbindTexture()},this.copyTextureToTexture3D=function(Xp,Tm,Pm,km,Rm=0){if(mn.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Fm=Math.round(Xp.max.x-Xp.min.x),Wm=Math.round(Xp.max.y-Xp.min.y),Hm=Xp.max.z-Xp.min.z+1,qm=cm.convert(km.format),_g=cm.convert(km.type);let Qm;if(km.isData3DTexture)fm.setTexture3D(km,0),Qm=Up.TEXTURE_3D;else if(km.isDataArrayTexture||km.isCompressedArrayTexture)fm.setTexture2DArray(km,0),Qm=Up.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Up.pixelStorei(Up.UNPACK_FLIP_Y_WEBGL,km.flipY),Up.pixelStorei(Up.UNPACK_PREMULTIPLY_ALPHA_WEBGL,km.premultiplyAlpha),Up.pixelStorei(Up.UNPACK_ALIGNMENT,km.unpackAlignment);const ey=Up.getParameter(Up.UNPACK_ROW_LENGTH),Ym=Up.getParameter(Up.UNPACK_IMAGE_HEIGHT),dy=Up.getParameter(Up.UNPACK_SKIP_PIXELS),_y=Up.getParameter(Up.UNPACK_SKIP_ROWS),Py=Up.getParameter(Up.UNPACK_SKIP_IMAGES),hy=Pm.isCompressedTexture?Pm.mipmaps[Rm]:Pm.image;Up.pixelStorei(Up.UNPACK_ROW_LENGTH,hy.width),Up.pixelStorei(Up.UNPACK_IMAGE_HEIGHT,hy.height),Up.pixelStorei(Up.UNPACK_SKIP_PIXELS,Xp.min.x),Up.pixelStorei(Up.UNPACK_SKIP_ROWS,Xp.min.y),Up.pixelStorei(Up.UNPACK_SKIP_IMAGES,Xp.min.z),Pm.isDataTexture||Pm.isData3DTexture?Up.texSubImage3D(Qm,Rm,Tm.x,Tm.y,Tm.z,Fm,Wm,Hm,qm,_g,hy.data):km.isCompressedArrayTexture?Up.compressedTexSubImage3D(Qm,Rm,Tm.x,Tm.y,Tm.z,Fm,Wm,Hm,qm,hy.data):Up.texSubImage3D(Qm,Rm,Tm.x,Tm.y,Tm.z,Fm,Wm,Hm,qm,_g,hy),Up.pixelStorei(Up.UNPACK_ROW_LENGTH,ey),Up.pixelStorei(Up.UNPACK_IMAGE_HEIGHT,Ym),Up.pixelStorei(Up.UNPACK_SKIP_PIXELS,dy),Up.pixelStorei(Up.UNPACK_SKIP_ROWS,_y),Up.pixelStorei(Up.UNPACK_SKIP_IMAGES,Py),Rm===0&&km.generateMipmaps&&Up.generateMipmap(Qm),bm.unbindTexture()},this.initTexture=function(Xp){Xp.isCubeTexture?fm.setTextureCube(Xp,0):Xp.isData3DTexture?fm.setTexture3D(Xp,0):Xp.isDataArrayTexture||Xp.isCompressedArrayTexture?fm.setTexture2DArray(Xp,0):fm.setTexture2D(Xp,0),bm.unbindTexture()},this.resetState=function(){pn=0,Do=0,Io=null,bm.reset(),mm.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Zt}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(_){this._outputColorSpace=_;const $=this.getContext();$.drawingBufferColorSpace=_===cs?"display-p3":"srgb",$.unpackColorSpace=je.workingColorSpace===cr?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(_){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=_}}class up extends Po{}up.prototype.isWebGL1Renderer=!0;class hp extends Mt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new $t,this.environmentRotation=new $t,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(_,$){return super.copy(_,$),_.background!==null&&(this.background=_.background.clone()),_.environment!==null&&(this.environment=_.environment.clone()),_.fog!==null&&(this.fog=_.fog.clone()),this.backgroundBlurriness=_.backgroundBlurriness,this.backgroundIntensity=_.backgroundIntensity,this.backgroundRotation.copy(_.backgroundRotation),this.environmentRotation.copy(_.environmentRotation),_.overrideMaterial!==null&&(this.overrideMaterial=_.overrideMaterial.clone()),this.matrixAutoUpdate=_.matrixAutoUpdate,this}toJSON(_){const $=super.toJSON(_);return this.fog!==null&&($.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&($.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&($.object.backgroundIntensity=this.backgroundIntensity),$.object.backgroundRotation=this.backgroundRotation.toArray(),$.object.environmentRotation=this.environmentRotation.toArray(),$}}class ar extends xi{constructor(_){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new qe(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.map=_.map,this.linewidth=_.linewidth,this.linecap=_.linecap,this.linejoin=_.linejoin,this.fog=_.fog,this}}const Va=new I,ka$1=new I,Wa=new st,jr=new hs,Yi=new ur;class ds extends Mt{constructor(_=new Tt,$=new ar){super(),this.isLine=!0,this.type="Line",this.geometry=_,this.material=$,this.updateMorphTargets()}copy(_,$){return super.copy(_,$),this.material=Array.isArray(_.material)?_.material.slice():_.material,this.geometry=_.geometry,this}computeLineDistances(){const _=this.geometry;if(_.index===null){const $=_.attributes.position,j=[0];for(let _e=1,et=$.count;_e<et;_e++)Va.fromBufferAttribute($,_e-1),ka$1.fromBufferAttribute($,_e),j[_e]=j[_e-1],j[_e]+=Va.distanceTo(ka$1);_.setAttribute("lineDistance",new ut(j,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(_,$){const j=this.geometry,_e=this.matrixWorld,et=_.params.Line.threshold,tt=j.drawRange;if(j.boundingSphere===null&&j.computeBoundingSphere(),Yi.copy(j.boundingSphere),Yi.applyMatrix4(_e),Yi.radius+=et,_.ray.intersectsSphere(Yi)===!1)return;Wa.copy(_e).invert(),jr.copy(_.ray).applyMatrix4(Wa);const nt=et/((this.scale.x+this.scale.y+this.scale.z)/3),it=nt*nt,lt=new I,dt=new I,bt=new I,Ht=new I,pr=this.isLineSegments?2:1,_n=j.index,ft=j.attributes.position;if(_n!==null){const Ct=Math.max(0,tt.start),mr=Math.min(_n.count,tt.start+tt.count);for(let _r=Ct,mn=mr-1;_r<mn;_r+=pr){const dr=_n.getX(_r),pn=_n.getX(_r+1);if(lt.fromBufferAttribute(ft,dr),dt.fromBufferAttribute(ft,pn),jr.distanceSqToSegment(lt,dt,Ht,bt)>it)continue;Ht.applyMatrix4(this.matrixWorld);const Do=_.ray.origin.distanceTo(Ht);Do<_.near||Do>_.far||$.push({distance:Do,point:bt.clone().applyMatrix4(this.matrixWorld),index:_r,face:null,faceIndex:null,object:this})}}else{const Ct=Math.max(0,tt.start),mr=Math.min(ft.count,tt.start+tt.count);for(let _r=Ct,mn=mr-1;_r<mn;_r+=pr){if(lt.fromBufferAttribute(ft,_r),dt.fromBufferAttribute(ft,_r+1),jr.distanceSqToSegment(lt,dt,Ht,bt)>it)continue;Ht.applyMatrix4(this.matrixWorld);const dr=_.ray.origin.distanceTo(Ht);dr<_.near||dr>_.far||$.push({distance:dr,point:bt.clone().applyMatrix4(this.matrixWorld),index:_r,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const _=this.geometry.morphAttributes,$=Object.keys(_);if($.length>0){const j=_[$[0]];if(j!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let _e=0,et=j.length;_e<et;_e++){const tt=j[_e].name||String(_e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[tt]=_e}}}}}const Xa=new I,Ya=new I;class fp extends ds{constructor(_,$){super(_,$),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const _=this.geometry;if(_.index===null){const $=_.attributes.position,j=[];for(let _e=0,et=$.count;_e<et;_e+=2)Xa.fromBufferAttribute($,_e),Ya.fromBufferAttribute($,_e+1),j[_e]=_e===0?0:j[_e-1],j[_e+1]=j[_e]+Xa.distanceTo(Ya);_.setAttribute("lineDistance",new ut(j,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class ps extends Tt{constructor(_=1,$=1,j=1,_e=32,et=1,tt=!1,nt=0,it=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:_,radiusBottom:$,height:j,radialSegments:_e,heightSegments:et,openEnded:tt,thetaStart:nt,thetaLength:it};const lt=this;_e=Math.floor(_e),et=Math.floor(et);const dt=[],bt=[],Ht=[],pr=[];let _n=0;const ft=[],Ct=j/2;let mr=0;_r(),tt===!1&&(_>0&&mn(!0),$>0&&mn(!1)),this.setIndex(dt),this.setAttribute("position",new ut(bt,3)),this.setAttribute("normal",new ut(Ht,3)),this.setAttribute("uv",new ut(pr,2));function _r(){const dr=new I,pn=new I;let Do=0;const Io=($-_)/j;for(let Lo=0;Lo<=et;Lo++){const ms=[],Uo=Lo/et,_s=Uo*($-_)+_;for(let yp=0;yp<=_e;yp++){const xs=yp/_e,vs=xs*it+nt,Sp=Math.sin(vs),wp=Math.cos(vs);pn.x=_s*Sp,pn.y=-Uo*j+Ct,pn.z=_s*wp,bt.push(pn.x,pn.y,pn.z),dr.set(Sp,Io,wp).normalize(),Ht.push(dr.x,dr.y,dr.z),pr.push(xs,1-Uo),ms.push(_n++)}ft.push(ms)}for(let Lo=0;Lo<_e;Lo++)for(let ms=0;ms<et;ms++){const Uo=ft[ms][Lo],_s=ft[ms+1][Lo],yp=ft[ms+1][Lo+1],xs=ft[ms][Lo+1];dt.push(Uo,_s,xs),dt.push(_s,yp,xs),Do+=6}lt.addGroup(mr,Do,0),mr+=Do}function mn(dr){const pn=_n,Do=new Ie,Io=new I;let Lo=0;const ms=dr===!0?_:$,Uo=dr===!0?1:-1;for(let yp=1;yp<=_e;yp++)bt.push(0,Ct*Uo,0),Ht.push(0,Uo,0),pr.push(.5,.5),_n++;const _s=_n;for(let yp=0;yp<=_e;yp++){const xs=yp/_e*it+nt,vs=Math.cos(xs),Sp=Math.sin(xs);Io.x=ms*Sp,Io.y=Ct*Uo,Io.z=ms*vs,bt.push(Io.x,Io.y,Io.z),Ht.push(0,Uo,0),Do.x=vs*.5+.5,Do.y=Sp*.5*Uo+.5,pr.push(Do.x,Do.y),_n++}for(let yp=0;yp<_e;yp++){const xs=pn+yp,vs=_s+yp;dr===!0?dt.push(vs,vs+1,xs):dt.push(vs+1,vs,xs),Lo+=3}lt.addGroup(mr,Lo,dr===!0?1:2),mr+=Lo}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new ps(_.radiusTop,_.radiusBottom,_.height,_.radialSegments,_.heightSegments,_.openEnded,_.thetaStart,_.thetaLength)}}const qi=new I,ji=new I,Kr=new I,Ki=new Ot;class dp extends Tt{constructor(_=null,$=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:_,thresholdAngle:$},_!==null){const j=Math.pow(10,4),_e=Math.cos(ei*$),et=_.getIndex(),tt=_.getAttribute("position"),nt=et?et.count:tt.count,it=[0,0,0],lt=["a","b","c"],dt=new Array(3),bt={},Ht=[];for(let pr=0;pr<nt;pr+=3){et?(it[0]=et.getX(pr),it[1]=et.getX(pr+1),it[2]=et.getX(pr+2)):(it[0]=pr,it[1]=pr+1,it[2]=pr+2);const{a:_n,b:ft,c:Ct}=Ki;if(_n.fromBufferAttribute(tt,it[0]),ft.fromBufferAttribute(tt,it[1]),Ct.fromBufferAttribute(tt,it[2]),Ki.getNormal(Kr),dt[0]=`${Math.round(_n.x*j)},${Math.round(_n.y*j)},${Math.round(_n.z*j)}`,dt[1]=`${Math.round(ft.x*j)},${Math.round(ft.y*j)},${Math.round(ft.z*j)}`,dt[2]=`${Math.round(Ct.x*j)},${Math.round(Ct.y*j)},${Math.round(Ct.z*j)}`,!(dt[0]===dt[1]||dt[1]===dt[2]||dt[2]===dt[0]))for(let mr=0;mr<3;mr++){const _r=(mr+1)%3,mn=dt[mr],dr=dt[_r],pn=Ki[lt[mr]],Do=Ki[lt[_r]],Io=`${mn}_${dr}`,Lo=`${dr}_${mn}`;Lo in bt&&bt[Lo]?(Kr.dot(bt[Lo].normal)<=_e&&(Ht.push(pn.x,pn.y,pn.z),Ht.push(Do.x,Do.y,Do.z)),bt[Lo]=null):Io in bt||(bt[Io]={index0:it[mr],index1:it[_r],normal:Kr.clone()})}}for(const pr in bt)if(bt[pr]){const{index0:_n,index1:ft}=bt[pr];qi.fromBufferAttribute(tt,_n),ji.fromBufferAttribute(tt,ft),Ht.push(qi.x,qi.y,qi.z),Ht.push(ji.x,ji.y,ji.z)}this.setAttribute("position",new ut(Ht,3))}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}}class or extends Tt{constructor(_=1,$=32,j=16,_e=0,et=Math.PI*2,tt=0,nt=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:_,widthSegments:$,heightSegments:j,phiStart:_e,phiLength:et,thetaStart:tt,thetaLength:nt},$=Math.max(3,Math.floor($)),j=Math.max(2,Math.floor(j));const it=Math.min(tt+nt,Math.PI);let lt=0;const dt=[],bt=new I,Ht=new I,pr=[],_n=[],ft=[],Ct=[];for(let mr=0;mr<=j;mr++){const _r=[],mn=mr/j;let dr=0;mr===0&&tt===0?dr=.5/$:mr===j&&it===Math.PI&&(dr=-.5/$);for(let pn=0;pn<=$;pn++){const Do=pn/$;bt.x=-_*Math.cos(_e+Do*et)*Math.sin(tt+mn*nt),bt.y=_*Math.cos(tt+mn*nt),bt.z=_*Math.sin(_e+Do*et)*Math.sin(tt+mn*nt),_n.push(bt.x,bt.y,bt.z),Ht.copy(bt).normalize(),ft.push(Ht.x,Ht.y,Ht.z),Ct.push(Do+dr,1-mn),_r.push(lt++)}dt.push(_r)}for(let mr=0;mr<j;mr++)for(let _r=0;_r<$;_r++){const mn=dt[mr][_r+1],dr=dt[mr][_r],pn=dt[mr+1][_r],Do=dt[mr+1][_r+1];(mr!==0||tt>0)&&pr.push(mn,dr,Do),(mr!==j-1||it<Math.PI)&&pr.push(dr,pn,Do)}this.setIndex(pr),this.setAttribute("position",new ut(_n,3)),this.setAttribute("normal",new ut(ft,3)),this.setAttribute("uv",new ut(Ct,2))}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new or(_.radius,_.widthSegments,_.heightSegments,_.phiStart,_.phiLength,_.thetaStart,_.thetaLength)}}class qa{constructor(_=1,$=0,j=0){return this.radius=_,this.phi=$,this.theta=j,this}set(_,$,j){return this.radius=_,this.phi=$,this.theta=j,this}copy(_){return this.radius=_.radius,this.phi=_.phi,this.theta=_.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(_){return this.setFromCartesianCoords(_.x,_.y,_.z)}setFromCartesianCoords(_,$,j){return this.radius=Math.sqrt(_*_+$*$+j*j),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(_,j),this.phi=Math.acos(_t($/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const ja=new I;let Zi,Zr;class Ka extends Mt{constructor(_=new I(0,0,1),$=new I(0,0,0),j=1,_e=16776960,et=j*.2,tt=et*.2){super(),this.type="ArrowHelper",Zi===void 0&&(Zi=new Tt,Zi.setAttribute("position",new ut([0,0,0,0,1,0],3)),Zr=new ps(0,.5,1,5,1),Zr.translate(0,-.5,0)),this.position.copy($),this.line=new ds(Zi,new ar({color:_e,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Rt(Zr,new ni({color:_e,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(_),this.setLength(j,et,tt)}setDirection(_){if(_.y>.99999)this.quaternion.set(0,0,0,1);else if(_.y<-.99999)this.quaternion.set(1,0,0,0);else{ja.set(_.z,0,-_.x).normalize();const $=Math.acos(_.y);this.quaternion.setFromAxisAngle(ja,$)}}setLength(_,$=_*.2,j=$*.2){this.line.scale.set(1,Math.max(1e-4,_-$),1),this.line.updateMatrix(),this.cone.scale.set(j,$,j),this.cone.position.y=_,this.cone.updateMatrix()}setColor(_){this.line.material.color.set(_),this.cone.material.color.set(_)}copy(_){return super.copy(_,!1),this.line.copy(_.line),this.cone.copy(_.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:os}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=os);const Za={type:"change"},$r={type:"start"},$a={type:"end"},$i=new hs,Ja=new sn,pp=Math.cos(70*Kl.DEG2RAD);class mp extends Ln{constructor(_,$){super(),this.object=_,this.domElement=$,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new I,this.cursor=new I,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Dn.ROTATE,MIDDLE:Dn.DOLLY,RIGHT:Dn.PAN},this.touches={ONE:Un.ROTATE,TWO:Un.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return nt.phi},this.getAzimuthalAngle=function(){return nt.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(Vp){Vp.addEventListener("keydown",Dp),this._domElementKeyEvents=Vp},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",Dp),this._domElementKeyEvents=null},this.saveState=function(){j.target0.copy(j.target),j.position0.copy(j.object.position),j.zoom0=j.object.zoom},this.reset=function(){j.target.copy(j.target0),j.object.position.copy(j.position0),j.object.zoom=j.zoom0,j.object.updateProjectionMatrix(),j.dispatchEvent(Za),j.update(),et=_e.NONE},this.update=function(){const Vp=new I,qp=new Pn().setFromUnitVectors(_.up,new I(0,1,0)),xm=qp.clone().invert(),Np=new I,Hp=new Pn,Mm=new I,Tp=2*Math.PI;return function(dm=null){const om=j.object.position;Vp.copy(om).sub(j.target),Vp.applyQuaternion(qp),nt.setFromVector3(Vp),j.autoRotate&&et===_e.NONE&&yp(Uo(dm)),j.enableDamping?(nt.theta+=it.theta*j.dampingFactor,nt.phi+=it.phi*j.dampingFactor):(nt.theta+=it.theta,nt.phi+=it.phi);let Bp=j.minAzimuthAngle,sm=j.maxAzimuthAngle;isFinite(Bp)&&isFinite(sm)&&(Bp<-Math.PI?Bp+=Tp:Bp>Math.PI&&(Bp-=Tp),sm<-Math.PI?sm+=Tp:sm>Math.PI&&(sm-=Tp),Bp<=sm?nt.theta=Math.max(Bp,Math.min(sm,nt.theta)):nt.theta=nt.theta>(Bp+sm)/2?Math.max(Bp,nt.theta):Math.min(sm,nt.theta)),nt.phi=Math.max(j.minPolarAngle,Math.min(j.maxPolarAngle,nt.phi)),nt.makeSafe(),j.enableDamping===!0?j.target.addScaledVector(dt,j.dampingFactor):j.target.add(dt),j.target.sub(j.cursor),j.target.clampLength(j.minTargetRadius,j.maxTargetRadius),j.target.add(j.cursor);let $m=!1;if(j.zoomToCursor&&Do||j.object.isOrthographicCamera)nt.radius=Ap(nt.radius);else{const Nm=nt.radius;nt.radius=Ap(nt.radius*lt),$m=Nm!=nt.radius}if(Vp.setFromSpherical(nt),Vp.applyQuaternion(xm),om.copy(j.target).add(Vp),j.object.lookAt(j.target),j.enableDamping===!0?(it.theta*=1-j.dampingFactor,it.phi*=1-j.dampingFactor,dt.multiplyScalar(1-j.dampingFactor)):(it.set(0,0,0),dt.set(0,0,0)),j.zoomToCursor&&Do){let Nm=null;if(j.object.isPerspectiveCamera){const Im=Vp.length();Nm=Ap(Im*lt);const jm=Im-Nm;j.object.position.addScaledVector(dr,jm),j.object.updateMatrixWorld(),$m=!!jm}else if(j.object.isOrthographicCamera){const Im=new I(pn.x,pn.y,0);Im.unproject(j.object);const jm=j.object.zoom;j.object.zoom=Math.max(j.minZoom,Math.min(j.maxZoom,j.object.zoom/lt)),j.object.updateProjectionMatrix(),$m=jm!==j.object.zoom;const Bm=new I(pn.x,pn.y,0);Bm.unproject(j.object),j.object.position.sub(Bm).add(Im),j.object.updateMatrixWorld(),Nm=Vp.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),j.zoomToCursor=!1;Nm!==null&&(this.screenSpacePanning?j.target.set(0,0,-1).transformDirection(j.object.matrix).multiplyScalar(Nm).add(j.object.position):($i.origin.copy(j.object.position),$i.direction.set(0,0,-1).transformDirection(j.object.matrix),Math.abs(j.object.up.dot($i.direction))<pp?_.lookAt(j.target):(Ja.setFromNormalAndCoplanarPoint(j.object.up,j.target),$i.intersectPlane(Ja,j.target))))}else if(j.object.isOrthographicCamera){const Nm=j.object.zoom;j.object.zoom=Math.max(j.minZoom,Math.min(j.maxZoom,j.object.zoom/lt)),Nm!==j.object.zoom&&(j.object.updateProjectionMatrix(),$m=!0)}return lt=1,Do=!1,$m||Np.distanceToSquared(j.object.position)>tt||8*(1-Hp.dot(j.object.quaternion))>tt||Mm.distanceToSquared(j.target)>tt?(j.dispatchEvent(Za),Np.copy(j.object.position),Hp.copy(j.object.quaternion),Mm.copy(j.target),!0):!1}}(),this.dispose=function(){j.domElement.removeEventListener("contextmenu",lm),j.domElement.removeEventListener("pointerdown",fm),j.domElement.removeEventListener("pointercancel",jp),j.domElement.removeEventListener("wheel",_m),j.domElement.removeEventListener("pointermove",vm),j.domElement.removeEventListener("pointerup",jp),j.domElement.getRootNode().removeEventListener("keydown",Sm,{capture:!0}),j._domElementKeyEvents!==null&&(j._domElementKeyEvents.removeEventListener("keydown",Dp),j._domElementKeyEvents=null)};const j=this,_e={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let et=_e.NONE;const tt=1e-6,nt=new qa,it=new qa;let lt=1;const dt=new I,bt=new Ie,Ht=new Ie,pr=new Ie,_n=new Ie,ft=new Ie,Ct=new Ie,mr=new Ie,_r=new Ie,mn=new Ie,dr=new I,pn=new Ie;let Do=!1;const Io=[],Lo={};let ms=!1;function Uo(Vp){return Vp!==null?2*Math.PI/60*j.autoRotateSpeed*Vp:2*Math.PI/60/60*j.autoRotateSpeed}function _s(Vp){const qp=Math.abs(Vp*.01);return Math.pow(.95,j.zoomSpeed*qp)}function yp(Vp){it.theta-=Vp}function xs(Vp){it.phi-=Vp}const vs=function(){const Vp=new I;return function(qp,xm){Vp.setFromMatrixColumn(xm,0),Vp.multiplyScalar(-qp),dt.add(Vp)}}(),Sp=function(){const Vp=new I;return function(qp,xm){j.screenSpacePanning===!0?Vp.setFromMatrixColumn(xm,1):(Vp.setFromMatrixColumn(xm,0),Vp.crossVectors(j.object.up,Vp)),Vp.multiplyScalar(qp),dt.add(Vp)}}(),wp=function(){const Vp=new I;return function(qp,xm){const Np=j.domElement;if(j.object.isPerspectiveCamera){const Hp=j.object.position;Vp.copy(Hp).sub(j.target);let Mm=Vp.length();Mm*=Math.tan(j.object.fov/2*Math.PI/180),vs(2*qp*Mm/Np.clientHeight,j.object.matrix),Sp(2*xm*Mm/Np.clientHeight,j.object.matrix)}else j.object.isOrthographicCamera?(vs(qp*(j.object.right-j.object.left)/j.object.zoom/Np.clientWidth,j.object.matrix),Sp(xm*(j.object.top-j.object.bottom)/j.object.zoom/Np.clientHeight,j.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),j.enablePan=!1)}}();function bp(Vp){j.object.isPerspectiveCamera||j.object.isOrthographicCamera?lt/=Vp:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),j.enableZoom=!1)}function Ep(Vp){j.object.isPerspectiveCamera||j.object.isOrthographicCamera?lt*=Vp:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),j.enableZoom=!1)}function Cp(Vp,qp){if(!j.zoomToCursor)return;Do=!0;const xm=j.domElement.getBoundingClientRect(),Np=Vp-xm.left,Hp=qp-xm.top,Mm=xm.width,Tp=xm.height;pn.x=Np/Mm*2-1,pn.y=-(Hp/Tp)*2+1,dr.set(pn.x,pn.y,1).unproject(j.object).sub(j.object.position).normalize()}function Ap(Vp){return Math.max(j.minDistance,Math.min(j.maxDistance,Vp))}function Mp(Vp){bt.set(Vp.clientX,Vp.clientY)}function Pp(Vp){Cp(Vp.clientX,Vp.clientX),mr.set(Vp.clientX,Vp.clientY)}function Ip(Vp){_n.set(Vp.clientX,Vp.clientY)}function Op(Vp){Ht.set(Vp.clientX,Vp.clientY),pr.subVectors(Ht,bt).multiplyScalar(j.rotateSpeed);const qp=j.domElement;yp(2*Math.PI*pr.x/qp.clientHeight),xs(2*Math.PI*pr.y/qp.clientHeight),bt.copy(Ht),j.update()}function Wp(Vp){_r.set(Vp.clientX,Vp.clientY),mn.subVectors(_r,mr),mn.y>0?bp(_s(mn.y)):mn.y<0&&Ep(_s(mn.y)),mr.copy(_r),j.update()}function Yp(Vp){ft.set(Vp.clientX,Vp.clientY),Ct.subVectors(ft,_n).multiplyScalar(j.panSpeed),wp(Ct.x,Ct.y),_n.copy(ft),j.update()}function Zp(Vp){Cp(Vp.clientX,Vp.clientY),Vp.deltaY<0?Ep(_s(Vp.deltaY)):Vp.deltaY>0&&bp(_s(Vp.deltaY)),j.update()}function Qp(Vp){let qp=!1;switch(Vp.code){case j.keys.UP:Vp.ctrlKey||Vp.metaKey||Vp.shiftKey?xs(2*Math.PI*j.rotateSpeed/j.domElement.clientHeight):wp(0,j.keyPanSpeed),qp=!0;break;case j.keys.BOTTOM:Vp.ctrlKey||Vp.metaKey||Vp.shiftKey?xs(-2*Math.PI*j.rotateSpeed/j.domElement.clientHeight):wp(0,-j.keyPanSpeed),qp=!0;break;case j.keys.LEFT:Vp.ctrlKey||Vp.metaKey||Vp.shiftKey?yp(2*Math.PI*j.rotateSpeed/j.domElement.clientHeight):wp(j.keyPanSpeed,0),qp=!0;break;case j.keys.RIGHT:Vp.ctrlKey||Vp.metaKey||Vp.shiftKey?yp(-2*Math.PI*j.rotateSpeed/j.domElement.clientHeight):wp(-j.keyPanSpeed,0),qp=!0;break}qp&&(Vp.preventDefault(),j.update())}function Gp(Vp){if(Io.length===1)bt.set(Vp.pageX,Vp.pageY);else{const qp=mm(Vp),xm=.5*(Vp.pageX+qp.x),Np=.5*(Vp.pageY+qp.y);bt.set(xm,Np)}}function rm(Vp){if(Io.length===1)_n.set(Vp.pageX,Vp.pageY);else{const qp=mm(Vp),xm=.5*(Vp.pageX+qp.x),Np=.5*(Vp.pageY+qp.y);_n.set(xm,Np)}}function Jp(Vp){const qp=mm(Vp),xm=Vp.pageX-qp.x,Np=Vp.pageY-qp.y,Hp=Math.sqrt(xm*xm+Np*Np);mr.set(0,Hp)}function Up(Vp){j.enableZoom&&Jp(Vp),j.enablePan&&rm(Vp)}function im(Vp){j.enableZoom&&Jp(Vp),j.enableRotate&&Gp(Vp)}function em(Vp){if(Io.length==1)Ht.set(Vp.pageX,Vp.pageY);else{const xm=mm(Vp),Np=.5*(Vp.pageX+xm.x),Hp=.5*(Vp.pageY+xm.y);Ht.set(Np,Hp)}pr.subVectors(Ht,bt).multiplyScalar(j.rotateSpeed);const qp=j.domElement;yp(2*Math.PI*pr.x/qp.clientHeight),xs(2*Math.PI*pr.y/qp.clientHeight),bt.copy(Ht)}function gm(Vp){if(Io.length===1)ft.set(Vp.pageX,Vp.pageY);else{const qp=mm(Vp),xm=.5*(Vp.pageX+qp.x),Np=.5*(Vp.pageY+qp.y);ft.set(xm,Np)}Ct.subVectors(ft,_n).multiplyScalar(j.panSpeed),wp(Ct.x,Ct.y),_n.copy(ft)}function bm(Vp){const qp=mm(Vp),xm=Vp.pageX-qp.x,Np=Vp.pageY-qp.y,Hp=Math.sqrt(xm*xm+Np*Np);_r.set(0,Hp),mn.set(0,Math.pow(_r.y/mr.y,j.zoomSpeed)),bp(mn.y),mr.copy(_r);const Mm=(Vp.pageX+qp.x)*.5,Tp=(Vp.pageY+qp.y)*.5;Cp(Mm,Tp)}function ym(Vp){j.enableZoom&&bm(Vp),j.enablePan&&gm(Vp)}function am(Vp){j.enableZoom&&bm(Vp),j.enableRotate&&em(Vp)}function fm(Vp){j.enabled!==!1&&(Io.length===0&&(j.domElement.setPointerCapture(Vp.pointerId),j.domElement.addEventListener("pointermove",vm),j.domElement.addEventListener("pointerup",jp)),!Lp(Vp)&&(hm(Vp),Vp.pointerType==="touch"?kp(Vp):Rp(Vp)))}function vm(Vp){j.enabled!==!1&&(Vp.pointerType==="touch"?nm(Vp):um(Vp))}function jp(Vp){switch(Em(Vp),Io.length){case 0:j.domElement.releasePointerCapture(Vp.pointerId),j.domElement.removeEventListener("pointermove",vm),j.domElement.removeEventListener("pointerup",jp),j.dispatchEvent($a),et=_e.NONE;break;case 1:const qp=Io[0],xm=Lo[qp];kp({pointerId:qp,pageX:xm.x,pageY:xm.y});break}}function Rp(Vp){let qp;switch(Vp.button){case 0:qp=j.mouseButtons.LEFT;break;case 1:qp=j.mouseButtons.MIDDLE;break;case 2:qp=j.mouseButtons.RIGHT;break;default:qp=-1}switch(qp){case Dn.DOLLY:if(j.enableZoom===!1)return;Pp(Vp),et=_e.DOLLY;break;case Dn.ROTATE:if(Vp.ctrlKey||Vp.metaKey||Vp.shiftKey){if(j.enablePan===!1)return;Ip(Vp),et=_e.PAN}else{if(j.enableRotate===!1)return;Mp(Vp),et=_e.ROTATE}break;case Dn.PAN:if(Vp.ctrlKey||Vp.metaKey||Vp.shiftKey){if(j.enableRotate===!1)return;Mp(Vp),et=_e.ROTATE}else{if(j.enablePan===!1)return;Ip(Vp),et=_e.PAN}break;default:et=_e.NONE}et!==_e.NONE&&j.dispatchEvent($r)}function um(Vp){switch(et){case _e.ROTATE:if(j.enableRotate===!1)return;Op(Vp);break;case _e.DOLLY:if(j.enableZoom===!1)return;Wp(Vp);break;case _e.PAN:if(j.enablePan===!1)return;Yp(Vp);break}}function _m(Vp){j.enabled===!1||j.enableZoom===!1||et!==_e.NONE||(Vp.preventDefault(),j.dispatchEvent($r),Zp(Cm(Vp)),j.dispatchEvent($a))}function Cm(Vp){const qp=Vp.deltaMode,xm={clientX:Vp.clientX,clientY:Vp.clientY,deltaY:Vp.deltaY};switch(qp){case 1:xm.deltaY*=16;break;case 2:xm.deltaY*=100;break}return Vp.ctrlKey&&!ms&&(xm.deltaY*=10),xm}function Sm(Vp){Vp.key==="Control"&&(ms=!0,j.domElement.getRootNode().addEventListener("keyup",zp,{passive:!0,capture:!0}))}function zp(Vp){Vp.key==="Control"&&(ms=!1,j.domElement.getRootNode().removeEventListener("keyup",zp,{passive:!0,capture:!0}))}function Dp(Vp){j.enabled===!1||j.enablePan===!1||Qp(Vp)}function kp(Vp){switch(cm(Vp),Io.length){case 1:switch(j.touches.ONE){case Un.ROTATE:if(j.enableRotate===!1)return;Gp(Vp),et=_e.TOUCH_ROTATE;break;case Un.PAN:if(j.enablePan===!1)return;rm(Vp),et=_e.TOUCH_PAN;break;default:et=_e.NONE}break;case 2:switch(j.touches.TWO){case Un.DOLLY_PAN:if(j.enableZoom===!1&&j.enablePan===!1)return;Up(Vp),et=_e.TOUCH_DOLLY_PAN;break;case Un.DOLLY_ROTATE:if(j.enableZoom===!1&&j.enableRotate===!1)return;im(Vp),et=_e.TOUCH_DOLLY_ROTATE;break;default:et=_e.NONE}break;default:et=_e.NONE}et!==_e.NONE&&j.dispatchEvent($r)}function nm(Vp){switch(cm(Vp),et){case _e.TOUCH_ROTATE:if(j.enableRotate===!1)return;em(Vp),j.update();break;case _e.TOUCH_PAN:if(j.enablePan===!1)return;gm(Vp),j.update();break;case _e.TOUCH_DOLLY_PAN:if(j.enableZoom===!1&&j.enablePan===!1)return;ym(Vp),j.update();break;case _e.TOUCH_DOLLY_ROTATE:if(j.enableZoom===!1&&j.enableRotate===!1)return;am(Vp),j.update();break;default:et=_e.NONE}}function lm(Vp){j.enabled!==!1&&Vp.preventDefault()}function hm(Vp){Io.push(Vp.pointerId)}function Em(Vp){delete Lo[Vp.pointerId];for(let qp=0;qp<Io.length;qp++)if(Io[qp]==Vp.pointerId){Io.splice(qp,1);return}}function Lp(Vp){for(let qp=0;qp<Io.length;qp++)if(Io[qp]==Vp.pointerId)return!0;return!1}function cm(Vp){let qp=Lo[Vp.pointerId];qp===void 0&&(qp=new Ie,Lo[Vp.pointerId]=qp),qp.set(Vp.pageX,Vp.pageY)}function mm(Vp){const qp=Vp.pointerId===Io[0]?Io[1]:Io[0];return Lo[qp]}j.domElement.addEventListener("contextmenu",lm),j.domElement.addEventListener("pointerdown",fm),j.domElement.addEventListener("pointercancel",jp),j.domElement.addEventListener("wheel",_m,{passive:!1}),j.domElement.getRootNode().addEventListener("keydown",Sm,{passive:!0,capture:!0}),this.update()}}var _p=function(o,_){return _=typeof _<"u"?_:!1,o=o.replace(/GAMMA/gi,"&Gamma;"),o=o.replace(/DELTA/gi,"&Delta;"),o=o.replace(/SIGMA/gi,"&Sigma;"),o=o.replace(/LAMBDA/gi,"&Lambda;"),o=o.replace(/\-/gi,"&mdash;"),_?o=o.replace(/_(.)/gi,function($,j,_e,et){return'<tspan baseline-shift="sub">'+j+"</tspan>"}):o=o.replace(/_(.)/gi,function($,j,_e,et){return"<sub>"+j+"</sub>"}),o},gp=function(j,_e,$){var j=j,_e=_e;$==null&&($={});var et=$.showAxes??!0,tt=$.showBVectors??!0,nt=$.showPathpoints??!1,it=$.disableInteractOverlay??!1,lt=!1,dt=[],bt=new ni({color:13975119,opacity:.5,transparent:!0}),Ht=new ar({color:3355443,opacity:1,transparent:!1,linewidth:1}),pr=new ar({color:285405,opacity:1,transparent:!1}),_n=new ni({color:3311805,opacity:1,transparent:!1}),ft=new ni({color:8925746,opacity:1,transparent:!1}),Ct=null,mr=null,_r=null;this.resizeRenderer=function(){if(j){var Io=window.devicePixelRatio||1,Lo=j.offsetWidth,ms=j.offsetHeight;_r&&(mr.aspect=Lo/ms,mr.updateProjectionMatrix(),_r.setSize(Lo*Io,ms*Io),_r.domElement.style.width=Lo+"px",_r.domElement.style.height=ms+"px",_r.domElement.width=Lo*Io,_r.domElement.height=ms*Io,Do())}};var mn=function(Io,Lo){Lo=typeof Lo<"u"?Lo:"#000000";var ms;{var ms=document.createElement("div");ms.style.position="absolute",ms.style.fontFamily="'Helvetica Neue', Helvetica, Arial, sans-serif",ms.style.color=Lo,ms.style.width=100,ms.style.height=100,ms.style.fontSize="12px",ms.innerHTML=Io,ms.style.top="-100px",ms.style.left="-100px",ms.style.userSelect="none",ms.style.userSelect="none",ms.style.webkitUserSelect="none",ms.style.MozUserSelect="none",ms.setAttribute("unselectable","on"),ms.style.pointerEvents="none"}return ms},dr=function(Io){var Lo=document.createElement("div");Lo.classList.add(Io),Lo.style.position="absolute",Lo.style.fontFamily="'Helvetica Neue', Helvetica, Arial, sans-serif",Lo.style.zIndex=1,Lo.style.width="100%",Lo.style.height="100%",Lo.style.display="table",Lo.style.top="0px",Lo.style.left="0px",Lo.style.textAlign="center",Lo.style.verticalAlign="middle",Lo.style.userSelect="none",Lo.style.userSelect="none",Lo.style.webkitUserSelect="none",Lo.style.MozUserSelect="none",Lo.setAttribute("unselectable","on");var ms=document.createElement("span");return ms.innerHTML="Double click to toggle interaction",ms.style.color="rgb(80, 80, 80)",ms.style.fontSize="24px",ms.style.fontWeight="bold",ms.style.backgroundColor="rgba(230,230,230,0.5)",ms.style.display="table-cell",ms.style.verticalAlign="middle",ms.style.lineHeight="normal",ms.style.userSelect="none",ms.style.userSelect="none",ms.style.webkitUserSelect="none",ms.style.MozUserSelect="none",ms.setAttribute("unselectable","on"),ms.onmouseover=function(){this.style.backgroundColor="rgba(230,230,230,0.5)",this.innerHTML="Double click to toggle interaction"},ms.onmouseleave=function(){this.style.backgroundColor="rgba(255,255,255,0.01)",this.innerHTML=""},Lo.appendChild(ms),Lo};this.loadBZ=function(Io){if(Io==null||Object.keys(Io).length===0||j==null||j.id==""||_e==null)return;var Lo=window.devicePixelRatio||1;_e.innerHTML="";for(var ms=j;ms.firstChild;)ms.removeChild(ms.firstChild);dt=[],Ct=new hp;let Uo=ms.offsetWidth,_s=ms.offsetHeight;mr=new Lt(45,Uo/_s,.01,1e3),mr.position.z=3,_r=new Po({alpha:!0,preserveDrawingBuffer:!0}),_r.setClearColor(16777215,0),_r.setSize(Uo*Lo,_s*Lo),_r.domElement.style.width=Uo+"px",_r.domElement.style.height=_s+"px",_r.domElement.width=Uo*Lo,_r.domElement.height=_s*Lo,ms.appendChild(_r.domElement);let yp=new mp(mr,_r.domElement);yp.addEventListener("change",Do),yp.enableDamping=!0,yp.dampingFactor=.25,yp.enableZoom=!0;let xs=Io.kpoints,vs=Io.b1,Sp=Io.b2,wp=Io.b3,bp=Math.sqrt(Math.max(Math.pow(vs[0],2)+Math.pow(vs[1],2)+Math.pow(vs[2],2),Math.pow(Sp[0],2)+Math.pow(Sp[1],2)+Math.pow(Sp[2],2),Math.pow(wp[0],2)+Math.pow(wp[1],2)+Math.pow(wp[2],2)));var Ep=bp*1.5;mr.position.z=bp*3;let Cp=Io.faces_data;for(var Ap in xs){let vm=xs[Ap],jp=.02*bp;var Mp=new or(jp,16,16),Pp=new Rt(Mp,_n);Pp.translateX(vm[0]),Pp.translateY(vm[1]),Pp.translateZ(vm[2]),Ct.add(Pp),Ap=_p(Ap,lt);var Ip=mn(Ap);ms.appendChild(Ip),dt.push([new I(vm[0],vm[1],vm[2]),Ip])}if(et){var Op=[[new I(1,0,0),'<span style="font-style: italic">x</span>'],[new I(0,1,0),'<span style="font-style: italic">y</span>'],[new I(0,0,1),'<span style="font-style: italic">z</span>']];Op.forEach(function(vm){var jp=vm[0],Rp=vm[1],um=new I(0,0,0),_m=5592405,Cm=new Ka(jp,um,Ep,_m,Ep/10,Ep/20);Ct.add(Cm);var Sm="#555555";Ip=mn(Rp,Sm);var zp=jp.clone();zp.sub(um),zp.multiplyScalar(Ep),ms.appendChild(Ip),dt.push([zp,Ip])})}var Wp=[[vs,'<span style="font-weight: bold">b</span><sub>1</sub>'],[Sp,'<span style="font-weight: bold">b</span><sub>2</sub>'],[wp,'<span style="font-weight: bold">b</span><sub>3</sub>']],Wp;tt||(Wp=[]),Wp.forEach(function(vm){var jp=vm[0];Ap=vm[1];var Rp=Math.sqrt(Math.pow(jp[0],2)+Math.pow(jp[1],2)+Math.pow(jp[2],2)),um=new I(jp[0]/Rp,jp[1]/Rp,jp[2]/Rp),_m=new I(0,0,0),Cm=0,Sm=new Ka(um,_m,length=Rp,Cm=Cm,Rp/10,Rp/20);Ct.add(Sm);var zp=mn(Ap=Ap),Dp=um.clone();Dp.sub(_m),Dp.multiplyScalar(Rp),ms.appendChild(zp),dt.push([Dp,zp])});var Yp=new Tt,Zp=[];Cp.triangles_vertices.forEach(function(vm){Zp.push(vm[0],vm[1],vm[2])}),Yp.setAttribute("position",new ut(Zp,3));var Qp=[];Cp.triangles.forEach(function(vm){Qp.push(vm[0],vm[1],vm[2])}),Yp.setIndex(Qp);var Gp=new Rt(Yp,bt),rm=new dp(Gp.geometry),Jp=new fp(rm,Ht);Ct.add(Gp),Ct.add(Jp);var Up=Io.path;if(Up.forEach(function(vm){var jp=vm[0],Rp=vm[1],um=xs[jp],_m=xs[Rp],Cm=[];Cm.push(new I(um[0],um[1],um[2])),Cm.push(new I(_m[0],_m[1],_m[2]));var Sm=new Tt().setFromPoints(Cm),zp=new ds(Sm,pr);zp.material.linewidth=4,Ct.add(zp)}),nt){var im=Io.explicit_kpoints_abs;for(var em in im){var gm=im[em],bm=.005*bp,Mp=new or(bm,16,16),Pp=new Rt(Mp,ft);Pp.translateX(gm[0]),Pp.translateY(gm[1]),Pp.translateZ(gm[2]),Ct.add(Pp)}}Do();var ym=function(vm,jp){if(typeof jp>"u")var Rp=!yp.enabled;else var Rp=jp;yp.enabled=Rp;for(var um=ms.getElementsByClassName("BZDoubleClickText"),_m=0;_m<um.length;_m++)ms.removeChild(um[_m]);Rp||ms.appendChild(dr("BZDoubleClickText"))};it||(ym(),ms.addEventListener("dblclick",ym));var am,fm=!1;ms.addEventListener("touchend",function(vm){if(typeof am<"u"&&clearTimeout(am),fm)fm=!1,vm.preventDefault(),ym();else{if(vm.targetTouches.length!=0){typeof am<"u"&&(clearTimeout(am),fm=!1);return}fm=!0,am=setTimeout(function(){fm=!1},500)}}),ms.addEventListener("touchcancel",function(vm){typeof am<"u"&&(clearTimeout(am),fm=!1)}),ms.addEventListener("touchmove",function(vm){typeof am<"u"&&(clearTimeout(am),fm=!1)})};function pn(Io,Lo){var ms=Io.clone().project(Lo),Uo=window.devicePixelRatio||1,_s,yp;{var _s=.5*_r.domElement.width/Uo,yp=.5*_r.domElement.height/Uo;ms.x=ms.x*_s+_s,ms.y=-(ms.y*yp)+yp}return{left:ms.x,top:ms.y}}function Do(){_r.render(Ct,mr),dt.forEach(function(Io){var Lo=Io[0],ms=Io[1],Uo=pn(Lo,mr);ms.style.top=Uo.top+"px",ms.style.left=Uo.left+"px"})}};function vp(o){let _="";for(;_.length<o;)_+=Math.random().toString(36).substring(2);return _.substring(0,o)}function xp(o,_,$){let j=document.createElement("div");j.className="bz-main-container";let _e=vp(6),et=document.createElement("div");et.id=`canvas-${_e}`,et.className="bz-canvas3d";let tt=document.createElement("div");tt.id=`info-${_e}`,j.appendChild(et),j.appendChild(tt),o.appendChild(j);let nt=new gp(et,tt,$);return window.addEventListener("resize",nt.resizeRenderer),requestAnimationFrame(()=>{nt.loadBZ(_)}),nt}const Brillouinzone=({data:o})=>{const _=reactExports.useRef(null);return reactExports.useEffect(()=>{_.current&&o&&xp(_.current,o,{showAxes:!1,showBVectors:!1,showPathpoints:!0,disableInteractOverlay:!0})},[o]),jsxRuntimeExports$1.jsx("div",{ref:_,id:"bzvis"})},DetailsPage=({apiUrl:o})=>{const{uuid:_}=useParams(),[$,j]=reactExports.useState("raw");useNavigate();const[_e,et]=reactExports.useState(null),[tt,nt]=reactExports.useState(null),[it,lt]=reactExports.useState(null),[dt,bt]=reactExports.useState(!0),[Ht,pr]=reactExports.useState(null);reactExports.useState();const[_n,ft]=reactExports.useState(),[Ct,mr]=reactExports.useState(),mn=new URLSearchParams(location.search).get("source")==="computersGrid";console.log(mn);const dr=Io=>Io.split(/(\d+)/).map((Lo,ms)=>/\d/.test(Lo)?jsxRuntimeExports$1.jsx("sub",{children:Lo},ms):Lo),pn=Io=>{const Lo={year:"numeric",month:"long",day:"numeric"};return new Date(Io).toLocaleDateString(void 0,Lo)};reactExports.useEffect(()=>{const Io=async()=>{try{const _s=await fetch(`${o}/nodes/${_}/download?download_format=cif&download=false`);if(!_s.ok)throw new Error("Network response was not ok");const yp=await _s.json();et(yp.data.download.data)}catch(_s){console.error("Error fetching data:",_s),nt(_s.message)}finally{bt(!1)}},Lo=async()=>{try{const yp=await(await fetch(`${o}/nodes/${_}`)).json();ft(yp.data.nodes[0]),bt(!1)}catch(_s){console.error("Error fetching the data:",_s),bt(!1)}},ms=async()=>{try{const _s=await fetch(`${o}/nodes/${_}/contents/derived_properties`);if(!_s.ok)throw new Error("Network response was not ok");const yp=await _s.json();mr(yp),lt(yp.data.derived_properties),it?(lt(yp.data.derived_properties),console.log(yp)):lt(null),console.log(it)}catch(_s){console.error("Error fetching data:",_s),nt(_s.message)}finally{bt(!1)}},Uo=async()=>{try{const _s=await fetch(`${o}/nodes/${_}/contents/attributes`);if(!_s.ok)throw new Error("Network response was not ok");const yp=await _s.json();if(!yp.data)throw new Error("Empty or invalid response");pr(yp.data.attributes)}catch(_s){console.error("Error fetching data:",_s),nt(_s.message)}};Lo(),Io(),ms(),Uo()},[_]);const Do=_n?{UUID:_n.uuid,Type:_n.full_type,"Created on":pn(_n.ctime),"Modified on":pn(_n.mtime),Creator:"Sebastiaan Huber (EPFL)"}:{};return console.log(Do),jsxRuntimeExports$1.jsx("div",{children:jsxRuntimeExports$1.jsxs("div",{className:"flex w-full flex-col md:flex-row h-[100vh] mx-4 p-5",children:[jsxRuntimeExports$1.jsxs("div",{className:` ${mn?"w-full h-[100vh]":"w-full md:w-1/2"} p-6 border-2 mb-4 md:mb-0 md:mr-2  rounded-lg relative `,children:[jsxRuntimeExports$1.jsxs("div",{className:"p-5 relative border-2 bg-gray-50 border-gray-300 rounded",children:[jsxRuntimeExports$1.jsx("div",{className:"border-2 border-gray-300 absolute top-[-1rem] left-[2%] px-3 py-1 bg-gray-200 z-10 align-middle items-center",children:jsxRuntimeExports$1.jsx("h1",{className:"text-xl font-semibold text-center",children:"Overview"})}),jsxRuntimeExports$1.jsx("div",{className:"mb-4",children:jsxRuntimeExports$1.jsx(Search,{uuid:_})}),jsxRuntimeExports$1.jsx("div",{className:"bg-white rounded shadow p-2",children:jsxRuntimeExports$1.jsx(JsonViewer,{value:Do,theme:"githubLight",displayDataTypes:!1,displayObjectSize:!1,enableClipboard:!1,rootName:!1})})]}),jsxRuntimeExports$1.jsx("div",{className:"flex pt-3 justify-between mb-4"}),jsxRuntimeExports$1.jsxs("div",{className:"px-5 py2 bg-gray-50 h-[65vh] border-2 relative border-gray-300 rounded",children:[jsxRuntimeExports$1.jsx("div",{className:"border-2 border-gray-300 absolute top-[-1rem] left-[2%] px-3 py-1 bg-gray-200 z-10 align-middle items-center",children:jsxRuntimeExports$1.jsx("h1",{className:"text-xl font-semibold text-center",children:"Details"})}),jsxRuntimeExports$1.jsxs("div",{className:"flex justify-center mt-4 mb-4",children:[jsxRuntimeExports$1.jsx("button",{className:`px-6 shadow-lg py-2 mx-2 rounded-lg ${$==="raw"?"bg-blue-400 text-white":"bg-blue-100"}`,onClick:()=>j("raw"),children:"Raw"}),jsxRuntimeExports$1.jsx("button",{className:`px-6 shadow-lg py-2 mx-2 rounded-lg ${$==="rich"?"bg-blue-400  text-white":"bg-blue-100"}`,onClick:()=>j("rich"),children:"Rich"})]}),jsxRuntimeExports$1.jsx("div",{className:"overflow-auto bg-white p-4 rounded-lg shadow-[0_3px_10px_rgb(0,0,0,0.2)] h-[85%]",children:$==="raw"?jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx(Files,{apiUrl:o,uuid:_}),jsxRuntimeExports$1.jsxs("div",{className:"h-full",children:[jsxRuntimeExports$1.jsx("span",{className:"font-semibold mt-2 font-mono mb-0",children:"Node Attributes :"}),jsxRuntimeExports$1.jsx("div",{className:"h-full",children:jsxRuntimeExports$1.jsx(Attributes,{apiUrl:o,uuid:_})})]}),jsxRuntimeExports$1.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports$1.jsx("span",{className:"font-semibold font-mono mb-0",children:"Node Extras :"}),jsxRuntimeExports$1.jsx(ExtraContent,{apiUrl:o,uuid:_})]})]}):jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx(Files,{apiUrl:o,uuid:_}),jsxRuntimeExports$1.jsx(RepoFiles,{apiUrl:o,uuid:_}),it&&jsxRuntimeExports$1.jsxs("div",{className:"p-4 bg-gray-50 mb-4 border[-1px] border-gray-300 shadow-md rounded-lg",children:[jsxRuntimeExports$1.jsxs("p",{className:"text-lg font-semibold",children:["Formula: ",jsxRuntimeExports$1.jsx("span",{className:"font-normal",children:dr(it.formula)})]}),jsxRuntimeExports$1.jsxs("p",{className:"text-lg font-semibold",children:["Dimension: ",jsxRuntimeExports$1.jsx("span",{className:"font-normal",children:it.dimensionality.dim})]}),jsxRuntimeExports$1.jsxs("p",{className:"text-lg font-semibold",children:[it.dimensionality.label,":"," ",jsxRuntimeExports$1.jsx("span",{className:"font-normal",children:it.dimensionality.value})]})]}),_e&&!tt&&jsxRuntimeExports$1.jsx("div",{className:"flex items-center justify-center",children:jsxRuntimeExports$1.jsx("div",{className:"m-auto",children:_e&&jsxRuntimeExports$1.jsx(StructureVisualizer,{cifText:_e})})}),Ht.cell&&jsxRuntimeExports$1.jsxs("div",{className:"flex flex-col font-mono text-sm mb-4 mt-4",children:[jsxRuntimeExports$1.jsx("div",{className:"w-full shadow-md overflow-auto h-42 border-2 border-gray-200 rounded-lg mr-2",children:jsxRuntimeExports$1.jsxs("table",{className:"table-auto w-full",children:[jsxRuntimeExports$1.jsx("thead",{children:jsxRuntimeExports$1.jsxs("tr",{children:[jsxRuntimeExports$1.jsx("th",{className:"px-4 py-2",children:"Cell X"}),jsxRuntimeExports$1.jsx("th",{className:"px-4 py-2",children:"Cell Y"}),jsxRuntimeExports$1.jsx("th",{className:"px-4 py-2",children:"Cell Z"})]})}),jsxRuntimeExports$1.jsx("tbody",{children:Ht.cell&&Ht.cell.map((Io,Lo)=>jsxRuntimeExports$1.jsx("tr",{children:Io.map((ms,Uo)=>jsxRuntimeExports$1.jsx("td",{className:"border px-4 py-2",children:ms},Uo))},Lo))})]})}),Ht.sites&&jsxRuntimeExports$1.jsx("div",{className:"w-full shadow-md overflow-auto h-96 mb-4 mt-4 border-2 border-gray-200 rounded-lg",children:jsxRuntimeExports$1.jsxs("table",{className:"table-auto w-full",children:[jsxRuntimeExports$1.jsx("thead",{children:jsxRuntimeExports$1.jsxs("tr",{children:[jsxRuntimeExports$1.jsx("th",{className:"px-4 py-2",children:"Kind Name"}),jsxRuntimeExports$1.jsx("th",{className:"px-4 py-2",children:"Position X"}),jsxRuntimeExports$1.jsx("th",{className:"px-4 py-2",children:"Position Y"}),jsxRuntimeExports$1.jsx("th",{className:"px-4 py-2",children:" Position Z"})]})}),jsxRuntimeExports$1.jsx("tbody",{children:Ht.sites&&Ht.sites.map((Io,Lo)=>jsxRuntimeExports$1.jsxs("tr",{children:[jsxRuntimeExports$1.jsx("td",{className:"border px-4 py-2",children:Io.kind_name}),Io.position.map((ms,Uo)=>jsxRuntimeExports$1.jsx("td",{className:"border px-4 py-2",children:ms},Uo))]},Lo))})]})}),jsxRuntimeExports$1.jsx("div",{className:"h-full w-full ",children:jsxRuntimeExports$1.jsx(Brillouinzone,{data:Ct})})]})]})})]})]}),!mn&&jsxRuntimeExports$1.jsxs("div",{className:"w-full md:w-1/2 p-6 relative border-2 md:ml-2 border-gray-200 rounded-lg",children:[jsxRuntimeExports$1.jsx("div",{className:"border-2 border-gray-300 absolute top-[-1rem] left-[11%] translate-x-[-50%] px-3 py-1 bg-gray-200 z-10 align-middle items-center",children:jsxRuntimeExports$1.jsx("h1",{className:"text-xl font-semibold text-center",children:"Graph Preview"})}),jsxRuntimeExports$1.jsx("div",{className:"h-full w-full",children:jsxRuntimeExports$1.jsx(BrowserSelection,{uuid:_,apiUrl:o})})]})]})})};function FiChevronDown(o){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(o)}const buildTree=o=>{let _=o.subspaces||[];return{label:o.label||"No Label",full_type:o.full_type||"",children:_.map(buildTree),counter:o.counter}},TreeNode=({node:o,onSelectNode:_,selectedNode:$})=>{const j=$&&o.full_type===$.full_type,[_e,et]=reactExports.useState(j),[tt,nt]=reactExports.useState(!1),it=useNavigate(),lt=useLocation(),dt=()=>{et(!_e),_(o),nt(!0)};return reactExports.useEffect(()=>{if(tt&&lt.pathname.includes("/computers")){const bt=lt.pathname.split("/").slice(0,-1).join("/");it(bt),nt(!1)}},[tt,lt.pathname,it]),jsxRuntimeExports$1.jsxs("div",{className:"ml-0 mt-1",children:[jsxRuntimeExports$1.jsxs("div",{className:`cursor-pointer hover:bg-blue-600 text-gray-900 min-w-fit p-2 rounded hover:text-gray-100 flex items-center
          ${j?"bg-blue-500 text-white":"bg-gray-100"}`,onClick:dt,children:[jsxRuntimeExports$1.jsx(FiChevronDown,{className:`w-4 h-4 mr-2 transform transition-transform duration-200 ${_e?"":"-rotate-90 "}`}),o.label]}),_e&&jsxRuntimeExports$1.jsx("div",{className:"ml-4 mt-2 ",children:o.children.map((bt,Ht)=>jsxRuntimeExports$1.jsx(TreeNode,{node:bt,onSelectNode:_,selectedNode:$},Ht))})]})},TreeView=({fullTypeCounts:o,selectedNode:_,onSelectNode:$})=>{if(o==null)return jsxRuntimeExports$1.jsx("div",{className:"loading-animation m-auto flex justify-center text-center",children:jsxRuntimeExports$1.jsx(ClipLoader,{size:30,color:"#007bff"})});console.log(o);const _e=buildTree(o).children;return _e.length?jsxRuntimeExports$1.jsx("div",{children:_e.map((et,tt)=>jsxRuntimeExports$1.jsx(TreeNode,{node:et,onSelectNode:$,selectedNode:_},tt))}):jsxRuntimeExports$1.jsx("div",{className:"text-center text-gray-700 bg-blue-100",children:"No data available"})},FilterSidebar=({fullTypeCounts:o,selectedNode:_,onSelectNode:$,Computers:j})=>{const _e=useNavigate();console.log(o);const et=(...nt)=>nt.map((it,lt)=>lt===0?it.trim().replace(/\/*$/,""):it.trim().replace(/(^\/|\/*$)/g,"")).filter(it=>it.length).join("/"),tt=()=>{const nt=location.pathname;_e(et(nt,"computers"))};return jsxRuntimeExports$1.jsxs("div",{className:"p-4 bg-white border-2 border-gray-300 overflow-auto h-full",children:[jsxRuntimeExports$1.jsx(TreeView,{fullTypeCounts:o,selectedNode:_,onSelectNode:$}),jsxRuntimeExports$1.jsx("hr",{className:"my-3 text-gray-900"}),jsxRuntimeExports$1.jsx("div",{children:jsxRuntimeExports$1.jsx("button",{className:"bg-gray-300 p-3 text-center font-medium text-md text-gray-900 w-full",onClick:tt,children:"Computers"})})]})};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function createColumnHelper(){return{accessor:(o,_)=>typeof o=="function"?{..._,accessorFn:o}:{..._,accessorKey:o},display:o=>o,group:o=>o}}function functionalUpdate(o,_){return typeof o=="function"?o(_):o}function makeStateUpdater(o,_){return $=>{_.setState(j=>({...j,[o]:functionalUpdate($,j[o])}))}}function isFunction$4(o){return o instanceof Function}function isNumberArray(o){return Array.isArray(o)&&o.every(_=>typeof _=="number")}function flattenBy(o,_){const $=[],j=_e=>{_e.forEach(et=>{$.push(et);const tt=_(et);tt!=null&&tt.length&&j(tt)})};return j(o),$}function memo(o,_,$){let j=[],_e;return et=>{let tt;$.key&&$.debug&&(tt=Date.now());const nt=o(et);if(!(nt.length!==j.length||nt.some((dt,bt)=>j[bt]!==dt)))return _e;j=nt;let lt;if($.key&&$.debug&&(lt=Date.now()),_e=_(...nt),$==null||$.onChange==null||$.onChange(_e),$.key&&$.debug&&$!=null&&$.debug()){const dt=Math.round((Date.now()-tt)*100)/100,bt=Math.round((Date.now()-lt)*100)/100,Ht=bt/16,pr=(_n,ft)=>{for(_n=String(_n);_n.length<ft;)_n=" "+_n;return _n};console.info(`%c⏱ ${pr(bt,5)} /${pr(dt,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*Ht,120))}deg 100% 31%);`,$==null?void 0:$.key)}return _e}}function getMemoOptions(o,_,$,j){return{debug:()=>{var _e;return(_e=o==null?void 0:o.debugAll)!=null?_e:o[_]},key:!1,onChange:j}}function createCell(o,_,$,j){const _e=()=>{var tt;return(tt=et.getValue())!=null?tt:o.options.renderFallbackValue},et={id:`${_.id}_${$.id}`,row:_,column:$,getValue:()=>_.getValue(j),renderValue:_e,getContext:memo(()=>[o,$,_,et],(tt,nt,it,lt)=>({table:tt,column:nt,row:it,cell:lt,getValue:lt.getValue,renderValue:lt.renderValue}),getMemoOptions(o.options,"debugCells"))};return o._features.forEach(tt=>{tt.createCell==null||tt.createCell(et,$,_,o)},{}),et}function createColumn(o,_,$,j){var _e,et;const nt={...o._getDefaultColumnDef(),..._},it=nt.accessorKey;let lt=(_e=(et=nt.id)!=null?et:it?typeof String.prototype.replaceAll=="function"?it.replaceAll(".","_"):it.replace(/\./g,"_"):void 0)!=null?_e:typeof nt.header=="string"?nt.header:void 0,dt;if(nt.accessorFn?dt=nt.accessorFn:it&&(it.includes(".")?dt=Ht=>{let pr=Ht;for(const ft of it.split(".")){var _n;pr=(_n=pr)==null?void 0:_n[ft]}return pr}:dt=Ht=>Ht[nt.accessorKey]),!lt)throw new Error;let bt={id:`${String(lt)}`,accessorFn:dt,parent:j,depth:$,columnDef:nt,columns:[],getFlatColumns:memo(()=>[!0],()=>{var Ht;return[bt,...(Ht=bt.columns)==null?void 0:Ht.flatMap(pr=>pr.getFlatColumns())]},getMemoOptions(o.options,"debugColumns")),getLeafColumns:memo(()=>[o._getOrderColumnsFn()],Ht=>{var pr;if((pr=bt.columns)!=null&&pr.length){let _n=bt.columns.flatMap(ft=>ft.getLeafColumns());return Ht(_n)}return[bt]},getMemoOptions(o.options,"debugColumns"))};for(const Ht of o._features)Ht.createColumn==null||Ht.createColumn(bt,o);return bt}const debug="debugHeaders";function createHeader(o,_,$){var j;let et={id:(j=$.id)!=null?j:_.id,column:_,index:$.index,isPlaceholder:!!$.isPlaceholder,placeholderId:$.placeholderId,depth:$.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const tt=[],nt=it=>{it.subHeaders&&it.subHeaders.length&&it.subHeaders.map(nt),tt.push(it)};return nt(et),tt},getContext:()=>({table:o,header:et,column:_})};return o._features.forEach(tt=>{tt.createHeader==null||tt.createHeader(et,o)}),et}const Headers={createTable:o=>{o.getHeaderGroups=memo(()=>[o.getAllColumns(),o.getVisibleLeafColumns(),o.getState().columnPinning.left,o.getState().columnPinning.right],(_,$,j,_e)=>{var et,tt;const nt=(et=j==null?void 0:j.map(bt=>$.find(Ht=>Ht.id===bt)).filter(Boolean))!=null?et:[],it=(tt=_e==null?void 0:_e.map(bt=>$.find(Ht=>Ht.id===bt)).filter(Boolean))!=null?tt:[],lt=$.filter(bt=>!(j!=null&&j.includes(bt.id))&&!(_e!=null&&_e.includes(bt.id)));return buildHeaderGroups(_,[...nt,...lt,...it],o)},getMemoOptions(o.options,debug)),o.getCenterHeaderGroups=memo(()=>[o.getAllColumns(),o.getVisibleLeafColumns(),o.getState().columnPinning.left,o.getState().columnPinning.right],(_,$,j,_e)=>($=$.filter(et=>!(j!=null&&j.includes(et.id))&&!(_e!=null&&_e.includes(et.id))),buildHeaderGroups(_,$,o,"center")),getMemoOptions(o.options,debug)),o.getLeftHeaderGroups=memo(()=>[o.getAllColumns(),o.getVisibleLeafColumns(),o.getState().columnPinning.left],(_,$,j)=>{var _e;const et=(_e=j==null?void 0:j.map(tt=>$.find(nt=>nt.id===tt)).filter(Boolean))!=null?_e:[];return buildHeaderGroups(_,et,o,"left")},getMemoOptions(o.options,debug)),o.getRightHeaderGroups=memo(()=>[o.getAllColumns(),o.getVisibleLeafColumns(),o.getState().columnPinning.right],(_,$,j)=>{var _e;const et=(_e=j==null?void 0:j.map(tt=>$.find(nt=>nt.id===tt)).filter(Boolean))!=null?_e:[];return buildHeaderGroups(_,et,o,"right")},getMemoOptions(o.options,debug)),o.getFooterGroups=memo(()=>[o.getHeaderGroups()],_=>[..._].reverse(),getMemoOptions(o.options,debug)),o.getLeftFooterGroups=memo(()=>[o.getLeftHeaderGroups()],_=>[..._].reverse(),getMemoOptions(o.options,debug)),o.getCenterFooterGroups=memo(()=>[o.getCenterHeaderGroups()],_=>[..._].reverse(),getMemoOptions(o.options,debug)),o.getRightFooterGroups=memo(()=>[o.getRightHeaderGroups()],_=>[..._].reverse(),getMemoOptions(o.options,debug)),o.getFlatHeaders=memo(()=>[o.getHeaderGroups()],_=>_.map($=>$.headers).flat(),getMemoOptions(o.options,debug)),o.getLeftFlatHeaders=memo(()=>[o.getLeftHeaderGroups()],_=>_.map($=>$.headers).flat(),getMemoOptions(o.options,debug)),o.getCenterFlatHeaders=memo(()=>[o.getCenterHeaderGroups()],_=>_.map($=>$.headers).flat(),getMemoOptions(o.options,debug)),o.getRightFlatHeaders=memo(()=>[o.getRightHeaderGroups()],_=>_.map($=>$.headers).flat(),getMemoOptions(o.options,debug)),o.getCenterLeafHeaders=memo(()=>[o.getCenterFlatHeaders()],_=>_.filter($=>{var j;return!((j=$.subHeaders)!=null&&j.length)}),getMemoOptions(o.options,debug)),o.getLeftLeafHeaders=memo(()=>[o.getLeftFlatHeaders()],_=>_.filter($=>{var j;return!((j=$.subHeaders)!=null&&j.length)}),getMemoOptions(o.options,debug)),o.getRightLeafHeaders=memo(()=>[o.getRightFlatHeaders()],_=>_.filter($=>{var j;return!((j=$.subHeaders)!=null&&j.length)}),getMemoOptions(o.options,debug)),o.getLeafHeaders=memo(()=>[o.getLeftHeaderGroups(),o.getCenterHeaderGroups(),o.getRightHeaderGroups()],(_,$,j)=>{var _e,et,tt,nt,it,lt;return[...(_e=(et=_[0])==null?void 0:et.headers)!=null?_e:[],...(tt=(nt=$[0])==null?void 0:nt.headers)!=null?tt:[],...(it=(lt=j[0])==null?void 0:lt.headers)!=null?it:[]].map(dt=>dt.getLeafHeaders()).flat()},getMemoOptions(o.options,debug))}};function buildHeaderGroups(o,_,$,j){var _e,et;let tt=0;const nt=function(Ht,pr){pr===void 0&&(pr=1),tt=Math.max(tt,pr),Ht.filter(_n=>_n.getIsVisible()).forEach(_n=>{var ft;(ft=_n.columns)!=null&&ft.length&&nt(_n.columns,pr+1)},0)};nt(o);let it=[];const lt=(Ht,pr)=>{const _n={depth:pr,id:[j,`${pr}`].filter(Boolean).join("_"),headers:[]},ft=[];Ht.forEach(Ct=>{const mr=[...ft].reverse()[0],_r=Ct.column.depth===_n.depth;let mn,dr=!1;if(_r&&Ct.column.parent?mn=Ct.column.parent:(mn=Ct.column,dr=!0),mr&&(mr==null?void 0:mr.column)===mn)mr.subHeaders.push(Ct);else{const pn=createHeader($,mn,{id:[j,pr,mn.id,Ct==null?void 0:Ct.id].filter(Boolean).join("_"),isPlaceholder:dr,placeholderId:dr?`${ft.filter(Do=>Do.column===mn).length}`:void 0,depth:pr,index:ft.length});pn.subHeaders.push(Ct),ft.push(pn)}_n.headers.push(Ct),Ct.headerGroup=_n}),it.push(_n),pr>0&&lt(ft,pr-1)},dt=_.map((Ht,pr)=>createHeader($,Ht,{depth:tt,index:pr}));lt(dt,tt-1),it.reverse();const bt=Ht=>Ht.filter(_n=>_n.column.getIsVisible()).map(_n=>{let ft=0,Ct=0,mr=[0];_n.subHeaders&&_n.subHeaders.length?(mr=[],bt(_n.subHeaders).forEach(mn=>{let{colSpan:dr,rowSpan:pn}=mn;ft+=dr,mr.push(pn)})):ft=1;const _r=Math.min(...mr);return Ct=Ct+_r,_n.colSpan=ft,_n.rowSpan=Ct,{colSpan:ft,rowSpan:Ct}});return bt((_e=(et=it[0])==null?void 0:et.headers)!=null?_e:[]),it}const createRow=(o,_,$,j,_e,et,tt)=>{let nt={id:_,index:j,original:$,depth:_e,parentId:tt,_valuesCache:{},_uniqueValuesCache:{},getValue:it=>{if(nt._valuesCache.hasOwnProperty(it))return nt._valuesCache[it];const lt=o.getColumn(it);if(lt!=null&&lt.accessorFn)return nt._valuesCache[it]=lt.accessorFn(nt.original,j),nt._valuesCache[it]},getUniqueValues:it=>{if(nt._uniqueValuesCache.hasOwnProperty(it))return nt._uniqueValuesCache[it];const lt=o.getColumn(it);if(lt!=null&&lt.accessorFn)return lt.columnDef.getUniqueValues?(nt._uniqueValuesCache[it]=lt.columnDef.getUniqueValues(nt.original,j),nt._uniqueValuesCache[it]):(nt._uniqueValuesCache[it]=[nt.getValue(it)],nt._uniqueValuesCache[it])},renderValue:it=>{var lt;return(lt=nt.getValue(it))!=null?lt:o.options.renderFallbackValue},subRows:[],getLeafRows:()=>flattenBy(nt.subRows,it=>it.subRows),getParentRow:()=>nt.parentId?o.getRow(nt.parentId,!0):void 0,getParentRows:()=>{let it=[],lt=nt;for(;;){const dt=lt.getParentRow();if(!dt)break;it.push(dt),lt=dt}return it.reverse()},getAllCells:memo(()=>[o.getAllLeafColumns()],it=>it.map(lt=>createCell(o,nt,lt,lt.id)),getMemoOptions(o.options,"debugRows")),_getAllCellsByColumnId:memo(()=>[nt.getAllCells()],it=>it.reduce((lt,dt)=>(lt[dt.column.id]=dt,lt),{}),getMemoOptions(o.options,"debugRows"))};for(let it=0;it<o._features.length;it++){const lt=o._features[it];lt==null||lt.createRow==null||lt.createRow(nt,o)}return nt},ColumnFaceting={createColumn:(o,_)=>{o._getFacetedRowModel=_.options.getFacetedRowModel&&_.options.getFacetedRowModel(_,o.id),o.getFacetedRowModel=()=>o._getFacetedRowModel?o._getFacetedRowModel():_.getPreFilteredRowModel(),o._getFacetedUniqueValues=_.options.getFacetedUniqueValues&&_.options.getFacetedUniqueValues(_,o.id),o.getFacetedUniqueValues=()=>o._getFacetedUniqueValues?o._getFacetedUniqueValues():new Map,o._getFacetedMinMaxValues=_.options.getFacetedMinMaxValues&&_.options.getFacetedMinMaxValues(_,o.id),o.getFacetedMinMaxValues=()=>{if(o._getFacetedMinMaxValues)return o._getFacetedMinMaxValues()}}},includesString=(o,_,$)=>{var j;const _e=$.toLowerCase();return!!(!((j=o.getValue(_))==null||(j=j.toString())==null||(j=j.toLowerCase())==null)&&j.includes(_e))};includesString.autoRemove=o=>testFalsey(o);const includesStringSensitive=(o,_,$)=>{var j;return!!(!((j=o.getValue(_))==null||(j=j.toString())==null)&&j.includes($))};includesStringSensitive.autoRemove=o=>testFalsey(o);const equalsString=(o,_,$)=>{var j;return((j=o.getValue(_))==null||(j=j.toString())==null?void 0:j.toLowerCase())===($==null?void 0:$.toLowerCase())};equalsString.autoRemove=o=>testFalsey(o);const arrIncludes=(o,_,$)=>{var j;return(j=o.getValue(_))==null?void 0:j.includes($)};arrIncludes.autoRemove=o=>testFalsey(o)||!(o!=null&&o.length);const arrIncludesAll=(o,_,$)=>!$.some(j=>{var _e;return!((_e=o.getValue(_))!=null&&_e.includes(j))});arrIncludesAll.autoRemove=o=>testFalsey(o)||!(o!=null&&o.length);const arrIncludesSome=(o,_,$)=>$.some(j=>{var _e;return(_e=o.getValue(_))==null?void 0:_e.includes(j)});arrIncludesSome.autoRemove=o=>testFalsey(o)||!(o!=null&&o.length);const equals=(o,_,$)=>o.getValue(_)===$;equals.autoRemove=o=>testFalsey(o);const weakEquals=(o,_,$)=>o.getValue(_)==$;weakEquals.autoRemove=o=>testFalsey(o);const inNumberRange=(o,_,$)=>{let[j,_e]=$;const et=o.getValue(_);return et>=j&&et<=_e};inNumberRange.resolveFilterValue=o=>{let[_,$]=o,j=typeof _!="number"?parseFloat(_):_,_e=typeof $!="number"?parseFloat($):$,et=_===null||Number.isNaN(j)?-1/0:j,tt=$===null||Number.isNaN(_e)?1/0:_e;if(et>tt){const nt=et;et=tt,tt=nt}return[et,tt]};inNumberRange.autoRemove=o=>testFalsey(o)||testFalsey(o[0])&&testFalsey(o[1]);const filterFns={includesString,includesStringSensitive,equalsString,arrIncludes,arrIncludesAll,arrIncludesSome,equals,weakEquals,inNumberRange};function testFalsey(o){return o==null||o===""}const ColumnFiltering={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:o=>({columnFilters:[],...o}),getDefaultOptions:o=>({onColumnFiltersChange:makeStateUpdater("columnFilters",o),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(o,_)=>{o.getAutoFilterFn=()=>{const $=_.getCoreRowModel().flatRows[0],j=$==null?void 0:$.getValue(o.id);return typeof j=="string"?filterFns.includesString:typeof j=="number"?filterFns.inNumberRange:typeof j=="boolean"||j!==null&&typeof j=="object"?filterFns.equals:Array.isArray(j)?filterFns.arrIncludes:filterFns.weakEquals},o.getFilterFn=()=>{var $,j;return isFunction$4(o.columnDef.filterFn)?o.columnDef.filterFn:o.columnDef.filterFn==="auto"?o.getAutoFilterFn():($=(j=_.options.filterFns)==null?void 0:j[o.columnDef.filterFn])!=null?$:filterFns[o.columnDef.filterFn]},o.getCanFilter=()=>{var $,j,_e;return(($=o.columnDef.enableColumnFilter)!=null?$:!0)&&((j=_.options.enableColumnFilters)!=null?j:!0)&&((_e=_.options.enableFilters)!=null?_e:!0)&&!!o.accessorFn},o.getIsFiltered=()=>o.getFilterIndex()>-1,o.getFilterValue=()=>{var $;return($=_.getState().columnFilters)==null||($=$.find(j=>j.id===o.id))==null?void 0:$.value},o.getFilterIndex=()=>{var $,j;return($=(j=_.getState().columnFilters)==null?void 0:j.findIndex(_e=>_e.id===o.id))!=null?$:-1},o.setFilterValue=$=>{_.setColumnFilters(j=>{const _e=o.getFilterFn(),et=j==null?void 0:j.find(dt=>dt.id===o.id),tt=functionalUpdate($,et?et.value:void 0);if(shouldAutoRemoveFilter(_e,tt,o)){var nt;return(nt=j==null?void 0:j.filter(dt=>dt.id!==o.id))!=null?nt:[]}const it={id:o.id,value:tt};if(et){var lt;return(lt=j==null?void 0:j.map(dt=>dt.id===o.id?it:dt))!=null?lt:[]}return j!=null&&j.length?[...j,it]:[it]})}},createRow:(o,_)=>{o.columnFilters={},o.columnFiltersMeta={}},createTable:o=>{o.setColumnFilters=_=>{const $=o.getAllLeafColumns(),j=_e=>{var et;return(et=functionalUpdate(_,_e))==null?void 0:et.filter(tt=>{const nt=$.find(it=>it.id===tt.id);if(nt){const it=nt.getFilterFn();if(shouldAutoRemoveFilter(it,tt.value,nt))return!1}return!0})};o.options.onColumnFiltersChange==null||o.options.onColumnFiltersChange(j)},o.resetColumnFilters=_=>{var $,j;o.setColumnFilters(_?[]:($=(j=o.initialState)==null?void 0:j.columnFilters)!=null?$:[])},o.getPreFilteredRowModel=()=>o.getCoreRowModel(),o.getFilteredRowModel=()=>(!o._getFilteredRowModel&&o.options.getFilteredRowModel&&(o._getFilteredRowModel=o.options.getFilteredRowModel(o)),o.options.manualFiltering||!o._getFilteredRowModel?o.getPreFilteredRowModel():o._getFilteredRowModel())}};function shouldAutoRemoveFilter(o,_,$){return(o&&o.autoRemove?o.autoRemove(_,$):!1)||typeof _>"u"||typeof _=="string"&&!_}const sum=(o,_,$)=>$.reduce((j,_e)=>{const et=_e.getValue(o);return j+(typeof et=="number"?et:0)},0),min$5=(o,_,$)=>{let j;return $.forEach(_e=>{const et=_e.getValue(o);et!=null&&(j>et||j===void 0&&et>=et)&&(j=et)}),j},max$5=(o,_,$)=>{let j;return $.forEach(_e=>{const et=_e.getValue(o);et!=null&&(j<et||j===void 0&&et>=et)&&(j=et)}),j},extent=(o,_,$)=>{let j,_e;return $.forEach(et=>{const tt=et.getValue(o);tt!=null&&(j===void 0?tt>=tt&&(j=_e=tt):(j>tt&&(j=tt),_e<tt&&(_e=tt)))}),[j,_e]},mean=(o,_)=>{let $=0,j=0;if(_.forEach(_e=>{let et=_e.getValue(o);et!=null&&(et=+et)>=et&&(++$,j+=et)}),$)return j/$},median=(o,_)=>{if(!_.length)return;const $=_.map(et=>et.getValue(o));if(!isNumberArray($))return;if($.length===1)return $[0];const j=Math.floor($.length/2),_e=$.sort((et,tt)=>et-tt);return $.length%2!==0?_e[j]:(_e[j-1]+_e[j])/2},unique=(o,_)=>Array.from(new Set(_.map($=>$.getValue(o))).values()),uniqueCount=(o,_)=>new Set(_.map($=>$.getValue(o))).size,count$1=(o,_)=>_.length,aggregationFns={sum,min:min$5,max:max$5,extent,mean,median,unique,uniqueCount,count:count$1},ColumnGrouping={getDefaultColumnDef:()=>({aggregatedCell:o=>{var _,$;return(_=($=o.getValue())==null||$.toString==null?void 0:$.toString())!=null?_:null},aggregationFn:"auto"}),getInitialState:o=>({grouping:[],...o}),getDefaultOptions:o=>({onGroupingChange:makeStateUpdater("grouping",o),groupedColumnMode:"reorder"}),createColumn:(o,_)=>{o.toggleGrouping=()=>{_.setGrouping($=>$!=null&&$.includes(o.id)?$.filter(j=>j!==o.id):[...$??[],o.id])},o.getCanGroup=()=>{var $,j;return(($=o.columnDef.enableGrouping)!=null?$:!0)&&((j=_.options.enableGrouping)!=null?j:!0)&&(!!o.accessorFn||!!o.columnDef.getGroupingValue)},o.getIsGrouped=()=>{var $;return($=_.getState().grouping)==null?void 0:$.includes(o.id)},o.getGroupedIndex=()=>{var $;return($=_.getState().grouping)==null?void 0:$.indexOf(o.id)},o.getToggleGroupingHandler=()=>{const $=o.getCanGroup();return()=>{$&&o.toggleGrouping()}},o.getAutoAggregationFn=()=>{const $=_.getCoreRowModel().flatRows[0],j=$==null?void 0:$.getValue(o.id);if(typeof j=="number")return aggregationFns.sum;if(Object.prototype.toString.call(j)==="[object Date]")return aggregationFns.extent},o.getAggregationFn=()=>{var $,j;if(!o)throw new Error;return isFunction$4(o.columnDef.aggregationFn)?o.columnDef.aggregationFn:o.columnDef.aggregationFn==="auto"?o.getAutoAggregationFn():($=(j=_.options.aggregationFns)==null?void 0:j[o.columnDef.aggregationFn])!=null?$:aggregationFns[o.columnDef.aggregationFn]}},createTable:o=>{o.setGrouping=_=>o.options.onGroupingChange==null?void 0:o.options.onGroupingChange(_),o.resetGrouping=_=>{var $,j;o.setGrouping(_?[]:($=(j=o.initialState)==null?void 0:j.grouping)!=null?$:[])},o.getPreGroupedRowModel=()=>o.getFilteredRowModel(),o.getGroupedRowModel=()=>(!o._getGroupedRowModel&&o.options.getGroupedRowModel&&(o._getGroupedRowModel=o.options.getGroupedRowModel(o)),o.options.manualGrouping||!o._getGroupedRowModel?o.getPreGroupedRowModel():o._getGroupedRowModel())},createRow:(o,_)=>{o.getIsGrouped=()=>!!o.groupingColumnId,o.getGroupingValue=$=>{if(o._groupingValuesCache.hasOwnProperty($))return o._groupingValuesCache[$];const j=_.getColumn($);return j!=null&&j.columnDef.getGroupingValue?(o._groupingValuesCache[$]=j.columnDef.getGroupingValue(o.original),o._groupingValuesCache[$]):o.getValue($)},o._groupingValuesCache={}},createCell:(o,_,$,j)=>{o.getIsGrouped=()=>_.getIsGrouped()&&_.id===$.groupingColumnId,o.getIsPlaceholder=()=>!o.getIsGrouped()&&_.getIsGrouped(),o.getIsAggregated=()=>{var _e;return!o.getIsGrouped()&&!o.getIsPlaceholder()&&!!((_e=$.subRows)!=null&&_e.length)}}};function orderColumns(o,_,$){if(!(_!=null&&_.length)||!$)return o;const j=o.filter(et=>!_.includes(et.id));return $==="remove"?j:[..._.map(et=>o.find(tt=>tt.id===et)).filter(Boolean),...j]}const ColumnOrdering={getInitialState:o=>({columnOrder:[],...o}),getDefaultOptions:o=>({onColumnOrderChange:makeStateUpdater("columnOrder",o)}),createColumn:(o,_)=>{o.getIndex=memo($=>[_getVisibleLeafColumns(_,$)],$=>$.findIndex(j=>j.id===o.id),getMemoOptions(_.options,"debugColumns")),o.getIsFirstColumn=$=>{var j;return((j=_getVisibleLeafColumns(_,$)[0])==null?void 0:j.id)===o.id},o.getIsLastColumn=$=>{var j;const _e=_getVisibleLeafColumns(_,$);return((j=_e[_e.length-1])==null?void 0:j.id)===o.id}},createTable:o=>{o.setColumnOrder=_=>o.options.onColumnOrderChange==null?void 0:o.options.onColumnOrderChange(_),o.resetColumnOrder=_=>{var $;o.setColumnOrder(_?[]:($=o.initialState.columnOrder)!=null?$:[])},o._getOrderColumnsFn=memo(()=>[o.getState().columnOrder,o.getState().grouping,o.options.groupedColumnMode],(_,$,j)=>_e=>{let et=[];if(!(_!=null&&_.length))et=_e;else{const tt=[..._],nt=[..._e];for(;nt.length&&tt.length;){const it=tt.shift(),lt=nt.findIndex(dt=>dt.id===it);lt>-1&&et.push(nt.splice(lt,1)[0])}et=[...et,...nt]}return orderColumns(et,$,j)},getMemoOptions(o.options,"debugTable"))}},getDefaultColumnPinningState=()=>({left:[],right:[]}),ColumnPinning={getInitialState:o=>({columnPinning:getDefaultColumnPinningState(),...o}),getDefaultOptions:o=>({onColumnPinningChange:makeStateUpdater("columnPinning",o)}),createColumn:(o,_)=>{o.pin=$=>{const j=o.getLeafColumns().map(_e=>_e.id).filter(Boolean);_.setColumnPinning(_e=>{var et,tt;if($==="right"){var nt,it;return{left:((nt=_e==null?void 0:_e.left)!=null?nt:[]).filter(bt=>!(j!=null&&j.includes(bt))),right:[...((it=_e==null?void 0:_e.right)!=null?it:[]).filter(bt=>!(j!=null&&j.includes(bt))),...j]}}if($==="left"){var lt,dt;return{left:[...((lt=_e==null?void 0:_e.left)!=null?lt:[]).filter(bt=>!(j!=null&&j.includes(bt))),...j],right:((dt=_e==null?void 0:_e.right)!=null?dt:[]).filter(bt=>!(j!=null&&j.includes(bt)))}}return{left:((et=_e==null?void 0:_e.left)!=null?et:[]).filter(bt=>!(j!=null&&j.includes(bt))),right:((tt=_e==null?void 0:_e.right)!=null?tt:[]).filter(bt=>!(j!=null&&j.includes(bt)))}})},o.getCanPin=()=>o.getLeafColumns().some(j=>{var _e,et,tt;return((_e=j.columnDef.enablePinning)!=null?_e:!0)&&((et=(tt=_.options.enableColumnPinning)!=null?tt:_.options.enablePinning)!=null?et:!0)}),o.getIsPinned=()=>{const $=o.getLeafColumns().map(nt=>nt.id),{left:j,right:_e}=_.getState().columnPinning,et=$.some(nt=>j==null?void 0:j.includes(nt)),tt=$.some(nt=>_e==null?void 0:_e.includes(nt));return et?"left":tt?"right":!1},o.getPinnedIndex=()=>{var $,j;const _e=o.getIsPinned();return _e?($=(j=_.getState().columnPinning)==null||(j=j[_e])==null?void 0:j.indexOf(o.id))!=null?$:-1:0}},createRow:(o,_)=>{o.getCenterVisibleCells=memo(()=>[o._getAllVisibleCells(),_.getState().columnPinning.left,_.getState().columnPinning.right],($,j,_e)=>{const et=[...j??[],..._e??[]];return $.filter(tt=>!et.includes(tt.column.id))},getMemoOptions(_.options,"debugRows")),o.getLeftVisibleCells=memo(()=>[o._getAllVisibleCells(),_.getState().columnPinning.left],($,j)=>(j??[]).map(et=>$.find(tt=>tt.column.id===et)).filter(Boolean).map(et=>({...et,position:"left"})),getMemoOptions(_.options,"debugRows")),o.getRightVisibleCells=memo(()=>[o._getAllVisibleCells(),_.getState().columnPinning.right],($,j)=>(j??[]).map(et=>$.find(tt=>tt.column.id===et)).filter(Boolean).map(et=>({...et,position:"right"})),getMemoOptions(_.options,"debugRows"))},createTable:o=>{o.setColumnPinning=_=>o.options.onColumnPinningChange==null?void 0:o.options.onColumnPinningChange(_),o.resetColumnPinning=_=>{var $,j;return o.setColumnPinning(_?getDefaultColumnPinningState():($=(j=o.initialState)==null?void 0:j.columnPinning)!=null?$:getDefaultColumnPinningState())},o.getIsSomeColumnsPinned=_=>{var $;const j=o.getState().columnPinning;if(!_){var _e,et;return!!((_e=j.left)!=null&&_e.length||(et=j.right)!=null&&et.length)}return!!(($=j[_])!=null&&$.length)},o.getLeftLeafColumns=memo(()=>[o.getAllLeafColumns(),o.getState().columnPinning.left],(_,$)=>($??[]).map(j=>_.find(_e=>_e.id===j)).filter(Boolean),getMemoOptions(o.options,"debugColumns")),o.getRightLeafColumns=memo(()=>[o.getAllLeafColumns(),o.getState().columnPinning.right],(_,$)=>($??[]).map(j=>_.find(_e=>_e.id===j)).filter(Boolean),getMemoOptions(o.options,"debugColumns")),o.getCenterLeafColumns=memo(()=>[o.getAllLeafColumns(),o.getState().columnPinning.left,o.getState().columnPinning.right],(_,$,j)=>{const _e=[...$??[],...j??[]];return _.filter(et=>!_e.includes(et.id))},getMemoOptions(o.options,"debugColumns"))}},defaultColumnSizing={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},getDefaultColumnSizingInfoState=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),ColumnSizing={getDefaultColumnDef:()=>defaultColumnSizing,getInitialState:o=>({columnSizing:{},columnSizingInfo:getDefaultColumnSizingInfoState(),...o}),getDefaultOptions:o=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:makeStateUpdater("columnSizing",o),onColumnSizingInfoChange:makeStateUpdater("columnSizingInfo",o)}),createColumn:(o,_)=>{o.getSize=()=>{var $,j,_e;const et=_.getState().columnSizing[o.id];return Math.min(Math.max(($=o.columnDef.minSize)!=null?$:defaultColumnSizing.minSize,(j=et??o.columnDef.size)!=null?j:defaultColumnSizing.size),(_e=o.columnDef.maxSize)!=null?_e:defaultColumnSizing.maxSize)},o.getStart=memo($=>[$,_getVisibleLeafColumns(_,$),_.getState().columnSizing],($,j)=>j.slice(0,o.getIndex($)).reduce((_e,et)=>_e+et.getSize(),0),getMemoOptions(_.options,"debugColumns")),o.getAfter=memo($=>[$,_getVisibleLeafColumns(_,$),_.getState().columnSizing],($,j)=>j.slice(o.getIndex($)+1).reduce((_e,et)=>_e+et.getSize(),0),getMemoOptions(_.options,"debugColumns")),o.resetSize=()=>{_.setColumnSizing($=>{let{[o.id]:j,..._e}=$;return _e})},o.getCanResize=()=>{var $,j;return(($=o.columnDef.enableResizing)!=null?$:!0)&&((j=_.options.enableColumnResizing)!=null?j:!0)},o.getIsResizing=()=>_.getState().columnSizingInfo.isResizingColumn===o.id},createHeader:(o,_)=>{o.getSize=()=>{let $=0;const j=_e=>{if(_e.subHeaders.length)_e.subHeaders.forEach(j);else{var et;$+=(et=_e.column.getSize())!=null?et:0}};return j(o),$},o.getStart=()=>{if(o.index>0){const $=o.headerGroup.headers[o.index-1];return $.getStart()+$.getSize()}return 0},o.getResizeHandler=$=>{const j=_.getColumn(o.column.id),_e=j==null?void 0:j.getCanResize();return et=>{if(!j||!_e||(et.persist==null||et.persist(),isTouchStartEvent(et)&&et.touches&&et.touches.length>1))return;const tt=o.getSize(),nt=o?o.getLeafHeaders().map(mr=>[mr.column.id,mr.column.getSize()]):[[j.id,j.getSize()]],it=isTouchStartEvent(et)?Math.round(et.touches[0].clientX):et.clientX,lt={},dt=(mr,_r)=>{typeof _r=="number"&&(_.setColumnSizingInfo(mn=>{var dr,pn;const Do=_.options.columnResizeDirection==="rtl"?-1:1,Io=(_r-((dr=mn==null?void 0:mn.startOffset)!=null?dr:0))*Do,Lo=Math.max(Io/((pn=mn==null?void 0:mn.startSize)!=null?pn:0),-.999999);return mn.columnSizingStart.forEach(ms=>{let[Uo,_s]=ms;lt[Uo]=Math.round(Math.max(_s+_s*Lo,0)*100)/100}),{...mn,deltaOffset:Io,deltaPercentage:Lo}}),(_.options.columnResizeMode==="onChange"||mr==="end")&&_.setColumnSizing(mn=>({...mn,...lt})))},bt=mr=>dt("move",mr),Ht=mr=>{dt("end",mr),_.setColumnSizingInfo(_r=>({..._r,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},pr=$||typeof document<"u"?document:null,_n={moveHandler:mr=>bt(mr.clientX),upHandler:mr=>{pr==null||pr.removeEventListener("mousemove",_n.moveHandler),pr==null||pr.removeEventListener("mouseup",_n.upHandler),Ht(mr.clientX)}},ft={moveHandler:mr=>(mr.cancelable&&(mr.preventDefault(),mr.stopPropagation()),bt(mr.touches[0].clientX),!1),upHandler:mr=>{var _r;pr==null||pr.removeEventListener("touchmove",ft.moveHandler),pr==null||pr.removeEventListener("touchend",ft.upHandler),mr.cancelable&&(mr.preventDefault(),mr.stopPropagation()),Ht((_r=mr.touches[0])==null?void 0:_r.clientX)}},Ct=passiveEventSupported()?{passive:!1}:!1;isTouchStartEvent(et)?(pr==null||pr.addEventListener("touchmove",ft.moveHandler,Ct),pr==null||pr.addEventListener("touchend",ft.upHandler,Ct)):(pr==null||pr.addEventListener("mousemove",_n.moveHandler,Ct),pr==null||pr.addEventListener("mouseup",_n.upHandler,Ct)),_.setColumnSizingInfo(mr=>({...mr,startOffset:it,startSize:tt,deltaOffset:0,deltaPercentage:0,columnSizingStart:nt,isResizingColumn:j.id}))}}},createTable:o=>{o.setColumnSizing=_=>o.options.onColumnSizingChange==null?void 0:o.options.onColumnSizingChange(_),o.setColumnSizingInfo=_=>o.options.onColumnSizingInfoChange==null?void 0:o.options.onColumnSizingInfoChange(_),o.resetColumnSizing=_=>{var $;o.setColumnSizing(_?{}:($=o.initialState.columnSizing)!=null?$:{})},o.resetHeaderSizeInfo=_=>{var $;o.setColumnSizingInfo(_?getDefaultColumnSizingInfoState():($=o.initialState.columnSizingInfo)!=null?$:getDefaultColumnSizingInfoState())},o.getTotalSize=()=>{var _,$;return(_=($=o.getHeaderGroups()[0])==null?void 0:$.headers.reduce((j,_e)=>j+_e.getSize(),0))!=null?_:0},o.getLeftTotalSize=()=>{var _,$;return(_=($=o.getLeftHeaderGroups()[0])==null?void 0:$.headers.reduce((j,_e)=>j+_e.getSize(),0))!=null?_:0},o.getCenterTotalSize=()=>{var _,$;return(_=($=o.getCenterHeaderGroups()[0])==null?void 0:$.headers.reduce((j,_e)=>j+_e.getSize(),0))!=null?_:0},o.getRightTotalSize=()=>{var _,$;return(_=($=o.getRightHeaderGroups()[0])==null?void 0:$.headers.reduce((j,_e)=>j+_e.getSize(),0))!=null?_:0}}};let passiveSupported=null;function passiveEventSupported(){if(typeof passiveSupported=="boolean")return passiveSupported;let o=!1;try{const _={get passive(){return o=!0,!1}},$=()=>{};window.addEventListener("test",$,_),window.removeEventListener("test",$)}catch{o=!1}return passiveSupported=o,passiveSupported}function isTouchStartEvent(o){return o.type==="touchstart"}const ColumnVisibility={getInitialState:o=>({columnVisibility:{},...o}),getDefaultOptions:o=>({onColumnVisibilityChange:makeStateUpdater("columnVisibility",o)}),createColumn:(o,_)=>{o.toggleVisibility=$=>{o.getCanHide()&&_.setColumnVisibility(j=>({...j,[o.id]:$??!o.getIsVisible()}))},o.getIsVisible=()=>{var $,j;const _e=o.columns;return($=_e.length?_e.some(et=>et.getIsVisible()):(j=_.getState().columnVisibility)==null?void 0:j[o.id])!=null?$:!0},o.getCanHide=()=>{var $,j;return(($=o.columnDef.enableHiding)!=null?$:!0)&&((j=_.options.enableHiding)!=null?j:!0)},o.getToggleVisibilityHandler=()=>$=>{o.toggleVisibility==null||o.toggleVisibility($.target.checked)}},createRow:(o,_)=>{o._getAllVisibleCells=memo(()=>[o.getAllCells(),_.getState().columnVisibility],$=>$.filter(j=>j.column.getIsVisible()),getMemoOptions(_.options,"debugRows")),o.getVisibleCells=memo(()=>[o.getLeftVisibleCells(),o.getCenterVisibleCells(),o.getRightVisibleCells()],($,j,_e)=>[...$,...j,..._e],getMemoOptions(_.options,"debugRows"))},createTable:o=>{const _=($,j)=>memo(()=>[j(),j().filter(_e=>_e.getIsVisible()).map(_e=>_e.id).join("_")],_e=>_e.filter(et=>et.getIsVisible==null?void 0:et.getIsVisible()),getMemoOptions(o.options,"debugColumns"));o.getVisibleFlatColumns=_("getVisibleFlatColumns",()=>o.getAllFlatColumns()),o.getVisibleLeafColumns=_("getVisibleLeafColumns",()=>o.getAllLeafColumns()),o.getLeftVisibleLeafColumns=_("getLeftVisibleLeafColumns",()=>o.getLeftLeafColumns()),o.getRightVisibleLeafColumns=_("getRightVisibleLeafColumns",()=>o.getRightLeafColumns()),o.getCenterVisibleLeafColumns=_("getCenterVisibleLeafColumns",()=>o.getCenterLeafColumns()),o.setColumnVisibility=$=>o.options.onColumnVisibilityChange==null?void 0:o.options.onColumnVisibilityChange($),o.resetColumnVisibility=$=>{var j;o.setColumnVisibility($?{}:(j=o.initialState.columnVisibility)!=null?j:{})},o.toggleAllColumnsVisible=$=>{var j;$=(j=$)!=null?j:!o.getIsAllColumnsVisible(),o.setColumnVisibility(o.getAllLeafColumns().reduce((_e,et)=>({..._e,[et.id]:$||!(et.getCanHide!=null&&et.getCanHide())}),{}))},o.getIsAllColumnsVisible=()=>!o.getAllLeafColumns().some($=>!($.getIsVisible!=null&&$.getIsVisible())),o.getIsSomeColumnsVisible=()=>o.getAllLeafColumns().some($=>$.getIsVisible==null?void 0:$.getIsVisible()),o.getToggleAllColumnsVisibilityHandler=()=>$=>{var j;o.toggleAllColumnsVisible((j=$.target)==null?void 0:j.checked)}}};function _getVisibleLeafColumns(o,_){return _?_==="center"?o.getCenterVisibleLeafColumns():_==="left"?o.getLeftVisibleLeafColumns():o.getRightVisibleLeafColumns():o.getVisibleLeafColumns()}const GlobalFaceting={createTable:o=>{o._getGlobalFacetedRowModel=o.options.getFacetedRowModel&&o.options.getFacetedRowModel(o,"__global__"),o.getGlobalFacetedRowModel=()=>o.options.manualFiltering||!o._getGlobalFacetedRowModel?o.getPreFilteredRowModel():o._getGlobalFacetedRowModel(),o._getGlobalFacetedUniqueValues=o.options.getFacetedUniqueValues&&o.options.getFacetedUniqueValues(o,"__global__"),o.getGlobalFacetedUniqueValues=()=>o._getGlobalFacetedUniqueValues?o._getGlobalFacetedUniqueValues():new Map,o._getGlobalFacetedMinMaxValues=o.options.getFacetedMinMaxValues&&o.options.getFacetedMinMaxValues(o,"__global__"),o.getGlobalFacetedMinMaxValues=()=>{if(o._getGlobalFacetedMinMaxValues)return o._getGlobalFacetedMinMaxValues()}}},GlobalFiltering={getInitialState:o=>({globalFilter:void 0,...o}),getDefaultOptions:o=>({onGlobalFilterChange:makeStateUpdater("globalFilter",o),globalFilterFn:"auto",getColumnCanGlobalFilter:_=>{var $;const j=($=o.getCoreRowModel().flatRows[0])==null||($=$._getAllCellsByColumnId()[_.id])==null?void 0:$.getValue();return typeof j=="string"||typeof j=="number"}}),createColumn:(o,_)=>{o.getCanGlobalFilter=()=>{var $,j,_e,et;return(($=o.columnDef.enableGlobalFilter)!=null?$:!0)&&((j=_.options.enableGlobalFilter)!=null?j:!0)&&((_e=_.options.enableFilters)!=null?_e:!0)&&((et=_.options.getColumnCanGlobalFilter==null?void 0:_.options.getColumnCanGlobalFilter(o))!=null?et:!0)&&!!o.accessorFn}},createTable:o=>{o.getGlobalAutoFilterFn=()=>filterFns.includesString,o.getGlobalFilterFn=()=>{var _,$;const{globalFilterFn:j}=o.options;return isFunction$4(j)?j:j==="auto"?o.getGlobalAutoFilterFn():(_=($=o.options.filterFns)==null?void 0:$[j])!=null?_:filterFns[j]},o.setGlobalFilter=_=>{o.options.onGlobalFilterChange==null||o.options.onGlobalFilterChange(_)},o.resetGlobalFilter=_=>{o.setGlobalFilter(_?void 0:o.initialState.globalFilter)}}},RowExpanding={getInitialState:o=>({expanded:{},...o}),getDefaultOptions:o=>({onExpandedChange:makeStateUpdater("expanded",o),paginateExpandedRows:!0}),createTable:o=>{let _=!1,$=!1;o._autoResetExpanded=()=>{var j,_e;if(!_){o._queue(()=>{_=!0});return}if((j=(_e=o.options.autoResetAll)!=null?_e:o.options.autoResetExpanded)!=null?j:!o.options.manualExpanding){if($)return;$=!0,o._queue(()=>{o.resetExpanded(),$=!1})}},o.setExpanded=j=>o.options.onExpandedChange==null?void 0:o.options.onExpandedChange(j),o.toggleAllRowsExpanded=j=>{j??!o.getIsAllRowsExpanded()?o.setExpanded(!0):o.setExpanded({})},o.resetExpanded=j=>{var _e,et;o.setExpanded(j?{}:(_e=(et=o.initialState)==null?void 0:et.expanded)!=null?_e:{})},o.getCanSomeRowsExpand=()=>o.getPrePaginationRowModel().flatRows.some(j=>j.getCanExpand()),o.getToggleAllRowsExpandedHandler=()=>j=>{j.persist==null||j.persist(),o.toggleAllRowsExpanded()},o.getIsSomeRowsExpanded=()=>{const j=o.getState().expanded;return j===!0||Object.values(j).some(Boolean)},o.getIsAllRowsExpanded=()=>{const j=o.getState().expanded;return typeof j=="boolean"?j===!0:!(!Object.keys(j).length||o.getRowModel().flatRows.some(_e=>!_e.getIsExpanded()))},o.getExpandedDepth=()=>{let j=0;return(o.getState().expanded===!0?Object.keys(o.getRowModel().rowsById):Object.keys(o.getState().expanded)).forEach(et=>{const tt=et.split(".");j=Math.max(j,tt.length)}),j},o.getPreExpandedRowModel=()=>o.getSortedRowModel(),o.getExpandedRowModel=()=>(!o._getExpandedRowModel&&o.options.getExpandedRowModel&&(o._getExpandedRowModel=o.options.getExpandedRowModel(o)),o.options.manualExpanding||!o._getExpandedRowModel?o.getPreExpandedRowModel():o._getExpandedRowModel())},createRow:(o,_)=>{o.toggleExpanded=$=>{_.setExpanded(j=>{var _e;const et=j===!0?!0:!!(j!=null&&j[o.id]);let tt={};if(j===!0?Object.keys(_.getRowModel().rowsById).forEach(nt=>{tt[nt]=!0}):tt=j,$=(_e=$)!=null?_e:!et,!et&&$)return{...tt,[o.id]:!0};if(et&&!$){const{[o.id]:nt,...it}=tt;return it}return j})},o.getIsExpanded=()=>{var $;const j=_.getState().expanded;return!!(($=_.options.getIsRowExpanded==null?void 0:_.options.getIsRowExpanded(o))!=null?$:j===!0||j!=null&&j[o.id])},o.getCanExpand=()=>{var $,j,_e;return($=_.options.getRowCanExpand==null?void 0:_.options.getRowCanExpand(o))!=null?$:((j=_.options.enableExpanding)!=null?j:!0)&&!!((_e=o.subRows)!=null&&_e.length)},o.getIsAllParentsExpanded=()=>{let $=!0,j=o;for(;$&&j.parentId;)j=_.getRow(j.parentId,!0),$=j.getIsExpanded();return $},o.getToggleExpandedHandler=()=>{const $=o.getCanExpand();return()=>{$&&o.toggleExpanded()}}}},defaultPageIndex=0,defaultPageSize=10,getDefaultPaginationState=()=>({pageIndex:defaultPageIndex,pageSize:defaultPageSize}),RowPagination={getInitialState:o=>({...o,pagination:{...getDefaultPaginationState(),...o==null?void 0:o.pagination}}),getDefaultOptions:o=>({onPaginationChange:makeStateUpdater("pagination",o)}),createTable:o=>{let _=!1,$=!1;o._autoResetPageIndex=()=>{var j,_e;if(!_){o._queue(()=>{_=!0});return}if((j=(_e=o.options.autoResetAll)!=null?_e:o.options.autoResetPageIndex)!=null?j:!o.options.manualPagination){if($)return;$=!0,o._queue(()=>{o.resetPageIndex(),$=!1})}},o.setPagination=j=>{const _e=et=>functionalUpdate(j,et);return o.options.onPaginationChange==null?void 0:o.options.onPaginationChange(_e)},o.resetPagination=j=>{var _e;o.setPagination(j?getDefaultPaginationState():(_e=o.initialState.pagination)!=null?_e:getDefaultPaginationState())},o.setPageIndex=j=>{o.setPagination(_e=>{let et=functionalUpdate(j,_e.pageIndex);const tt=typeof o.options.pageCount>"u"||o.options.pageCount===-1?Number.MAX_SAFE_INTEGER:o.options.pageCount-1;return et=Math.max(0,Math.min(et,tt)),{..._e,pageIndex:et}})},o.resetPageIndex=j=>{var _e,et;o.setPageIndex(j?defaultPageIndex:(_e=(et=o.initialState)==null||(et=et.pagination)==null?void 0:et.pageIndex)!=null?_e:defaultPageIndex)},o.resetPageSize=j=>{var _e,et;o.setPageSize(j?defaultPageSize:(_e=(et=o.initialState)==null||(et=et.pagination)==null?void 0:et.pageSize)!=null?_e:defaultPageSize)},o.setPageSize=j=>{o.setPagination(_e=>{const et=Math.max(1,functionalUpdate(j,_e.pageSize)),tt=_e.pageSize*_e.pageIndex,nt=Math.floor(tt/et);return{..._e,pageIndex:nt,pageSize:et}})},o.setPageCount=j=>o.setPagination(_e=>{var et;let tt=functionalUpdate(j,(et=o.options.pageCount)!=null?et:-1);return typeof tt=="number"&&(tt=Math.max(-1,tt)),{..._e,pageCount:tt}}),o.getPageOptions=memo(()=>[o.getPageCount()],j=>{let _e=[];return j&&j>0&&(_e=[...new Array(j)].fill(null).map((et,tt)=>tt)),_e},getMemoOptions(o.options,"debugTable")),o.getCanPreviousPage=()=>o.getState().pagination.pageIndex>0,o.getCanNextPage=()=>{const{pageIndex:j}=o.getState().pagination,_e=o.getPageCount();return _e===-1?!0:_e===0?!1:j<_e-1},o.previousPage=()=>o.setPageIndex(j=>j-1),o.nextPage=()=>o.setPageIndex(j=>j+1),o.firstPage=()=>o.setPageIndex(0),o.lastPage=()=>o.setPageIndex(o.getPageCount()-1),o.getPrePaginationRowModel=()=>o.getExpandedRowModel(),o.getPaginationRowModel=()=>(!o._getPaginationRowModel&&o.options.getPaginationRowModel&&(o._getPaginationRowModel=o.options.getPaginationRowModel(o)),o.options.manualPagination||!o._getPaginationRowModel?o.getPrePaginationRowModel():o._getPaginationRowModel()),o.getPageCount=()=>{var j;return(j=o.options.pageCount)!=null?j:Math.ceil(o.getRowCount()/o.getState().pagination.pageSize)},o.getRowCount=()=>{var j;return(j=o.options.rowCount)!=null?j:o.getPrePaginationRowModel().rows.length}}},getDefaultRowPinningState=()=>({top:[],bottom:[]}),RowPinning={getInitialState:o=>({rowPinning:getDefaultRowPinningState(),...o}),getDefaultOptions:o=>({onRowPinningChange:makeStateUpdater("rowPinning",o)}),createRow:(o,_)=>{o.pin=($,j,_e)=>{const et=j?o.getLeafRows().map(it=>{let{id:lt}=it;return lt}):[],tt=_e?o.getParentRows().map(it=>{let{id:lt}=it;return lt}):[],nt=new Set([...tt,o.id,...et]);_.setRowPinning(it=>{var lt,dt;if($==="bottom"){var bt,Ht;return{top:((bt=it==null?void 0:it.top)!=null?bt:[]).filter(ft=>!(nt!=null&&nt.has(ft))),bottom:[...((Ht=it==null?void 0:it.bottom)!=null?Ht:[]).filter(ft=>!(nt!=null&&nt.has(ft))),...Array.from(nt)]}}if($==="top"){var pr,_n;return{top:[...((pr=it==null?void 0:it.top)!=null?pr:[]).filter(ft=>!(nt!=null&&nt.has(ft))),...Array.from(nt)],bottom:((_n=it==null?void 0:it.bottom)!=null?_n:[]).filter(ft=>!(nt!=null&&nt.has(ft)))}}return{top:((lt=it==null?void 0:it.top)!=null?lt:[]).filter(ft=>!(nt!=null&&nt.has(ft))),bottom:((dt=it==null?void 0:it.bottom)!=null?dt:[]).filter(ft=>!(nt!=null&&nt.has(ft)))}})},o.getCanPin=()=>{var $;const{enableRowPinning:j,enablePinning:_e}=_.options;return typeof j=="function"?j(o):($=j??_e)!=null?$:!0},o.getIsPinned=()=>{const $=[o.id],{top:j,bottom:_e}=_.getState().rowPinning,et=$.some(nt=>j==null?void 0:j.includes(nt)),tt=$.some(nt=>_e==null?void 0:_e.includes(nt));return et?"top":tt?"bottom":!1},o.getPinnedIndex=()=>{var $,j;const _e=o.getIsPinned();if(!_e)return-1;const et=($=_e==="top"?_.getTopRows():_.getBottomRows())==null?void 0:$.map(tt=>{let{id:nt}=tt;return nt});return(j=et==null?void 0:et.indexOf(o.id))!=null?j:-1}},createTable:o=>{o.setRowPinning=_=>o.options.onRowPinningChange==null?void 0:o.options.onRowPinningChange(_),o.resetRowPinning=_=>{var $,j;return o.setRowPinning(_?getDefaultRowPinningState():($=(j=o.initialState)==null?void 0:j.rowPinning)!=null?$:getDefaultRowPinningState())},o.getIsSomeRowsPinned=_=>{var $;const j=o.getState().rowPinning;if(!_){var _e,et;return!!((_e=j.top)!=null&&_e.length||(et=j.bottom)!=null&&et.length)}return!!(($=j[_])!=null&&$.length)},o._getPinnedRows=(_,$,j)=>{var _e;return((_e=o.options.keepPinnedRows)==null||_e?($??[]).map(tt=>{const nt=o.getRow(tt,!0);return nt.getIsAllParentsExpanded()?nt:null}):($??[]).map(tt=>_.find(nt=>nt.id===tt))).filter(Boolean).map(tt=>({...tt,position:j}))},o.getTopRows=memo(()=>[o.getRowModel().rows,o.getState().rowPinning.top],(_,$)=>o._getPinnedRows(_,$,"top"),getMemoOptions(o.options,"debugRows")),o.getBottomRows=memo(()=>[o.getRowModel().rows,o.getState().rowPinning.bottom],(_,$)=>o._getPinnedRows(_,$,"bottom"),getMemoOptions(o.options,"debugRows")),o.getCenterRows=memo(()=>[o.getRowModel().rows,o.getState().rowPinning.top,o.getState().rowPinning.bottom],(_,$,j)=>{const _e=new Set([...$??[],...j??[]]);return _.filter(et=>!_e.has(et.id))},getMemoOptions(o.options,"debugRows"))}},RowSelection={getInitialState:o=>({rowSelection:{},...o}),getDefaultOptions:o=>({onRowSelectionChange:makeStateUpdater("rowSelection",o),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:o=>{o.setRowSelection=_=>o.options.onRowSelectionChange==null?void 0:o.options.onRowSelectionChange(_),o.resetRowSelection=_=>{var $;return o.setRowSelection(_?{}:($=o.initialState.rowSelection)!=null?$:{})},o.toggleAllRowsSelected=_=>{o.setRowSelection($=>{_=typeof _<"u"?_:!o.getIsAllRowsSelected();const j={...$},_e=o.getPreGroupedRowModel().flatRows;return _?_e.forEach(et=>{et.getCanSelect()&&(j[et.id]=!0)}):_e.forEach(et=>{delete j[et.id]}),j})},o.toggleAllPageRowsSelected=_=>o.setRowSelection($=>{const j=typeof _<"u"?_:!o.getIsAllPageRowsSelected(),_e={...$};return o.getRowModel().rows.forEach(et=>{mutateRowIsSelected(_e,et.id,j,!0,o)}),_e}),o.getPreSelectedRowModel=()=>o.getCoreRowModel(),o.getSelectedRowModel=memo(()=>[o.getState().rowSelection,o.getCoreRowModel()],(_,$)=>Object.keys(_).length?selectRowsFn(o,$):{rows:[],flatRows:[],rowsById:{}},getMemoOptions(o.options,"debugTable")),o.getFilteredSelectedRowModel=memo(()=>[o.getState().rowSelection,o.getFilteredRowModel()],(_,$)=>Object.keys(_).length?selectRowsFn(o,$):{rows:[],flatRows:[],rowsById:{}},getMemoOptions(o.options,"debugTable")),o.getGroupedSelectedRowModel=memo(()=>[o.getState().rowSelection,o.getSortedRowModel()],(_,$)=>Object.keys(_).length?selectRowsFn(o,$):{rows:[],flatRows:[],rowsById:{}},getMemoOptions(o.options,"debugTable")),o.getIsAllRowsSelected=()=>{const _=o.getFilteredRowModel().flatRows,{rowSelection:$}=o.getState();let j=!!(_.length&&Object.keys($).length);return j&&_.some(_e=>_e.getCanSelect()&&!$[_e.id])&&(j=!1),j},o.getIsAllPageRowsSelected=()=>{const _=o.getPaginationRowModel().flatRows.filter(_e=>_e.getCanSelect()),{rowSelection:$}=o.getState();let j=!!_.length;return j&&_.some(_e=>!$[_e.id])&&(j=!1),j},o.getIsSomeRowsSelected=()=>{var _;const $=Object.keys((_=o.getState().rowSelection)!=null?_:{}).length;return $>0&&$<o.getFilteredRowModel().flatRows.length},o.getIsSomePageRowsSelected=()=>{const _=o.getPaginationRowModel().flatRows;return o.getIsAllPageRowsSelected()?!1:_.filter($=>$.getCanSelect()).some($=>$.getIsSelected()||$.getIsSomeSelected())},o.getToggleAllRowsSelectedHandler=()=>_=>{o.toggleAllRowsSelected(_.target.checked)},o.getToggleAllPageRowsSelectedHandler=()=>_=>{o.toggleAllPageRowsSelected(_.target.checked)}},createRow:(o,_)=>{o.toggleSelected=($,j)=>{const _e=o.getIsSelected();_.setRowSelection(et=>{var tt;if($=typeof $<"u"?$:!_e,o.getCanSelect()&&_e===$)return et;const nt={...et};return mutateRowIsSelected(nt,o.id,$,(tt=j==null?void 0:j.selectChildren)!=null?tt:!0,_),nt})},o.getIsSelected=()=>{const{rowSelection:$}=_.getState();return isRowSelected(o,$)},o.getIsSomeSelected=()=>{const{rowSelection:$}=_.getState();return isSubRowSelected(o,$)==="some"},o.getIsAllSubRowsSelected=()=>{const{rowSelection:$}=_.getState();return isSubRowSelected(o,$)==="all"},o.getCanSelect=()=>{var $;return typeof _.options.enableRowSelection=="function"?_.options.enableRowSelection(o):($=_.options.enableRowSelection)!=null?$:!0},o.getCanSelectSubRows=()=>{var $;return typeof _.options.enableSubRowSelection=="function"?_.options.enableSubRowSelection(o):($=_.options.enableSubRowSelection)!=null?$:!0},o.getCanMultiSelect=()=>{var $;return typeof _.options.enableMultiRowSelection=="function"?_.options.enableMultiRowSelection(o):($=_.options.enableMultiRowSelection)!=null?$:!0},o.getToggleSelectedHandler=()=>{const $=o.getCanSelect();return j=>{var _e;$&&o.toggleSelected((_e=j.target)==null?void 0:_e.checked)}}}},mutateRowIsSelected=(o,_,$,j,_e)=>{var et;const tt=_e.getRow(_,!0);$?(tt.getCanMultiSelect()||Object.keys(o).forEach(nt=>delete o[nt]),tt.getCanSelect()&&(o[_]=!0)):delete o[_],j&&(et=tt.subRows)!=null&&et.length&&tt.getCanSelectSubRows()&&tt.subRows.forEach(nt=>mutateRowIsSelected(o,nt.id,$,j,_e))};function selectRowsFn(o,_){const $=o.getState().rowSelection,j=[],_e={},et=function(tt,nt){return tt.map(it=>{var lt;const dt=isRowSelected(it,$);if(dt&&(j.push(it),_e[it.id]=it),(lt=it.subRows)!=null&&lt.length&&(it={...it,subRows:et(it.subRows)}),dt)return it}).filter(Boolean)};return{rows:et(_.rows),flatRows:j,rowsById:_e}}function isRowSelected(o,_){var $;return($=_[o.id])!=null?$:!1}function isSubRowSelected(o,_,$){var j;if(!((j=o.subRows)!=null&&j.length))return!1;let _e=!0,et=!1;return o.subRows.forEach(tt=>{if(!(et&&!_e)&&(tt.getCanSelect()&&(isRowSelected(tt,_)?et=!0:_e=!1),tt.subRows&&tt.subRows.length)){const nt=isSubRowSelected(tt,_);nt==="all"?et=!0:(nt==="some"&&(et=!0),_e=!1)}}),_e?"all":et?"some":!1}const reSplitAlphaNumeric=/([0-9]+)/gm,alphanumeric=(o,_,$)=>compareAlphanumeric(toString$4(o.getValue($)).toLowerCase(),toString$4(_.getValue($)).toLowerCase()),alphanumericCaseSensitive=(o,_,$)=>compareAlphanumeric(toString$4(o.getValue($)),toString$4(_.getValue($))),text=(o,_,$)=>compareBasic(toString$4(o.getValue($)).toLowerCase(),toString$4(_.getValue($)).toLowerCase()),textCaseSensitive=(o,_,$)=>compareBasic(toString$4(o.getValue($)),toString$4(_.getValue($))),datetime=(o,_,$)=>{const j=o.getValue($),_e=_.getValue($);return j>_e?1:j<_e?-1:0},basic=(o,_,$)=>compareBasic(o.getValue($),_.getValue($));function compareBasic(o,_){return o===_?0:o>_?1:-1}function toString$4(o){return typeof o=="number"?isNaN(o)||o===1/0||o===-1/0?"":String(o):typeof o=="string"?o:""}function compareAlphanumeric(o,_){const $=o.split(reSplitAlphaNumeric).filter(Boolean),j=_.split(reSplitAlphaNumeric).filter(Boolean);for(;$.length&&j.length;){const _e=$.shift(),et=j.shift(),tt=parseInt(_e,10),nt=parseInt(et,10),it=[tt,nt].sort();if(isNaN(it[0])){if(_e>et)return 1;if(et>_e)return-1;continue}if(isNaN(it[1]))return isNaN(tt)?-1:1;if(tt>nt)return 1;if(nt>tt)return-1}return $.length-j.length}const sortingFns={alphanumeric,alphanumericCaseSensitive,text,textCaseSensitive,datetime,basic},RowSorting={getInitialState:o=>({sorting:[],...o}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:o=>({onSortingChange:makeStateUpdater("sorting",o),isMultiSortEvent:_=>_.shiftKey}),createColumn:(o,_)=>{o.getAutoSortingFn=()=>{const $=_.getFilteredRowModel().flatRows.slice(10);let j=!1;for(const _e of $){const et=_e==null?void 0:_e.getValue(o.id);if(Object.prototype.toString.call(et)==="[object Date]")return sortingFns.datetime;if(typeof et=="string"&&(j=!0,et.split(reSplitAlphaNumeric).length>1))return sortingFns.alphanumeric}return j?sortingFns.text:sortingFns.basic},o.getAutoSortDir=()=>{const $=_.getFilteredRowModel().flatRows[0];return typeof($==null?void 0:$.getValue(o.id))=="string"?"asc":"desc"},o.getSortingFn=()=>{var $,j;if(!o)throw new Error;return isFunction$4(o.columnDef.sortingFn)?o.columnDef.sortingFn:o.columnDef.sortingFn==="auto"?o.getAutoSortingFn():($=(j=_.options.sortingFns)==null?void 0:j[o.columnDef.sortingFn])!=null?$:sortingFns[o.columnDef.sortingFn]},o.toggleSorting=($,j)=>{const _e=o.getNextSortingOrder(),et=typeof $<"u"&&$!==null;_.setSorting(tt=>{const nt=tt==null?void 0:tt.find(pr=>pr.id===o.id),it=tt==null?void 0:tt.findIndex(pr=>pr.id===o.id);let lt=[],dt,bt=et?$:_e==="desc";if(tt!=null&&tt.length&&o.getCanMultiSort()&&j?nt?dt="toggle":dt="add":tt!=null&&tt.length&&it!==tt.length-1?dt="replace":nt?dt="toggle":dt="replace",dt==="toggle"&&(et||_e||(dt="remove")),dt==="add"){var Ht;lt=[...tt,{id:o.id,desc:bt}],lt.splice(0,lt.length-((Ht=_.options.maxMultiSortColCount)!=null?Ht:Number.MAX_SAFE_INTEGER))}else dt==="toggle"?lt=tt.map(pr=>pr.id===o.id?{...pr,desc:bt}:pr):dt==="remove"?lt=tt.filter(pr=>pr.id!==o.id):lt=[{id:o.id,desc:bt}];return lt})},o.getFirstSortDir=()=>{var $,j;return(($=(j=o.columnDef.sortDescFirst)!=null?j:_.options.sortDescFirst)!=null?$:o.getAutoSortDir()==="desc")?"desc":"asc"},o.getNextSortingOrder=$=>{var j,_e;const et=o.getFirstSortDir(),tt=o.getIsSorted();return tt?tt!==et&&((j=_.options.enableSortingRemoval)==null||j)&&(!($&&(_e=_.options.enableMultiRemove)!=null)||_e)?!1:tt==="desc"?"asc":"desc":et},o.getCanSort=()=>{var $,j;return(($=o.columnDef.enableSorting)!=null?$:!0)&&((j=_.options.enableSorting)!=null?j:!0)&&!!o.accessorFn},o.getCanMultiSort=()=>{var $,j;return($=(j=o.columnDef.enableMultiSort)!=null?j:_.options.enableMultiSort)!=null?$:!!o.accessorFn},o.getIsSorted=()=>{var $;const j=($=_.getState().sorting)==null?void 0:$.find(_e=>_e.id===o.id);return j?j.desc?"desc":"asc":!1},o.getSortIndex=()=>{var $,j;return($=(j=_.getState().sorting)==null?void 0:j.findIndex(_e=>_e.id===o.id))!=null?$:-1},o.clearSorting=()=>{_.setSorting($=>$!=null&&$.length?$.filter(j=>j.id!==o.id):[])},o.getToggleSortingHandler=()=>{const $=o.getCanSort();return j=>{$&&(j.persist==null||j.persist(),o.toggleSorting==null||o.toggleSorting(void 0,o.getCanMultiSort()?_.options.isMultiSortEvent==null?void 0:_.options.isMultiSortEvent(j):!1))}}},createTable:o=>{o.setSorting=_=>o.options.onSortingChange==null?void 0:o.options.onSortingChange(_),o.resetSorting=_=>{var $,j;o.setSorting(_?[]:($=(j=o.initialState)==null?void 0:j.sorting)!=null?$:[])},o.getPreSortedRowModel=()=>o.getGroupedRowModel(),o.getSortedRowModel=()=>(!o._getSortedRowModel&&o.options.getSortedRowModel&&(o._getSortedRowModel=o.options.getSortedRowModel(o)),o.options.manualSorting||!o._getSortedRowModel?o.getPreSortedRowModel():o._getSortedRowModel())}},builtInFeatures=[Headers,ColumnVisibility,ColumnOrdering,ColumnPinning,ColumnFaceting,ColumnFiltering,GlobalFaceting,GlobalFiltering,RowSorting,ColumnGrouping,RowExpanding,RowPagination,RowPinning,RowSelection,ColumnSizing];function createTable(o){var _,$;const j=[...builtInFeatures,...(_=o._features)!=null?_:[]];let _e={_features:j};const et=_e._features.reduce((Ht,pr)=>Object.assign(Ht,pr.getDefaultOptions==null?void 0:pr.getDefaultOptions(_e)),{}),tt=Ht=>_e.options.mergeOptions?_e.options.mergeOptions(et,Ht):{...et,...Ht};let it={...{},...($=o.initialState)!=null?$:{}};_e._features.forEach(Ht=>{var pr;it=(pr=Ht.getInitialState==null?void 0:Ht.getInitialState(it))!=null?pr:it});const lt=[];let dt=!1;const bt={_features:j,options:{...et,...o},initialState:it,_queue:Ht=>{lt.push(Ht),dt||(dt=!0,Promise.resolve().then(()=>{for(;lt.length;)lt.shift()();dt=!1}).catch(pr=>setTimeout(()=>{throw pr})))},reset:()=>{_e.setState(_e.initialState)},setOptions:Ht=>{const pr=functionalUpdate(Ht,_e.options);_e.options=tt(pr)},getState:()=>_e.options.state,setState:Ht=>{_e.options.onStateChange==null||_e.options.onStateChange(Ht)},_getRowId:(Ht,pr,_n)=>{var ft;return(ft=_e.options.getRowId==null?void 0:_e.options.getRowId(Ht,pr,_n))!=null?ft:`${_n?[_n.id,pr].join("."):pr}`},getCoreRowModel:()=>(_e._getCoreRowModel||(_e._getCoreRowModel=_e.options.getCoreRowModel(_e)),_e._getCoreRowModel()),getRowModel:()=>_e.getPaginationRowModel(),getRow:(Ht,pr)=>{let _n=(pr?_e.getPrePaginationRowModel():_e.getRowModel()).rowsById[Ht];if(!_n&&(_n=_e.getCoreRowModel().rowsById[Ht],!_n))throw new Error;return _n},_getDefaultColumnDef:memo(()=>[_e.options.defaultColumn],Ht=>{var pr;return Ht=(pr=Ht)!=null?pr:{},{header:_n=>{const ft=_n.header.column.columnDef;return ft.accessorKey?ft.accessorKey:ft.accessorFn?ft.id:null},cell:_n=>{var ft,Ct;return(ft=(Ct=_n.renderValue())==null||Ct.toString==null?void 0:Ct.toString())!=null?ft:null},..._e._features.reduce((_n,ft)=>Object.assign(_n,ft.getDefaultColumnDef==null?void 0:ft.getDefaultColumnDef()),{}),...Ht}},getMemoOptions(o,"debugColumns")),_getColumnDefs:()=>_e.options.columns,getAllColumns:memo(()=>[_e._getColumnDefs()],Ht=>{const pr=function(_n,ft,Ct){return Ct===void 0&&(Ct=0),_n.map(mr=>{const _r=createColumn(_e,mr,Ct,ft),mn=mr;return _r.columns=mn.columns?pr(mn.columns,_r,Ct+1):[],_r})};return pr(Ht)},getMemoOptions(o,"debugColumns")),getAllFlatColumns:memo(()=>[_e.getAllColumns()],Ht=>Ht.flatMap(pr=>pr.getFlatColumns()),getMemoOptions(o,"debugColumns")),_getAllFlatColumnsById:memo(()=>[_e.getAllFlatColumns()],Ht=>Ht.reduce((pr,_n)=>(pr[_n.id]=_n,pr),{}),getMemoOptions(o,"debugColumns")),getAllLeafColumns:memo(()=>[_e.getAllColumns(),_e._getOrderColumnsFn()],(Ht,pr)=>{let _n=Ht.flatMap(ft=>ft.getLeafColumns());return pr(_n)},getMemoOptions(o,"debugColumns")),getColumn:Ht=>_e._getAllFlatColumnsById()[Ht]};Object.assign(_e,bt);for(let Ht=0;Ht<_e._features.length;Ht++){const pr=_e._features[Ht];pr==null||pr.createTable==null||pr.createTable(_e)}return _e}function getCoreRowModel(){return o=>memo(()=>[o.options.data],_=>{const $={rows:[],flatRows:[],rowsById:{}},j=function(_e,et,tt){et===void 0&&(et=0);const nt=[];for(let lt=0;lt<_e.length;lt++){const dt=createRow(o,o._getRowId(_e[lt],lt,tt),_e[lt],lt,et,void 0,tt==null?void 0:tt.id);if($.flatRows.push(dt),$.rowsById[dt.id]=dt,nt.push(dt),o.options.getSubRows){var it;dt.originalSubRows=o.options.getSubRows(_e[lt],lt),(it=dt.originalSubRows)!=null&&it.length&&(dt.subRows=j(dt.originalSubRows,et+1,dt))}}return nt};return $.rows=j(_),$},getMemoOptions(o.options,"debugTable","getRowModel",()=>o._autoResetPageIndex()))}function expandRows(o){const _=[],$=j=>{var _e;_.push(j),(_e=j.subRows)!=null&&_e.length&&j.getIsExpanded()&&j.subRows.forEach($)};return o.rows.forEach($),{rows:_,flatRows:o.flatRows,rowsById:o.rowsById}}function filterRows(o,_,$){return $.options.filterFromLeafRows?filterRowModelFromLeafs(o,_,$):filterRowModelFromRoot(o,_,$)}function filterRowModelFromLeafs(o,_,$){var j;const _e=[],et={},tt=(j=$.options.maxLeafRowFilterDepth)!=null?j:100,nt=function(it,lt){lt===void 0&&(lt=0);const dt=[];for(let Ht=0;Ht<it.length;Ht++){var bt;let pr=it[Ht];const _n=createRow($,pr.id,pr.original,pr.index,pr.depth,void 0,pr.parentId);if(_n.columnFilters=pr.columnFilters,(bt=pr.subRows)!=null&&bt.length&&lt<tt){if(_n.subRows=nt(pr.subRows,lt+1),pr=_n,_(pr)&&!_n.subRows.length){dt.push(pr),et[pr.id]=pr,_e.push(pr);continue}if(_(pr)||_n.subRows.length){dt.push(pr),et[pr.id]=pr,_e.push(pr);continue}}else pr=_n,_(pr)&&(dt.push(pr),et[pr.id]=pr,_e.push(pr))}return dt};return{rows:nt(o),flatRows:_e,rowsById:et}}function filterRowModelFromRoot(o,_,$){var j;const _e=[],et={},tt=(j=$.options.maxLeafRowFilterDepth)!=null?j:100,nt=function(it,lt){lt===void 0&&(lt=0);const dt=[];for(let Ht=0;Ht<it.length;Ht++){let pr=it[Ht];if(_(pr)){var bt;if((bt=pr.subRows)!=null&&bt.length&&lt<tt){const ft=createRow($,pr.id,pr.original,pr.index,pr.depth,void 0,pr.parentId);ft.subRows=nt(pr.subRows,lt+1),pr=ft}dt.push(pr),_e.push(pr),et[pr.id]=pr}}return dt};return{rows:nt(o),flatRows:_e,rowsById:et}}function getFilteredRowModel(){return o=>memo(()=>[o.getPreFilteredRowModel(),o.getState().columnFilters,o.getState().globalFilter],(_,$,j)=>{if(!_.rows.length||!($!=null&&$.length)&&!j){for(let Ht=0;Ht<_.flatRows.length;Ht++)_.flatRows[Ht].columnFilters={},_.flatRows[Ht].columnFiltersMeta={};return _}const _e=[],et=[];($??[]).forEach(Ht=>{var pr;const _n=o.getColumn(Ht.id);if(!_n)return;const ft=_n.getFilterFn();ft&&_e.push({id:Ht.id,filterFn:ft,resolvedValue:(pr=ft.resolveFilterValue==null?void 0:ft.resolveFilterValue(Ht.value))!=null?pr:Ht.value})});const tt=($??[]).map(Ht=>Ht.id),nt=o.getGlobalFilterFn(),it=o.getAllLeafColumns().filter(Ht=>Ht.getCanGlobalFilter());j&&nt&&it.length&&(tt.push("__global__"),it.forEach(Ht=>{var pr;et.push({id:Ht.id,filterFn:nt,resolvedValue:(pr=nt.resolveFilterValue==null?void 0:nt.resolveFilterValue(j))!=null?pr:j})}));let lt,dt;for(let Ht=0;Ht<_.flatRows.length;Ht++){const pr=_.flatRows[Ht];if(pr.columnFilters={},_e.length)for(let _n=0;_n<_e.length;_n++){lt=_e[_n];const ft=lt.id;pr.columnFilters[ft]=lt.filterFn(pr,ft,lt.resolvedValue,Ct=>{pr.columnFiltersMeta[ft]=Ct})}if(et.length){for(let _n=0;_n<et.length;_n++){dt=et[_n];const ft=dt.id;if(dt.filterFn(pr,ft,dt.resolvedValue,Ct=>{pr.columnFiltersMeta[ft]=Ct})){pr.columnFilters.__global__=!0;break}}pr.columnFilters.__global__!==!0&&(pr.columnFilters.__global__=!1)}}const bt=Ht=>{for(let pr=0;pr<tt.length;pr++)if(Ht.columnFilters[tt[pr]]===!1)return!1;return!0};return filterRows(_.rows,bt,o)},getMemoOptions(o.options,"debugTable","getFilteredRowModel",()=>o._autoResetPageIndex()))}function getPaginationRowModel(o){return _=>memo(()=>[_.getState().pagination,_.getPrePaginationRowModel(),_.options.paginateExpandedRows?void 0:_.getState().expanded],($,j)=>{if(!j.rows.length)return j;const{pageSize:_e,pageIndex:et}=$;let{rows:tt,flatRows:nt,rowsById:it}=j;const lt=_e*et,dt=lt+_e;tt=tt.slice(lt,dt);let bt;_.options.paginateExpandedRows?bt={rows:tt,flatRows:nt,rowsById:it}:bt=expandRows({rows:tt,flatRows:nt,rowsById:it}),bt.flatRows=[];const Ht=pr=>{bt.flatRows.push(pr),pr.subRows.length&&pr.subRows.forEach(Ht)};return bt.rows.forEach(Ht),bt},getMemoOptions(_.options,"debugTable"))}function getSortedRowModel(){return o=>memo(()=>[o.getState().sorting,o.getPreSortedRowModel()],(_,$)=>{if(!$.rows.length||!(_!=null&&_.length))return $;const j=o.getState().sorting,_e=[],et=j.filter(it=>{var lt;return(lt=o.getColumn(it.id))==null?void 0:lt.getCanSort()}),tt={};et.forEach(it=>{const lt=o.getColumn(it.id);lt&&(tt[it.id]={sortUndefined:lt.columnDef.sortUndefined,invertSorting:lt.columnDef.invertSorting,sortingFn:lt.getSortingFn()})});const nt=it=>{const lt=it.map(dt=>({...dt}));return lt.sort((dt,bt)=>{for(let pr=0;pr<et.length;pr+=1){var Ht;const _n=et[pr],ft=tt[_n.id],Ct=ft.sortUndefined,mr=(Ht=_n==null?void 0:_n.desc)!=null?Ht:!1;let _r=0;if(Ct){const mn=dt.getValue(_n.id),dr=bt.getValue(_n.id),pn=mn===void 0,Do=dr===void 0;if(pn||Do){if(Ct==="first")return pn?-1:1;if(Ct==="last")return pn?1:-1;_r=pn&&Do?0:pn?Ct:-Ct}}if(_r===0&&(_r=ft.sortingFn(dt,bt,_n.id)),_r!==0)return mr&&(_r*=-1),ft.invertSorting&&(_r*=-1),_r}return dt.index-bt.index}),lt.forEach(dt=>{var bt;_e.push(dt),(bt=dt.subRows)!=null&&bt.length&&(dt.subRows=nt(dt.subRows))}),lt};return{rows:nt($.rows),flatRows:_e,rowsById:$.rowsById}},getMemoOptions(o.options,"debugTable","getSortedRowModel",()=>o._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function flexRender(o,_){return o?isReactComponent(o)?reactExports.createElement(o,_):o:null}function isReactComponent(o){return isClassComponent(o)||typeof o=="function"||isExoticComponent(o)}function isClassComponent(o){return typeof o=="function"&&(()=>{const _=Object.getPrototypeOf(o);return _.prototype&&_.prototype.isReactComponent})()}function isExoticComponent(o){return typeof o=="object"&&typeof o.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(o.$$typeof.description)}function useReactTable(o){const _={state:{},onStateChange:()=>{},renderFallbackValue:null,...o},[$]=reactExports.useState(()=>({current:createTable(_)})),[j,_e]=reactExports.useState(()=>$.current.initialState);return $.current.setOptions(et=>({...et,...o,state:{...j,...o.state},onStateChange:tt=>{_e(tt),o.onStateChange==null||o.onStateChange(tt)}})),$.current}function toDate(o){const _=Object.prototype.toString.call(o);return o instanceof Date||typeof o=="object"&&_==="[object Date]"?new o.constructor(+o):typeof o=="number"||_==="[object Number]"||typeof o=="string"||_==="[object String]"?new Date(o):new Date(NaN)}function constructFrom(o,_){return o instanceof Date?new o.constructor(_):new Date(_)}function addDays(o,_){const $=toDate(o);return isNaN(_)?constructFrom(o,NaN):(_&&$.setDate($.getDate()+_),$)}function addMonths(o,_){const $=toDate(o);if(isNaN(_))return constructFrom(o,NaN);if(!_)return $;const j=$.getDate(),_e=constructFrom(o,$.getTime());_e.setMonth($.getMonth()+_+1,0);const et=_e.getDate();return j>=et?_e:($.setFullYear(_e.getFullYear(),_e.getMonth(),j),$)}function addMilliseconds(o,_){const $=+toDate(o);return constructFrom(o,$+_)}const millisecondsInWeek=6048e5,millisecondsInDay=864e5,millisecondsInMinute=6e4,millisecondsInHour=36e5,millisecondsInSecond=1e3;function addHours(o,_){return addMilliseconds(o,_*millisecondsInHour)}let defaultOptions={};function getDefaultOptions$1(){return defaultOptions}function startOfWeek(o,_){var nt,it,lt,dt;const $=getDefaultOptions$1(),j=(_==null?void 0:_.weekStartsOn)??((it=(nt=_==null?void 0:_.locale)==null?void 0:nt.options)==null?void 0:it.weekStartsOn)??$.weekStartsOn??((dt=(lt=$.locale)==null?void 0:lt.options)==null?void 0:dt.weekStartsOn)??0,_e=toDate(o),et=_e.getDay(),tt=(et<j?7:0)+et-j;return _e.setDate(_e.getDate()-tt),_e.setHours(0,0,0,0),_e}function startOfISOWeek(o){return startOfWeek(o,{weekStartsOn:1})}function getISOWeekYear(o){const _=toDate(o),$=_.getFullYear(),j=constructFrom(o,0);j.setFullYear($+1,0,4),j.setHours(0,0,0,0);const _e=startOfISOWeek(j),et=constructFrom(o,0);et.setFullYear($,0,4),et.setHours(0,0,0,0);const tt=startOfISOWeek(et);return _.getTime()>=_e.getTime()?$+1:_.getTime()>=tt.getTime()?$:$-1}function startOfDay(o){const _=toDate(o);return _.setHours(0,0,0,0),_}function getTimezoneOffsetInMilliseconds(o){const _=toDate(o),$=new Date(Date.UTC(_.getFullYear(),_.getMonth(),_.getDate(),_.getHours(),_.getMinutes(),_.getSeconds(),_.getMilliseconds()));return $.setUTCFullYear(_.getFullYear()),+o-+$}function differenceInCalendarDays(o,_){const $=startOfDay(o),j=startOfDay(_),_e=+$-getTimezoneOffsetInMilliseconds($),et=+j-getTimezoneOffsetInMilliseconds(j);return Math.round((_e-et)/millisecondsInDay)}function startOfISOWeekYear(o){const _=getISOWeekYear(o),$=constructFrom(o,0);return $.setFullYear(_,0,4),$.setHours(0,0,0,0),startOfISOWeek($)}function addMinutes(o,_){return addMilliseconds(o,_*millisecondsInMinute)}function addQuarters(o,_){const $=_*3;return addMonths(o,$)}function addSeconds(o,_){return addMilliseconds(o,_*1e3)}function addWeeks(o,_){const $=_*7;return addDays(o,$)}function addYears(o,_){return addMonths(o,_*12)}function max$4(o){let _;return o.forEach(function($){const j=toDate($);(_===void 0||_<j||isNaN(Number(j)))&&(_=j)}),_||new Date(NaN)}function min$4(o){let _;return o.forEach($=>{const j=toDate($);(!_||_>j||isNaN(+j))&&(_=j)}),_||new Date(NaN)}function isSameDay$1(o,_){const $=startOfDay(o),j=startOfDay(_);return+$==+j}function isDate(o){return o instanceof Date||typeof o=="object"&&Object.prototype.toString.call(o)==="[object Date]"}function isValid$1(o){if(!isDate(o)&&typeof o!="number")return!1;const _=toDate(o);return!isNaN(Number(_))}function differenceInCalendarMonths(o,_){const $=toDate(o),j=toDate(_),_e=$.getFullYear()-j.getFullYear(),et=$.getMonth()-j.getMonth();return _e*12+et}function getQuarter(o){const _=toDate(o);return Math.trunc(_.getMonth()/3)+1}function differenceInCalendarQuarters(o,_){const $=toDate(o),j=toDate(_),_e=$.getFullYear()-j.getFullYear(),et=getQuarter($)-getQuarter(j);return _e*4+et}function differenceInCalendarYears(o,_){const $=toDate(o),j=toDate(_);return $.getFullYear()-j.getFullYear()}function endOfDay(o){const _=toDate(o);return _.setHours(23,59,59,999),_}function endOfMonth(o){const _=toDate(o),$=_.getMonth();return _.setFullYear(_.getFullYear(),$+1,0),_.setHours(23,59,59,999),_}function startOfQuarter(o){const _=toDate(o),$=_.getMonth(),j=$-$%3;return _.setMonth(j,1),_.setHours(0,0,0,0),_}function startOfMonth(o){const _=toDate(o);return _.setDate(1),_.setHours(0,0,0,0),_}function endOfYear(o){const _=toDate(o),$=_.getFullYear();return _.setFullYear($+1,0,0),_.setHours(23,59,59,999),_}function startOfYear(o){const _=toDate(o),$=constructFrom(o,0);return $.setFullYear(_.getFullYear(),0,1),$.setHours(0,0,0,0),$}function endOfWeek(o,_){var nt,it;const $=getDefaultOptions$1(),j=$.weekStartsOn??((it=(nt=$.locale)==null?void 0:nt.options)==null?void 0:it.weekStartsOn)??0,_e=toDate(o),et=_e.getDay(),tt=(et<j?-7:0)+6-(et-j);return _e.setDate(_e.getDate()+tt),_e.setHours(23,59,59,999),_e}const formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=(o,_,$)=>{let j;const _e=formatDistanceLocale[o];return typeof _e=="string"?j=_e:_===1?j=_e.one:j=_e.other.replace("{{count}}",_.toString()),$!=null&&$.addSuffix?$.comparison&&$.comparison>0?"in "+j:j+" ago":j};function buildFormatLongFn(o){return(_={})=>{const $=_.width?String(_.width):o.defaultWidth;return o.formats[$]||o.formats[o.defaultWidth]}}const dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=(o,_,$,j)=>formatRelativeLocale[o];function buildLocalizeFn(o){return(_,$)=>{const j=$!=null&&$.context?String($.context):"standalone";let _e;if(j==="formatting"&&o.formattingValues){const tt=o.defaultFormattingWidth||o.defaultWidth,nt=$!=null&&$.width?String($.width):tt;_e=o.formattingValues[nt]||o.formattingValues[tt]}else{const tt=o.defaultWidth,nt=$!=null&&$.width?String($.width):o.defaultWidth;_e=o.values[nt]||o.values[tt]}const et=o.argumentCallback?o.argumentCallback(_):_;return _e[et]}}const eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=(o,_)=>{const $=Number(o),j=$%100;if(j>20||j<10)switch(j%10){case 1:return $+"st";case 2:return $+"nd";case 3:return $+"rd"}return $+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:o=>o-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};function buildMatchFn(o){return(_,$={})=>{const j=$.width,_e=j&&o.matchPatterns[j]||o.matchPatterns[o.defaultMatchWidth],et=_.match(_e);if(!et)return null;const tt=et[0],nt=j&&o.parsePatterns[j]||o.parsePatterns[o.defaultParseWidth],it=Array.isArray(nt)?findIndex$2(nt,bt=>bt.test(tt)):findKey(nt,bt=>bt.test(tt));let lt;lt=o.valueCallback?o.valueCallback(it):it,lt=$.valueCallback?$.valueCallback(lt):lt;const dt=_.slice(tt.length);return{value:lt,rest:dt}}}function findKey(o,_){for(const $ in o)if(Object.prototype.hasOwnProperty.call(o,$)&&_(o[$]))return $}function findIndex$2(o,_){for(let $=0;$<o.length;$++)if(_(o[$]))return $}function buildMatchPatternFn(o){return(_,$={})=>{const j=_.match(o.matchPattern);if(!j)return null;const _e=j[0],et=_.match(o.parsePattern);if(!et)return null;let tt=o.valueCallback?o.valueCallback(et[0]):et[0];tt=$.valueCallback?$.valueCallback(tt):tt;const nt=_.slice(_e.length);return{value:tt,rest:nt}}}const matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:o=>parseInt(o,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:o=>o+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance,formatLong,formatRelative,localize,match,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getDayOfYear(o){const _=toDate(o);return differenceInCalendarDays(_,startOfYear(_))+1}function getISOWeek(o){const _=toDate(o),$=+startOfISOWeek(_)-+startOfISOWeekYear(_);return Math.round($/millisecondsInWeek)+1}function getWeekYear(o,_){var dt,bt,Ht,pr;const $=toDate(o),j=$.getFullYear(),_e=getDefaultOptions$1(),et=(_==null?void 0:_.firstWeekContainsDate)??((bt=(dt=_==null?void 0:_.locale)==null?void 0:dt.options)==null?void 0:bt.firstWeekContainsDate)??_e.firstWeekContainsDate??((pr=(Ht=_e.locale)==null?void 0:Ht.options)==null?void 0:pr.firstWeekContainsDate)??1,tt=constructFrom(o,0);tt.setFullYear(j+1,0,et),tt.setHours(0,0,0,0);const nt=startOfWeek(tt,_),it=constructFrom(o,0);it.setFullYear(j,0,et),it.setHours(0,0,0,0);const lt=startOfWeek(it,_);return $.getTime()>=nt.getTime()?j+1:$.getTime()>=lt.getTime()?j:j-1}function startOfWeekYear(o,_){var nt,it,lt,dt;const $=getDefaultOptions$1(),j=(_==null?void 0:_.firstWeekContainsDate)??((it=(nt=_==null?void 0:_.locale)==null?void 0:nt.options)==null?void 0:it.firstWeekContainsDate)??$.firstWeekContainsDate??((dt=(lt=$.locale)==null?void 0:lt.options)==null?void 0:dt.firstWeekContainsDate)??1,_e=getWeekYear(o,_),et=constructFrom(o,0);return et.setFullYear(_e,0,j),et.setHours(0,0,0,0),startOfWeek(et,_)}function getWeek$1(o,_){const $=toDate(o),j=+startOfWeek($,_)-+startOfWeekYear($,_);return Math.round(j/millisecondsInWeek)+1}function addLeadingZeros(o,_){const $=o<0?"-":"",j=Math.abs(o).toString().padStart(_,"0");return $+j}const lightFormatters={y(o,_){const $=o.getFullYear(),j=$>0?$:1-$;return addLeadingZeros(_==="yy"?j%100:j,_.length)},M(o,_){const $=o.getMonth();return _==="M"?String($+1):addLeadingZeros($+1,2)},d(o,_){return addLeadingZeros(o.getDate(),_.length)},a(o,_){const $=o.getHours()/12>=1?"pm":"am";switch(_){case"a":case"aa":return $.toUpperCase();case"aaa":return $;case"aaaaa":return $[0];case"aaaa":default:return $==="am"?"a.m.":"p.m."}},h(o,_){return addLeadingZeros(o.getHours()%12||12,_.length)},H(o,_){return addLeadingZeros(o.getHours(),_.length)},m(o,_){return addLeadingZeros(o.getMinutes(),_.length)},s(o,_){return addLeadingZeros(o.getSeconds(),_.length)},S(o,_){const $=_.length,j=o.getMilliseconds(),_e=Math.trunc(j*Math.pow(10,$-3));return addLeadingZeros(_e,_.length)}},dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(o,_,$){const j=o.getFullYear()>0?1:0;switch(_){case"G":case"GG":case"GGG":return $.era(j,{width:"abbreviated"});case"GGGGG":return $.era(j,{width:"narrow"});case"GGGG":default:return $.era(j,{width:"wide"})}},y:function(o,_,$){if(_==="yo"){const j=o.getFullYear(),_e=j>0?j:1-j;return $.ordinalNumber(_e,{unit:"year"})}return lightFormatters.y(o,_)},Y:function(o,_,$,j){const _e=getWeekYear(o,j),et=_e>0?_e:1-_e;if(_==="YY"){const tt=et%100;return addLeadingZeros(tt,2)}return _==="Yo"?$.ordinalNumber(et,{unit:"year"}):addLeadingZeros(et,_.length)},R:function(o,_){const $=getISOWeekYear(o);return addLeadingZeros($,_.length)},u:function(o,_){const $=o.getFullYear();return addLeadingZeros($,_.length)},Q:function(o,_,$){const j=Math.ceil((o.getMonth()+1)/3);switch(_){case"Q":return String(j);case"QQ":return addLeadingZeros(j,2);case"Qo":return $.ordinalNumber(j,{unit:"quarter"});case"QQQ":return $.quarter(j,{width:"abbreviated",context:"formatting"});case"QQQQQ":return $.quarter(j,{width:"narrow",context:"formatting"});case"QQQQ":default:return $.quarter(j,{width:"wide",context:"formatting"})}},q:function(o,_,$){const j=Math.ceil((o.getMonth()+1)/3);switch(_){case"q":return String(j);case"qq":return addLeadingZeros(j,2);case"qo":return $.ordinalNumber(j,{unit:"quarter"});case"qqq":return $.quarter(j,{width:"abbreviated",context:"standalone"});case"qqqqq":return $.quarter(j,{width:"narrow",context:"standalone"});case"qqqq":default:return $.quarter(j,{width:"wide",context:"standalone"})}},M:function(o,_,$){const j=o.getMonth();switch(_){case"M":case"MM":return lightFormatters.M(o,_);case"Mo":return $.ordinalNumber(j+1,{unit:"month"});case"MMM":return $.month(j,{width:"abbreviated",context:"formatting"});case"MMMMM":return $.month(j,{width:"narrow",context:"formatting"});case"MMMM":default:return $.month(j,{width:"wide",context:"formatting"})}},L:function(o,_,$){const j=o.getMonth();switch(_){case"L":return String(j+1);case"LL":return addLeadingZeros(j+1,2);case"Lo":return $.ordinalNumber(j+1,{unit:"month"});case"LLL":return $.month(j,{width:"abbreviated",context:"standalone"});case"LLLLL":return $.month(j,{width:"narrow",context:"standalone"});case"LLLL":default:return $.month(j,{width:"wide",context:"standalone"})}},w:function(o,_,$,j){const _e=getWeek$1(o,j);return _==="wo"?$.ordinalNumber(_e,{unit:"week"}):addLeadingZeros(_e,_.length)},I:function(o,_,$){const j=getISOWeek(o);return _==="Io"?$.ordinalNumber(j,{unit:"week"}):addLeadingZeros(j,_.length)},d:function(o,_,$){return _==="do"?$.ordinalNumber(o.getDate(),{unit:"date"}):lightFormatters.d(o,_)},D:function(o,_,$){const j=getDayOfYear(o);return _==="Do"?$.ordinalNumber(j,{unit:"dayOfYear"}):addLeadingZeros(j,_.length)},E:function(o,_,$){const j=o.getDay();switch(_){case"E":case"EE":case"EEE":return $.day(j,{width:"abbreviated",context:"formatting"});case"EEEEE":return $.day(j,{width:"narrow",context:"formatting"});case"EEEEEE":return $.day(j,{width:"short",context:"formatting"});case"EEEE":default:return $.day(j,{width:"wide",context:"formatting"})}},e:function(o,_,$,j){const _e=o.getDay(),et=(_e-j.weekStartsOn+8)%7||7;switch(_){case"e":return String(et);case"ee":return addLeadingZeros(et,2);case"eo":return $.ordinalNumber(et,{unit:"day"});case"eee":return $.day(_e,{width:"abbreviated",context:"formatting"});case"eeeee":return $.day(_e,{width:"narrow",context:"formatting"});case"eeeeee":return $.day(_e,{width:"short",context:"formatting"});case"eeee":default:return $.day(_e,{width:"wide",context:"formatting"})}},c:function(o,_,$,j){const _e=o.getDay(),et=(_e-j.weekStartsOn+8)%7||7;switch(_){case"c":return String(et);case"cc":return addLeadingZeros(et,_.length);case"co":return $.ordinalNumber(et,{unit:"day"});case"ccc":return $.day(_e,{width:"abbreviated",context:"standalone"});case"ccccc":return $.day(_e,{width:"narrow",context:"standalone"});case"cccccc":return $.day(_e,{width:"short",context:"standalone"});case"cccc":default:return $.day(_e,{width:"wide",context:"standalone"})}},i:function(o,_,$){const j=o.getDay(),_e=j===0?7:j;switch(_){case"i":return String(_e);case"ii":return addLeadingZeros(_e,_.length);case"io":return $.ordinalNumber(_e,{unit:"day"});case"iii":return $.day(j,{width:"abbreviated",context:"formatting"});case"iiiii":return $.day(j,{width:"narrow",context:"formatting"});case"iiiiii":return $.day(j,{width:"short",context:"formatting"});case"iiii":default:return $.day(j,{width:"wide",context:"formatting"})}},a:function(o,_,$){const _e=o.getHours()/12>=1?"pm":"am";switch(_){case"a":case"aa":return $.dayPeriod(_e,{width:"abbreviated",context:"formatting"});case"aaa":return $.dayPeriod(_e,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return $.dayPeriod(_e,{width:"narrow",context:"formatting"});case"aaaa":default:return $.dayPeriod(_e,{width:"wide",context:"formatting"})}},b:function(o,_,$){const j=o.getHours();let _e;switch(j===12?_e=dayPeriodEnum.noon:j===0?_e=dayPeriodEnum.midnight:_e=j/12>=1?"pm":"am",_){case"b":case"bb":return $.dayPeriod(_e,{width:"abbreviated",context:"formatting"});case"bbb":return $.dayPeriod(_e,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return $.dayPeriod(_e,{width:"narrow",context:"formatting"});case"bbbb":default:return $.dayPeriod(_e,{width:"wide",context:"formatting"})}},B:function(o,_,$){const j=o.getHours();let _e;switch(j>=17?_e=dayPeriodEnum.evening:j>=12?_e=dayPeriodEnum.afternoon:j>=4?_e=dayPeriodEnum.morning:_e=dayPeriodEnum.night,_){case"B":case"BB":case"BBB":return $.dayPeriod(_e,{width:"abbreviated",context:"formatting"});case"BBBBB":return $.dayPeriod(_e,{width:"narrow",context:"formatting"});case"BBBB":default:return $.dayPeriod(_e,{width:"wide",context:"formatting"})}},h:function(o,_,$){if(_==="ho"){let j=o.getHours()%12;return j===0&&(j=12),$.ordinalNumber(j,{unit:"hour"})}return lightFormatters.h(o,_)},H:function(o,_,$){return _==="Ho"?$.ordinalNumber(o.getHours(),{unit:"hour"}):lightFormatters.H(o,_)},K:function(o,_,$){const j=o.getHours()%12;return _==="Ko"?$.ordinalNumber(j,{unit:"hour"}):addLeadingZeros(j,_.length)},k:function(o,_,$){let j=o.getHours();return j===0&&(j=24),_==="ko"?$.ordinalNumber(j,{unit:"hour"}):addLeadingZeros(j,_.length)},m:function(o,_,$){return _==="mo"?$.ordinalNumber(o.getMinutes(),{unit:"minute"}):lightFormatters.m(o,_)},s:function(o,_,$){return _==="so"?$.ordinalNumber(o.getSeconds(),{unit:"second"}):lightFormatters.s(o,_)},S:function(o,_){return lightFormatters.S(o,_)},X:function(o,_,$){const j=o.getTimezoneOffset();if(j===0)return"Z";switch(_){case"X":return formatTimezoneWithOptionalMinutes(j);case"XXXX":case"XX":return formatTimezone(j);case"XXXXX":case"XXX":default:return formatTimezone(j,":")}},x:function(o,_,$){const j=o.getTimezoneOffset();switch(_){case"x":return formatTimezoneWithOptionalMinutes(j);case"xxxx":case"xx":return formatTimezone(j);case"xxxxx":case"xxx":default:return formatTimezone(j,":")}},O:function(o,_,$){const j=o.getTimezoneOffset();switch(_){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(j,":");case"OOOO":default:return"GMT"+formatTimezone(j,":")}},z:function(o,_,$){const j=o.getTimezoneOffset();switch(_){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(j,":");case"zzzz":default:return"GMT"+formatTimezone(j,":")}},t:function(o,_,$){const j=Math.trunc(o.getTime()/1e3);return addLeadingZeros(j,_.length)},T:function(o,_,$){const j=o.getTime();return addLeadingZeros(j,_.length)}};function formatTimezoneShort(o,_=""){const $=o>0?"-":"+",j=Math.abs(o),_e=Math.trunc(j/60),et=j%60;return et===0?$+String(_e):$+String(_e)+_+addLeadingZeros(et,2)}function formatTimezoneWithOptionalMinutes(o,_){return o%60===0?(o>0?"-":"+")+addLeadingZeros(Math.abs(o)/60,2):formatTimezone(o,_)}function formatTimezone(o,_=""){const $=o>0?"-":"+",j=Math.abs(o),_e=addLeadingZeros(Math.trunc(j/60),2),et=addLeadingZeros(j%60,2);return $+_e+_+et}const dateLongFormatter=(o,_)=>{switch(o){case"P":return _.date({width:"short"});case"PP":return _.date({width:"medium"});case"PPP":return _.date({width:"long"});case"PPPP":default:return _.date({width:"full"})}},timeLongFormatter=(o,_)=>{switch(o){case"p":return _.time({width:"short"});case"pp":return _.time({width:"medium"});case"ppp":return _.time({width:"long"});case"pppp":default:return _.time({width:"full"})}},dateTimeLongFormatter=(o,_)=>{const $=o.match(/(P+)(p+)?/)||[],j=$[1],_e=$[2];if(!_e)return dateLongFormatter(o,_);let et;switch(j){case"P":et=_.dateTime({width:"short"});break;case"PP":et=_.dateTime({width:"medium"});break;case"PPP":et=_.dateTime({width:"long"});break;case"PPPP":default:et=_.dateTime({width:"full"});break}return et.replace("{{date}}",dateLongFormatter(j,_)).replace("{{time}}",timeLongFormatter(_e,_))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(o){return dayOfYearTokenRE.test(o)}function isProtectedWeekYearToken(o){return weekYearTokenRE.test(o)}function warnOrThrowProtectedError(o,_,$){const j=message(o,_,$);if(console.warn(j),throwTokens.includes(o))throw new RangeError(j)}function message(o,_,$){const j=o[0]==="Y"?"years":"days of the month";return`Use \`${o.toLowerCase()}\` instead of \`${o}\` (in \`${_}\`) for formatting ${j} to the input \`${$}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp$1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp$2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp$1=/^'([^]*?)'?$/,doubleQuoteRegExp$1=/''/g,unescapedLatinCharacterRegExp$1=/[a-zA-Z]/;function format$1(o,_,$){var dt,bt,Ht,pr,_n,ft,Ct,mr;const j=getDefaultOptions$1(),_e=($==null?void 0:$.locale)??j.locale??enUS,et=($==null?void 0:$.firstWeekContainsDate)??((bt=(dt=$==null?void 0:$.locale)==null?void 0:dt.options)==null?void 0:bt.firstWeekContainsDate)??j.firstWeekContainsDate??((pr=(Ht=j.locale)==null?void 0:Ht.options)==null?void 0:pr.firstWeekContainsDate)??1,tt=($==null?void 0:$.weekStartsOn)??((ft=(_n=$==null?void 0:$.locale)==null?void 0:_n.options)==null?void 0:ft.weekStartsOn)??j.weekStartsOn??((mr=(Ct=j.locale)==null?void 0:Ct.options)==null?void 0:mr.weekStartsOn)??0,nt=toDate(o);if(!isValid$1(nt))throw new RangeError("Invalid time value");let it=_.match(longFormattingTokensRegExp$2).map(_r=>{const mn=_r[0];if(mn==="p"||mn==="P"){const dr=longFormatters[mn];return dr(_r,_e.formatLong)}return _r}).join("").match(formattingTokensRegExp$1).map(_r=>{if(_r==="''")return{isToken:!1,value:"'"};const mn=_r[0];if(mn==="'")return{isToken:!1,value:cleanEscapedString$1(_r)};if(formatters[mn])return{isToken:!0,value:_r};if(mn.match(unescapedLatinCharacterRegExp$1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+mn+"`");return{isToken:!1,value:_r}});_e.localize.preprocessor&&(it=_e.localize.preprocessor(nt,it));const lt={firstWeekContainsDate:et,weekStartsOn:tt,locale:_e};return it.map(_r=>{if(!_r.isToken)return _r.value;const mn=_r.value;(!($!=null&&$.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(mn)||!($!=null&&$.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(mn))&&warnOrThrowProtectedError(mn,_,String(o));const dr=formatters[mn[0]];return dr(nt,mn,_e.localize,lt)}).join("")}function cleanEscapedString$1(o){const _=o.match(escapedStringRegExp$1);return _?_[1].replace(doubleQuoteRegExp$1,"'"):o}function getDate(o){return toDate(o).getDate()}function getDay(o){return toDate(o).getDay()}function getDaysInMonth(o){const _=toDate(o),$=_.getFullYear(),j=_.getMonth(),_e=constructFrom(o,0);return _e.setFullYear($,j+1,0),_e.setHours(0,0,0,0),_e.getDate()}function getDefaultOptions(){return Object.assign({},getDefaultOptions$1())}function getHours(o){return toDate(o).getHours()}function getISODay(o){let $=toDate(o).getDay();return $===0&&($=7),$}function getMinutes(o){return toDate(o).getMinutes()}function getMonth(o){return toDate(o).getMonth()}function getSeconds(o){return toDate(o).getSeconds()}function getTime(o){return toDate(o).getTime()}function getYear(o){return toDate(o).getFullYear()}function isAfter(o,_){const $=toDate(o),j=toDate(_);return $.getTime()>j.getTime()}function isBefore(o,_){const $=toDate(o),j=toDate(_);return+$<+j}function isEqual$3(o,_){const $=toDate(o),j=toDate(_);return+$==+j}function transpose(o,_){const $=_ instanceof Date?constructFrom(_,0):new _(0);return $.setFullYear(o.getFullYear(),o.getMonth(),o.getDate()),$.setHours(o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()),$}const TIMEZONE_UNIT_PRIORITY=10;class Setter{constructor(){Gm(this,"subPriority",0)}validate(_,$){return!0}}class ValueSetter extends Setter{constructor(_,$,j,_e,et){super(),this.value=_,this.validateValue=$,this.setValue=j,this.priority=_e,et&&(this.subPriority=et)}validate(_,$){return this.validateValue(_,this.value,$)}set(_,$,j){return this.setValue(_,$,this.value,j)}}class DateToSystemTimezoneSetter extends Setter{constructor(){super(...arguments);Gm(this,"priority",TIMEZONE_UNIT_PRIORITY);Gm(this,"subPriority",-1)}set($,j){return j.timestampIsSet?$:constructFrom($,transpose($,Date))}}class Parser{run(_,$,j,_e){const et=this.parse(_,$,j,_e);return et?{setter:new ValueSetter(et.value,this.validate,this.set,this.priority,this.subPriority),rest:et.rest}:null}validate(_,$,j){return!0}}class EraParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",140);Gm(this,"incompatibleTokens",["R","u","t","T"])}parse($,j,_e){switch(j){case"G":case"GG":case"GGG":return _e.era($,{width:"abbreviated"})||_e.era($,{width:"narrow"});case"GGGGG":return _e.era($,{width:"narrow"});case"GGGG":default:return _e.era($,{width:"wide"})||_e.era($,{width:"abbreviated"})||_e.era($,{width:"narrow"})}}set($,j,_e){return j.era=_e,$.setFullYear(_e,0,1),$.setHours(0,0,0,0),$}}const numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function mapValue(o,_){return o&&{value:_(o.value),rest:o.rest}}function parseNumericPattern(o,_){const $=_.match(o);return $?{value:parseInt($[0],10),rest:_.slice($[0].length)}:null}function parseTimezonePattern(o,_){const $=_.match(o);if(!$)return null;if($[0]==="Z")return{value:0,rest:_.slice(1)};const j=$[1]==="+"?1:-1,_e=$[2]?parseInt($[2],10):0,et=$[3]?parseInt($[3],10):0,tt=$[5]?parseInt($[5],10):0;return{value:j*(_e*millisecondsInHour+et*millisecondsInMinute+tt*millisecondsInSecond),rest:_.slice($[0].length)}}function parseAnyDigitsSigned(o){return parseNumericPattern(numericPatterns.anyDigitsSigned,o)}function parseNDigits(o,_){switch(o){case 1:return parseNumericPattern(numericPatterns.singleDigit,_);case 2:return parseNumericPattern(numericPatterns.twoDigits,_);case 3:return parseNumericPattern(numericPatterns.threeDigits,_);case 4:return parseNumericPattern(numericPatterns.fourDigits,_);default:return parseNumericPattern(new RegExp("^\\d{1,"+o+"}"),_)}}function parseNDigitsSigned(o,_){switch(o){case 1:return parseNumericPattern(numericPatterns.singleDigitSigned,_);case 2:return parseNumericPattern(numericPatterns.twoDigitsSigned,_);case 3:return parseNumericPattern(numericPatterns.threeDigitsSigned,_);case 4:return parseNumericPattern(numericPatterns.fourDigitsSigned,_);default:return parseNumericPattern(new RegExp("^-?\\d{1,"+o+"}"),_)}}function dayPeriodEnumToHours(o){switch(o){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function normalizeTwoDigitYear(o,_){const $=_>0,j=$?_:1-_;let _e;if(j<=50)_e=o||100;else{const et=j+50,tt=Math.trunc(et/100)*100,nt=o>=et%100;_e=o+tt-(nt?100:0)}return $?_e:1-_e}function isLeapYearIndex$1(o){return o%400===0||o%4===0&&o%100!==0}class YearParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",130);Gm(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse($,j,_e){const et=tt=>({year:tt,isTwoDigitYear:j==="yy"});switch(j){case"y":return mapValue(parseNDigits(4,$),et);case"yo":return mapValue(_e.ordinalNumber($,{unit:"year"}),et);default:return mapValue(parseNDigits(j.length,$),et)}}validate($,j){return j.isTwoDigitYear||j.year>0}set($,j,_e){const et=$.getFullYear();if(_e.isTwoDigitYear){const nt=normalizeTwoDigitYear(_e.year,et);return $.setFullYear(nt,0,1),$.setHours(0,0,0,0),$}const tt=!("era"in j)||j.era===1?_e.year:1-_e.year;return $.setFullYear(tt,0,1),$.setHours(0,0,0,0),$}}class LocalWeekYearParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",130);Gm(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse($,j,_e){const et=tt=>({year:tt,isTwoDigitYear:j==="YY"});switch(j){case"Y":return mapValue(parseNDigits(4,$),et);case"Yo":return mapValue(_e.ordinalNumber($,{unit:"year"}),et);default:return mapValue(parseNDigits(j.length,$),et)}}validate($,j){return j.isTwoDigitYear||j.year>0}set($,j,_e,et){const tt=getWeekYear($,et);if(_e.isTwoDigitYear){const it=normalizeTwoDigitYear(_e.year,tt);return $.setFullYear(it,0,et.firstWeekContainsDate),$.setHours(0,0,0,0),startOfWeek($,et)}const nt=!("era"in j)||j.era===1?_e.year:1-_e.year;return $.setFullYear(nt,0,et.firstWeekContainsDate),$.setHours(0,0,0,0),startOfWeek($,et)}}class ISOWeekYearParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",130);Gm(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse($,j){return parseNDigitsSigned(j==="R"?4:j.length,$)}set($,j,_e){const et=constructFrom($,0);return et.setFullYear(_e,0,4),et.setHours(0,0,0,0),startOfISOWeek(et)}}class ExtendedYearParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",130);Gm(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse($,j){return parseNDigitsSigned(j==="u"?4:j.length,$)}set($,j,_e){return $.setFullYear(_e,0,1),$.setHours(0,0,0,0),$}}class QuarterParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",120);Gm(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse($,j,_e){switch(j){case"Q":case"QQ":return parseNDigits(j.length,$);case"Qo":return _e.ordinalNumber($,{unit:"quarter"});case"QQQ":return _e.quarter($,{width:"abbreviated",context:"formatting"})||_e.quarter($,{width:"narrow",context:"formatting"});case"QQQQQ":return _e.quarter($,{width:"narrow",context:"formatting"});case"QQQQ":default:return _e.quarter($,{width:"wide",context:"formatting"})||_e.quarter($,{width:"abbreviated",context:"formatting"})||_e.quarter($,{width:"narrow",context:"formatting"})}}validate($,j){return j>=1&&j<=4}set($,j,_e){return $.setMonth((_e-1)*3,1),$.setHours(0,0,0,0),$}}class StandAloneQuarterParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",120);Gm(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse($,j,_e){switch(j){case"q":case"qq":return parseNDigits(j.length,$);case"qo":return _e.ordinalNumber($,{unit:"quarter"});case"qqq":return _e.quarter($,{width:"abbreviated",context:"standalone"})||_e.quarter($,{width:"narrow",context:"standalone"});case"qqqqq":return _e.quarter($,{width:"narrow",context:"standalone"});case"qqqq":default:return _e.quarter($,{width:"wide",context:"standalone"})||_e.quarter($,{width:"abbreviated",context:"standalone"})||_e.quarter($,{width:"narrow",context:"standalone"})}}validate($,j){return j>=1&&j<=4}set($,j,_e){return $.setMonth((_e-1)*3,1),$.setHours(0,0,0,0),$}}class MonthParser extends Parser{constructor(){super(...arguments);Gm(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Gm(this,"priority",110)}parse($,j,_e){const et=tt=>tt-1;switch(j){case"M":return mapValue(parseNumericPattern(numericPatterns.month,$),et);case"MM":return mapValue(parseNDigits(2,$),et);case"Mo":return mapValue(_e.ordinalNumber($,{unit:"month"}),et);case"MMM":return _e.month($,{width:"abbreviated",context:"formatting"})||_e.month($,{width:"narrow",context:"formatting"});case"MMMMM":return _e.month($,{width:"narrow",context:"formatting"});case"MMMM":default:return _e.month($,{width:"wide",context:"formatting"})||_e.month($,{width:"abbreviated",context:"formatting"})||_e.month($,{width:"narrow",context:"formatting"})}}validate($,j){return j>=0&&j<=11}set($,j,_e){return $.setMonth(_e,1),$.setHours(0,0,0,0),$}}class StandAloneMonthParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",110);Gm(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse($,j,_e){const et=tt=>tt-1;switch(j){case"L":return mapValue(parseNumericPattern(numericPatterns.month,$),et);case"LL":return mapValue(parseNDigits(2,$),et);case"Lo":return mapValue(_e.ordinalNumber($,{unit:"month"}),et);case"LLL":return _e.month($,{width:"abbreviated",context:"standalone"})||_e.month($,{width:"narrow",context:"standalone"});case"LLLLL":return _e.month($,{width:"narrow",context:"standalone"});case"LLLL":default:return _e.month($,{width:"wide",context:"standalone"})||_e.month($,{width:"abbreviated",context:"standalone"})||_e.month($,{width:"narrow",context:"standalone"})}}validate($,j){return j>=0&&j<=11}set($,j,_e){return $.setMonth(_e,1),$.setHours(0,0,0,0),$}}function setWeek(o,_,$){const j=toDate(o),_e=getWeek$1(j,$)-_;return j.setDate(j.getDate()-_e*7),j}class LocalWeekParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",100);Gm(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse($,j,_e){switch(j){case"w":return parseNumericPattern(numericPatterns.week,$);case"wo":return _e.ordinalNumber($,{unit:"week"});default:return parseNDigits(j.length,$)}}validate($,j){return j>=1&&j<=53}set($,j,_e,et){return startOfWeek(setWeek($,_e,et),et)}}function setISOWeek(o,_){const $=toDate(o),j=getISOWeek($)-_;return $.setDate($.getDate()-j*7),$}class ISOWeekParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",100);Gm(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse($,j,_e){switch(j){case"I":return parseNumericPattern(numericPatterns.week,$);case"Io":return _e.ordinalNumber($,{unit:"week"});default:return parseNDigits(j.length,$)}}validate($,j){return j>=1&&j<=53}set($,j,_e){return startOfISOWeek(setISOWeek($,_e))}}const DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],DAYS_IN_MONTH_LEAP_YEAR=[31,29,31,30,31,30,31,31,30,31,30,31];class DateParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",90);Gm(this,"subPriority",1);Gm(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse($,j,_e){switch(j){case"d":return parseNumericPattern(numericPatterns.date,$);case"do":return _e.ordinalNumber($,{unit:"date"});default:return parseNDigits(j.length,$)}}validate($,j){const _e=$.getFullYear(),et=isLeapYearIndex$1(_e),tt=$.getMonth();return et?j>=1&&j<=DAYS_IN_MONTH_LEAP_YEAR[tt]:j>=1&&j<=DAYS_IN_MONTH[tt]}set($,j,_e){return $.setDate(_e),$.setHours(0,0,0,0),$}}class DayOfYearParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",90);Gm(this,"subpriority",1);Gm(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse($,j,_e){switch(j){case"D":case"DD":return parseNumericPattern(numericPatterns.dayOfYear,$);case"Do":return _e.ordinalNumber($,{unit:"date"});default:return parseNDigits(j.length,$)}}validate($,j){const _e=$.getFullYear();return isLeapYearIndex$1(_e)?j>=1&&j<=366:j>=1&&j<=365}set($,j,_e){return $.setMonth(0,_e),$.setHours(0,0,0,0),$}}function setDay(o,_,$){var bt,Ht,pr,_n;const j=getDefaultOptions$1(),_e=($==null?void 0:$.weekStartsOn)??((Ht=(bt=$==null?void 0:$.locale)==null?void 0:bt.options)==null?void 0:Ht.weekStartsOn)??j.weekStartsOn??((_n=(pr=j.locale)==null?void 0:pr.options)==null?void 0:_n.weekStartsOn)??0,et=toDate(o),tt=et.getDay(),it=(_%7+7)%7,lt=7-_e,dt=_<0||_>6?_-(tt+lt)%7:(it+lt)%7-(tt+lt)%7;return addDays(et,dt)}class DayParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",90);Gm(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse($,j,_e){switch(j){case"E":case"EE":case"EEE":return _e.day($,{width:"abbreviated",context:"formatting"})||_e.day($,{width:"short",context:"formatting"})||_e.day($,{width:"narrow",context:"formatting"});case"EEEEE":return _e.day($,{width:"narrow",context:"formatting"});case"EEEEEE":return _e.day($,{width:"short",context:"formatting"})||_e.day($,{width:"narrow",context:"formatting"});case"EEEE":default:return _e.day($,{width:"wide",context:"formatting"})||_e.day($,{width:"abbreviated",context:"formatting"})||_e.day($,{width:"short",context:"formatting"})||_e.day($,{width:"narrow",context:"formatting"})}}validate($,j){return j>=0&&j<=6}set($,j,_e,et){return $=setDay($,_e,et),$.setHours(0,0,0,0),$}}class LocalDayParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",90);Gm(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse($,j,_e,et){const tt=nt=>{const it=Math.floor((nt-1)/7)*7;return(nt+et.weekStartsOn+6)%7+it};switch(j){case"e":case"ee":return mapValue(parseNDigits(j.length,$),tt);case"eo":return mapValue(_e.ordinalNumber($,{unit:"day"}),tt);case"eee":return _e.day($,{width:"abbreviated",context:"formatting"})||_e.day($,{width:"short",context:"formatting"})||_e.day($,{width:"narrow",context:"formatting"});case"eeeee":return _e.day($,{width:"narrow",context:"formatting"});case"eeeeee":return _e.day($,{width:"short",context:"formatting"})||_e.day($,{width:"narrow",context:"formatting"});case"eeee":default:return _e.day($,{width:"wide",context:"formatting"})||_e.day($,{width:"abbreviated",context:"formatting"})||_e.day($,{width:"short",context:"formatting"})||_e.day($,{width:"narrow",context:"formatting"})}}validate($,j){return j>=0&&j<=6}set($,j,_e,et){return $=setDay($,_e,et),$.setHours(0,0,0,0),$}}class StandAloneLocalDayParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",90);Gm(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse($,j,_e,et){const tt=nt=>{const it=Math.floor((nt-1)/7)*7;return(nt+et.weekStartsOn+6)%7+it};switch(j){case"c":case"cc":return mapValue(parseNDigits(j.length,$),tt);case"co":return mapValue(_e.ordinalNumber($,{unit:"day"}),tt);case"ccc":return _e.day($,{width:"abbreviated",context:"standalone"})||_e.day($,{width:"short",context:"standalone"})||_e.day($,{width:"narrow",context:"standalone"});case"ccccc":return _e.day($,{width:"narrow",context:"standalone"});case"cccccc":return _e.day($,{width:"short",context:"standalone"})||_e.day($,{width:"narrow",context:"standalone"});case"cccc":default:return _e.day($,{width:"wide",context:"standalone"})||_e.day($,{width:"abbreviated",context:"standalone"})||_e.day($,{width:"short",context:"standalone"})||_e.day($,{width:"narrow",context:"standalone"})}}validate($,j){return j>=0&&j<=6}set($,j,_e,et){return $=setDay($,_e,et),$.setHours(0,0,0,0),$}}function setISODay(o,_){const $=toDate(o),j=getISODay($),_e=_-j;return addDays($,_e)}class ISODayParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",90);Gm(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse($,j,_e){const et=tt=>tt===0?7:tt;switch(j){case"i":case"ii":return parseNDigits(j.length,$);case"io":return _e.ordinalNumber($,{unit:"day"});case"iii":return mapValue(_e.day($,{width:"abbreviated",context:"formatting"})||_e.day($,{width:"short",context:"formatting"})||_e.day($,{width:"narrow",context:"formatting"}),et);case"iiiii":return mapValue(_e.day($,{width:"narrow",context:"formatting"}),et);case"iiiiii":return mapValue(_e.day($,{width:"short",context:"formatting"})||_e.day($,{width:"narrow",context:"formatting"}),et);case"iiii":default:return mapValue(_e.day($,{width:"wide",context:"formatting"})||_e.day($,{width:"abbreviated",context:"formatting"})||_e.day($,{width:"short",context:"formatting"})||_e.day($,{width:"narrow",context:"formatting"}),et)}}validate($,j){return j>=1&&j<=7}set($,j,_e){return $=setISODay($,_e),$.setHours(0,0,0,0),$}}class AMPMParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",80);Gm(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse($,j,_e){switch(j){case"a":case"aa":case"aaa":return _e.dayPeriod($,{width:"abbreviated",context:"formatting"})||_e.dayPeriod($,{width:"narrow",context:"formatting"});case"aaaaa":return _e.dayPeriod($,{width:"narrow",context:"formatting"});case"aaaa":default:return _e.dayPeriod($,{width:"wide",context:"formatting"})||_e.dayPeriod($,{width:"abbreviated",context:"formatting"})||_e.dayPeriod($,{width:"narrow",context:"formatting"})}}set($,j,_e){return $.setHours(dayPeriodEnumToHours(_e),0,0,0),$}}class AMPMMidnightParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",80);Gm(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse($,j,_e){switch(j){case"b":case"bb":case"bbb":return _e.dayPeriod($,{width:"abbreviated",context:"formatting"})||_e.dayPeriod($,{width:"narrow",context:"formatting"});case"bbbbb":return _e.dayPeriod($,{width:"narrow",context:"formatting"});case"bbbb":default:return _e.dayPeriod($,{width:"wide",context:"formatting"})||_e.dayPeriod($,{width:"abbreviated",context:"formatting"})||_e.dayPeriod($,{width:"narrow",context:"formatting"})}}set($,j,_e){return $.setHours(dayPeriodEnumToHours(_e),0,0,0),$}}class DayPeriodParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",80);Gm(this,"incompatibleTokens",["a","b","t","T"])}parse($,j,_e){switch(j){case"B":case"BB":case"BBB":return _e.dayPeriod($,{width:"abbreviated",context:"formatting"})||_e.dayPeriod($,{width:"narrow",context:"formatting"});case"BBBBB":return _e.dayPeriod($,{width:"narrow",context:"formatting"});case"BBBB":default:return _e.dayPeriod($,{width:"wide",context:"formatting"})||_e.dayPeriod($,{width:"abbreviated",context:"formatting"})||_e.dayPeriod($,{width:"narrow",context:"formatting"})}}set($,j,_e){return $.setHours(dayPeriodEnumToHours(_e),0,0,0),$}}class Hour1to12Parser extends Parser{constructor(){super(...arguments);Gm(this,"priority",70);Gm(this,"incompatibleTokens",["H","K","k","t","T"])}parse($,j,_e){switch(j){case"h":return parseNumericPattern(numericPatterns.hour12h,$);case"ho":return _e.ordinalNumber($,{unit:"hour"});default:return parseNDigits(j.length,$)}}validate($,j){return j>=1&&j<=12}set($,j,_e){const et=$.getHours()>=12;return et&&_e<12?$.setHours(_e+12,0,0,0):!et&&_e===12?$.setHours(0,0,0,0):$.setHours(_e,0,0,0),$}}class Hour0to23Parser extends Parser{constructor(){super(...arguments);Gm(this,"priority",70);Gm(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse($,j,_e){switch(j){case"H":return parseNumericPattern(numericPatterns.hour23h,$);case"Ho":return _e.ordinalNumber($,{unit:"hour"});default:return parseNDigits(j.length,$)}}validate($,j){return j>=0&&j<=23}set($,j,_e){return $.setHours(_e,0,0,0),$}}class Hour0To11Parser extends Parser{constructor(){super(...arguments);Gm(this,"priority",70);Gm(this,"incompatibleTokens",["h","H","k","t","T"])}parse($,j,_e){switch(j){case"K":return parseNumericPattern(numericPatterns.hour11h,$);case"Ko":return _e.ordinalNumber($,{unit:"hour"});default:return parseNDigits(j.length,$)}}validate($,j){return j>=0&&j<=11}set($,j,_e){return $.getHours()>=12&&_e<12?$.setHours(_e+12,0,0,0):$.setHours(_e,0,0,0),$}}class Hour1To24Parser extends Parser{constructor(){super(...arguments);Gm(this,"priority",70);Gm(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse($,j,_e){switch(j){case"k":return parseNumericPattern(numericPatterns.hour24h,$);case"ko":return _e.ordinalNumber($,{unit:"hour"});default:return parseNDigits(j.length,$)}}validate($,j){return j>=1&&j<=24}set($,j,_e){const et=_e<=24?_e%24:_e;return $.setHours(et,0,0,0),$}}class MinuteParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",60);Gm(this,"incompatibleTokens",["t","T"])}parse($,j,_e){switch(j){case"m":return parseNumericPattern(numericPatterns.minute,$);case"mo":return _e.ordinalNumber($,{unit:"minute"});default:return parseNDigits(j.length,$)}}validate($,j){return j>=0&&j<=59}set($,j,_e){return $.setMinutes(_e,0,0),$}}class SecondParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",50);Gm(this,"incompatibleTokens",["t","T"])}parse($,j,_e){switch(j){case"s":return parseNumericPattern(numericPatterns.second,$);case"so":return _e.ordinalNumber($,{unit:"second"});default:return parseNDigits(j.length,$)}}validate($,j){return j>=0&&j<=59}set($,j,_e){return $.setSeconds(_e,0),$}}class FractionOfSecondParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",30);Gm(this,"incompatibleTokens",["t","T"])}parse($,j){const _e=et=>Math.trunc(et*Math.pow(10,-j.length+3));return mapValue(parseNDigits(j.length,$),_e)}set($,j,_e){return $.setMilliseconds(_e),$}}class ISOTimezoneWithZParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",10);Gm(this,"incompatibleTokens",["t","T","x"])}parse($,j){switch(j){case"X":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,$);case"XX":return parseTimezonePattern(timezonePatterns.basic,$);case"XXXX":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,$);case"XXXXX":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,$);case"XXX":default:return parseTimezonePattern(timezonePatterns.extended,$)}}set($,j,_e){return j.timestampIsSet?$:constructFrom($,$.getTime()-getTimezoneOffsetInMilliseconds($)-_e)}}class ISOTimezoneParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",10);Gm(this,"incompatibleTokens",["t","T","X"])}parse($,j){switch(j){case"x":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,$);case"xx":return parseTimezonePattern(timezonePatterns.basic,$);case"xxxx":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,$);case"xxxxx":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,$);case"xxx":default:return parseTimezonePattern(timezonePatterns.extended,$)}}set($,j,_e){return j.timestampIsSet?$:constructFrom($,$.getTime()-getTimezoneOffsetInMilliseconds($)-_e)}}class TimestampSecondsParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",40);Gm(this,"incompatibleTokens","*")}parse($){return parseAnyDigitsSigned($)}set($,j,_e){return[constructFrom($,_e*1e3),{timestampIsSet:!0}]}}class TimestampMillisecondsParser extends Parser{constructor(){super(...arguments);Gm(this,"priority",20);Gm(this,"incompatibleTokens","*")}parse($){return parseAnyDigitsSigned($)}set($,j,_e){return[constructFrom($,_e),{timestampIsSet:!0}]}}const parsers={G:new EraParser,y:new YearParser,Y:new LocalWeekYearParser,R:new ISOWeekYearParser,u:new ExtendedYearParser,Q:new QuarterParser,q:new StandAloneQuarterParser,M:new MonthParser,L:new StandAloneMonthParser,w:new LocalWeekParser,I:new ISOWeekParser,d:new DateParser,D:new DayOfYearParser,E:new DayParser,e:new LocalDayParser,c:new StandAloneLocalDayParser,i:new ISODayParser,a:new AMPMParser,b:new AMPMMidnightParser,B:new DayPeriodParser,h:new Hour1to12Parser,H:new Hour0to23Parser,K:new Hour0To11Parser,k:new Hour1To24Parser,m:new MinuteParser,s:new SecondParser,S:new FractionOfSecondParser,X:new ISOTimezoneWithZParser,x:new ISOTimezoneParser,t:new TimestampSecondsParser,T:new TimestampMillisecondsParser},formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp$1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,notWhitespaceRegExp=/\S/,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function parse(o,_,$,j){var ft,Ct,mr,_r,mn,dr,pn,Do;const _e=getDefaultOptions(),et=(j==null?void 0:j.locale)??_e.locale??enUS,tt=(j==null?void 0:j.firstWeekContainsDate)??((Ct=(ft=j==null?void 0:j.locale)==null?void 0:ft.options)==null?void 0:Ct.firstWeekContainsDate)??_e.firstWeekContainsDate??((_r=(mr=_e.locale)==null?void 0:mr.options)==null?void 0:_r.firstWeekContainsDate)??1,nt=(j==null?void 0:j.weekStartsOn)??((dr=(mn=j==null?void 0:j.locale)==null?void 0:mn.options)==null?void 0:dr.weekStartsOn)??_e.weekStartsOn??((Do=(pn=_e.locale)==null?void 0:pn.options)==null?void 0:Do.weekStartsOn)??0;if(_==="")return o===""?toDate($):constructFrom($,NaN);const it={firstWeekContainsDate:tt,weekStartsOn:nt,locale:et},lt=[new DateToSystemTimezoneSetter],dt=_.match(longFormattingTokensRegExp$1).map(Io=>{const Lo=Io[0];if(Lo in longFormatters){const ms=longFormatters[Lo];return ms(Io,et.formatLong)}return Io}).join("").match(formattingTokensRegExp),bt=[];for(let Io of dt){!(j!=null&&j.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(Io)&&warnOrThrowProtectedError(Io,_,o),!(j!=null&&j.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(Io)&&warnOrThrowProtectedError(Io,_,o);const Lo=Io[0],ms=parsers[Lo];if(ms){const{incompatibleTokens:Uo}=ms;if(Array.isArray(Uo)){const yp=bt.find(xs=>Uo.includes(xs.token)||xs.token===Lo);if(yp)throw new RangeError(`The format string mustn't contain \`${yp.fullToken}\` and \`${Io}\` at the same time`)}else if(ms.incompatibleTokens==="*"&&bt.length>0)throw new RangeError(`The format string mustn't contain \`${Io}\` and any other token at the same time`);bt.push({token:Lo,fullToken:Io});const _s=ms.run(o,Io,et.match,it);if(!_s)return constructFrom($,NaN);lt.push(_s.setter),o=_s.rest}else{if(Lo.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Lo+"`");if(Io==="''"?Io="'":Lo==="'"&&(Io=cleanEscapedString(Io)),o.indexOf(Io)===0)o=o.slice(Io.length);else return constructFrom($,NaN)}}if(o.length>0&&notWhitespaceRegExp.test(o))return constructFrom($,NaN);const Ht=lt.map(Io=>Io.priority).sort((Io,Lo)=>Lo-Io).filter((Io,Lo,ms)=>ms.indexOf(Io)===Lo).map(Io=>lt.filter(Lo=>Lo.priority===Io).sort((Lo,ms)=>ms.subPriority-Lo.subPriority)).map(Io=>Io[0]);let pr=toDate($);if(isNaN(pr.getTime()))return constructFrom($,NaN);const _n={};for(const Io of Ht){if(!Io.validate(pr,it))return constructFrom($,NaN);const Lo=Io.set(pr,_n,it);Array.isArray(Lo)?(pr=Lo[0],Object.assign(_n,Lo[1])):pr=Lo}return constructFrom($,pr)}function cleanEscapedString(o){return o.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp,"'")}function isSameMonth$1(o,_){const $=toDate(o),j=toDate(_);return $.getFullYear()===j.getFullYear()&&$.getMonth()===j.getMonth()}function isSameQuarter$1(o,_){const $=startOfQuarter(o),j=startOfQuarter(_);return+$==+j}function isSameYear$1(o,_){const $=toDate(o),j=toDate(_);return $.getFullYear()===j.getFullYear()}function isWithinInterval(o,_){const $=+toDate(o),[j,_e]=[+toDate(_.start),+toDate(_.end)].sort((et,tt)=>et-tt);return $>=j&&$<=_e}function subDays(o,_){return addDays(o,-_)}function parseISO(o,_){const j=splitDateString(o);let _e;if(j.date){const it=parseYear$1(j.date,2);_e=parseDate$1(it.restDateString,it.year)}if(!_e||isNaN(_e.getTime()))return new Date(NaN);const et=_e.getTime();let tt=0,nt;if(j.time&&(tt=parseTime(j.time),isNaN(tt)))return new Date(NaN);if(j.timezone){if(nt=parseTimezone(j.timezone),isNaN(nt))return new Date(NaN)}else{const it=new Date(et+tt),lt=new Date(0);return lt.setFullYear(it.getUTCFullYear(),it.getUTCMonth(),it.getUTCDate()),lt.setHours(it.getUTCHours(),it.getUTCMinutes(),it.getUTCSeconds(),it.getUTCMilliseconds()),lt}return new Date(et+tt+nt)}const patterns={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dateRegex=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,timeRegex=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,timezoneRegex=/^([+-])(\d{2})(?::?(\d{2}))?$/;function splitDateString(o){const _={},$=o.split(patterns.dateTimeDelimiter);let j;if($.length>2)return _;if(/:/.test($[0])?j=$[0]:(_.date=$[0],j=$[1],patterns.timeZoneDelimiter.test(_.date)&&(_.date=o.split(patterns.timeZoneDelimiter)[0],j=o.substr(_.date.length,o.length))),j){const _e=patterns.timezone.exec(j);_e?(_.time=j.replace(_e[1],""),_.timezone=_e[1]):_.time=j}return _}function parseYear$1(o,_){const $=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+_)+"})|(\\d{2}|[+-]\\d{"+(2+_)+"})$)"),j=o.match($);if(!j)return{year:NaN,restDateString:""};const _e=j[1]?parseInt(j[1]):null,et=j[2]?parseInt(j[2]):null;return{year:et===null?_e:et*100,restDateString:o.slice((j[1]||j[2]).length)}}function parseDate$1(o,_){if(_===null)return new Date(NaN);const $=o.match(dateRegex);if(!$)return new Date(NaN);const j=!!$[4],_e=parseDateUnit($[1]),et=parseDateUnit($[2])-1,tt=parseDateUnit($[3]),nt=parseDateUnit($[4]),it=parseDateUnit($[5])-1;if(j)return validateWeekDate(_,nt,it)?dayOfISOWeekYear(_,nt,it):new Date(NaN);{const lt=new Date(0);return!validateDate(_,et,tt)||!validateDayOfYearDate(_,_e)?new Date(NaN):(lt.setUTCFullYear(_,et,Math.max(_e,tt)),lt)}}function parseDateUnit(o){return o?parseInt(o):1}function parseTime(o){const _=o.match(timeRegex);if(!_)return NaN;const $=parseTimeUnit(_[1]),j=parseTimeUnit(_[2]),_e=parseTimeUnit(_[3]);return validateTime($,j,_e)?$*millisecondsInHour+j*millisecondsInMinute+_e*1e3:NaN}function parseTimeUnit(o){return o&&parseFloat(o.replace(",","."))||0}function parseTimezone(o){if(o==="Z")return 0;const _=o.match(timezoneRegex);if(!_)return 0;const $=_[1]==="+"?-1:1,j=parseInt(_[2]),_e=_[3]&&parseInt(_[3])||0;return validateTimezone(j,_e)?$*(j*millisecondsInHour+_e*millisecondsInMinute):NaN}function dayOfISOWeekYear(o,_,$){const j=new Date(0);j.setUTCFullYear(o,0,4);const _e=j.getUTCDay()||7,et=(_-1)*7+$+1-_e;return j.setUTCDate(j.getUTCDate()+et),j}const daysInMonths=[31,null,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex(o){return o%400===0||o%4===0&&o%100!==0}function validateDate(o,_,$){return _>=0&&_<=11&&$>=1&&$<=(daysInMonths[_]||(isLeapYearIndex(o)?29:28))}function validateDayOfYearDate(o,_){return _>=1&&_<=(isLeapYearIndex(o)?366:365)}function validateWeekDate(o,_,$){return _>=1&&_<=53&&$>=0&&$<=6}function validateTime(o,_,$){return o===24?_===0&&$===0:$>=0&&$<60&&_>=0&&_<60&&o>=0&&o<25}function validateTimezone(o,_){return _>=0&&_<=59}function setMonth(o,_){const $=toDate(o),j=$.getFullYear(),_e=$.getDate(),et=constructFrom(o,0);et.setFullYear(j,_,15),et.setHours(0,0,0,0);const tt=getDaysInMonth(et);return $.setMonth(_,Math.min(_e,tt)),$}function set(o,_){let $=toDate(o);return isNaN(+$)?constructFrom(o,NaN):(_.year!=null&&$.setFullYear(_.year),_.month!=null&&($=setMonth($,_.month)),_.date!=null&&$.setDate(_.date),_.hours!=null&&$.setHours(_.hours),_.minutes!=null&&$.setMinutes(_.minutes),_.seconds!=null&&$.setSeconds(_.seconds),_.milliseconds!=null&&$.setMilliseconds(_.milliseconds),$)}function setHours(o,_){const $=toDate(o);return $.setHours(_),$}function setMinutes(o,_){const $=toDate(o);return $.setMinutes(_),$}function setQuarter(o,_){const $=toDate(o),j=Math.trunc($.getMonth()/3)+1,_e=_-j;return setMonth($,$.getMonth()+_e*3)}function setSeconds(o,_){const $=toDate(o);return $.setSeconds(_),$}function setYear(o,_){const $=toDate(o);return isNaN(+$)?constructFrom(o,NaN):($.setFullYear(_),$)}function subMonths(o,_){return addMonths(o,-_)}function subQuarters(o,_){return addQuarters(o,-_)}function subWeeks(o,_){return addWeeks(o,-_)}function subYears(o,_){return addYears(o,-_)}const NodeTable=({data:o,loading:_,sorting:$,onSort:j})=>{const _e=useNavigate(),et=createColumnHelper(),tt=dt=>{_e(`details/${dt}`)},nt=({column:dt,children:bt})=>{const Ht=["mtime","ctime","uuid"].includes(dt),pr=$.column===dt?$.order:null;return jsxRuntimeExports$1.jsxs("div",{className:"flex items-center",children:[bt,Ht&&jsxRuntimeExports$1.jsxs("div",{className:"ml-2 flex flex-col",children:[jsxRuntimeExports$1.jsx("button",{onClick:()=>j(dt),className:`text-xs ${pr==="asc"?"text-blue-500":"text-gray-400"}`,children:"▲"}),jsxRuntimeExports$1.jsx("button",{onClick:()=>j(dt),className:`text-xs ${pr==="desc"?"text-blue-500":"text-gray-400"}`,children:"▼"})]})]})},it=[et.accessor("uuid",{header:({column:dt})=>jsxRuntimeExports$1.jsx(nt,{column:"uuid",children:"UUID"}),cell:dt=>dt.getValue()}),et.accessor("node_type",{header:"Name",cell:dt=>dt.getValue()}),et.accessor("ctime",{header:({column:dt})=>jsxRuntimeExports$1.jsx(nt,{column:"ctime",children:"Creation Time"}),cell:dt=>format$1(new Date(dt.getValue()),"yyyy-MM-dd")}),et.accessor("mtime",{header:({column:dt})=>jsxRuntimeExports$1.jsx(nt,{column:"mtime",children:"Modification Time"}),cell:dt=>format$1(new Date(dt.getValue()),"yyyy-MM-dd")}),et.accessor("user_id",{header:"Creator",cell:dt=>dt.getValue()}),et.accessor("process_type",{header:"Process State",cell:dt=>dt.getValue()}),et.display({id:"actions",cell:dt=>jsxRuntimeExports$1.jsx("button",{className:"bg-blue-300 hover:bg-blue-400 py-1 px-2 rounded-md",onClick:()=>tt(dt.row.original.uuid),children:"Details"})})],lt=useReactTable({data:o,columns:it,getCoreRowModel:getCoreRowModel()});return _?jsxRuntimeExports$1.jsx("div",{className:"loading-animation m-auto flex justify-center text-center",children:jsxRuntimeExports$1.jsx(ClipLoader,{size:30,color:"#007bff"})}):jsxRuntimeExports$1.jsx("div",{children:jsxRuntimeExports$1.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[jsxRuntimeExports$1.jsx("thead",{children:lt.getHeaderGroups().map(dt=>jsxRuntimeExports$1.jsx("tr",{children:dt.headers.map(bt=>jsxRuntimeExports$1.jsx("th",{className:"p-2 border-b text-left bg-blue-50",children:bt.isPlaceholder?null:flexRender(bt.column.columnDef.header,bt.getContext())},bt.id))},dt.id))}),jsxRuntimeExports$1.jsx("tbody",{children:lt.getRowModel().rows.map(dt=>jsxRuntimeExports$1.jsx("tr",{className:"hover:bg-gray-50",children:dt.getVisibleCells().map(bt=>jsxRuntimeExports$1.jsx("td",{className:"p-2 border-b",children:flexRender(bt.column.columnDef.cell,bt.getContext())},bt.id))},dt.id))})]})})};async function fetchFullTypeCounts(o){try{return(await(await fetch(`${o}/nodes/full_types_count/`)).json()).data}catch(_){console.error("Error fetching full type counts:",_)}}async function fetchNodesPaginated(o,_,$,j=20,_e="ctime",et="desc"){let tt=`${o}/nodes/page/${$}`;return tt+=`?perpage=${j}&full_type="${_}"&orderby=${et==="desc"?"-":""}${_e}`,_.includes("process")&&(tt+="&attributes=true",tt+="&attributes_filter=process_label,process_state,exit_status,exit_message,process_status,exception"),(await(await fetch(tt)).json()).data.nodes}const NodeGrid=({apiUrl:o})=>{const _=o,$=20,[j,_e]=reactExports.useState([]),[et,tt]=reactExports.useState(!1),[nt,it]=reactExports.useState(1);useSearchParams();const[lt,dt]=reactExports.useState(null),[bt,Ht]=reactExports.useState(null),[pr,_n]=reactExports.useState({column:"ctime",order:"desc"}),ft=async dr=>{if(tt(!0),lt&&dr>=1)try{const pn=await fetchNodesPaginated(_,lt.full_type,dr,$,pr.column,pr.order);_e(pn)}catch(pn){console.error("Error fetching data:",pn),_e([])}finally{tt(!1)}},Ct=()=>{if(lt&&lt.counter){const dr=lt.counter;return Math.ceil(dr/$)}return 1};reactExports.useEffect(()=>{tt(!0),fetchFullTypeCounts(_).then(dr=>{Ht(dr),dr.subspaces&&dt(dr.subspaces[0])}).finally(()=>tt(!1))},[]),reactExports.useEffect(()=>{ft(nt)},[lt,nt,pr]);const mr=dr=>{dr>=1&&dr<=Ct()&&it(dr)},_r=dr=>{_n(pn=>({column:dr,order:pn.column===dr&&pn.order==="asc"?"desc":"asc"}))},mn=()=>{const dr=Ct(),pn=Math.max(1,nt-7),Do=Math.min(dr,nt+7),Io=[];for(let Lo=pn;Lo<=Do;Lo++)Io.push(jsxRuntimeExports$1.jsx("button",{onClick:()=>mr(Lo),className:`px-2 py-1 ${Lo===nt?"bg-blue-200":"bg-gray-100"} text-sm rounded`,children:Lo},Lo));return jsxRuntimeExports$1.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports$1.jsx("button",{onClick:()=>mr(1),disabled:nt===1,className:"px-2 py-1 bg-gray-100 text-sm rounded",children:"First"}),Io,jsxRuntimeExports$1.jsx("button",{onClick:()=>mr(dr),disabled:nt===dr,className:"px-2 py-1 bg-gray-100 text-sm rounded",children:"Last"})]})};return jsxRuntimeExports$1.jsxs("div",{className:"flex w-full h-4/5 mx-auto py-2 px-0 text-sm",children:[jsxRuntimeExports$1.jsx("div",{className:"w-full sm:w-1/5 mr-2 bg-green-50",children:jsxRuntimeExports$1.jsx(FilterSidebar,{fullTypeCounts:bt,selectedNode:lt,onSelectNode:dr=>{dt(dr),it(1)}})}),jsxRuntimeExports$1.jsxs("div",{className:"w-full sm:w-4/5 ml-2 flex flex-col",children:[jsxRuntimeExports$1.jsx("div",{className:"overflow-x-auto h-[96%] flex-grow",children:et?jsxRuntimeExports$1.jsx("div",{className:"flex justify-center items-center h-[96%]",children:jsxRuntimeExports$1.jsx(ClipLoader,{size:50,color:"#007bff"})}):jsxRuntimeExports$1.jsx(NodeTable,{data:j,loading:et,sorting:pr,onSort:_r})}),jsxRuntimeExports$1.jsxs("div",{className:"flex justify-between items-center mt-4",children:[jsxRuntimeExports$1.jsx("button",{onClick:()=>mr(nt-1),disabled:nt===1,className:"px-3 py-1 bg-green-100 text-green-800 rounded disabled:bg-gray-100 disabled:text-gray-400 text-xs",children:"Previous"}),mn(),jsxRuntimeExports$1.jsx("button",{onClick:()=>mr(nt+1),disabled:nt===Ct(),className:"px-3 py-1 bg-green-100 text-green-800 rounded disabled:bg-gray-100 disabled:text-gray-400 text-xs",children:"Next"})]})]})]})};var isArray$f=Array.isArray,isArray_1=isArray$f,freeGlobal$1=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$9=freeGlobal||freeSelf||Function("return this")(),_root=root$9,root$8=_root,Symbol$7=root$8.Symbol,_Symbol=Symbol$7,Symbol$6=_Symbol,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$6?Symbol$6.toStringTag:void 0;function getRawTag$1(o){var _=hasOwnProperty$a.call(o,symToStringTag$1),$=o[symToStringTag$1];try{o[symToStringTag$1]=void 0;var j=!0}catch{}var _e=nativeObjectToString$1.call(o);return j&&(_?o[symToStringTag$1]=$:delete o[symToStringTag$1]),_e}var _getRawTag=getRawTag$1,objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString$1(o){return nativeObjectToString.call(o)}var _objectToString=objectToString$1,Symbol$5=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$5?Symbol$5.toStringTag:void 0;function baseGetTag$9(o){return o==null?o===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(o)?getRawTag(o):objectToString(o)}var _baseGetTag=baseGetTag$9;function isObjectLike$9(o){return o!=null&&typeof o=="object"}var isObjectLike_1=isObjectLike$9,baseGetTag$8=_baseGetTag,isObjectLike$8=isObjectLike_1,symbolTag$1="[object Symbol]";function isSymbol$6(o){return typeof o=="symbol"||isObjectLike$8(o)&&baseGetTag$8(o)==symbolTag$1}var isSymbol_1=isSymbol$6,isArray$e=isArray_1,isSymbol$5=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(o,_){if(isArray$e(o))return!1;var $=typeof o;return $=="number"||$=="symbol"||$=="boolean"||o==null||isSymbol$5(o)?!0:reIsPlainProp.test(o)||!reIsDeepProp.test(o)||_!=null&&o in Object(_)}var _isKey=isKey$3;function isObject$7(o){var _=typeof o;return o!=null&&(_=="object"||_=="function")}var isObject_1=isObject$7;const isObject$8=getDefaultExportFromCjs(isObject_1);var baseGetTag$7=_baseGetTag,isObject$6=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(o){if(!isObject$6(o))return!1;var _=baseGetTag$7(o);return _==funcTag$1||_==genTag||_==asyncTag||_==proxyTag}var isFunction_1=isFunction$2;const isFunction$3=getDefaultExportFromCjs(isFunction_1);var root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var o=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();function isMasked$1(o){return!!maskSrcKey&&maskSrcKey in o}var _isMasked=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$2(o){if(o!=null){try{return funcToString$2.call(o)}catch{}try{return o+""}catch{}}return""}var _toSource=toSource$2,isFunction$1=isFunction_1,isMasked=_isMasked,isObject$5=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$a=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(o){if(!isObject$5(o)||isMasked(o))return!1;var _=isFunction$1(o)?reIsNative:reIsHostCtor;return _.test(toSource$1(o))}var _baseIsNative=baseIsNative$1;function getValue$1(o,_){return o==null?void 0:o[_]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(o,_){var $=getValue(o,_);return baseIsNative($)?$:void 0}var _getNative=getNative$7,getNative$6=_getNative,nativeCreate$4=getNative$6(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(o){var _=this.has(o)&&delete this.__data__[o];return this.size-=_?1:0,_}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function hashGet$1(o){var _=this.__data__;if(nativeCreate$2){var $=_[o];return $===HASH_UNDEFINED$2?void 0:$}return hasOwnProperty$8.call(_,o)?_[o]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashHas$1(o){var _=this.__data__;return nativeCreate$1?_[o]!==void 0:hasOwnProperty$7.call(_,o)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(o,_){var $=this.__data__;return this.size+=this.has(o)?0:1,$[o]=nativeCreate&&_===void 0?HASH_UNDEFINED$1:_,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(o){var _=-1,$=o==null?0:o.length;for(this.clear();++_<$;){var j=o[_];this.set(j[0],j[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$3(o,_){return o===_||o!==o&&_!==_}var eq_1=eq$3,eq$2=eq_1;function assocIndexOf$4(o,_){for(var $=o.length;$--;)if(eq$2(o[$][0],_))return $;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(o){var _=this.__data__,$=assocIndexOf$3(_,o);if($<0)return!1;var j=_.length-1;return $==j?_.pop():splice.call(_,$,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(o){var _=this.__data__,$=assocIndexOf$2(_,o);return $<0?void 0:_[$][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(o){return assocIndexOf$1(this.__data__,o)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(o,_){var $=this.__data__,j=assocIndexOf($,o);return j<0?(++this.size,$.push([o,_])):$[j][1]=_,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(o){var _=-1,$=o==null?0:o.length;for(this.clear();++_<$;){var j=o[_];this.set(j[0],j[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,getNative$5=_getNative,root$6=_root,Map$4=getNative$5(root$6,"Map"),_Map=Map$4,Hash=_Hash,ListCache$3=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$3),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(o){var _=typeof o;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?o!=="__proto__":o===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(o,_){var $=o.__data__;return isKeyable(_)?$[typeof _=="string"?"string":"hash"]:$.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(o){var _=getMapData$3(this,o).delete(o);return this.size-=_?1:0,_}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(o){return getMapData$2(this,o).get(o)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(o){return getMapData$1(this,o).has(o)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(o,_){var $=getMapData(this,o),j=$.size;return $.set(o,_),this.size+=$.size==j?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(o){var _=-1,$=o==null?0:o.length;for(this.clear();++_<$;){var j=o[_];this.set(j[0],j[1])}}MapCache$3.prototype.clear=mapCacheClear;MapCache$3.prototype.delete=mapCacheDelete;MapCache$3.prototype.get=mapCacheGet;MapCache$3.prototype.has=mapCacheHas;MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,MapCache$2=_MapCache,FUNC_ERROR_TEXT$2="Expected a function";function memoize$2(o,_){if(typeof o!="function"||_!=null&&typeof _!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var $=function(){var j=arguments,_e=_?_.apply(this,j):j[0],et=$.cache;if(et.has(_e))return et.get(_e);var tt=o.apply(this,j);return $.cache=et.set(_e,tt)||et,tt};return $.cache=new(memoize$2.Cache||MapCache$2),$}memoize$2.Cache=MapCache$2;var memoize_1=memoize$2;const memoize$3=getDefaultExportFromCjs(memoize_1);var memoize$1=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(o){var _=memoize$1(o,function(j){return $.size===MAX_MEMOIZE_SIZE&&$.clear(),j}),$=_.cache;return _}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(o){var _=[];return o.charCodeAt(0)===46&&_.push(""),o.replace(rePropName,function($,j,_e,et){_.push(_e?et.replace(reEscapeChar,"$1"):j||$)}),_}),_stringToPath=stringToPath$1;function arrayMap$3(o,_){for(var $=-1,j=o==null?0:o.length,_e=Array(j);++$<j;)_e[$]=_(o[$],$,o);return _e}var _arrayMap=arrayMap$3,Symbol$4=_Symbol,arrayMap$2=_arrayMap,isArray$d=isArray_1,isSymbol$4=isSymbol_1,INFINITY$3=1/0,symbolProto$1=Symbol$4?Symbol$4.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(o){if(typeof o=="string")return o;if(isArray$d(o))return arrayMap$2(o,baseToString$1)+"";if(isSymbol$4(o))return symbolToString?symbolToString.call(o):"";var _=o+"";return _=="0"&&1/o==-INFINITY$3?"-0":_}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$3(o){return o==null?"":baseToString(o)}var toString_1=toString$3,isArray$c=isArray_1,isKey$2=_isKey,stringToPath=_stringToPath,toString$2=toString_1;function castPath$2(o,_){return isArray$c(o)?o:isKey$2(o,_)?[o]:stringToPath(toString$2(o))}var _castPath=castPath$2,isSymbol$3=isSymbol_1,INFINITY$2=1/0;function toKey$4(o){if(typeof o=="string"||isSymbol$3(o))return o;var _=o+"";return _=="0"&&1/o==-INFINITY$2?"-0":_}var _toKey=toKey$4,castPath$1=_castPath,toKey$3=_toKey;function baseGet$3(o,_){_=castPath$1(_,o);for(var $=0,j=_.length;o!=null&&$<j;)o=o[toKey$3(_[$++])];return $&&$==j?o:void 0}var _baseGet=baseGet$3,baseGet$2=_baseGet;function get$1(o,_,$){var j=o==null?void 0:baseGet$2(o,_);return j===void 0?$:j}var get_1=get$1;const get$2=getDefaultExportFromCjs(get_1);function isNil(o){return o==null}var isNil_1=isNil;const isNil$1=getDefaultExportFromCjs(isNil_1);var baseGetTag$6=_baseGetTag,isArray$b=isArray_1,isObjectLike$7=isObjectLike_1,stringTag$2="[object String]";function isString(o){return typeof o=="string"||!isArray$b(o)&&isObjectLike$7(o)&&baseGetTag$6(o)==stringTag$2}var isString_1=isString;const isString$1=getDefaultExportFromCjs(isString_1);var reactIs={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c$1=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k$1=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x$1=b?Symbol.for("react.responder"):60118,y$1=b?Symbol.for("react.scope"):60119;function z(o){if(typeof o=="object"&&o!==null){var _=o.$$typeof;switch(_){case c$1:switch(o=o.type,o){case l:case m:case e:case g:case f:case p:return o;default:switch(o=o&&o.$$typeof,o){case k$1:case n:case t:case r:case h:return o;default:return _}}case d:return _}}}function A(o){return z(o)===m}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m;reactIs_production_min.ContextConsumer=k$1;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c$1;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(o){return A(o)||z(o)===l};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(o){return z(o)===k$1};reactIs_production_min.isContextProvider=function(o){return z(o)===h};reactIs_production_min.isElement=function(o){return typeof o=="object"&&o!==null&&o.$$typeof===c$1};reactIs_production_min.isForwardRef=function(o){return z(o)===n};reactIs_production_min.isFragment=function(o){return z(o)===e};reactIs_production_min.isLazy=function(o){return z(o)===t};reactIs_production_min.isMemo=function(o){return z(o)===r};reactIs_production_min.isPortal=function(o){return z(o)===d};reactIs_production_min.isProfiler=function(o){return z(o)===g};reactIs_production_min.isStrictMode=function(o){return z(o)===f};reactIs_production_min.isSuspense=function(o){return z(o)===p};reactIs_production_min.isValidElementType=function(o){return typeof o=="string"||typeof o=="function"||o===e||o===m||o===g||o===f||o===p||o===q||typeof o=="object"&&o!==null&&(o.$$typeof===t||o.$$typeof===r||o.$$typeof===h||o.$$typeof===k$1||o.$$typeof===n||o.$$typeof===w||o.$$typeof===x$1||o.$$typeof===y$1||o.$$typeof===v)};reactIs_production_min.typeOf=z;reactIs.exports=reactIs_production_min;var reactIsExports=reactIs.exports,baseGetTag$5=_baseGetTag,isObjectLike$6=isObjectLike_1,numberTag$2="[object Number]";function isNumber$2(o){return typeof o=="number"||isObjectLike$6(o)&&baseGetTag$5(o)==numberTag$2}var isNumber_1=isNumber$2;const isNumber$3=getDefaultExportFromCjs(isNumber_1);var isNumber$1=isNumber_1;function isNaN$1(o){return isNumber$1(o)&&o!=+o}var _isNaN=isNaN$1;const isNan=getDefaultExportFromCjs(_isNaN);var mathSign=function o(_){return _===0?0:_>0?1:-1},isPercent=function o(_){return isString$1(_)&&_.indexOf("%")===_.length-1},isNumber=function o(_){return isNumber$3(_)&&!isNan(_)},isNumOrStr=function o(_){return isNumber(_)||isString$1(_)},idCounter=0,uniqueId=function o(_){var $=++idCounter;return"".concat(_||"").concat($)},getPercentValue=function o(_,$){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,_e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(_)&&!isString$1(_))return j;var et;if(isPercent(_)){var tt=_.indexOf("%");et=$*parseFloat(_.slice(0,tt))/100}else et=+_;return isNan(et)&&(et=j),_e&&et>$&&(et=$),et},getAnyElementOfObject=function o(_){if(!_)return null;var $=Object.keys(_);return $&&$.length?_[$[0]]:null},hasDuplicate=function o(_){if(!Array.isArray(_))return!1;for(var $=_.length,j={},_e=0;_e<$;_e++)if(!j[_[_e]])j[_[_e]]=!0;else return!0;return!1},interpolateNumber$1=function o(_,$){return isNumber(_)&&isNumber($)?function(j){return _+j*($-_)}:function(){return $}};function findEntryInArray(o,_,$){return!o||!o.length?null:o.find(function(j){return j&&(typeof _=="function"?_(j):get$2(j,_))===$})}function shallowEqual(o,_){for(var $ in o)if({}.hasOwnProperty.call(o,$)&&(!{}.hasOwnProperty.call(_,$)||o[$]!==_[$]))return!1;for(var j in _)if({}.hasOwnProperty.call(_,j)&&!{}.hasOwnProperty.call(o,j))return!1;return!0}function _typeof$H(o){"@babel/helpers - typeof";return _typeof$H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$H(o)}var SVGContainerPropKeys=["viewBox","children"],SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=function o(_,$){if(!_||typeof _=="function"||typeof _=="boolean")return null;var j=_;if(reactExports.isValidElement(_)&&(j=_.props),!isObject$8(j))return null;var _e={};return Object.keys(j).forEach(function(et){EventKeys.includes(et)&&(_e[et]=$||function(tt){return j[et](j,tt)})}),_e},getEventHandlerOfChild=function o(_,$,j){return function(_e){return _($,j,_e),null}},adaptEventsOfChild=function o(_,$,j){if(!isObject$8(_)||_typeof$H(_)!=="object")return null;var _e=null;return Object.keys(_).forEach(function(et){var tt=_[et];EventKeys.includes(et)&&typeof tt=="function"&&(_e||(_e={}),_e[et]=getEventHandlerOfChild(tt,$,j))}),_e},_excluded$i=["children"],_excluded2$6=["children"];function _objectWithoutProperties$i(o,_){if(o==null)return{};var $=_objectWithoutPropertiesLoose$j(o,_),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for(_e=0;_e<et.length;_e++)j=et[_e],!(_.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(o,j)&&($[j]=o[j])}return $}function _objectWithoutPropertiesLoose$j(o,_){if(o==null)return{};var $={},j=Object.keys(o),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(_.indexOf(_e)>=0)&&($[_e]=o[_e]);return $}var REACT_BROWSER_EVENT_MAP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},getDisplayName=function o(_){return typeof _=="string"?_:_?_.displayName||_.name||"Component":""},lastChildren=null,lastResult=null,toArray=function o(_){if(_===lastChildren&&Array.isArray(lastResult))return lastResult;var $=[];return reactExports.Children.forEach(_,function(j){isNil$1(j)||(reactIsExports.isFragment(j)?$=$.concat(o(j.props.children)):$.push(j))}),lastResult=$,lastChildren=_,$};function findAllByType(o,_){var $=[],j=[];return Array.isArray(_)?j=_.map(function(_e){return getDisplayName(_e)}):j=[getDisplayName(_)],toArray(o).forEach(function(_e){var et=get$2(_e,"type.displayName")||get$2(_e,"type.name");j.indexOf(et)!==-1&&$.push(_e)}),$}function findChildByType(o,_){var $=findAllByType(o,_);return $&&$[0]}var validateWidthHeight=function o(_){if(!_||!_.props)return!1;var $=_.props,j=$.width,_e=$.height;return!(!isNumber(j)||j<=0||!isNumber(_e)||_e<=0)},SVG_TAGS=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],isSvgElement=function o(_){return _&&_.type&&isString$1(_.type)&&SVG_TAGS.indexOf(_.type)>=0},isValidSpreadableProp=function o(_,$,j,_e){var et,tt=(et=FilteredElementKeyMap==null?void 0:FilteredElementKeyMap[_e])!==null&&et!==void 0?et:[];return!isFunction$3(_)&&(_e&&tt.includes($)||SVGElementPropKeys.includes($))||j&&EventKeys.includes($)},filterProps=function o(_,$,j){if(!_||typeof _=="function"||typeof _=="boolean")return null;var _e=_;if(reactExports.isValidElement(_)&&(_e=_.props),!isObject$8(_e))return null;var et={};return Object.keys(_e).forEach(function(tt){var nt;isValidSpreadableProp((nt=_e)===null||nt===void 0?void 0:nt[tt],tt,$,j)&&(et[tt]=_e[tt])}),et},isChildrenEqual=function o(_,$){if(_===$)return!0;var j=reactExports.Children.count(_);if(j!==reactExports.Children.count($))return!1;if(j===0)return!0;if(j===1)return isSingleChildEqual(Array.isArray(_)?_[0]:_,Array.isArray($)?$[0]:$);for(var _e=0;_e<j;_e++){var et=_[_e],tt=$[_e];if(Array.isArray(et)||Array.isArray(tt)){if(!o(et,tt))return!1}else if(!isSingleChildEqual(et,tt))return!1}return!0},isSingleChildEqual=function o(_,$){if(isNil$1(_)&&isNil$1($))return!0;if(!isNil$1(_)&&!isNil$1($)){var j=_.props||{},_e=j.children,et=_objectWithoutProperties$i(j,_excluded$i),tt=$.props||{},nt=tt.children,it=_objectWithoutProperties$i(tt,_excluded2$6);return _e&&nt?shallowEqual(et,it)&&isChildrenEqual(_e,nt):!_e&&!nt?shallowEqual(et,it):!1}return!1},renderByOrder=function o(_,$){var j=[],_e={};return toArray(_).forEach(function(et,tt){if(isSvgElement(et))j.push(et);else if(et){var nt=getDisplayName(et.type),it=$[nt]||{},lt=it.handler,dt=it.once;if(lt&&(!dt||!_e[nt])){var bt=lt(et,nt,tt);j.push(bt),_e[nt]=!0}}}),j},getReactEventByType=function o(_){var $=_&&_.type;return $&&REACT_BROWSER_EVENT_MAP[$]?REACT_BROWSER_EVENT_MAP[$]:null},parseChildIndex=function o(_,$){return toArray($).indexOf(_)},_excluded$h=["children","width","height","viewBox","className","style","title","desc"];function _extends$v(){return _extends$v=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$v.apply(this,arguments)}function _objectWithoutProperties$h(o,_){if(o==null)return{};var $=_objectWithoutPropertiesLoose$i(o,_),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for(_e=0;_e<et.length;_e++)j=et[_e],!(_.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(o,j)&&($[j]=o[j])}return $}function _objectWithoutPropertiesLoose$i(o,_){if(o==null)return{};var $={},j=Object.keys(o),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(_.indexOf(_e)>=0)&&($[_e]=o[_e]);return $}function Surface(o){var _=o.children,$=o.width,j=o.height,_e=o.viewBox,et=o.className,tt=o.style,nt=o.title,it=o.desc,lt=_objectWithoutProperties$h(o,_excluded$h),dt=_e||{width:$,height:j,x:0,y:0},bt=clsx$1("recharts-surface",et);return React.createElement("svg",_extends$v({},filterProps(lt,!0,"svg"),{className:bt,width:$,height:j,style:tt,viewBox:"".concat(dt.x," ").concat(dt.y," ").concat(dt.width," ").concat(dt.height)}),React.createElement("title",null,nt),React.createElement("desc",null,it),_)}var _excluded$g=["children","className"];function _extends$u(){return _extends$u=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$u.apply(this,arguments)}function _objectWithoutProperties$g(o,_){if(o==null)return{};var $=_objectWithoutPropertiesLoose$h(o,_),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for(_e=0;_e<et.length;_e++)j=et[_e],!(_.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(o,j)&&($[j]=o[j])}return $}function _objectWithoutPropertiesLoose$h(o,_){if(o==null)return{};var $={},j=Object.keys(o),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(_.indexOf(_e)>=0)&&($[_e]=o[_e]);return $}var Layer=React.forwardRef(function(o,_){var $=o.children,j=o.className,_e=_objectWithoutProperties$g(o,_excluded$g),et=clsx$1("recharts-layer",j);return React.createElement("g",_extends$u({className:et},filterProps(_e,!0),{ref:_}),$)}),warn=function o(_,$){for(var j=arguments.length,_e=new Array(j>2?j-2:0),et=2;et<j;et++)_e[et-2]=arguments[et]};function baseSlice$1(o,_,$){var j=-1,_e=o.length;_<0&&(_=-_>_e?0:_e+_),$=$>_e?_e:$,$<0&&($+=_e),_e=_>$?0:$-_>>>0,_>>>=0;for(var et=Array(_e);++j<_e;)et[j]=o[j+_];return et}var _baseSlice=baseSlice$1,baseSlice=_baseSlice;function castSlice$1(o,_,$){var j=o.length;return $=$===void 0?j:$,!_&&$>=j?o:baseSlice(o,_,$)}var _castSlice=castSlice$1,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode$2(o){return reHasUnicode.test(o)}var _hasUnicode=hasUnicode$2;function asciiToArray$1(o){return o.split("")}var _asciiToArray=asciiToArray$1,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray$1(o){return o.match(reUnicode)||[]}var _unicodeToArray=unicodeToArray$1,asciiToArray=_asciiToArray,hasUnicode$1=_hasUnicode,unicodeToArray=_unicodeToArray;function stringToArray$1(o){return hasUnicode$1(o)?unicodeToArray(o):asciiToArray(o)}var _stringToArray=stringToArray$1,castSlice=_castSlice,hasUnicode=_hasUnicode,stringToArray=_stringToArray,toString$1=toString_1;function createCaseFirst$1(o){return function(_){_=toString$1(_);var $=hasUnicode(_)?stringToArray(_):void 0,j=$?$[0]:_.charAt(0),_e=$?castSlice($,1).join(""):_.slice(1);return j[o]()+_e}}var _createCaseFirst=createCaseFirst$1,createCaseFirst=_createCaseFirst,upperFirst=createCaseFirst("toUpperCase"),upperFirst_1=upperFirst;const upperFirst$1=getDefaultExportFromCjs(upperFirst_1);function constant$2(o){return function(){return o}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(o){this._+=o[0];for(let _=1,$=o.length;_<$;++_)this._+=arguments[_]+o[_]}function appendRound(o){let _=Math.floor(o);if(!(_>=0))throw new Error(`invalid digits: ${o}`);if(_>15)return append;const $=10**_;return function(j){this._+=j[0];for(let _e=1,et=j.length;_e<et;++_e)this._+=Math.round(arguments[_e]*$)/$+j[_e]}}class Path{constructor(_){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=_==null?append:appendRound(_)}moveTo(_,$){this._append`M${this._x0=this._x1=+_},${this._y0=this._y1=+$}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(_,$){this._append`L${this._x1=+_},${this._y1=+$}`}quadraticCurveTo(_,$,j,_e){this._append`Q${+_},${+$},${this._x1=+j},${this._y1=+_e}`}bezierCurveTo(_,$,j,_e,et,tt){this._append`C${+_},${+$},${+j},${+_e},${this._x1=+et},${this._y1=+tt}`}arcTo(_,$,j,_e,et){if(_=+_,$=+$,j=+j,_e=+_e,et=+et,et<0)throw new Error(`negative radius: ${et}`);let tt=this._x1,nt=this._y1,it=j-_,lt=_e-$,dt=tt-_,bt=nt-$,Ht=dt*dt+bt*bt;if(this._x1===null)this._append`M${this._x1=_},${this._y1=$}`;else if(Ht>epsilon)if(!(Math.abs(bt*it-lt*dt)>epsilon)||!et)this._append`L${this._x1=_},${this._y1=$}`;else{let pr=j-tt,_n=_e-nt,ft=it*it+lt*lt,Ct=pr*pr+_n*_n,mr=Math.sqrt(ft),_r=Math.sqrt(Ht),mn=et*Math.tan((pi-Math.acos((ft+Ht-Ct)/(2*mr*_r)))/2),dr=mn/_r,pn=mn/mr;Math.abs(dr-1)>epsilon&&this._append`L${_+dr*dt},${$+dr*bt}`,this._append`A${et},${et},0,0,${+(bt*pr>dt*_n)},${this._x1=_+pn*it},${this._y1=$+pn*lt}`}}arc(_,$,j,_e,et,tt){if(_=+_,$=+$,j=+j,tt=!!tt,j<0)throw new Error(`negative radius: ${j}`);let nt=j*Math.cos(_e),it=j*Math.sin(_e),lt=_+nt,dt=$+it,bt=1^tt,Ht=tt?_e-et:et-_e;this._x1===null?this._append`M${lt},${dt}`:(Math.abs(this._x1-lt)>epsilon||Math.abs(this._y1-dt)>epsilon)&&this._append`L${lt},${dt}`,j&&(Ht<0&&(Ht=Ht%tau+tau),Ht>tauEpsilon?this._append`A${j},${j},0,1,${bt},${_-nt},${$-it}A${j},${j},0,1,${bt},${this._x1=lt},${this._y1=dt}`:Ht>epsilon&&this._append`A${j},${j},0,${+(Ht>=pi)},${bt},${this._x1=_+j*Math.cos(et)},${this._y1=$+j*Math.sin(et)}`)}rect(_,$,j,_e){this._append`M${this._x0=this._x1=+_},${this._y0=this._y1=+$}h${j=+j}v${+_e}h${-j}Z`}toString(){return this._}}function withPath(o){let _=3;return o.digits=function($){if(!arguments.length)return _;if($==null)_=null;else{const j=Math.floor($);if(!(j>=0))throw new RangeError(`invalid digits: ${$}`);_=j}return o},()=>new Path(_)}function array(o){return typeof o=="object"&&"length"in o?o:Array.from(o)}function Linear(o){this._context=o}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(o,_){switch(o=+o,_=+_,this._point){case 0:this._point=1,this._line?this._context.lineTo(o,_):this._context.moveTo(o,_);break;case 1:this._point=2;default:this._context.lineTo(o,_);break}}};function curveLinear(o){return new Linear(o)}function x(o){return o[0]}function y(o){return o[1]}function shapeLine(o,_){var $=constant$2(!0),j=null,_e=curveLinear,et=null,tt=withPath(nt);o=typeof o=="function"?o:o===void 0?x:constant$2(o),_=typeof _=="function"?_:_===void 0?y:constant$2(_);function nt(it){var lt,dt=(it=array(it)).length,bt,Ht=!1,pr;for(j==null&&(et=_e(pr=tt())),lt=0;lt<=dt;++lt)!(lt<dt&&$(bt=it[lt],lt,it))===Ht&&((Ht=!Ht)?et.lineStart():et.lineEnd()),Ht&&et.point(+o(bt,lt,it),+_(bt,lt,it));if(pr)return et=null,pr+""||null}return nt.x=function(it){return arguments.length?(o=typeof it=="function"?it:constant$2(+it),nt):o},nt.y=function(it){return arguments.length?(_=typeof it=="function"?it:constant$2(+it),nt):_},nt.defined=function(it){return arguments.length?($=typeof it=="function"?it:constant$2(!!it),nt):$},nt.curve=function(it){return arguments.length?(_e=it,j!=null&&(et=_e(j)),nt):_e},nt.context=function(it){return arguments.length?(it==null?j=et=null:et=_e(j=it),nt):j},nt}function shapeArea(o,_,$){var j=null,_e=constant$2(!0),et=null,tt=curveLinear,nt=null,it=withPath(lt);o=typeof o=="function"?o:o===void 0?x:constant$2(+o),_=typeof _=="function"?_:constant$2(_===void 0?0:+_),$=typeof $=="function"?$:$===void 0?y:constant$2(+$);function lt(bt){var Ht,pr,_n,ft=(bt=array(bt)).length,Ct,mr=!1,_r,mn=new Array(ft),dr=new Array(ft);for(et==null&&(nt=tt(_r=it())),Ht=0;Ht<=ft;++Ht){if(!(Ht<ft&&_e(Ct=bt[Ht],Ht,bt))===mr)if(mr=!mr)pr=Ht,nt.areaStart(),nt.lineStart();else{for(nt.lineEnd(),nt.lineStart(),_n=Ht-1;_n>=pr;--_n)nt.point(mn[_n],dr[_n]);nt.lineEnd(),nt.areaEnd()}mr&&(mn[Ht]=+o(Ct,Ht,bt),dr[Ht]=+_(Ct,Ht,bt),nt.point(j?+j(Ct,Ht,bt):mn[Ht],$?+$(Ct,Ht,bt):dr[Ht]))}if(_r)return nt=null,_r+""||null}function dt(){return shapeLine().defined(_e).curve(tt).context(et)}return lt.x=function(bt){return arguments.length?(o=typeof bt=="function"?bt:constant$2(+bt),j=null,lt):o},lt.x0=function(bt){return arguments.length?(o=typeof bt=="function"?bt:constant$2(+bt),lt):o},lt.x1=function(bt){return arguments.length?(j=bt==null?null:typeof bt=="function"?bt:constant$2(+bt),lt):j},lt.y=function(bt){return arguments.length?(_=typeof bt=="function"?bt:constant$2(+bt),$=null,lt):_},lt.y0=function(bt){return arguments.length?(_=typeof bt=="function"?bt:constant$2(+bt),lt):_},lt.y1=function(bt){return arguments.length?($=bt==null?null:typeof bt=="function"?bt:constant$2(+bt),lt):$},lt.lineX0=lt.lineY0=function(){return dt().x(o).y(_)},lt.lineY1=function(){return dt().x(o).y($)},lt.lineX1=function(){return dt().x(j).y(_)},lt.defined=function(bt){return arguments.length?(_e=typeof bt=="function"?bt:constant$2(!!bt),lt):_e},lt.curve=function(bt){return arguments.length?(tt=bt,et!=null&&(nt=tt(et)),lt):tt},lt.context=function(bt){return arguments.length?(bt==null?et=nt=null:nt=tt(et=bt),lt):et},lt}class Bump{constructor(_,$){this._context=_,this._x=$}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(_,$){switch(_=+_,$=+$,this._point){case 0:{this._point=1,this._line?this._context.lineTo(_,$):this._context.moveTo(_,$);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+_)/2,this._y0,this._x0,$,_,$):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+$)/2,_,this._y0,_,$);break}}this._x0=_,this._y0=$}}function bumpX(o){return new Bump(o,!0)}function bumpY(o){return new Bump(o,!1)}const symbolCircle={draw(o,_){const $=sqrt$1(_/pi$1);o.moveTo($,0),o.arc(0,0,$,0,tau$1)}},symbolCross={draw(o,_){const $=sqrt$1(_/5)/2;o.moveTo(-3*$,-$),o.lineTo(-$,-$),o.lineTo(-$,-3*$),o.lineTo($,-3*$),o.lineTo($,-$),o.lineTo(3*$,-$),o.lineTo(3*$,$),o.lineTo($,$),o.lineTo($,3*$),o.lineTo(-$,3*$),o.lineTo(-$,$),o.lineTo(-3*$,$),o.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(o,_){const $=sqrt$1(_/tan30_2),j=$*tan30;o.moveTo(0,-$),o.lineTo(j,0),o.lineTo(0,$),o.lineTo(-j,0),o.closePath()}},symbolSquare={draw(o,_){const $=sqrt$1(_),j=-$/2;o.rect(j,j,$,$)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(o,_){const $=sqrt$1(_*ka),j=kx*$,_e=ky*$;o.moveTo(0,-$),o.lineTo(j,_e);for(let et=1;et<5;++et){const tt=tau$1*et/5,nt=cos(tt),it=sin(tt);o.lineTo(it*$,-nt*$),o.lineTo(nt*j-it*_e,it*j+nt*_e)}o.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(o,_){const $=-sqrt$1(_/(sqrt3*3));o.moveTo(0,$*2),o.lineTo(-sqrt3*$,-$),o.lineTo(sqrt3*$,-$),o.closePath()}},c=-.5,s=sqrt$1(3)/2,k=1/sqrt$1(12),a=(k/2+1)*3,symbolWye={draw(o,_){const $=sqrt$1(_/a),j=$/2,_e=$*k,et=j,tt=$*k+$,nt=-et,it=tt;o.moveTo(j,_e),o.lineTo(et,tt),o.lineTo(nt,it),o.lineTo(c*j-s*_e,s*j+c*_e),o.lineTo(c*et-s*tt,s*et+c*tt),o.lineTo(c*nt-s*it,s*nt+c*it),o.lineTo(c*j+s*_e,c*_e-s*j),o.lineTo(c*et+s*tt,c*tt-s*et),o.lineTo(c*nt+s*it,c*it-s*nt),o.closePath()}};function Symbol$3(o,_){let $=null,j=withPath(_e);o=typeof o=="function"?o:constant$2(o||symbolCircle),_=typeof _=="function"?_:constant$2(_===void 0?64:+_);function _e(){let et;if($||($=et=j()),o.apply(this,arguments).draw($,+_.apply(this,arguments)),et)return $=null,et+""||null}return _e.type=function(et){return arguments.length?(o=typeof et=="function"?et:constant$2(et),_e):o},_e.size=function(et){return arguments.length?(_=typeof et=="function"?et:constant$2(+et),_e):_},_e.context=function(et){return arguments.length?($=et??null,_e):$},_e}function noop$2(){}function point$2(o,_,$){o._context.bezierCurveTo((2*o._x0+o._x1)/3,(2*o._y0+o._y1)/3,(o._x0+2*o._x1)/3,(o._y0+2*o._y1)/3,(o._x0+4*o._x1+_)/6,(o._y0+4*o._y1+$)/6)}function Basis(o){this._context=o}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(o,_){switch(o=+o,_=+_,this._point){case 0:this._point=1,this._line?this._context.lineTo(o,_):this._context.moveTo(o,_);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,o,_);break}this._x0=this._x1,this._x1=o,this._y0=this._y1,this._y1=_}};function curveBasis(o){return new Basis(o)}function BasisClosed(o){this._context=o}BasisClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(o,_){switch(o=+o,_=+_,this._point){case 0:this._point=1,this._x2=o,this._y2=_;break;case 1:this._point=2,this._x3=o,this._y3=_;break;case 2:this._point=3,this._x4=o,this._y4=_,this._context.moveTo((this._x0+4*this._x1+o)/6,(this._y0+4*this._y1+_)/6);break;default:point$2(this,o,_);break}this._x0=this._x1,this._x1=o,this._y0=this._y1,this._y1=_}};function curveBasisClosed(o){return new BasisClosed(o)}function BasisOpen(o){this._context=o}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(o,_){switch(o=+o,_=+_,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var $=(this._x0+4*this._x1+o)/6,j=(this._y0+4*this._y1+_)/6;this._line?this._context.lineTo($,j):this._context.moveTo($,j);break;case 3:this._point=4;default:point$2(this,o,_);break}this._x0=this._x1,this._x1=o,this._y0=this._y1,this._y1=_}};function curveBasisOpen(o){return new BasisOpen(o)}function LinearClosed(o){this._context=o}LinearClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(o,_){o=+o,_=+_,this._point?this._context.lineTo(o,_):(this._point=1,this._context.moveTo(o,_))}};function curveLinearClosed(o){return new LinearClosed(o)}function sign(o){return o<0?-1:1}function slope3(o,_,$){var j=o._x1-o._x0,_e=_-o._x1,et=(o._y1-o._y0)/(j||_e<0&&-0),tt=($-o._y1)/(_e||j<0&&-0),nt=(et*_e+tt*j)/(j+_e);return(sign(et)+sign(tt))*Math.min(Math.abs(et),Math.abs(tt),.5*Math.abs(nt))||0}function slope2(o,_){var $=o._x1-o._x0;return $?(3*(o._y1-o._y0)/$-_)/2:_}function point$1(o,_,$){var j=o._x0,_e=o._y0,et=o._x1,tt=o._y1,nt=(et-j)/3;o._context.bezierCurveTo(j+nt,_e+nt*_,et-nt,tt-nt*$,et,tt)}function MonotoneX(o){this._context=o}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(o,_){var $=NaN;if(o=+o,_=+_,!(o===this._x1&&_===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(o,_):this._context.moveTo(o,_);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,$=slope3(this,o,_)),$);break;default:point$1(this,this._t0,$=slope3(this,o,_));break}this._x0=this._x1,this._x1=o,this._y0=this._y1,this._y1=_,this._t0=$}}};function MonotoneY(o){this._context=new ReflectContext(o)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(o,_){MonotoneX.prototype.point.call(this,_,o)};function ReflectContext(o){this._context=o}ReflectContext.prototype={moveTo:function(o,_){this._context.moveTo(_,o)},closePath:function(){this._context.closePath()},lineTo:function(o,_){this._context.lineTo(_,o)},bezierCurveTo:function(o,_,$,j,_e,et){this._context.bezierCurveTo(_,o,j,$,et,_e)}};function monotoneX(o){return new MonotoneX(o)}function monotoneY(o){return new MonotoneY(o)}function Natural(o){this._context=o}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var o=this._x,_=this._y,$=o.length;if($)if(this._line?this._context.lineTo(o[0],_[0]):this._context.moveTo(o[0],_[0]),$===2)this._context.lineTo(o[1],_[1]);else for(var j=controlPoints(o),_e=controlPoints(_),et=0,tt=1;tt<$;++et,++tt)this._context.bezierCurveTo(j[0][et],_e[0][et],j[1][et],_e[1][et],o[tt],_[tt]);(this._line||this._line!==0&&$===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(o,_){this._x.push(+o),this._y.push(+_)}};function controlPoints(o){var _,$=o.length-1,j,_e=new Array($),et=new Array($),tt=new Array($);for(_e[0]=0,et[0]=2,tt[0]=o[0]+2*o[1],_=1;_<$-1;++_)_e[_]=1,et[_]=4,tt[_]=4*o[_]+2*o[_+1];for(_e[$-1]=2,et[$-1]=7,tt[$-1]=8*o[$-1]+o[$],_=1;_<$;++_)j=_e[_]/et[_-1],et[_]-=j,tt[_]-=j*tt[_-1];for(_e[$-1]=tt[$-1]/et[$-1],_=$-2;_>=0;--_)_e[_]=(tt[_]-_e[_+1])/et[_];for(et[$-1]=(o[$]+_e[$-1])/2,_=0;_<$-1;++_)et[_]=2*o[_+1]-_e[_+1];return[_e,et]}function curveNatural(o){return new Natural(o)}function Step(o,_){this._context=o,this._t=_}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(o,_){switch(o=+o,_=+_,this._point){case 0:this._point=1,this._line?this._context.lineTo(o,_):this._context.moveTo(o,_);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,_),this._context.lineTo(o,_);else{var $=this._x*(1-this._t)+o*this._t;this._context.lineTo($,this._y),this._context.lineTo($,_)}break}}this._x=o,this._y=_}};function curveStep(o){return new Step(o,.5)}function stepBefore(o){return new Step(o,0)}function stepAfter(o){return new Step(o,1)}function stackOffsetNone(o,_){if((tt=o.length)>1)for(var $=1,j,_e,et=o[_[0]],tt,nt=et.length;$<tt;++$)for(_e=et,et=o[_[$]],j=0;j<nt;++j)et[j][1]+=et[j][0]=isNaN(_e[j][1])?_e[j][0]:_e[j][1]}function stackOrderNone(o){for(var _=o.length,$=new Array(_);--_>=0;)$[_]=_;return $}function stackValue(o,_){return o[_]}function stackSeries(o){const _=[];return _.key=o,_}function shapeStack(){var o=constant$2([]),_=stackOrderNone,$=stackOffsetNone,j=stackValue;function _e(et){var tt=Array.from(o.apply(this,arguments),stackSeries),nt,it=tt.length,lt=-1,dt;for(const bt of et)for(nt=0,++lt;nt<it;++nt)(tt[nt][lt]=[0,+j(bt,tt[nt].key,lt,et)]).data=bt;for(nt=0,dt=array(_(tt));nt<it;++nt)tt[dt[nt]].index=nt;return $(tt,dt),tt}return _e.keys=function(et){return arguments.length?(o=typeof et=="function"?et:constant$2(Array.from(et)),_e):o},_e.value=function(et){return arguments.length?(j=typeof et=="function"?et:constant$2(+et),_e):j},_e.order=function(et){return arguments.length?(_=et==null?stackOrderNone:typeof et=="function"?et:constant$2(Array.from(et)),_e):_},_e.offset=function(et){return arguments.length?($=et??stackOffsetNone,_e):$},_e}function stackOffsetExpand(o,_){if((j=o.length)>0){for(var $,j,_e=0,et=o[0].length,tt;_e<et;++_e){for(tt=$=0;$<j;++$)tt+=o[$][_e][1]||0;if(tt)for($=0;$<j;++$)o[$][_e][1]/=tt}stackOffsetNone(o,_)}}function stackOffsetSilhouette(o,_){if((_e=o.length)>0){for(var $=0,j=o[_[0]],_e,et=j.length;$<et;++$){for(var tt=0,nt=0;tt<_e;++tt)nt+=o[tt][$][1]||0;j[$][1]+=j[$][0]=-nt/2}stackOffsetNone(o,_)}}function stackOffsetWiggle(o,_){if(!(!((tt=o.length)>0)||!((et=(_e=o[_[0]]).length)>0))){for(var $=0,j=1,_e,et,tt;j<et;++j){for(var nt=0,it=0,lt=0;nt<tt;++nt){for(var dt=o[_[nt]],bt=dt[j][1]||0,Ht=dt[j-1][1]||0,pr=(bt-Ht)/2,_n=0;_n<nt;++_n){var ft=o[_[_n]],Ct=ft[j][1]||0,mr=ft[j-1][1]||0;pr+=Ct-mr}it+=bt,lt+=pr*bt}_e[j-1][1]+=_e[j-1][0]=$,it&&($-=lt/it)}_e[j-1][1]+=_e[j-1][0]=$,stackOffsetNone(o,_)}}function _typeof$G(o){"@babel/helpers - typeof";return _typeof$G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$G(o)}var _excluded$f=["type","size","sizeType"];function _extends$t(){return _extends$t=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$t.apply(this,arguments)}function ownKeys$C(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$B(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$C(Object($),!0).forEach(function(j){_defineProperty$F(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$C(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$F(o,_,$){return _=_toPropertyKey$F(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$F(o){var _=_toPrimitive$F(o,"string");return _typeof$G(_)=="symbol"?_:String(_)}function _toPrimitive$F(o,_){if(_typeof$G(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$G(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}function _objectWithoutProperties$f(o,_){if(o==null)return{};var $=_objectWithoutPropertiesLoose$g(o,_),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for(_e=0;_e<et.length;_e++)j=et[_e],!(_.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(o,j)&&($[j]=o[j])}return $}function _objectWithoutPropertiesLoose$g(o,_){if(o==null)return{};var $={},j=Object.keys(o),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(_.indexOf(_e)>=0)&&($[_e]=o[_e]);return $}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$2=Math.PI/180,getSymbolFactory=function o(_){var $="symbol".concat(upperFirst$1(_));return symbolFactories[$]||symbolCircle},calculateAreaSize=function o(_,$,j){if($==="area")return _;switch(j){case"cross":return 5*_*_/9;case"diamond":return .5*_*_/Math.sqrt(3);case"square":return _*_;case"star":{var _e=18*RADIAN$2;return 1.25*_*_*(Math.tan(_e)-Math.tan(_e*2)*Math.pow(Math.tan(_e),2))}case"triangle":return Math.sqrt(3)*_*_/4;case"wye":return(21-10*Math.sqrt(3))*_*_/8;default:return Math.PI*_*_/4}},registerSymbol=function o(_,$){symbolFactories["symbol".concat(upperFirst$1(_))]=$},Symbols=function o(_){var $=_.type,j=$===void 0?"circle":$,_e=_.size,et=_e===void 0?64:_e,tt=_.sizeType,nt=tt===void 0?"area":tt,it=_objectWithoutProperties$f(_,_excluded$f),lt=_objectSpread$B(_objectSpread$B({},it),{},{type:j,size:et,sizeType:nt}),dt=function(){var Ct=getSymbolFactory(j),mr=Symbol$3().type(Ct).size(calculateAreaSize(et,nt,j));return mr()},bt=lt.className,Ht=lt.cx,pr=lt.cy,_n=filterProps(lt,!0);return Ht===+Ht&&pr===+pr&&et===+et?React.createElement("path",_extends$t({},_n,{className:clsx$1("recharts-symbols",bt),transform:"translate(".concat(Ht,", ").concat(pr,")"),d:dt()})):null};Symbols.registerSymbol=registerSymbol;function _typeof$F(o){"@babel/helpers - typeof";return _typeof$F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$F(o)}function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$s.apply(this,arguments)}function ownKeys$B(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$A(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$B(Object($),!0).forEach(function(j){_defineProperty$E(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$B(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _classCallCheck$f(o,_){if(!(o instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$f(o,_){for(var $=0;$<_.length;$++){var j=_[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(o,_toPropertyKey$E(j.key),j)}}function _createClass$f(o,_,$){return _&&_defineProperties$f(o.prototype,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$b(o,_,$){return _=_getPrototypeOf$c(_),_possibleConstructorReturn$c(o,_isNativeReflectConstruct$c()?Reflect.construct(_,$||[],_getPrototypeOf$c(o).constructor):_.apply(o,$))}function _possibleConstructorReturn$c(o,_){if(_&&(_typeof$F(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$d(o)}function _assertThisInitialized$d(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$c(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$c=function(){return!!o})()}function _getPrototypeOf$c(o){return _getPrototypeOf$c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$c(o)}function _inherits$c(o,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(_&&_.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),_&&_setPrototypeOf$d(o,_)}function _setPrototypeOf$d(o,_){return _setPrototypeOf$d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$d(o,_)}function _defineProperty$E(o,_,$){return _=_toPropertyKey$E(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$E(o){var _=_toPrimitive$E(o,"string");return _typeof$F(_)=="symbol"?_:String(_)}function _toPrimitive$E(o,_){if(_typeof$F(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$F(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}var SIZE=32,DefaultLegendContent=function(o){_inherits$c(_,o);function _(){return _classCallCheck$f(this,_),_callSuper$b(this,_,arguments)}return _createClass$f(_,[{key:"renderIcon",value:function(j){var _e=this.props.inactiveColor,et=SIZE/2,tt=SIZE/6,nt=SIZE/3,it=j.inactive?_e:j.color;if(j.type==="plainline")return React.createElement("line",{strokeWidth:4,fill:"none",stroke:it,strokeDasharray:j.payload.strokeDasharray,x1:0,y1:et,x2:SIZE,y2:et,className:"recharts-legend-icon"});if(j.type==="line")return React.createElement("path",{strokeWidth:4,fill:"none",stroke:it,d:"M0,".concat(et,"h").concat(nt,`
            A`).concat(tt,",").concat(tt,",0,1,1,").concat(2*nt,",").concat(et,`
            H`).concat(SIZE,"M").concat(2*nt,",").concat(et,`
            A`).concat(tt,",").concat(tt,",0,1,1,").concat(nt,",").concat(et),className:"recharts-legend-icon"});if(j.type==="rect")return React.createElement("path",{stroke:"none",fill:it,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(React.isValidElement(j.legendIcon)){var lt=_objectSpread$A({},j);return delete lt.legendIcon,React.cloneElement(j.legendIcon,lt)}return React.createElement(Symbols,{fill:it,cx:et,cy:et,size:SIZE,sizeType:"diameter",type:j.type})}},{key:"renderItems",value:function(){var j=this,_e=this.props,et=_e.payload,tt=_e.iconSize,nt=_e.layout,it=_e.formatter,lt=_e.inactiveColor,dt={x:0,y:0,width:SIZE,height:SIZE},bt={display:nt==="horizontal"?"inline-block":"block",marginRight:10},Ht={display:"inline-block",verticalAlign:"middle",marginRight:4};return et.map(function(pr,_n){var ft=pr.formatter||it,Ct=clsx$1(_defineProperty$E(_defineProperty$E({"recharts-legend-item":!0},"legend-item-".concat(_n),!0),"inactive",pr.inactive));if(pr.type==="none")return null;var mr=isFunction$3(pr.value)?null:pr.value;warn(!isFunction$3(pr.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _r=pr.inactive?lt:pr.color;return React.createElement("li",_extends$s({className:Ct,style:bt,key:"legend-item-".concat(_n)},adaptEventsOfChild(j.props,pr,_n)),React.createElement(Surface,{width:tt,height:tt,viewBox:dt,style:Ht},j.renderIcon(pr)),React.createElement("span",{className:"recharts-legend-item-text",style:{color:_r}},ft?ft(mr,pr,_n):mr))})}},{key:"render",value:function(){var j=this.props,_e=j.payload,et=j.layout,tt=j.align;if(!_e||!_e.length)return null;var nt={padding:0,margin:0,textAlign:et==="horizontal"?tt:"left"};return React.createElement("ul",{className:"recharts-default-legend",style:nt},this.renderItems())}}]),_}(reactExports.PureComponent);_defineProperty$E(DefaultLegendContent,"displayName","Legend");_defineProperty$E(DefaultLegendContent,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ListCache$2=_ListCache;function stackClear$1(){this.__data__=new ListCache$2,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(o){var _=this.__data__,$=_.delete(o);return this.size=_.size,$}var _stackDelete=stackDelete$1;function stackGet$1(o){return this.__data__.get(o)}var _stackGet=stackGet$1;function stackHas$1(o){return this.__data__.has(o)}var _stackHas=stackHas$1,ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE$1=200;function stackSet$1(o,_){var $=this.__data__;if($ instanceof ListCache$1){var j=$.__data__;if(!Map$2||j.length<LARGE_ARRAY_SIZE$1-1)return j.push([o,_]),this.size=++$.size,this;$=this.__data__=new MapCache$1(j)}return $.set(o,_),this.size=$.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$2(o){var _=this.__data__=new ListCache(o);this.size=_.size}Stack$2.prototype.clear=stackClear;Stack$2.prototype.delete=stackDelete;Stack$2.prototype.get=stackGet;Stack$2.prototype.has=stackHas;Stack$2.prototype.set=stackSet;var _Stack=Stack$2,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(o){return this.__data__.set(o,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(o){return this.__data__.has(o)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$2(o){var _=-1,$=o==null?0:o.length;for(this.__data__=new MapCache;++_<$;)this.add(o[_])}SetCache$2.prototype.add=SetCache$2.prototype.push=setCacheAdd;SetCache$2.prototype.has=setCacheHas;var _SetCache=SetCache$2;function arraySome$2(o,_){for(var $=-1,j=o==null?0:o.length;++$<j;)if(_(o[$],$,o))return!0;return!1}var _arraySome=arraySome$2;function cacheHas$2(o,_){return o.has(_)}var _cacheHas=cacheHas$2,SetCache$1=_SetCache,arraySome$1=_arraySome,cacheHas$1=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(o,_,$,j,_e,et){var tt=$&COMPARE_PARTIAL_FLAG$5,nt=o.length,it=_.length;if(nt!=it&&!(tt&&it>nt))return!1;var lt=et.get(o),dt=et.get(_);if(lt&&dt)return lt==_&&dt==o;var bt=-1,Ht=!0,pr=$&COMPARE_UNORDERED_FLAG$3?new SetCache$1:void 0;for(et.set(o,_),et.set(_,o);++bt<nt;){var _n=o[bt],ft=_[bt];if(j)var Ct=tt?j(ft,_n,bt,_,o,et):j(_n,ft,bt,o,_,et);if(Ct!==void 0){if(Ct)continue;Ht=!1;break}if(pr){if(!arraySome$1(_,function(mr,_r){if(!cacheHas$1(pr,_r)&&(_n===mr||_e(_n,mr,$,j,et)))return pr.push(_r)})){Ht=!1;break}}else if(!(_n===ft||_e(_n,ft,$,j,et))){Ht=!1;break}}return et.delete(o),et.delete(_),Ht}var _equalArrays=equalArrays$2,root$5=_root,Uint8Array$2=root$5.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1(o){var _=-1,$=Array(o.size);return o.forEach(function(j,_e){$[++_]=[_e,j]}),$}var _mapToArray=mapToArray$1;function setToArray$3(o){var _=-1,$=Array(o.size);return o.forEach(function(j){$[++_]=j}),$}var _setToArray=setToArray$3,Symbol$2=_Symbol,Uint8Array$1=_Uint8Array,eq$1=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray$2=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$2="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(o,_,$,j,_e,et,tt){switch($){case dataViewTag$2:if(o.byteLength!=_.byteLength||o.byteOffset!=_.byteOffset)return!1;o=o.buffer,_=_.buffer;case arrayBufferTag$1:return!(o.byteLength!=_.byteLength||!et(new Uint8Array$1(o),new Uint8Array$1(_)));case boolTag$2:case dateTag$1:case numberTag$1:return eq$1(+o,+_);case errorTag$1:return o.name==_.name&&o.message==_.message;case regexpTag$1:case stringTag$1:return o==_+"";case mapTag$2:var nt=mapToArray;case setTag$2:var it=j&COMPARE_PARTIAL_FLAG$4;if(nt||(nt=setToArray$2),o.size!=_.size&&!it)return!1;var lt=tt.get(o);if(lt)return lt==_;j|=COMPARE_UNORDERED_FLAG$2,tt.set(o,_);var dt=equalArrays$1(nt(o),nt(_),j,_e,et,tt);return tt.delete(o),dt;case symbolTag:if(symbolValueOf)return symbolValueOf.call(o)==symbolValueOf.call(_)}return!1}var _equalByTag=equalByTag$1;function arrayPush$2(o,_){for(var $=-1,j=_.length,_e=o.length;++$<j;)o[_e+$]=_[$];return o}var _arrayPush=arrayPush$2,arrayPush$1=_arrayPush,isArray$a=isArray_1;function baseGetAllKeys$1(o,_,$){var j=_(o);return isArray$a(o)?j:arrayPush$1(j,$(o))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(o,_){for(var $=-1,j=o==null?0:o.length,_e=0,et=[];++$<j;){var tt=o[$];_(tt,$,o)&&(et[_e++]=tt)}return et}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$7=Object.prototype,propertyIsEnumerable$1=objectProto$7.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(o){return o==null?[]:(o=Object(o),arrayFilter(nativeGetSymbols(o),function(_){return propertyIsEnumerable$1.call(o,_)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1(o,_){for(var $=-1,j=Array(o);++$<o;)j[$]=_($);return j}var _baseTimes=baseTimes$1,baseGetTag$4=_baseGetTag,isObjectLike$5=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(o){return isObjectLike$5(o)&&baseGetTag$4(o)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$4=isObjectLike_1,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments$3=baseIsArguments(function(){return arguments}())?baseIsArguments:function(o){return isObjectLike$4(o)&&hasOwnProperty$6.call(o,"callee")&&!propertyIsEnumerable.call(o,"callee")},isArguments_1=isArguments$3,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$2.exports;(function(o,_){var $=_root,j=stubFalse_1,_e=_&&!_.nodeType&&_,et=_e&&!0&&o&&!o.nodeType&&o,tt=et&&et.exports===_e,nt=tt?$.Buffer:void 0,it=nt?nt.isBuffer:void 0,lt=it||j;o.exports=lt})(isBuffer$2,isBuffer$2.exports);var isBufferExports=isBuffer$2.exports,MAX_SAFE_INTEGER$2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$3(o,_){var $=typeof o;return _=_??MAX_SAFE_INTEGER$2,!!_&&($=="number"||$!="symbol"&&reIsUint.test(o))&&o>-1&&o%1==0&&o<_}var _isIndex=isIndex$3,MAX_SAFE_INTEGER$1=9007199254740991;function isLength$3(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=MAX_SAFE_INTEGER$1}var isLength_1=isLength$3,baseGetTag$3=_baseGetTag,isLength$2=isLength_1,isObjectLike$3=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$3="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1(o){return isObjectLike$3(o)&&isLength$2(o.length)&&!!typedArrayTags[baseGetTag$3(o)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$2(o){return function(_){return o(_)}}var _baseUnary=baseUnary$2,_nodeUtil={exports:{}};_nodeUtil.exports;(function(o,_){var $=_freeGlobal,j=_&&!_.nodeType&&_,_e=j&&!0&&o&&!o.nodeType&&o,et=_e&&_e.exports===j,tt=et&&$.process,nt=function(){try{var it=_e&&_e.require&&_e.require("util").types;return it||tt&&tt.binding&&tt.binding("util")}catch{}}();o.exports=nt})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$1=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$3=nodeIsTypedArray?baseUnary$1(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$3,baseTimes=_baseTimes,isArguments$2=isArguments_1,isArray$9=isArray_1,isBuffer$1=isBufferExports,isIndex$2=_isIndex,isTypedArray$2=isTypedArray_1,objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function arrayLikeKeys$1(o,_){var $=isArray$9(o),j=!$&&isArguments$2(o),_e=!$&&!j&&isBuffer$1(o),et=!$&&!j&&!_e&&isTypedArray$2(o),tt=$||j||_e||et,nt=tt?baseTimes(o.length,String):[],it=nt.length;for(var lt in o)(_||hasOwnProperty$5.call(o,lt))&&!(tt&&(lt=="length"||_e&&(lt=="offset"||lt=="parent")||et&&(lt=="buffer"||lt=="byteLength"||lt=="byteOffset")||isIndex$2(lt,it)))&&nt.push(lt);return nt}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$4=Object.prototype;function isPrototype$1(o){var _=o&&o.constructor,$=typeof _=="function"&&_.prototype||objectProto$4;return o===$}var _isPrototype=isPrototype$1;function overArg$2(o,_){return function($){return o(_($))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$3=Object.prototype,hasOwnProperty$4=objectProto$3.hasOwnProperty;function baseKeys$1(o){if(!isPrototype(o))return nativeKeys(o);var _=[];for(var $ in Object(o))hasOwnProperty$4.call(o,$)&&$!="constructor"&&_.push($);return _}var _baseKeys=baseKeys$1,isFunction=isFunction_1,isLength$1=isLength_1;function isArrayLike$5(o){return o!=null&&isLength$1(o.length)&&!isFunction(o)}var isArrayLike_1=isArrayLike$5,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$4=isArrayLike_1;function keys$5(o){return isArrayLike$4(o)?arrayLikeKeys(o):baseKeys(o)}var keys_1=keys$5,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys$4=keys_1;function getAllKeys$1(o){return baseGetAllKeys(o,keys$4,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$2=Object.prototype,hasOwnProperty$3=objectProto$2.hasOwnProperty;function equalObjects$1(o,_,$,j,_e,et){var tt=$&COMPARE_PARTIAL_FLAG$3,nt=getAllKeys(o),it=nt.length,lt=getAllKeys(_),dt=lt.length;if(it!=dt&&!tt)return!1;for(var bt=it;bt--;){var Ht=nt[bt];if(!(tt?Ht in _:hasOwnProperty$3.call(_,Ht)))return!1}var pr=et.get(o),_n=et.get(_);if(pr&&_n)return pr==_&&_n==o;var ft=!0;et.set(o,_),et.set(_,o);for(var Ct=tt;++bt<it;){Ht=nt[bt];var mr=o[Ht],_r=_[Ht];if(j)var mn=tt?j(_r,mr,Ht,_,o,et):j(mr,_r,Ht,o,_,et);if(!(mn===void 0?mr===_r||_e(mr,_r,$,j,et):mn)){ft=!1;break}Ct||(Ct=Ht=="constructor")}if(ft&&!Ct){var dr=o.constructor,pn=_.constructor;dr!=pn&&"constructor"in o&&"constructor"in _&&!(typeof dr=="function"&&dr instanceof dr&&typeof pn=="function"&&pn instanceof pn)&&(ft=!1)}return et.delete(o),et.delete(_),ft}var _equalObjects=equalObjects$1,getNative$4=_getNative,root$4=_root,DataView$2=getNative$4(root$4,"DataView"),_DataView=DataView$2,getNative$3=_getNative,root$3=_root,Promise$2=getNative$3(root$3,"Promise"),_Promise=Promise$2,getNative$2=_getNative,root$2=_root,Set$3=getNative$2(root$2,"Set"),_Set=Set$3,getNative$1=_getNative,root$1=_root,WeakMap$2=getNative$1(root$1,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$2=_Set,WeakMap$1=_WeakMap,baseGetTag$2=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$1),getTag$2=baseGetTag$2;(DataView$1&&getTag$2(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$2(new Map$1)!=mapTag||Promise$1&&getTag$2(Promise$1.resolve())!=promiseTag||Set$2&&getTag$2(new Set$2)!=setTag||WeakMap$1&&getTag$2(new WeakMap$1)!=weakMapTag)&&(getTag$2=function(o){var _=baseGetTag$2(o),$=_==objectTag$2?o.constructor:void 0,j=$?toSource($):"";if(j)switch(j){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return _});var _getTag=getTag$2,Stack$1=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag$1=_getTag,isArray$8=isArray_1,isBuffer=isBufferExports,isTypedArray$1=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag$1="[object Object]",objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function baseIsEqualDeep$1(o,_,$,j,_e,et){var tt=isArray$8(o),nt=isArray$8(_),it=tt?arrayTag:getTag$1(o),lt=nt?arrayTag:getTag$1(_);it=it==argsTag?objectTag$1:it,lt=lt==argsTag?objectTag$1:lt;var dt=it==objectTag$1,bt=lt==objectTag$1,Ht=it==lt;if(Ht&&isBuffer(o)){if(!isBuffer(_))return!1;tt=!0,dt=!1}if(Ht&&!dt)return et||(et=new Stack$1),tt||isTypedArray$1(o)?equalArrays(o,_,$,j,_e,et):equalByTag(o,_,it,$,j,_e,et);if(!($&COMPARE_PARTIAL_FLAG$2)){var pr=dt&&hasOwnProperty$2.call(o,"__wrapped__"),_n=bt&&hasOwnProperty$2.call(_,"__wrapped__");if(pr||_n){var ft=pr?o.value():o,Ct=_n?_.value():_;return et||(et=new Stack$1),_e(ft,Ct,$,j,et)}}return Ht?(et||(et=new Stack$1),equalObjects(o,_,$,j,_e,et)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$2=isObjectLike_1;function baseIsEqual$3(o,_,$,j,_e){return o===_?!0:o==null||_==null||!isObjectLike$2(o)&&!isObjectLike$2(_)?o!==o&&_!==_:baseIsEqualDeep(o,_,$,j,baseIsEqual$3,_e)}var _baseIsEqual=baseIsEqual$3,Stack=_Stack,baseIsEqual$2=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(o,_,$,j){var _e=$.length,et=_e,tt=!j;if(o==null)return!et;for(o=Object(o);_e--;){var nt=$[_e];if(tt&&nt[2]?nt[1]!==o[nt[0]]:!(nt[0]in o))return!1}for(;++_e<et;){nt=$[_e];var it=nt[0],lt=o[it],dt=nt[1];if(tt&&nt[2]){if(lt===void 0&&!(it in o))return!1}else{var bt=new Stack;if(j)var Ht=j(lt,dt,it,o,_,bt);if(!(Ht===void 0?baseIsEqual$2(dt,lt,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,j,bt):Ht))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$4=isObject_1;function isStrictComparable$2(o){return o===o&&!isObject$4(o)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$3=keys_1;function getMatchData$1(o){for(var _=keys$3(o),$=_.length;$--;){var j=_[$],_e=o[j];_[$]=[j,_e,isStrictComparable$1(_e)]}return _}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(o,_){return function($){return $==null?!1:$[o]===_&&(_!==void 0||o in Object($))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(o){var _=getMatchData(o);return _.length==1&&_[0][2]?matchesStrictComparable$1(_[0][0],_[0][1]):function($){return $===o||baseIsMatch($,o,_)}}var _baseMatches=baseMatches$1;function baseHasIn$1(o,_){return o!=null&&_ in Object(o)}var _baseHasIn=baseHasIn$1,castPath=_castPath,isArguments$1=isArguments_1,isArray$7=isArray_1,isIndex$1=_isIndex,isLength=isLength_1,toKey$2=_toKey;function hasPath$1(o,_,$){_=castPath(_,o);for(var j=-1,_e=_.length,et=!1;++j<_e;){var tt=toKey$2(_[j]);if(!(et=o!=null&&$(o,tt)))break;o=o[tt]}return et||++j!=_e?et:(_e=o==null?0:o.length,!!_e&&isLength(_e)&&isIndex$1(tt,_e)&&(isArray$7(o)||isArguments$1(o)))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(o,_){return o!=null&&hasPath(o,_,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual$1=_baseIsEqual,get=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(o,_){return isKey$1(o)&&isStrictComparable(_)?matchesStrictComparable(toKey$1(o),_):function($){var j=get($,o);return j===void 0&&j===_?hasIn($,o):baseIsEqual$1(_,j,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$b(o){return o}var identity_1=identity$b;function baseProperty$1(o){return function(_){return _==null?void 0:_[o]}}var _baseProperty=baseProperty$1,baseGet$1=_baseGet;function basePropertyDeep$1(o){return function(_){return baseGet$1(_,o)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey=_toKey;function property$1(o){return isKey(o)?baseProperty(toKey(o)):basePropertyDeep(o)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$a=identity_1,isArray$6=isArray_1,property=property_1;function baseIteratee$a(o){return typeof o=="function"?o:o==null?identity$a:typeof o=="object"?isArray$6(o)?baseMatchesProperty(o[0],o[1]):baseMatches(o):property(o)}var _baseIteratee=baseIteratee$a;function baseFindIndex$2(o,_,$,j){for(var _e=o.length,et=$+(j?1:-1);j?et--:++et<_e;)if(_(o[et],et,o))return et;return-1}var _baseFindIndex=baseFindIndex$2;function baseIsNaN$1(o){return o!==o}var _baseIsNaN=baseIsNaN$1;function strictIndexOf$1(o,_,$){for(var j=$-1,_e=o.length;++j<_e;)if(o[j]===_)return j;return-1}var _strictIndexOf=strictIndexOf$1,baseFindIndex$1=_baseFindIndex,baseIsNaN=_baseIsNaN,strictIndexOf=_strictIndexOf;function baseIndexOf$1(o,_,$){return _===_?strictIndexOf(o,_,$):baseFindIndex$1(o,baseIsNaN,$)}var _baseIndexOf=baseIndexOf$1,baseIndexOf=_baseIndexOf;function arrayIncludes$1(o,_){var $=o==null?0:o.length;return!!$&&baseIndexOf(o,_,0)>-1}var _arrayIncludes=arrayIncludes$1;function arrayIncludesWith$1(o,_,$){for(var j=-1,_e=o==null?0:o.length;++j<_e;)if($(_,o[j]))return!0;return!1}var _arrayIncludesWith=arrayIncludesWith$1;function noop$1(){}var noop_1=noop$1,Set$1=_Set,noop=noop_1,setToArray$1=_setToArray,INFINITY$1=1/0,createSet$1=Set$1&&1/setToArray$1(new Set$1([,-0]))[1]==INFINITY$1?function(o){return new Set$1(o)}:noop,_createSet=createSet$1,SetCache=_SetCache,arrayIncludes=_arrayIncludes,arrayIncludesWith=_arrayIncludesWith,cacheHas=_cacheHas,createSet=_createSet,setToArray=_setToArray,LARGE_ARRAY_SIZE=200;function baseUniq$1(o,_,$){var j=-1,_e=arrayIncludes,et=o.length,tt=!0,nt=[],it=nt;if($)tt=!1,_e=arrayIncludesWith;else if(et>=LARGE_ARRAY_SIZE){var lt=_?null:createSet(o);if(lt)return setToArray(lt);tt=!1,_e=cacheHas,it=new SetCache}else it=_?[]:nt;e:for(;++j<et;){var dt=o[j],bt=_?_(dt):dt;if(dt=$||dt!==0?dt:0,tt&&bt===bt){for(var Ht=it.length;Ht--;)if(it[Ht]===bt)continue e;_&&it.push(bt),nt.push(dt)}else _e(it,bt,$)||(it!==nt&&it.push(bt),nt.push(dt))}return nt}var _baseUniq=baseUniq$1,baseIteratee$9=_baseIteratee,baseUniq=_baseUniq;function uniqBy(o,_){return o&&o.length?baseUniq(o,baseIteratee$9(_)):[]}var uniqBy_1=uniqBy;const uniqBy$1=getDefaultExportFromCjs(uniqBy_1);function getUniqPayload(o,_,$){return _===!0?uniqBy$1(o,$):isFunction$3(_)?uniqBy$1(o,_):o}function _typeof$E(o){"@babel/helpers - typeof";return _typeof$E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$E(o)}var _excluded$e=["ref"];function ownKeys$A(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$z(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$A(Object($),!0).forEach(function(j){_defineProperty$D(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$A(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _classCallCheck$e(o,_){if(!(o instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$e(o,_){for(var $=0;$<_.length;$++){var j=_[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(o,_toPropertyKey$D(j.key),j)}}function _createClass$e(o,_,$){return _&&_defineProperties$e(o.prototype,_),$&&_defineProperties$e(o,$),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$a(o,_,$){return _=_getPrototypeOf$b(_),_possibleConstructorReturn$b(o,_isNativeReflectConstruct$b()?Reflect.construct(_,$||[],_getPrototypeOf$b(o).constructor):_.apply(o,$))}function _possibleConstructorReturn$b(o,_){if(_&&(_typeof$E(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$c(o)}function _isNativeReflectConstruct$b(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$b=function(){return!!o})()}function _getPrototypeOf$b(o){return _getPrototypeOf$b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$b(o)}function _assertThisInitialized$c(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _inherits$b(o,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(_&&_.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),_&&_setPrototypeOf$c(o,_)}function _setPrototypeOf$c(o,_){return _setPrototypeOf$c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$c(o,_)}function _defineProperty$D(o,_,$){return _=_toPropertyKey$D(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$D(o){var _=_toPrimitive$D(o,"string");return _typeof$E(_)=="symbol"?_:String(_)}function _toPrimitive$D(o,_){if(_typeof$E(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$E(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}function _objectWithoutProperties$e(o,_){if(o==null)return{};var $=_objectWithoutPropertiesLoose$f(o,_),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for(_e=0;_e<et.length;_e++)j=et[_e],!(_.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(o,j)&&($[j]=o[j])}return $}function _objectWithoutPropertiesLoose$f(o,_){if(o==null)return{};var $={},j=Object.keys(o),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(_.indexOf(_e)>=0)&&($[_e]=o[_e]);return $}function defaultUniqBy$1(o){return o.value}function renderContent$1(o,_){if(React.isValidElement(o))return React.cloneElement(o,_);if(typeof o=="function")return React.createElement(o,_);_.ref;var $=_objectWithoutProperties$e(_,_excluded$e);return React.createElement(DefaultLegendContent,$)}var EPS$1=1,Legend=function(o){_inherits$b(_,o);function _(){var $;_classCallCheck$e(this,_);for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];return $=_callSuper$a(this,_,[].concat(_e)),_defineProperty$D(_assertThisInitialized$c($),"lastBoundingBox",{width:-1,height:-1}),$}return _createClass$e(_,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var j=this.wrapperNode.getBoundingClientRect();return j.height=this.wrapperNode.offsetHeight,j.width=this.wrapperNode.offsetWidth,j}return null}},{key:"updateBBox",value:function(){var j=this.props.onBBoxUpdate,_e=this.getBBox();_e?(Math.abs(_e.width-this.lastBoundingBox.width)>EPS$1||Math.abs(_e.height-this.lastBoundingBox.height)>EPS$1)&&(this.lastBoundingBox.width=_e.width,this.lastBoundingBox.height=_e.height,j&&j(_e)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,j&&j(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_objectSpread$z({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(j){var _e=this.props,et=_e.layout,tt=_e.align,nt=_e.verticalAlign,it=_e.margin,lt=_e.chartWidth,dt=_e.chartHeight,bt,Ht;if(!j||(j.left===void 0||j.left===null)&&(j.right===void 0||j.right===null))if(tt==="center"&&et==="vertical"){var pr=this.getBBoxSnapshot();bt={left:((lt||0)-pr.width)/2}}else bt=tt==="right"?{right:it&&it.right||0}:{left:it&&it.left||0};if(!j||(j.top===void 0||j.top===null)&&(j.bottom===void 0||j.bottom===null))if(nt==="middle"){var _n=this.getBBoxSnapshot();Ht={top:((dt||0)-_n.height)/2}}else Ht=nt==="bottom"?{bottom:it&&it.bottom||0}:{top:it&&it.top||0};return _objectSpread$z(_objectSpread$z({},bt),Ht)}},{key:"render",value:function(){var j=this,_e=this.props,et=_e.content,tt=_e.width,nt=_e.height,it=_e.wrapperStyle,lt=_e.payloadUniqBy,dt=_e.payload,bt=_objectSpread$z(_objectSpread$z({position:"absolute",width:tt||"auto",height:nt||"auto"},this.getDefaultPosition(it)),it);return React.createElement("div",{className:"recharts-legend-wrapper",style:bt,ref:function(pr){j.wrapperNode=pr}},renderContent$1(et,_objectSpread$z(_objectSpread$z({},this.props),{},{payload:getUniqPayload(dt,lt,defaultUniqBy$1)})))}}],[{key:"getWithHeight",value:function(j,_e){var et=j.props.layout;return et==="vertical"&&isNumber(j.props.height)?{height:j.props.height}:et==="horizontal"?{width:j.props.width||_e}:null}}]),_}(reactExports.PureComponent);_defineProperty$D(Legend,"displayName","Legend");_defineProperty$D(Legend,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Symbol$1=_Symbol,isArguments=isArguments_1,isArray$5=isArray_1,spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable$1(o){return isArray$5(o)||isArguments(o)||!!(spreadableSymbol&&o&&o[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$2(o,_,$,j,_e){var et=-1,tt=o.length;for($||($=isFlattenable),_e||(_e=[]);++et<tt;){var nt=o[et];_>0&&$(nt)?_>1?baseFlatten$2(nt,_-1,$,j,_e):arrayPush(_e,nt):j||(_e[_e.length]=nt)}return _e}var _baseFlatten=baseFlatten$2;function createBaseFor$1(o){return function(_,$,j){for(var _e=-1,et=Object(_),tt=j(_),nt=tt.length;nt--;){var it=tt[o?nt:++_e];if($(et[it],it,et)===!1)break}return _}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1,baseFor=_baseFor,keys$2=keys_1;function baseForOwn$2(o,_){return o&&baseFor(o,_,keys$2)}var _baseForOwn=baseForOwn$2,isArrayLike$3=isArrayLike_1;function createBaseEach$1(o,_){return function($,j){if($==null)return $;if(!isArrayLike$3($))return o($,j);for(var _e=$.length,et=_?_e:-1,tt=Object($);(_?et--:++et<_e)&&j(tt[et],et,tt)!==!1;);return $}}var _createBaseEach=createBaseEach$1,baseForOwn$1=_baseForOwn,createBaseEach=_createBaseEach,baseEach$3=createBaseEach(baseForOwn$1),_baseEach=baseEach$3,baseEach$2=_baseEach,isArrayLike$2=isArrayLike_1;function baseMap$2(o,_){var $=-1,j=isArrayLike$2(o)?Array(o.length):[];return baseEach$2(o,function(_e,et,tt){j[++$]=_(_e,et,tt)}),j}var _baseMap=baseMap$2;function baseSortBy$1(o,_){var $=o.length;for(o.sort(_);$--;)o[$]=o[$].value;return o}var _baseSortBy=baseSortBy$1,isSymbol$2=isSymbol_1;function compareAscending$1(o,_){if(o!==_){var $=o!==void 0,j=o===null,_e=o===o,et=isSymbol$2(o),tt=_!==void 0,nt=_===null,it=_===_,lt=isSymbol$2(_);if(!nt&&!lt&&!et&&o>_||et&&tt&&it&&!nt&&!lt||j&&tt&&it||!$&&it||!_e)return 1;if(!j&&!et&&!lt&&o<_||lt&&$&&_e&&!j&&!et||nt&&$&&_e||!tt&&_e||!it)return-1}return 0}var _compareAscending=compareAscending$1,compareAscending=_compareAscending;function compareMultiple$1(o,_,$){for(var j=-1,_e=o.criteria,et=_.criteria,tt=_e.length,nt=$.length;++j<tt;){var it=compareAscending(_e[j],et[j]);if(it){if(j>=nt)return it;var lt=$[j];return it*(lt=="desc"?-1:1)}}return o.index-_.index}var _compareMultiple=compareMultiple$1,arrayMap$1=_arrayMap,baseGet=_baseGet,baseIteratee$8=_baseIteratee,baseMap$1=_baseMap,baseSortBy=_baseSortBy,baseUnary=_baseUnary,compareMultiple=_compareMultiple,identity$9=identity_1,isArray$4=isArray_1;function baseOrderBy$1(o,_,$){_.length?_=arrayMap$1(_,function(et){return isArray$4(et)?function(tt){return baseGet(tt,et.length===1?et[0]:et)}:et}):_=[identity$9];var j=-1;_=arrayMap$1(_,baseUnary(baseIteratee$8));var _e=baseMap$1(o,function(et,tt,nt){var it=arrayMap$1(_,function(lt){return lt(et)});return{criteria:it,index:++j,value:et}});return baseSortBy(_e,function(et,tt){return compareMultiple(et,tt,$)})}var _baseOrderBy=baseOrderBy$1;function apply$1(o,_,$){switch($.length){case 0:return o.call(_);case 1:return o.call(_,$[0]);case 2:return o.call(_,$[0],$[1]);case 3:return o.call(_,$[0],$[1],$[2])}return o.apply(_,$)}var _apply=apply$1,apply=_apply,nativeMax$3=Math.max;function overRest$1(o,_,$){return _=nativeMax$3(_===void 0?o.length-1:_,0),function(){for(var j=arguments,_e=-1,et=nativeMax$3(j.length-_,0),tt=Array(et);++_e<et;)tt[_e]=j[_+_e];_e=-1;for(var nt=Array(_+1);++_e<_;)nt[_e]=j[_e];return nt[_]=$(tt),apply(o,this,nt)}}var _overRest=overRest$1;function constant$1(o){return function(){return o}}var constant_1=constant$1,getNative=_getNative,defineProperty$2=function(){try{var o=getNative(Object,"defineProperty");return o({},"",{}),o}catch{}}(),_defineProperty$C=defineProperty$2,constant=constant_1,defineProperty$1=_defineProperty$C,identity$8=identity_1,baseSetToString$1=defineProperty$1?function(o,_){return defineProperty$1(o,"toString",{configurable:!0,enumerable:!1,value:constant(_),writable:!0})}:identity$8,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(o){var _=0,$=0;return function(){var j=nativeNow(),_e=HOT_SPAN-(j-$);if($=j,_e>0){if(++_>=HOT_COUNT)return arguments[0]}else _=0;return o.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$1=shortOut(baseSetToString),_setToString=setToString$1,identity$7=identity_1,overRest=_overRest,setToString=_setToString;function baseRest$1(o,_){return setToString(overRest(o,_,identity$7),o+"")}var _baseRest=baseRest$1,eq=eq_1,isArrayLike$1=isArrayLike_1,isIndex=_isIndex,isObject$3=isObject_1;function isIterateeCall$4(o,_,$){if(!isObject$3($))return!1;var j=typeof _;return(j=="number"?isArrayLike$1($)&&isIndex(_,$.length):j=="string"&&_ in $)?eq($[_],o):!1}var _isIterateeCall=isIterateeCall$4,baseFlatten$1=_baseFlatten,baseOrderBy=_baseOrderBy,baseRest=_baseRest,isIterateeCall$3=_isIterateeCall,sortBy=baseRest(function(o,_){if(o==null)return[];var $=_.length;return $>1&&isIterateeCall$3(o,_[0],_[1])?_=[]:$>2&&isIterateeCall$3(_[0],_[1],_[2])&&(_=[_[0]]),baseOrderBy(o,baseFlatten$1(_,1),[])}),sortBy_1=sortBy;const sortBy$1=getDefaultExportFromCjs(sortBy_1);function _typeof$D(o){"@babel/helpers - typeof";return _typeof$D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$D(o)}function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$r.apply(this,arguments)}function _slicedToArray$c(o,_){return _arrayWithHoles$d(o)||_iterableToArrayLimit$c(o,_)||_unsupportedIterableToArray$l(o,_)||_nonIterableRest$d()}function _nonIterableRest$d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$l(o,_){if(o){if(typeof o=="string")return _arrayLikeToArray$l(o,_);var $=Object.prototype.toString.call(o).slice(8,-1);if($==="Object"&&o.constructor&&($=o.constructor.name),$==="Map"||$==="Set")return Array.from(o);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$l(o,_)}}function _arrayLikeToArray$l(o,_){(_==null||_>o.length)&&(_=o.length);for(var $=0,j=new Array(_);$<_;$++)j[$]=o[$];return j}function _iterableToArrayLimit$c(o,_){var $=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if($!=null){var j,_e,et,tt,nt=[],it=!0,lt=!1;try{if(et=($=$.call(o)).next,_!==0)for(;!(it=(j=et.call($)).done)&&(nt.push(j.value),nt.length!==_);it=!0);}catch(dt){lt=!0,_e=dt}finally{try{if(!it&&$.return!=null&&(tt=$.return(),Object(tt)!==tt))return}finally{if(lt)throw _e}}return nt}}function _arrayWithHoles$d(o){if(Array.isArray(o))return o}function ownKeys$z(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$y(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$z(Object($),!0).forEach(function(j){_defineProperty$B(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$z(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$B(o,_,$){return _=_toPropertyKey$C(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$C(o){var _=_toPrimitive$C(o,"string");return _typeof$D(_)=="symbol"?_:String(_)}function _toPrimitive$C(o,_){if(_typeof$D(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$D(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}function defaultFormatter(o){return Array.isArray(o)&&isNumOrStr(o[0])&&isNumOrStr(o[1])?o.join(" ~ "):o}var DefaultTooltipContent=function o(_){var $=_.separator,j=$===void 0?" : ":$,_e=_.contentStyle,et=_e===void 0?{}:_e,tt=_.itemStyle,nt=tt===void 0?{}:tt,it=_.labelStyle,lt=it===void 0?{}:it,dt=_.payload,bt=_.formatter,Ht=_.itemSorter,pr=_.wrapperClassName,_n=_.labelClassName,ft=_.label,Ct=_.labelFormatter,mr=_.accessibilityLayer,_r=mr===void 0?!1:mr,mn=function(){if(dt&&dt.length){var yp={padding:0,margin:0},xs=(Ht?sortBy$1(dt,Ht):dt).map(function(vs,Sp){if(vs.type==="none")return null;var wp=_objectSpread$y({display:"block",paddingTop:4,paddingBottom:4,color:vs.color||"#000"},nt),bp=vs.formatter||bt||defaultFormatter,Ep=vs.value,Cp=vs.name,Ap=Ep,Mp=Cp;if(bp&&Ap!=null&&Mp!=null){var Pp=bp(Ep,Cp,vs,Sp,dt);if(Array.isArray(Pp)){var Ip=_slicedToArray$c(Pp,2);Ap=Ip[0],Mp=Ip[1]}else Ap=Pp}return React.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Sp),style:wp},isNumOrStr(Mp)?React.createElement("span",{className:"recharts-tooltip-item-name"},Mp):null,isNumOrStr(Mp)?React.createElement("span",{className:"recharts-tooltip-item-separator"},j):null,React.createElement("span",{className:"recharts-tooltip-item-value"},Ap),React.createElement("span",{className:"recharts-tooltip-item-unit"},vs.unit||""))});return React.createElement("ul",{className:"recharts-tooltip-item-list",style:yp},xs)}return null},dr=_objectSpread$y({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},et),pn=_objectSpread$y({margin:0},lt),Do=!isNil$1(ft),Io=Do?ft:"",Lo=clsx$1("recharts-default-tooltip",pr),ms=clsx$1("recharts-tooltip-label",_n);Do&&Ct&&dt!==void 0&&dt!==null&&(Io=Ct(ft,dt));var Uo=_r?{role:"status","aria-live":"assertive"}:{};return React.createElement("div",_extends$r({className:Lo,style:dr},Uo),React.createElement("p",{className:ms,style:pn},React.isValidElement(Io)?Io:"".concat(Io)),mn())};function _typeof$C(o){"@babel/helpers - typeof";return _typeof$C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$C(o)}function _defineProperty$A(o,_,$){return _=_toPropertyKey$B(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$B(o){var _=_toPrimitive$B(o,"string");return _typeof$C(_)=="symbol"?_:String(_)}function _toPrimitive$B(o,_){if(_typeof$C(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$C(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}var CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(o){var _=o.coordinate,$=o.translateX,j=o.translateY;return clsx$1(CSS_CLASS_PREFIX,_defineProperty$A(_defineProperty$A(_defineProperty$A(_defineProperty$A({},"".concat(CSS_CLASS_PREFIX,"-right"),isNumber($)&&_&&isNumber(_.x)&&$>=_.x),"".concat(CSS_CLASS_PREFIX,"-left"),isNumber($)&&_&&isNumber(_.x)&&$<_.x),"".concat(CSS_CLASS_PREFIX,"-bottom"),isNumber(j)&&_&&isNumber(_.y)&&j>=_.y),"".concat(CSS_CLASS_PREFIX,"-top"),isNumber(j)&&_&&isNumber(_.y)&&j<_.y))}function getTooltipTranslateXY(o){var _=o.allowEscapeViewBox,$=o.coordinate,j=o.key,_e=o.offsetTopLeft,et=o.position,tt=o.reverseDirection,nt=o.tooltipDimension,it=o.viewBox,lt=o.viewBoxDimension;if(et&&isNumber(et[j]))return et[j];var dt=$[j]-nt-_e,bt=$[j]+_e;if(_[j])return tt[j]?dt:bt;if(tt[j]){var Ht=dt,pr=it[j];return Ht<pr?Math.max(bt,it[j]):Math.max(dt,it[j])}var _n=bt+nt,ft=it[j]+lt;return _n>ft?Math.max(dt,it[j]):Math.max(bt,it[j])}function getTransformStyle(o){var _=o.translateX,$=o.translateY,j=o.useTranslate3d;return{transform:j?"translate3d(".concat(_,"px, ").concat($,"px, 0)"):"translate(".concat(_,"px, ").concat($,"px)")}}function getTooltipTranslate(o){var _=o.allowEscapeViewBox,$=o.coordinate,j=o.offsetTopLeft,_e=o.position,et=o.reverseDirection,tt=o.tooltipBox,nt=o.useTranslate3d,it=o.viewBox,lt,dt,bt;return tt.height>0&&tt.width>0&&$?(dt=getTooltipTranslateXY({allowEscapeViewBox:_,coordinate:$,key:"x",offsetTopLeft:j,position:_e,reverseDirection:et,tooltipDimension:tt.width,viewBox:it,viewBoxDimension:it.width}),bt=getTooltipTranslateXY({allowEscapeViewBox:_,coordinate:$,key:"y",offsetTopLeft:j,position:_e,reverseDirection:et,tooltipDimension:tt.height,viewBox:it,viewBoxDimension:it.height}),lt=getTransformStyle({translateX:dt,translateY:bt,useTranslate3d:nt})):lt=TOOLTIP_HIDDEN,{cssProperties:lt,cssClasses:getTooltipCSSClassName({translateX:dt,translateY:bt,coordinate:$})}}function _typeof$B(o){"@babel/helpers - typeof";return _typeof$B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$B(o)}function ownKeys$y(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$x(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$y(Object($),!0).forEach(function(j){_defineProperty$z(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$y(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _classCallCheck$d(o,_){if(!(o instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$d(o,_){for(var $=0;$<_.length;$++){var j=_[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(o,_toPropertyKey$A(j.key),j)}}function _createClass$d(o,_,$){return _&&_defineProperties$d(o.prototype,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$9(o,_,$){return _=_getPrototypeOf$a(_),_possibleConstructorReturn$a(o,_isNativeReflectConstruct$a()?Reflect.construct(_,$||[],_getPrototypeOf$a(o).constructor):_.apply(o,$))}function _possibleConstructorReturn$a(o,_){if(_&&(_typeof$B(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$b(o)}function _isNativeReflectConstruct$a(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$a=function(){return!!o})()}function _getPrototypeOf$a(o){return _getPrototypeOf$a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$a(o)}function _assertThisInitialized$b(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _inherits$a(o,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(_&&_.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),_&&_setPrototypeOf$b(o,_)}function _setPrototypeOf$b(o,_){return _setPrototypeOf$b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$b(o,_)}function _defineProperty$z(o,_,$){return _=_toPropertyKey$A(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$A(o){var _=_toPrimitive$A(o,"string");return _typeof$B(_)=="symbol"?_:String(_)}function _toPrimitive$A(o,_){if(_typeof$B(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$B(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}var EPSILON=1,TooltipBoundingBox=function(o){_inherits$a(_,o);function _(){var $;_classCallCheck$d(this,_);for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];return $=_callSuper$9(this,_,[].concat(_e)),_defineProperty$z(_assertThisInitialized$b($),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_defineProperty$z(_assertThisInitialized$b($),"handleKeyDown",function(tt){if(tt.key==="Escape"){var nt,it,lt,dt;$.setState({dismissed:!0,dismissedAtCoordinate:{x:(nt=(it=$.props.coordinate)===null||it===void 0?void 0:it.x)!==null&&nt!==void 0?nt:0,y:(lt=(dt=$.props.coordinate)===null||dt===void 0?void 0:dt.y)!==null&&lt!==void 0?lt:0}})}}),$}return _createClass$d(_,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var j=this.wrapperNode.getBoundingClientRect();(Math.abs(j.width-this.state.lastBoundingBox.width)>EPSILON||Math.abs(j.height-this.state.lastBoundingBox.height)>EPSILON)&&this.setState({lastBoundingBox:{width:j.width,height:j.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var j,_e;this.props.active&&this.updateBBox(),this.state.dismissed&&(((j=this.props.coordinate)===null||j===void 0?void 0:j.x)!==this.state.dismissedAtCoordinate.x||((_e=this.props.coordinate)===null||_e===void 0?void 0:_e.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var j=this,_e=this.props,et=_e.active,tt=_e.allowEscapeViewBox,nt=_e.animationDuration,it=_e.animationEasing,lt=_e.children,dt=_e.coordinate,bt=_e.hasPayload,Ht=_e.isAnimationActive,pr=_e.offset,_n=_e.position,ft=_e.reverseDirection,Ct=_e.useTranslate3d,mr=_e.viewBox,_r=_e.wrapperStyle,mn=getTooltipTranslate({allowEscapeViewBox:tt,coordinate:dt,offsetTopLeft:pr,position:_n,reverseDirection:ft,tooltipBox:this.state.lastBoundingBox,useTranslate3d:Ct,viewBox:mr}),dr=mn.cssClasses,pn=mn.cssProperties,Do=_objectSpread$x(_objectSpread$x({transition:Ht&&et?"transform ".concat(nt,"ms ").concat(it):void 0},pn),{},{pointerEvents:"none",visibility:!this.state.dismissed&&et&&bt?"visible":"hidden",position:"absolute",top:0,left:0},_r);return React.createElement("div",{tabIndex:-1,className:dr,style:Do,ref:function(Lo){j.wrapperNode=Lo}},lt)}}]),_}(reactExports.PureComponent),parseIsSsrByDefault=function o(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Global={isSsr:parseIsSsrByDefault(),get:function o(_){return Global[_]},set:function o(_,$){if(typeof _=="string")Global[_]=$;else{var j=Object.keys(_);j&&j.length&&j.forEach(function(_e){Global[_e]=_[_e]})}}};function _typeof$A(o){"@babel/helpers - typeof";return _typeof$A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$A(o)}function ownKeys$x(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$w(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$x(Object($),!0).forEach(function(j){_defineProperty$y(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$x(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _classCallCheck$c(o,_){if(!(o instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c(o,_){for(var $=0;$<_.length;$++){var j=_[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(o,_toPropertyKey$z(j.key),j)}}function _createClass$c(o,_,$){return _&&_defineProperties$c(o.prototype,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$8(o,_,$){return _=_getPrototypeOf$9(_),_possibleConstructorReturn$9(o,_isNativeReflectConstruct$9()?Reflect.construct(_,$||[],_getPrototypeOf$9(o).constructor):_.apply(o,$))}function _possibleConstructorReturn$9(o,_){if(_&&(_typeof$A(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$a(o)}function _assertThisInitialized$a(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$9(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$9=function(){return!!o})()}function _getPrototypeOf$9(o){return _getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$9(o)}function _inherits$9(o,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(_&&_.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),_&&_setPrototypeOf$a(o,_)}function _setPrototypeOf$a(o,_){return _setPrototypeOf$a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$a(o,_)}function _defineProperty$y(o,_,$){return _=_toPropertyKey$z(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$z(o){var _=_toPrimitive$z(o,"string");return _typeof$A(_)=="symbol"?_:String(_)}function _toPrimitive$z(o,_){if(_typeof$A(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$A(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}function defaultUniqBy(o){return o.dataKey}function renderContent(o,_){return React.isValidElement(o)?React.cloneElement(o,_):typeof o=="function"?React.createElement(o,_):React.createElement(DefaultTooltipContent,_)}var Tooltip=function(o){_inherits$9(_,o);function _(){return _classCallCheck$c(this,_),_callSuper$8(this,_,arguments)}return _createClass$c(_,[{key:"render",value:function(){var j=this,_e=this.props,et=_e.active,tt=_e.allowEscapeViewBox,nt=_e.animationDuration,it=_e.animationEasing,lt=_e.content,dt=_e.coordinate,bt=_e.filterNull,Ht=_e.isAnimationActive,pr=_e.offset,_n=_e.payload,ft=_e.payloadUniqBy,Ct=_e.position,mr=_e.reverseDirection,_r=_e.useTranslate3d,mn=_e.viewBox,dr=_e.wrapperStyle,pn=_n??[];bt&&pn.length&&(pn=getUniqPayload(_n.filter(function(Io){return Io.value!=null&&(Io.hide!==!0||j.props.includeHidden)}),ft,defaultUniqBy));var Do=pn.length>0;return React.createElement(TooltipBoundingBox,{allowEscapeViewBox:tt,animationDuration:nt,animationEasing:it,isAnimationActive:Ht,active:et,coordinate:dt,hasPayload:Do,offset:pr,position:Ct,reverseDirection:mr,useTranslate3d:_r,viewBox:mn,wrapperStyle:dr},renderContent(lt,_objectSpread$w(_objectSpread$w({},this.props),{},{payload:pn})))}}]),_}(reactExports.PureComponent);_defineProperty$y(Tooltip,"displayName","Tooltip");_defineProperty$y(Tooltip,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Global.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var root=_root,now$1=function(){return root.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1(o){for(var _=o.length;_--&&reWhitespace.test(o.charAt(_)););return _}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(o){return o&&o.slice(0,trimmedEndIndex(o)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseTrim=_baseTrim,isObject$2=isObject_1,isSymbol$1=isSymbol_1,NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$2(o){if(typeof o=="number")return o;if(isSymbol$1(o))return NAN;if(isObject$2(o)){var _=typeof o.valueOf=="function"?o.valueOf():o;o=isObject$2(_)?_+"":_}if(typeof o!="string")return o===0?o:+o;o=baseTrim(o);var $=reIsBinary.test(o);return $||reIsOctal.test(o)?freeParseInt(o.slice(2),$?2:8):reIsBadHex.test(o)?NAN:+o}var toNumber_1=toNumber$2,isObject$1=isObject_1,now=now_1,toNumber$1=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax$2=Math.max,nativeMin=Math.min;function debounce$1(o,_,$){var j,_e,et,tt,nt,it,lt=0,dt=!1,bt=!1,Ht=!0;if(typeof o!="function")throw new TypeError(FUNC_ERROR_TEXT$1);_=toNumber$1(_)||0,isObject$1($)&&(dt=!!$.leading,bt="maxWait"in $,et=bt?nativeMax$2(toNumber$1($.maxWait)||0,_):et,Ht="trailing"in $?!!$.trailing:Ht);function pr(Do){var Io=j,Lo=_e;return j=_e=void 0,lt=Do,tt=o.apply(Lo,Io),tt}function _n(Do){return lt=Do,nt=setTimeout(mr,_),dt?pr(Do):tt}function ft(Do){var Io=Do-it,Lo=Do-lt,ms=_-Io;return bt?nativeMin(ms,et-Lo):ms}function Ct(Do){var Io=Do-it,Lo=Do-lt;return it===void 0||Io>=_||Io<0||bt&&Lo>=et}function mr(){var Do=now();if(Ct(Do))return _r(Do);nt=setTimeout(mr,ft(Do))}function _r(Do){return nt=void 0,Ht&&j?pr(Do):(j=_e=void 0,tt)}function mn(){nt!==void 0&&clearTimeout(nt),lt=0,j=it=_e=nt=void 0}function dr(){return nt===void 0?tt:_r(now())}function pn(){var Do=now(),Io=Ct(Do);if(j=arguments,_e=this,it=Do,Io){if(nt===void 0)return _n(it);if(bt)return clearTimeout(nt),nt=setTimeout(mr,_),pr(it)}return nt===void 0&&(nt=setTimeout(mr,_)),tt}return pn.cancel=mn,pn.flush=dr,pn}var debounce_1=debounce$1,debounce=debounce_1,isObject=isObject_1,FUNC_ERROR_TEXT="Expected a function";function throttle(o,_,$){var j=!0,_e=!0;if(typeof o!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject($)&&(j="leading"in $?!!$.leading:j,_e="trailing"in $?!!$.trailing:_e),debounce(o,_,{leading:j,maxWait:_,trailing:_e})}var throttle_1=throttle;const throttle$1=getDefaultExportFromCjs(throttle_1);function _typeof$z(o){"@babel/helpers - typeof";return _typeof$z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$z(o)}function ownKeys$w(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$v(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$w(Object($),!0).forEach(function(j){_defineProperty$x(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$w(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$x(o,_,$){return _=_toPropertyKey$y(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$y(o){var _=_toPrimitive$y(o,"string");return _typeof$z(_)=="symbol"?_:String(_)}function _toPrimitive$y(o,_){if(_typeof$z(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$z(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}function _slicedToArray$b(o,_){return _arrayWithHoles$c(o)||_iterableToArrayLimit$b(o,_)||_unsupportedIterableToArray$k(o,_)||_nonIterableRest$c()}function _nonIterableRest$c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$k(o,_){if(o){if(typeof o=="string")return _arrayLikeToArray$k(o,_);var $=Object.prototype.toString.call(o).slice(8,-1);if($==="Object"&&o.constructor&&($=o.constructor.name),$==="Map"||$==="Set")return Array.from(o);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$k(o,_)}}function _arrayLikeToArray$k(o,_){(_==null||_>o.length)&&(_=o.length);for(var $=0,j=new Array(_);$<_;$++)j[$]=o[$];return j}function _iterableToArrayLimit$b(o,_){var $=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if($!=null){var j,_e,et,tt,nt=[],it=!0,lt=!1;try{if(et=($=$.call(o)).next,_!==0)for(;!(it=(j=et.call($)).done)&&(nt.push(j.value),nt.length!==_);it=!0);}catch(dt){lt=!0,_e=dt}finally{try{if(!it&&$.return!=null&&(tt=$.return(),Object(tt)!==tt))return}finally{if(lt)throw _e}}return nt}}function _arrayWithHoles$c(o){if(Array.isArray(o))return o}var ResponsiveContainer=reactExports.forwardRef(function(o,_){var $=o.aspect,j=o.initialDimension,_e=j===void 0?{width:-1,height:-1}:j,et=o.width,tt=et===void 0?"100%":et,nt=o.height,it=nt===void 0?"100%":nt,lt=o.minWidth,dt=lt===void 0?0:lt,bt=o.minHeight,Ht=o.maxHeight,pr=o.children,_n=o.debounce,ft=_n===void 0?0:_n,Ct=o.id,mr=o.className,_r=o.onResize,mn=o.style,dr=mn===void 0?{}:mn,pn=reactExports.useRef(null),Do=reactExports.useRef();Do.current=_r,reactExports.useImperativeHandle(_,function(){return Object.defineProperty(pn.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),pn.current},configurable:!0})});var Io=reactExports.useState({containerWidth:_e.width,containerHeight:_e.height}),Lo=_slicedToArray$b(Io,2),ms=Lo[0],Uo=Lo[1],_s=reactExports.useCallback(function(xs,vs){Uo(function(Sp){var wp=Math.round(xs),bp=Math.round(vs);return Sp.containerWidth===wp&&Sp.containerHeight===bp?Sp:{containerWidth:wp,containerHeight:bp}})},[]);reactExports.useEffect(function(){var xs=function(Cp){var Ap,Mp=Cp[0].contentRect,Pp=Mp.width,Ip=Mp.height;_s(Pp,Ip),(Ap=Do.current)===null||Ap===void 0||Ap.call(Do,Pp,Ip)};ft>0&&(xs=throttle$1(xs,ft,{trailing:!0,leading:!1}));var vs=new ResizeObserver(xs),Sp=pn.current.getBoundingClientRect(),wp=Sp.width,bp=Sp.height;return _s(wp,bp),vs.observe(pn.current),function(){vs.disconnect()}},[_s,ft]);var yp=reactExports.useMemo(function(){var xs=ms.containerWidth,vs=ms.containerHeight;if(xs<0||vs<0)return null;warn(isPercent(tt)||isPercent(it),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,tt,it),warn(!$||$>0,"The aspect(%s) must be greater than zero.",$);var Sp=isPercent(tt)?xs:tt,wp=isPercent(it)?vs:it;$&&$>0&&(Sp?wp=Sp/$:wp&&(Sp=wp*$),Ht&&wp>Ht&&(wp=Ht)),warn(Sp>0||wp>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Sp,wp,tt,it,dt,bt,$);var bp=!Array.isArray(pr)&&reactIsExports.isElement(pr)&&getDisplayName(pr.type).endsWith("Chart");return React.Children.map(pr,function(Ep){return reactIsExports.isElement(Ep)?reactExports.cloneElement(Ep,_objectSpread$v({width:Sp,height:wp},bp?{style:_objectSpread$v({height:"100%",width:"100%",maxHeight:wp,maxWidth:Sp},Ep.props.style)}:{})):Ep})},[$,pr,it,Ht,bt,dt,ms,tt]);return React.createElement("div",{id:Ct?"".concat(Ct):void 0,className:clsx$1("recharts-responsive-container",mr),style:_objectSpread$v(_objectSpread$v({},dr),{},{width:tt,height:it,minWidth:dt,minHeight:bt,maxHeight:Ht}),ref:pn},yp)}),Cell=function o(_){return null};Cell.displayName="Cell";function _typeof$y(o){"@babel/helpers - typeof";return _typeof$y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$y(o)}function ownKeys$v(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$u(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$v(Object($),!0).forEach(function(j){_defineProperty$w(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$v(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$w(o,_,$){return _=_toPropertyKey$x(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$x(o){var _=_toPrimitive$x(o,"string");return _typeof$y(_)=="symbol"?_:String(_)}function _toPrimitive$x(o,_){if(_typeof$y(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$y(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}var stringCache={widthCache:{},cacheCount:0},MAX_CACHE_NUM=2e3,SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function removeInvalidKeys(o){var _=_objectSpread$u({},o);return Object.keys(_).forEach(function($){_[$]||delete _[$]}),_}var getStringSize=function o(_){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_==null||Global.isSsr)return{width:0,height:0};var j=removeInvalidKeys($),_e=JSON.stringify({text:_,copyStyle:j});if(stringCache.widthCache[_e])return stringCache.widthCache[_e];try{var et=document.getElementById(MEASUREMENT_SPAN_ID);et||(et=document.createElement("span"),et.setAttribute("id",MEASUREMENT_SPAN_ID),et.setAttribute("aria-hidden","true"),document.body.appendChild(et));var tt=_objectSpread$u(_objectSpread$u({},SPAN_STYLE),j);Object.assign(et.style,tt),et.textContent="".concat(_);var nt=et.getBoundingClientRect(),it={width:nt.width,height:nt.height};return stringCache.widthCache[_e]=it,++stringCache.cacheCount>MAX_CACHE_NUM&&(stringCache.cacheCount=0,stringCache.widthCache={}),it}catch{return{width:0,height:0}}},getOffset=function o(_){return{top:_.top+window.scrollY-document.documentElement.clientTop,left:_.left+window.scrollX-document.documentElement.clientLeft}};function _typeof$x(o){"@babel/helpers - typeof";return _typeof$x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$x(o)}function _slicedToArray$a(o,_){return _arrayWithHoles$b(o)||_iterableToArrayLimit$a(o,_)||_unsupportedIterableToArray$j(o,_)||_nonIterableRest$b()}function _nonIterableRest$b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$j(o,_){if(o){if(typeof o=="string")return _arrayLikeToArray$j(o,_);var $=Object.prototype.toString.call(o).slice(8,-1);if($==="Object"&&o.constructor&&($=o.constructor.name),$==="Map"||$==="Set")return Array.from(o);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$j(o,_)}}function _arrayLikeToArray$j(o,_){(_==null||_>o.length)&&(_=o.length);for(var $=0,j=new Array(_);$<_;$++)j[$]=o[$];return j}function _iterableToArrayLimit$a(o,_){var $=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if($!=null){var j,_e,et,tt,nt=[],it=!0,lt=!1;try{if(et=($=$.call(o)).next,_===0){if(Object($)!==$)return;it=!1}else for(;!(it=(j=et.call($)).done)&&(nt.push(j.value),nt.length!==_);it=!0);}catch(dt){lt=!0,_e=dt}finally{try{if(!it&&$.return!=null&&(tt=$.return(),Object(tt)!==tt))return}finally{if(lt)throw _e}}return nt}}function _arrayWithHoles$b(o){if(Array.isArray(o))return o}function _classCallCheck$b(o,_){if(!(o instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(o,_){for(var $=0;$<_.length;$++){var j=_[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(o,_toPropertyKey$w(j.key),j)}}function _createClass$b(o,_,$){return _&&_defineProperties$b(o.prototype,_),$&&_defineProperties$b(o,$),Object.defineProperty(o,"prototype",{writable:!1}),o}function _toPropertyKey$w(o){var _=_toPrimitive$w(o,"string");return _typeof$x(_)=="symbol"?_:String(_)}function _toPrimitive$w(o,_){if(_typeof$x(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_);if(_typeof$x(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(o,_){return o*CONVERSION_RATES[_]}var DecimalCSS=function(){function o(_,$){_classCallCheck$b(this,o),this.num=_,this.unit=$,this.num=_,this.unit=$,Number.isNaN(_)&&(this.unit=""),$!==""&&!CSS_LENGTH_UNIT_REGEX.test($)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes($)&&(this.num=convertToPx(_,$),this.unit="px")}return _createClass$b(o,[{key:"add",value:function($){return this.unit!==$.unit?new o(NaN,""):new o(this.num+$.num,this.unit)}},{key:"subtract",value:function($){return this.unit!==$.unit?new o(NaN,""):new o(this.num-$.num,this.unit)}},{key:"multiply",value:function($){return this.unit!==""&&$.unit!==""&&this.unit!==$.unit?new o(NaN,""):new o(this.num*$.num,this.unit||$.unit)}},{key:"divide",value:function($){return this.unit!==""&&$.unit!==""&&this.unit!==$.unit?new o(NaN,""):new o(this.num/$.num,this.unit||$.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function($){var j,_e=(j=NUM_SPLIT_REGEX.exec($))!==null&&j!==void 0?j:[],et=_slicedToArray$a(_e,3),tt=et[1],nt=et[2];return new o(parseFloat(tt),nt??"")}}]),o}();function calculateArithmetic(o){if(o.includes(STR_NAN))return STR_NAN;for(var _=o;_.includes("*")||_.includes("/");){var $,j=($=MULTIPLY_OR_DIVIDE_REGEX.exec(_))!==null&&$!==void 0?$:[],_e=_slicedToArray$a(j,4),et=_e[1],tt=_e[2],nt=_e[3],it=DecimalCSS.parse(et??""),lt=DecimalCSS.parse(nt??""),dt=tt==="*"?it.multiply(lt):it.divide(lt);if(dt.isNaN())return STR_NAN;_=_.replace(MULTIPLY_OR_DIVIDE_REGEX,dt.toString())}for(;_.includes("+")||/.-\d+(?:\.\d+)?/.test(_);){var bt,Ht=(bt=ADD_OR_SUBTRACT_REGEX.exec(_))!==null&&bt!==void 0?bt:[],pr=_slicedToArray$a(Ht,4),_n=pr[1],ft=pr[2],Ct=pr[3],mr=DecimalCSS.parse(_n??""),_r=DecimalCSS.parse(Ct??""),mn=ft==="+"?mr.add(_r):mr.subtract(_r);if(mn.isNaN())return STR_NAN;_=_.replace(ADD_OR_SUBTRACT_REGEX,mn.toString())}return _}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(o){for(var _=o;_.includes("(");){var $=PARENTHESES_REGEX.exec(_),j=_slicedToArray$a($,2),_e=j[1];_=_.replace(PARENTHESES_REGEX,calculateArithmetic(_e))}return _}function evaluateExpression(o){var _=o.replace(/\s+/g,"");return _=calculateParentheses(_),_=calculateArithmetic(_),_}function safeEvaluateExpression(o){try{return evaluateExpression(o)}catch{return STR_NAN}}function reduceCSSCalc(o){var _=safeEvaluateExpression(o.slice(5,-1));return _===STR_NAN?"":_}var _excluded$d=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$5=["dx","dy","angle","className","breakAll"];function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$q.apply(this,arguments)}function _objectWithoutProperties$d(o,_){if(o==null)return{};var $=_objectWithoutPropertiesLoose$e(o,_),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for(_e=0;_e<et.length;_e++)j=et[_e],!(_.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(o,j)&&($[j]=o[j])}return $}function _objectWithoutPropertiesLoose$e(o,_){if(o==null)return{};var $={},j=Object.keys(o),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(_.indexOf(_e)>=0)&&($[_e]=o[_e]);return $}function _slicedToArray$9(o,_){return _arrayWithHoles$a(o)||_iterableToArrayLimit$9(o,_)||_unsupportedIterableToArray$i(o,_)||_nonIterableRest$a()}function _nonIterableRest$a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$i(o,_){if(o){if(typeof o=="string")return _arrayLikeToArray$i(o,_);var $=Object.prototype.toString.call(o).slice(8,-1);if($==="Object"&&o.constructor&&($=o.constructor.name),$==="Map"||$==="Set")return Array.from(o);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$i(o,_)}}function _arrayLikeToArray$i(o,_){(_==null||_>o.length)&&(_=o.length);for(var $=0,j=new Array(_);$<_;$++)j[$]=o[$];return j}function _iterableToArrayLimit$9(o,_){var $=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if($!=null){var j,_e,et,tt,nt=[],it=!0,lt=!1;try{if(et=($=$.call(o)).next,_===0){if(Object($)!==$)return;it=!1}else for(;!(it=(j=et.call($)).done)&&(nt.push(j.value),nt.length!==_);it=!0);}catch(dt){lt=!0,_e=dt}finally{try{if(!it&&$.return!=null&&(tt=$.return(),Object(tt)!==tt))return}finally{if(lt)throw _e}}return nt}}function _arrayWithHoles$a(o){if(Array.isArray(o))return o}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=function o(_){var $=_.children,j=_.breakAll,_e=_.style;try{var et=[];isNil$1($)||(j?et=$.toString().split(""):et=$.toString().split(BREAKING_SPACES));var tt=et.map(function(it){return{word:it,width:getStringSize(it,_e).width}}),nt=j?0:getStringSize(" ",_e).width;return{wordsWithComputedWidth:tt,spaceWidth:nt}}catch{return null}},calculateWordsByLines=function o(_,$,j,_e,et){var tt=_.maxLines,nt=_.children,it=_.style,lt=_.breakAll,dt=isNumber(tt),bt=nt,Ht=function(){var Sp=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Sp.reduce(function(wp,bp){var Ep=bp.word,Cp=bp.width,Ap=wp[wp.length-1];if(Ap&&(_e==null||et||Ap.width+Cp+j<Number(_e)))Ap.words.push(Ep),Ap.width+=Cp+j;else{var Mp={words:[Ep],width:Cp};wp.push(Mp)}return wp},[])},pr=Ht($),_n=function(Sp){return Sp.reduce(function(wp,bp){return wp.width>bp.width?wp:bp})};if(!dt)return pr;for(var ft="…",Ct=function(Sp){var wp=bt.slice(0,Sp),bp=calculateWordWidths({breakAll:lt,style:it,children:wp+ft}).wordsWithComputedWidth,Ep=Ht(bp),Cp=Ep.length>tt||_n(Ep).width>Number(_e);return[Cp,Ep]},mr=0,_r=bt.length-1,mn=0,dr;mr<=_r&&mn<=bt.length-1;){var pn=Math.floor((mr+_r)/2),Do=pn-1,Io=Ct(Do),Lo=_slicedToArray$9(Io,2),ms=Lo[0],Uo=Lo[1],_s=Ct(pn),yp=_slicedToArray$9(_s,1),xs=yp[0];if(!ms&&!xs&&(mr=pn+1),ms&&xs&&(_r=pn-1),!ms&&xs){dr=Uo;break}mn++}return dr||pr},getWordsWithoutCalculate=function o(_){var $=isNil$1(_)?[]:_.toString().split(BREAKING_SPACES);return[{words:$}]},getWordsByLines=function o(_){var $=_.width,j=_.scaleToFit,_e=_.children,et=_.style,tt=_.breakAll,nt=_.maxLines;if(($||j)&&!Global.isSsr){var it,lt,dt=calculateWordWidths({breakAll:tt,children:_e,style:et});if(dt){var bt=dt.wordsWithComputedWidth,Ht=dt.spaceWidth;it=bt,lt=Ht}else return getWordsWithoutCalculate(_e);return calculateWordsByLines({breakAll:tt,children:_e,maxLines:nt,style:et},it,lt,$,j)}return getWordsWithoutCalculate(_e)},DEFAULT_FILL="#808080",Text=function o(_){var $=_.x,j=$===void 0?0:$,_e=_.y,et=_e===void 0?0:_e,tt=_.lineHeight,nt=tt===void 0?"1em":tt,it=_.capHeight,lt=it===void 0?"0.71em":it,dt=_.scaleToFit,bt=dt===void 0?!1:dt,Ht=_.textAnchor,pr=Ht===void 0?"start":Ht,_n=_.verticalAnchor,ft=_n===void 0?"end":_n,Ct=_.fill,mr=Ct===void 0?DEFAULT_FILL:Ct,_r=_objectWithoutProperties$d(_,_excluded$d),mn=reactExports.useMemo(function(){return getWordsByLines({breakAll:_r.breakAll,children:_r.children,maxLines:_r.maxLines,scaleToFit:bt,style:_r.style,width:_r.width})},[_r.breakAll,_r.children,_r.maxLines,bt,_r.style,_r.width]),dr=_r.dx,pn=_r.dy,Do=_r.angle,Io=_r.className,Lo=_r.breakAll,ms=_objectWithoutProperties$d(_r,_excluded2$5);if(!isNumOrStr(j)||!isNumOrStr(et))return null;var Uo=j+(isNumber(dr)?dr:0),_s=et+(isNumber(pn)?pn:0),yp;switch(ft){case"start":yp=reduceCSSCalc("calc(".concat(lt,")"));break;case"middle":yp=reduceCSSCalc("calc(".concat((mn.length-1)/2," * -").concat(nt," + (").concat(lt," / 2))"));break;default:yp=reduceCSSCalc("calc(".concat(mn.length-1," * -").concat(nt,")"));break}var xs=[];if(bt){var vs=mn[0].width,Sp=_r.width;xs.push("scale(".concat((isNumber(Sp)?Sp/vs:1)/vs,")"))}return Do&&xs.push("rotate(".concat(Do,", ").concat(Uo,", ").concat(_s,")")),xs.length&&(ms.transform=xs.join(" ")),React.createElement("text",_extends$q({},filterProps(ms,!0),{x:Uo,y:_s,className:clsx$1("recharts-text",Io),textAnchor:pr,fill:mr.includes("url")?DEFAULT_FILL:mr}),mn.map(function(wp,bp){var Ep=wp.words.join(Lo?"":" ");return React.createElement("tspan",{x:Uo,dy:bp===0?yp:nt,key:Ep},Ep)}))};function ascending(o,_){return o==null||_==null?NaN:o<_?-1:o>_?1:o>=_?0:NaN}function descending(o,_){return o==null||_==null?NaN:_<o?-1:_>o?1:_>=o?0:NaN}function bisector(o){let _,$,j;o.length!==2?(_=ascending,$=(nt,it)=>ascending(o(nt),it),j=(nt,it)=>o(nt)-it):(_=o===ascending||o===descending?o:zero,$=o,j=o);function _e(nt,it,lt=0,dt=nt.length){if(lt<dt){if(_(it,it)!==0)return dt;do{const bt=lt+dt>>>1;$(nt[bt],it)<0?lt=bt+1:dt=bt}while(lt<dt)}return lt}function et(nt,it,lt=0,dt=nt.length){if(lt<dt){if(_(it,it)!==0)return dt;do{const bt=lt+dt>>>1;$(nt[bt],it)<=0?lt=bt+1:dt=bt}while(lt<dt)}return lt}function tt(nt,it,lt=0,dt=nt.length){const bt=_e(nt,it,lt,dt-1);return bt>lt&&j(nt[bt-1],it)>-j(nt[bt],it)?bt-1:bt}return{left:_e,center:tt,right:et}}function zero(){return 0}function number$2(o){return o===null?NaN:+o}function*numbers(o,_){for(let $ of o)$!=null&&($=+$)>=$&&(yield $)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(_,$=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:$}}),_!=null)for(const[j,_e]of _)this.set(j,_e)}get(_){return super.get(intern_get(this,_))}has(_){return super.has(intern_get(this,_))}set(_,$){return super.set(intern_set(this,_),$)}delete(_){return super.delete(intern_delete(this,_))}}function intern_get({_intern:o,_key:_},$){const j=_($);return o.has(j)?o.get(j):$}function intern_set({_intern:o,_key:_},$){const j=_($);return o.has(j)?o.get(j):(o.set(j,$),$)}function intern_delete({_intern:o,_key:_},$){const j=_($);return o.has(j)&&($=o.get(j),o.delete(j)),$}function keyof(o){return o!==null&&typeof o=="object"?o.valueOf():o}function compareDefined(o=ascending){if(o===ascending)return ascendingDefined;if(typeof o!="function")throw new TypeError("compare is not a function");return(_,$)=>{const j=o(_,$);return j||j===0?j:(o($,$)===0)-(o(_,_)===0)}}function ascendingDefined(o,_){return(o==null||!(o>=o))-(_==null||!(_>=_))||(o<_?-1:o>_?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(o,_,$){const j=(_-o)/Math.max(0,$),_e=Math.floor(Math.log10(j)),et=j/Math.pow(10,_e),tt=et>=e10?10:et>=e5?5:et>=e2?2:1;let nt,it,lt;return _e<0?(lt=Math.pow(10,-_e)/tt,nt=Math.round(o*lt),it=Math.round(_*lt),nt/lt<o&&++nt,it/lt>_&&--it,lt=-lt):(lt=Math.pow(10,_e)*tt,nt=Math.round(o/lt),it=Math.round(_/lt),nt*lt<o&&++nt,it*lt>_&&--it),it<nt&&.5<=$&&$<2?tickSpec(o,_,$*2):[nt,it,lt]}function ticks(o,_,$){if(_=+_,o=+o,$=+$,!($>0))return[];if(o===_)return[o];const j=_<o,[_e,et,tt]=j?tickSpec(_,o,$):tickSpec(o,_,$);if(!(et>=_e))return[];const nt=et-_e+1,it=new Array(nt);if(j)if(tt<0)for(let lt=0;lt<nt;++lt)it[lt]=(et-lt)/-tt;else for(let lt=0;lt<nt;++lt)it[lt]=(et-lt)*tt;else if(tt<0)for(let lt=0;lt<nt;++lt)it[lt]=(_e+lt)/-tt;else for(let lt=0;lt<nt;++lt)it[lt]=(_e+lt)*tt;return it}function tickIncrement(o,_,$){return _=+_,o=+o,$=+$,tickSpec(o,_,$)[2]}function tickStep(o,_,$){_=+_,o=+o,$=+$;const j=_<o,_e=j?tickIncrement(_,o,$):tickIncrement(o,_,$);return(j?-1:1)*(_e<0?1/-_e:_e)}function max$3(o,_){let $;for(const j of o)j!=null&&($<j||$===void 0&&j>=j)&&($=j);return $}function min$3(o,_){let $;for(const j of o)j!=null&&($>j||$===void 0&&j>=j)&&($=j);return $}function quickselect(o,_,$=0,j=1/0,_e){if(_=Math.floor(_),$=Math.floor(Math.max(0,$)),j=Math.floor(Math.min(o.length-1,j)),!($<=_&&_<=j))return o;for(_e=_e===void 0?ascendingDefined:compareDefined(_e);j>$;){if(j-$>600){const it=j-$+1,lt=_-$+1,dt=Math.log(it),bt=.5*Math.exp(2*dt/3),Ht=.5*Math.sqrt(dt*bt*(it-bt)/it)*(lt-it/2<0?-1:1),pr=Math.max($,Math.floor(_-lt*bt/it+Ht)),_n=Math.min(j,Math.floor(_+(it-lt)*bt/it+Ht));quickselect(o,_,pr,_n,_e)}const et=o[_];let tt=$,nt=j;for(swap(o,$,_),_e(o[j],et)>0&&swap(o,$,j);tt<nt;){for(swap(o,tt,nt),++tt,--nt;_e(o[tt],et)<0;)++tt;for(;_e(o[nt],et)>0;)--nt}_e(o[$],et)===0?swap(o,$,nt):(++nt,swap(o,nt,j)),nt<=_&&($=nt+1),_<=nt&&(j=nt-1)}return o}function swap(o,_,$){const j=o[_];o[_]=o[$],o[$]=j}function quantile$1(o,_,$){if(o=Float64Array.from(numbers(o)),!(!(j=o.length)||isNaN(_=+_))){if(_<=0||j<2)return min$3(o);if(_>=1)return max$3(o);var j,_e=(j-1)*_,et=Math.floor(_e),tt=max$3(quickselect(o,et).subarray(0,et+1)),nt=min$3(o.subarray(et+1));return tt+(nt-tt)*(_e-et)}}function quantileSorted(o,_,$=number$2){if(!(!(j=o.length)||isNaN(_=+_))){if(_<=0||j<2)return+$(o[0],0,o);if(_>=1)return+$(o[j-1],j-1,o);var j,_e=(j-1)*_,et=Math.floor(_e),tt=+$(o[et],et,o),nt=+$(o[et+1],et+1,o);return tt+(nt-tt)*(_e-et)}}function range$3(o,_,$){o=+o,_=+_,$=(_e=arguments.length)<2?(_=o,o=0,1):_e<3?1:+$;for(var j=-1,_e=Math.max(0,Math.ceil((_-o)/$))|0,et=new Array(_e);++j<_e;)et[j]=o+j*$;return et}function initRange(o,_){switch(arguments.length){case 0:break;case 1:this.range(o);break;default:this.range(_).domain(o);break}return this}function initInterpolator(o,_){switch(arguments.length){case 0:break;case 1:{typeof o=="function"?this.interpolator(o):this.range(o);break}default:{this.domain(o),typeof _=="function"?this.interpolator(_):this.range(_);break}}return this}const implicit=Symbol("implicit");function ordinal(){var o=new InternMap,_=[],$=[],j=implicit;function _e(et){let tt=o.get(et);if(tt===void 0){if(j!==implicit)return j;o.set(et,tt=_.push(et)-1)}return $[tt%$.length]}return _e.domain=function(et){if(!arguments.length)return _.slice();_=[],o=new InternMap;for(const tt of et)o.has(tt)||o.set(tt,_.push(tt)-1);return _e},_e.range=function(et){return arguments.length?($=Array.from(et),_e):$.slice()},_e.unknown=function(et){return arguments.length?(j=et,_e):j},_e.copy=function(){return ordinal(_,$).unknown(j)},initRange.apply(_e,arguments),_e}function band(){var o=ordinal().unknown(void 0),_=o.domain,$=o.range,j=0,_e=1,et,tt,nt=!1,it=0,lt=0,dt=.5;delete o.unknown;function bt(){var Ht=_().length,pr=_e<j,_n=pr?_e:j,ft=pr?j:_e;et=(ft-_n)/Math.max(1,Ht-it+lt*2),nt&&(et=Math.floor(et)),_n+=(ft-_n-et*(Ht-it))*dt,tt=et*(1-it),nt&&(_n=Math.round(_n),tt=Math.round(tt));var Ct=range$3(Ht).map(function(mr){return _n+et*mr});return $(pr?Ct.reverse():Ct)}return o.domain=function(Ht){return arguments.length?(_(Ht),bt()):_()},o.range=function(Ht){return arguments.length?([j,_e]=Ht,j=+j,_e=+_e,bt()):[j,_e]},o.rangeRound=function(Ht){return[j,_e]=Ht,j=+j,_e=+_e,nt=!0,bt()},o.bandwidth=function(){return tt},o.step=function(){return et},o.round=function(Ht){return arguments.length?(nt=!!Ht,bt()):nt},o.padding=function(Ht){return arguments.length?(it=Math.min(1,lt=+Ht),bt()):it},o.paddingInner=function(Ht){return arguments.length?(it=Math.min(1,Ht),bt()):it},o.paddingOuter=function(Ht){return arguments.length?(lt=+Ht,bt()):lt},o.align=function(Ht){return arguments.length?(dt=Math.max(0,Math.min(1,Ht)),bt()):dt},o.copy=function(){return band(_(),[j,_e]).round(nt).paddingInner(it).paddingOuter(lt).align(dt)},initRange.apply(bt(),arguments)}function pointish(o){var _=o.copy;return o.padding=o.paddingOuter,delete o.paddingInner,delete o.paddingOuter,o.copy=function(){return pointish(_())},o}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function constants(o){return function(){return o}}function number$1(o){return+o}var unit=[0,1];function identity$6(o){return o}function normalize(o,_){return(_-=o=+o)?function($){return($-o)/_}:constants(isNaN(_)?NaN:.5)}function clamper(o,_){var $;return o>_&&($=o,o=_,_=$),function(j){return Math.max(o,Math.min(_,j))}}function bimap(o,_,$){var j=o[0],_e=o[1],et=_[0],tt=_[1];return _e<j?(j=normalize(_e,j),et=$(tt,et)):(j=normalize(j,_e),et=$(et,tt)),function(nt){return et(j(nt))}}function polymap(o,_,$){var j=Math.min(o.length,_.length)-1,_e=new Array(j),et=new Array(j),tt=-1;for(o[j]<o[0]&&(o=o.slice().reverse(),_=_.slice().reverse());++tt<j;)_e[tt]=normalize(o[tt],o[tt+1]),et[tt]=$(_[tt],_[tt+1]);return function(nt){var it=bisectRight(o,nt,1,j)-1;return et[it](_e[it](nt))}}function copy$1(o,_){return _.domain(o.domain()).range(o.range()).interpolate(o.interpolate()).clamp(o.clamp()).unknown(o.unknown())}function transformer$2(){var o=unit,_=unit,$=interpolate$1,j,_e,et,tt=identity$6,nt,it,lt;function dt(){var Ht=Math.min(o.length,_.length);return tt!==identity$6&&(tt=clamper(o[0],o[Ht-1])),nt=Ht>2?polymap:bimap,it=lt=null,bt}function bt(Ht){return Ht==null||isNaN(Ht=+Ht)?et:(it||(it=nt(o.map(j),_,$)))(j(tt(Ht)))}return bt.invert=function(Ht){return tt(_e((lt||(lt=nt(_,o.map(j),interpolateNumber$2)))(Ht)))},bt.domain=function(Ht){return arguments.length?(o=Array.from(Ht,number$1),dt()):o.slice()},bt.range=function(Ht){return arguments.length?(_=Array.from(Ht),dt()):_.slice()},bt.rangeRound=function(Ht){return _=Array.from(Ht),$=interpolateRound,dt()},bt.clamp=function(Ht){return arguments.length?(tt=Ht?!0:identity$6,dt()):tt!==identity$6},bt.interpolate=function(Ht){return arguments.length?($=Ht,dt()):$},bt.unknown=function(Ht){return arguments.length?(et=Ht,bt):et},function(Ht,pr){return j=Ht,_e=pr,dt()}}function continuous(){return transformer$2()(identity$6,identity$6)}function formatDecimal(o){return Math.abs(o=Math.round(o))>=1e21?o.toLocaleString("en").replace(/,/g,""):o.toString(10)}function formatDecimalParts(o,_){if(($=(o=_?o.toExponential(_-1):o.toExponential()).indexOf("e"))<0)return null;var $,j=o.slice(0,$);return[j.length>1?j[0]+j.slice(2):j,+o.slice($+1)]}function exponent(o){return o=formatDecimalParts(Math.abs(o)),o?o[1]:NaN}function formatGroup(o,_){return function($,j){for(var _e=$.length,et=[],tt=0,nt=o[0],it=0;_e>0&&nt>0&&(it+nt+1>j&&(nt=Math.max(1,j-it)),et.push($.substring(_e-=nt,_e+nt)),!((it+=nt+1)>j));)nt=o[tt=(tt+1)%o.length];return et.reverse().join(_)}}function formatNumerals(o){return function(_){return _.replace(/[0-9]/g,function($){return o[+$]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(o){if(!(_=re.exec(o)))throw new Error("invalid format: "+o);var _;return new FormatSpecifier({fill:_[1],align:_[2],sign:_[3],symbol:_[4],zero:_[5],width:_[6],comma:_[7],precision:_[8]&&_[8].slice(1),trim:_[9],type:_[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(o){this.fill=o.fill===void 0?" ":o.fill+"",this.align=o.align===void 0?">":o.align+"",this.sign=o.sign===void 0?"-":o.sign+"",this.symbol=o.symbol===void 0?"":o.symbol+"",this.zero=!!o.zero,this.width=o.width===void 0?void 0:+o.width,this.comma=!!o.comma,this.precision=o.precision===void 0?void 0:+o.precision,this.trim=!!o.trim,this.type=o.type===void 0?"":o.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(o){e:for(var _=o.length,$=1,j=-1,_e;$<_;++$)switch(o[$]){case".":j=_e=$;break;case"0":j===0&&(j=$),_e=$;break;default:if(!+o[$])break e;j>0&&(j=0);break}return j>0?o.slice(0,j)+o.slice(_e+1):o}var prefixExponent;function formatPrefixAuto(o,_){var $=formatDecimalParts(o,_);if(!$)return o+"";var j=$[0],_e=$[1],et=_e-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(_e/3)))*3)+1,tt=j.length;return et===tt?j:et>tt?j+new Array(et-tt+1).join("0"):et>0?j.slice(0,et)+"."+j.slice(et):"0."+new Array(1-et).join("0")+formatDecimalParts(o,Math.max(0,_+et-1))[0]}function formatRounded(o,_){var $=formatDecimalParts(o,_);if(!$)return o+"";var j=$[0],_e=$[1];return _e<0?"0."+new Array(-_e).join("0")+j:j.length>_e+1?j.slice(0,_e+1)+"."+j.slice(_e+1):j+new Array(_e-j.length+2).join("0")}const formatTypes={"%":(o,_)=>(o*100).toFixed(_),b:o=>Math.round(o).toString(2),c:o=>o+"",d:formatDecimal,e:(o,_)=>o.toExponential(_),f:(o,_)=>o.toFixed(_),g:(o,_)=>o.toPrecision(_),o:o=>Math.round(o).toString(8),p:(o,_)=>formatRounded(o*100,_),r:formatRounded,s:formatPrefixAuto,X:o=>Math.round(o).toString(16).toUpperCase(),x:o=>Math.round(o).toString(16)};function identity$5(o){return o}var map$3=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(o){var _=o.grouping===void 0||o.thousands===void 0?identity$5:formatGroup(map$3.call(o.grouping,Number),o.thousands+""),$=o.currency===void 0?"":o.currency[0]+"",j=o.currency===void 0?"":o.currency[1]+"",_e=o.decimal===void 0?".":o.decimal+"",et=o.numerals===void 0?identity$5:formatNumerals(map$3.call(o.numerals,String)),tt=o.percent===void 0?"%":o.percent+"",nt=o.minus===void 0?"−":o.minus+"",it=o.nan===void 0?"NaN":o.nan+"";function lt(bt){bt=formatSpecifier(bt);var Ht=bt.fill,pr=bt.align,_n=bt.sign,ft=bt.symbol,Ct=bt.zero,mr=bt.width,_r=bt.comma,mn=bt.precision,dr=bt.trim,pn=bt.type;pn==="n"?(_r=!0,pn="g"):formatTypes[pn]||(mn===void 0&&(mn=12),dr=!0,pn="g"),(Ct||Ht==="0"&&pr==="=")&&(Ct=!0,Ht="0",pr="=");var Do=ft==="$"?$:ft==="#"&&/[boxX]/.test(pn)?"0"+pn.toLowerCase():"",Io=ft==="$"?j:/[%p]/.test(pn)?tt:"",Lo=formatTypes[pn],ms=/[defgprs%]/.test(pn);mn=mn===void 0?6:/[gprs]/.test(pn)?Math.max(1,Math.min(21,mn)):Math.max(0,Math.min(20,mn));function Uo(_s){var yp=Do,xs=Io,vs,Sp,wp;if(pn==="c")xs=Lo(_s)+xs,_s="";else{_s=+_s;var bp=_s<0||1/_s<0;if(_s=isNaN(_s)?it:Lo(Math.abs(_s),mn),dr&&(_s=formatTrim(_s)),bp&&+_s==0&&_n!=="+"&&(bp=!1),yp=(bp?_n==="("?_n:nt:_n==="-"||_n==="("?"":_n)+yp,xs=(pn==="s"?prefixes[8+prefixExponent/3]:"")+xs+(bp&&_n==="("?")":""),ms){for(vs=-1,Sp=_s.length;++vs<Sp;)if(wp=_s.charCodeAt(vs),48>wp||wp>57){xs=(wp===46?_e+_s.slice(vs+1):_s.slice(vs))+xs,_s=_s.slice(0,vs);break}}}_r&&!Ct&&(_s=_(_s,1/0));var Ep=yp.length+_s.length+xs.length,Cp=Ep<mr?new Array(mr-Ep+1).join(Ht):"";switch(_r&&Ct&&(_s=_(Cp+_s,Cp.length?mr-xs.length:1/0),Cp=""),pr){case"<":_s=yp+_s+xs+Cp;break;case"=":_s=yp+Cp+_s+xs;break;case"^":_s=Cp.slice(0,Ep=Cp.length>>1)+yp+_s+xs+Cp.slice(Ep);break;default:_s=Cp+yp+_s+xs;break}return et(_s)}return Uo.toString=function(){return bt+""},Uo}function dt(bt,Ht){var pr=lt((bt=formatSpecifier(bt),bt.type="f",bt)),_n=Math.max(-8,Math.min(8,Math.floor(exponent(Ht)/3)))*3,ft=Math.pow(10,-_n),Ct=prefixes[8+_n/3];return function(mr){return pr(ft*mr)+Ct}}return{format:lt,formatPrefix:dt}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(o){return locale$1=formatLocale$1(o),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(o){return Math.max(0,-exponent(Math.abs(o)))}function precisionPrefix(o,_){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(_)/3)))*3-exponent(Math.abs(o)))}function precisionRound(o,_){return o=Math.abs(o),_=Math.abs(_)-o,Math.max(0,exponent(_)-exponent(o))+1}function tickFormat(o,_,$,j){var _e=tickStep(o,_,$),et;switch(j=formatSpecifier(j??",f"),j.type){case"s":{var tt=Math.max(Math.abs(o),Math.abs(_));return j.precision==null&&!isNaN(et=precisionPrefix(_e,tt))&&(j.precision=et),formatPrefix(j,tt)}case"":case"e":case"g":case"p":case"r":{j.precision==null&&!isNaN(et=precisionRound(_e,Math.max(Math.abs(o),Math.abs(_))))&&(j.precision=et-(j.type==="e"));break}case"f":case"%":{j.precision==null&&!isNaN(et=precisionFixed(_e))&&(j.precision=et-(j.type==="%")*2);break}}return format(j)}function linearish(o){var _=o.domain;return o.ticks=function($){var j=_();return ticks(j[0],j[j.length-1],$??10)},o.tickFormat=function($,j){var _e=_();return tickFormat(_e[0],_e[_e.length-1],$??10,j)},o.nice=function($){$==null&&($=10);var j=_(),_e=0,et=j.length-1,tt=j[_e],nt=j[et],it,lt,dt=10;for(nt<tt&&(lt=tt,tt=nt,nt=lt,lt=_e,_e=et,et=lt);dt-- >0;){if(lt=tickIncrement(tt,nt,$),lt===it)return j[_e]=tt,j[et]=nt,_(j);if(lt>0)tt=Math.floor(tt/lt)*lt,nt=Math.ceil(nt/lt)*lt;else if(lt<0)tt=Math.ceil(tt*lt)/lt,nt=Math.floor(nt*lt)/lt;else break;it=lt}return o},o}function linear(){var o=continuous();return o.copy=function(){return copy$1(o,linear())},initRange.apply(o,arguments),linearish(o)}function identity$4(o){var _;function $(j){return j==null||isNaN(j=+j)?_:j}return $.invert=$,$.domain=$.range=function(j){return arguments.length?(o=Array.from(j,number$1),$):o.slice()},$.unknown=function(j){return arguments.length?(_=j,$):_},$.copy=function(){return identity$4(o).unknown(_)},o=arguments.length?Array.from(o,number$1):[0,1],linearish($)}function nice(o,_){o=o.slice();var $=0,j=o.length-1,_e=o[$],et=o[j],tt;return et<_e&&(tt=$,$=j,j=tt,tt=_e,_e=et,et=tt),o[$]=_.floor(_e),o[j]=_.ceil(et),o}function transformLog(o){return Math.log(o)}function transformExp(o){return Math.exp(o)}function transformLogn(o){return-Math.log(-o)}function transformExpn(o){return-Math.exp(-o)}function pow10(o){return isFinite(o)?+("1e"+o):o<0?0:o}function powp(o){return o===10?pow10:o===Math.E?Math.exp:_=>Math.pow(o,_)}function logp(o){return o===Math.E?Math.log:o===10&&Math.log10||o===2&&Math.log2||(o=Math.log(o),_=>Math.log(_)/o)}function reflect(o){return(_,$)=>-o(-_,$)}function loggish(o){const _=o(transformLog,transformExp),$=_.domain;let j=10,_e,et;function tt(){return _e=logp(j),et=powp(j),$()[0]<0?(_e=reflect(_e),et=reflect(et),o(transformLogn,transformExpn)):o(transformLog,transformExp),_}return _.base=function(nt){return arguments.length?(j=+nt,tt()):j},_.domain=function(nt){return arguments.length?($(nt),tt()):$()},_.ticks=nt=>{const it=$();let lt=it[0],dt=it[it.length-1];const bt=dt<lt;bt&&([lt,dt]=[dt,lt]);let Ht=_e(lt),pr=_e(dt),_n,ft;const Ct=nt==null?10:+nt;let mr=[];if(!(j%1)&&pr-Ht<Ct){if(Ht=Math.floor(Ht),pr=Math.ceil(pr),lt>0){for(;Ht<=pr;++Ht)for(_n=1;_n<j;++_n)if(ft=Ht<0?_n/et(-Ht):_n*et(Ht),!(ft<lt)){if(ft>dt)break;mr.push(ft)}}else for(;Ht<=pr;++Ht)for(_n=j-1;_n>=1;--_n)if(ft=Ht>0?_n/et(-Ht):_n*et(Ht),!(ft<lt)){if(ft>dt)break;mr.push(ft)}mr.length*2<Ct&&(mr=ticks(lt,dt,Ct))}else mr=ticks(Ht,pr,Math.min(pr-Ht,Ct)).map(et);return bt?mr.reverse():mr},_.tickFormat=(nt,it)=>{if(nt==null&&(nt=10),it==null&&(it=j===10?"s":","),typeof it!="function"&&(!(j%1)&&(it=formatSpecifier(it)).precision==null&&(it.trim=!0),it=format(it)),nt===1/0)return it;const lt=Math.max(1,j*nt/_.ticks().length);return dt=>{let bt=dt/et(Math.round(_e(dt)));return bt*j<j-.5&&(bt*=j),bt<=lt?it(dt):""}},_.nice=()=>$(nice($(),{floor:nt=>et(Math.floor(_e(nt))),ceil:nt=>et(Math.ceil(_e(nt)))})),_}function log(){const o=loggish(transformer$2()).domain([1,10]);return o.copy=()=>copy$1(o,log()).base(o.base()),initRange.apply(o,arguments),o}function transformSymlog(o){return function(_){return Math.sign(_)*Math.log1p(Math.abs(_/o))}}function transformSymexp(o){return function(_){return Math.sign(_)*Math.expm1(Math.abs(_))*o}}function symlogish(o){var _=1,$=o(transformSymlog(_),transformSymexp(_));return $.constant=function(j){return arguments.length?o(transformSymlog(_=+j),transformSymexp(_)):_},linearish($)}function symlog(){var o=symlogish(transformer$2());return o.copy=function(){return copy$1(o,symlog()).constant(o.constant())},initRange.apply(o,arguments)}function transformPow(o){return function(_){return _<0?-Math.pow(-_,o):Math.pow(_,o)}}function transformSqrt(o){return o<0?-Math.sqrt(-o):Math.sqrt(o)}function transformSquare(o){return o<0?-o*o:o*o}function powish(o){var _=o(identity$6,identity$6),$=1;function j(){return $===1?o(identity$6,identity$6):$===.5?o(transformSqrt,transformSquare):o(transformPow($),transformPow(1/$))}return _.exponent=function(_e){return arguments.length?($=+_e,j()):$},linearish(_)}function pow(){var o=powish(transformer$2());return o.copy=function(){return copy$1(o,pow()).exponent(o.exponent())},initRange.apply(o,arguments),o}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(o){return Math.sign(o)*o*o}function unsquare(o){return Math.sign(o)*Math.sqrt(Math.abs(o))}function radial(){var o=continuous(),_=[0,1],$=!1,j;function _e(et){var tt=unsquare(o(et));return isNaN(tt)?j:$?Math.round(tt):tt}return _e.invert=function(et){return o.invert(square(et))},_e.domain=function(et){return arguments.length?(o.domain(et),_e):o.domain()},_e.range=function(et){return arguments.length?(o.range((_=Array.from(et,number$1)).map(square)),_e):_.slice()},_e.rangeRound=function(et){return _e.range(et).round(!0)},_e.round=function(et){return arguments.length?($=!!et,_e):$},_e.clamp=function(et){return arguments.length?(o.clamp(et),_e):o.clamp()},_e.unknown=function(et){return arguments.length?(j=et,_e):j},_e.copy=function(){return radial(o.domain(),_).round($).clamp(o.clamp()).unknown(j)},initRange.apply(_e,arguments),linearish(_e)}function quantile(){var o=[],_=[],$=[],j;function _e(){var tt=0,nt=Math.max(1,_.length);for($=new Array(nt-1);++tt<nt;)$[tt-1]=quantileSorted(o,tt/nt);return et}function et(tt){return tt==null||isNaN(tt=+tt)?j:_[bisectRight($,tt)]}return et.invertExtent=function(tt){var nt=_.indexOf(tt);return nt<0?[NaN,NaN]:[nt>0?$[nt-1]:o[0],nt<$.length?$[nt]:o[o.length-1]]},et.domain=function(tt){if(!arguments.length)return o.slice();o=[];for(let nt of tt)nt!=null&&!isNaN(nt=+nt)&&o.push(nt);return o.sort(ascending),_e()},et.range=function(tt){return arguments.length?(_=Array.from(tt),_e()):_.slice()},et.unknown=function(tt){return arguments.length?(j=tt,et):j},et.quantiles=function(){return $.slice()},et.copy=function(){return quantile().domain(o).range(_).unknown(j)},initRange.apply(et,arguments)}function quantize(){var o=0,_=1,$=1,j=[.5],_e=[0,1],et;function tt(it){return it!=null&&it<=it?_e[bisectRight(j,it,0,$)]:et}function nt(){var it=-1;for(j=new Array($);++it<$;)j[it]=((it+1)*_-(it-$)*o)/($+1);return tt}return tt.domain=function(it){return arguments.length?([o,_]=it,o=+o,_=+_,nt()):[o,_]},tt.range=function(it){return arguments.length?($=(_e=Array.from(it)).length-1,nt()):_e.slice()},tt.invertExtent=function(it){var lt=_e.indexOf(it);return lt<0?[NaN,NaN]:lt<1?[o,j[0]]:lt>=$?[j[$-1],_]:[j[lt-1],j[lt]]},tt.unknown=function(it){return arguments.length&&(et=it),tt},tt.thresholds=function(){return j.slice()},tt.copy=function(){return quantize().domain([o,_]).range(_e).unknown(et)},initRange.apply(linearish(tt),arguments)}function threshold(){var o=[.5],_=[0,1],$,j=1;function _e(et){return et!=null&&et<=et?_[bisectRight(o,et,0,j)]:$}return _e.domain=function(et){return arguments.length?(o=Array.from(et),j=Math.min(o.length,_.length-1),_e):o.slice()},_e.range=function(et){return arguments.length?(_=Array.from(et),j=Math.min(o.length,_.length-1),_e):_.slice()},_e.invertExtent=function(et){var tt=_.indexOf(et);return[o[tt-1],o[tt]]},_e.unknown=function(et){return arguments.length?($=et,_e):$},_e.copy=function(){return threshold().domain(o).range(_).unknown($)},initRange.apply(_e,arguments)}const t0=new Date,t1=new Date;function timeInterval(o,_,$,j){function _e(et){return o(et=arguments.length===0?new Date:new Date(+et)),et}return _e.floor=et=>(o(et=new Date(+et)),et),_e.ceil=et=>(o(et=new Date(et-1)),_(et,1),o(et),et),_e.round=et=>{const tt=_e(et),nt=_e.ceil(et);return et-tt<nt-et?tt:nt},_e.offset=(et,tt)=>(_(et=new Date(+et),tt==null?1:Math.floor(tt)),et),_e.range=(et,tt,nt)=>{const it=[];if(et=_e.ceil(et),nt=nt==null?1:Math.floor(nt),!(et<tt)||!(nt>0))return it;let lt;do it.push(lt=new Date(+et)),_(et,nt),o(et);while(lt<et&&et<tt);return it},_e.filter=et=>timeInterval(tt=>{if(tt>=tt)for(;o(tt),!et(tt);)tt.setTime(tt-1)},(tt,nt)=>{if(tt>=tt)if(nt<0)for(;++nt<=0;)for(;_(tt,-1),!et(tt););else for(;--nt>=0;)for(;_(tt,1),!et(tt););}),$&&(_e.count=(et,tt)=>(t0.setTime(+et),t1.setTime(+tt),o(t0),o(t1),Math.floor($(t0,t1))),_e.every=et=>(et=Math.floor(et),!isFinite(et)||!(et>0)?null:et>1?_e.filter(j?tt=>j(tt)%et===0:tt=>_e.count(0,tt)%et===0):_e)),_e}const millisecond=timeInterval(()=>{},(o,_)=>{o.setTime(+o+_)},(o,_)=>_-o);millisecond.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?timeInterval(_=>{_.setTime(Math.floor(_/o)*o)},(_,$)=>{_.setTime(+_+$*o)},(_,$)=>($-_)/o):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(o=>{o.setTime(o-o.getMilliseconds())},(o,_)=>{o.setTime(+o+_*durationSecond)},(o,_)=>(_-o)/durationSecond,o=>o.getUTCSeconds());second.range;const timeMinute=timeInterval(o=>{o.setTime(o-o.getMilliseconds()-o.getSeconds()*durationSecond)},(o,_)=>{o.setTime(+o+_*durationMinute)},(o,_)=>(_-o)/durationMinute,o=>o.getMinutes());timeMinute.range;const utcMinute=timeInterval(o=>{o.setUTCSeconds(0,0)},(o,_)=>{o.setTime(+o+_*durationMinute)},(o,_)=>(_-o)/durationMinute,o=>o.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(o=>{o.setTime(o-o.getMilliseconds()-o.getSeconds()*durationSecond-o.getMinutes()*durationMinute)},(o,_)=>{o.setTime(+o+_*durationHour)},(o,_)=>(_-o)/durationHour,o=>o.getHours());timeHour.range;const utcHour=timeInterval(o=>{o.setUTCMinutes(0,0,0)},(o,_)=>{o.setTime(+o+_*durationHour)},(o,_)=>(_-o)/durationHour,o=>o.getUTCHours());utcHour.range;const timeDay=timeInterval(o=>o.setHours(0,0,0,0),(o,_)=>o.setDate(o.getDate()+_),(o,_)=>(_-o-(_.getTimezoneOffset()-o.getTimezoneOffset())*durationMinute)/durationDay,o=>o.getDate()-1);timeDay.range;const utcDay=timeInterval(o=>{o.setUTCHours(0,0,0,0)},(o,_)=>{o.setUTCDate(o.getUTCDate()+_)},(o,_)=>(_-o)/durationDay,o=>o.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(o=>{o.setUTCHours(0,0,0,0)},(o,_)=>{o.setUTCDate(o.getUTCDate()+_)},(o,_)=>(_-o)/durationDay,o=>Math.floor(o/durationDay));unixDay.range;function timeWeekday(o){return timeInterval(_=>{_.setDate(_.getDate()-(_.getDay()+7-o)%7),_.setHours(0,0,0,0)},(_,$)=>{_.setDate(_.getDate()+$*7)},(_,$)=>($-_-($.getTimezoneOffset()-_.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(o){return timeInterval(_=>{_.setUTCDate(_.getUTCDate()-(_.getUTCDay()+7-o)%7),_.setUTCHours(0,0,0,0)},(_,$)=>{_.setUTCDate(_.getUTCDate()+$*7)},(_,$)=>($-_)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(o=>{o.setDate(1),o.setHours(0,0,0,0)},(o,_)=>{o.setMonth(o.getMonth()+_)},(o,_)=>_.getMonth()-o.getMonth()+(_.getFullYear()-o.getFullYear())*12,o=>o.getMonth());timeMonth.range;const utcMonth=timeInterval(o=>{o.setUTCDate(1),o.setUTCHours(0,0,0,0)},(o,_)=>{o.setUTCMonth(o.getUTCMonth()+_)},(o,_)=>_.getUTCMonth()-o.getUTCMonth()+(_.getUTCFullYear()-o.getUTCFullYear())*12,o=>o.getUTCMonth());utcMonth.range;const timeYear=timeInterval(o=>{o.setMonth(0,1),o.setHours(0,0,0,0)},(o,_)=>{o.setFullYear(o.getFullYear()+_)},(o,_)=>_.getFullYear()-o.getFullYear(),o=>o.getFullYear());timeYear.every=o=>!isFinite(o=Math.floor(o))||!(o>0)?null:timeInterval(_=>{_.setFullYear(Math.floor(_.getFullYear()/o)*o),_.setMonth(0,1),_.setHours(0,0,0,0)},(_,$)=>{_.setFullYear(_.getFullYear()+$*o)});timeYear.range;const utcYear=timeInterval(o=>{o.setUTCMonth(0,1),o.setUTCHours(0,0,0,0)},(o,_)=>{o.setUTCFullYear(o.getUTCFullYear()+_)},(o,_)=>_.getUTCFullYear()-o.getUTCFullYear(),o=>o.getUTCFullYear());utcYear.every=o=>!isFinite(o=Math.floor(o))||!(o>0)?null:timeInterval(_=>{_.setUTCFullYear(Math.floor(_.getUTCFullYear()/o)*o),_.setUTCMonth(0,1),_.setUTCHours(0,0,0,0)},(_,$)=>{_.setUTCFullYear(_.getUTCFullYear()+$*o)});utcYear.range;function ticker(o,_,$,j,_e,et){const tt=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[et,1,durationMinute],[et,5,5*durationMinute],[et,15,15*durationMinute],[et,30,30*durationMinute],[_e,1,durationHour],[_e,3,3*durationHour],[_e,6,6*durationHour],[_e,12,12*durationHour],[j,1,durationDay],[j,2,2*durationDay],[$,1,durationWeek],[_,1,durationMonth],[_,3,3*durationMonth],[o,1,durationYear]];function nt(lt,dt,bt){const Ht=dt<lt;Ht&&([lt,dt]=[dt,lt]);const pr=bt&&typeof bt.range=="function"?bt:it(lt,dt,bt),_n=pr?pr.range(lt,+dt+1):[];return Ht?_n.reverse():_n}function it(lt,dt,bt){const Ht=Math.abs(dt-lt)/bt,pr=bisector(([,,Ct])=>Ct).right(tt,Ht);if(pr===tt.length)return o.every(tickStep(lt/durationYear,dt/durationYear,bt));if(pr===0)return millisecond.every(Math.max(tickStep(lt,dt,bt),1));const[_n,ft]=tt[Ht/tt[pr-1][2]<tt[pr][2]/Ht?pr-1:pr];return _n.every(ft)}return[nt,it]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(o){if(0<=o.y&&o.y<100){var _=new Date(-1,o.m,o.d,o.H,o.M,o.S,o.L);return _.setFullYear(o.y),_}return new Date(o.y,o.m,o.d,o.H,o.M,o.S,o.L)}function utcDate(o){if(0<=o.y&&o.y<100){var _=new Date(Date.UTC(-1,o.m,o.d,o.H,o.M,o.S,o.L));return _.setUTCFullYear(o.y),_}return new Date(Date.UTC(o.y,o.m,o.d,o.H,o.M,o.S,o.L))}function newDate$1(o,_,$){return{y:o,m:_,d:$,H:0,M:0,S:0,L:0}}function formatLocale(o){var _=o.dateTime,$=o.date,j=o.time,_e=o.periods,et=o.days,tt=o.shortDays,nt=o.months,it=o.shortMonths,lt=formatRe(_e),dt=formatLookup(_e),bt=formatRe(et),Ht=formatLookup(et),pr=formatRe(tt),_n=formatLookup(tt),ft=formatRe(nt),Ct=formatLookup(nt),mr=formatRe(it),_r=formatLookup(it),mn={a:bp,A:Ep,b:Cp,B:Ap,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Mp,q:Pp,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},dr={a:Ip,A:Op,b:Wp,B:Yp,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Zp,q:Qp,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},pn={a:Uo,A:_s,b:yp,B:xs,c:vs,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:ms,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Sp,X:wp,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};mn.x=Do($,mn),mn.X=Do(j,mn),mn.c=Do(_,mn),dr.x=Do($,dr),dr.X=Do(j,dr),dr.c=Do(_,dr);function Do(Gp,rm){return function(Jp){var Up=[],im=-1,em=0,gm=Gp.length,bm,ym,am;for(Jp instanceof Date||(Jp=new Date(+Jp));++im<gm;)Gp.charCodeAt(im)===37&&(Up.push(Gp.slice(em,im)),(ym=pads[bm=Gp.charAt(++im)])!=null?bm=Gp.charAt(++im):ym=bm==="e"?" ":"0",(am=rm[bm])&&(bm=am(Jp,ym)),Up.push(bm),em=im+1);return Up.push(Gp.slice(em,im)),Up.join("")}}function Io(Gp,rm){return function(Jp){var Up=newDate$1(1900,void 0,1),im=Lo(Up,Gp,Jp+="",0),em,gm;if(im!=Jp.length)return null;if("Q"in Up)return new Date(Up.Q);if("s"in Up)return new Date(Up.s*1e3+("L"in Up?Up.L:0));if(rm&&!("Z"in Up)&&(Up.Z=0),"p"in Up&&(Up.H=Up.H%12+Up.p*12),Up.m===void 0&&(Up.m="q"in Up?Up.q:0),"V"in Up){if(Up.V<1||Up.V>53)return null;"w"in Up||(Up.w=1),"Z"in Up?(em=utcDate(newDate$1(Up.y,0,1)),gm=em.getUTCDay(),em=gm>4||gm===0?utcMonday.ceil(em):utcMonday(em),em=utcDay.offset(em,(Up.V-1)*7),Up.y=em.getUTCFullYear(),Up.m=em.getUTCMonth(),Up.d=em.getUTCDate()+(Up.w+6)%7):(em=localDate(newDate$1(Up.y,0,1)),gm=em.getDay(),em=gm>4||gm===0?timeMonday.ceil(em):timeMonday(em),em=timeDay.offset(em,(Up.V-1)*7),Up.y=em.getFullYear(),Up.m=em.getMonth(),Up.d=em.getDate()+(Up.w+6)%7)}else("W"in Up||"U"in Up)&&("w"in Up||(Up.w="u"in Up?Up.u%7:"W"in Up?1:0),gm="Z"in Up?utcDate(newDate$1(Up.y,0,1)).getUTCDay():localDate(newDate$1(Up.y,0,1)).getDay(),Up.m=0,Up.d="W"in Up?(Up.w+6)%7+Up.W*7-(gm+5)%7:Up.w+Up.U*7-(gm+6)%7);return"Z"in Up?(Up.H+=Up.Z/100|0,Up.M+=Up.Z%100,utcDate(Up)):localDate(Up)}}function Lo(Gp,rm,Jp,Up){for(var im=0,em=rm.length,gm=Jp.length,bm,ym;im<em;){if(Up>=gm)return-1;if(bm=rm.charCodeAt(im++),bm===37){if(bm=rm.charAt(im++),ym=pn[bm in pads?rm.charAt(im++):bm],!ym||(Up=ym(Gp,Jp,Up))<0)return-1}else if(bm!=Jp.charCodeAt(Up++))return-1}return Up}function ms(Gp,rm,Jp){var Up=lt.exec(rm.slice(Jp));return Up?(Gp.p=dt.get(Up[0].toLowerCase()),Jp+Up[0].length):-1}function Uo(Gp,rm,Jp){var Up=pr.exec(rm.slice(Jp));return Up?(Gp.w=_n.get(Up[0].toLowerCase()),Jp+Up[0].length):-1}function _s(Gp,rm,Jp){var Up=bt.exec(rm.slice(Jp));return Up?(Gp.w=Ht.get(Up[0].toLowerCase()),Jp+Up[0].length):-1}function yp(Gp,rm,Jp){var Up=mr.exec(rm.slice(Jp));return Up?(Gp.m=_r.get(Up[0].toLowerCase()),Jp+Up[0].length):-1}function xs(Gp,rm,Jp){var Up=ft.exec(rm.slice(Jp));return Up?(Gp.m=Ct.get(Up[0].toLowerCase()),Jp+Up[0].length):-1}function vs(Gp,rm,Jp){return Lo(Gp,_,rm,Jp)}function Sp(Gp,rm,Jp){return Lo(Gp,$,rm,Jp)}function wp(Gp,rm,Jp){return Lo(Gp,j,rm,Jp)}function bp(Gp){return tt[Gp.getDay()]}function Ep(Gp){return et[Gp.getDay()]}function Cp(Gp){return it[Gp.getMonth()]}function Ap(Gp){return nt[Gp.getMonth()]}function Mp(Gp){return _e[+(Gp.getHours()>=12)]}function Pp(Gp){return 1+~~(Gp.getMonth()/3)}function Ip(Gp){return tt[Gp.getUTCDay()]}function Op(Gp){return et[Gp.getUTCDay()]}function Wp(Gp){return it[Gp.getUTCMonth()]}function Yp(Gp){return nt[Gp.getUTCMonth()]}function Zp(Gp){return _e[+(Gp.getUTCHours()>=12)]}function Qp(Gp){return 1+~~(Gp.getUTCMonth()/3)}return{format:function(Gp){var rm=Do(Gp+="",mn);return rm.toString=function(){return Gp},rm},parse:function(Gp){var rm=Io(Gp+="",!1);return rm.toString=function(){return Gp},rm},utcFormat:function(Gp){var rm=Do(Gp+="",dr);return rm.toString=function(){return Gp},rm},utcParse:function(Gp){var rm=Io(Gp+="",!0);return rm.toString=function(){return Gp},rm}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(o,_,$){var j=o<0?"-":"",_e=(j?-o:o)+"",et=_e.length;return j+(et<$?new Array($-et+1).join(_)+_e:_e)}function requote(o){return o.replace(requoteRe,"\\$&")}function formatRe(o){return new RegExp("^(?:"+o.map(requote).join("|")+")","i")}function formatLookup(o){return new Map(o.map((_,$)=>[_.toLowerCase(),$]))}function parseWeekdayNumberSunday(o,_,$){var j=numberRe.exec(_.slice($,$+1));return j?(o.w=+j[0],$+j[0].length):-1}function parseWeekdayNumberMonday(o,_,$){var j=numberRe.exec(_.slice($,$+1));return j?(o.u=+j[0],$+j[0].length):-1}function parseWeekNumberSunday(o,_,$){var j=numberRe.exec(_.slice($,$+2));return j?(o.U=+j[0],$+j[0].length):-1}function parseWeekNumberISO(o,_,$){var j=numberRe.exec(_.slice($,$+2));return j?(o.V=+j[0],$+j[0].length):-1}function parseWeekNumberMonday(o,_,$){var j=numberRe.exec(_.slice($,$+2));return j?(o.W=+j[0],$+j[0].length):-1}function parseFullYear(o,_,$){var j=numberRe.exec(_.slice($,$+4));return j?(o.y=+j[0],$+j[0].length):-1}function parseYear(o,_,$){var j=numberRe.exec(_.slice($,$+2));return j?(o.y=+j[0]+(+j[0]>68?1900:2e3),$+j[0].length):-1}function parseZone(o,_,$){var j=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(_.slice($,$+6));return j?(o.Z=j[1]?0:-(j[2]+(j[3]||"00")),$+j[0].length):-1}function parseQuarter(o,_,$){var j=numberRe.exec(_.slice($,$+1));return j?(o.q=j[0]*3-3,$+j[0].length):-1}function parseMonthNumber(o,_,$){var j=numberRe.exec(_.slice($,$+2));return j?(o.m=j[0]-1,$+j[0].length):-1}function parseDayOfMonth(o,_,$){var j=numberRe.exec(_.slice($,$+2));return j?(o.d=+j[0],$+j[0].length):-1}function parseDayOfYear(o,_,$){var j=numberRe.exec(_.slice($,$+3));return j?(o.m=0,o.d=+j[0],$+j[0].length):-1}function parseHour24(o,_,$){var j=numberRe.exec(_.slice($,$+2));return j?(o.H=+j[0],$+j[0].length):-1}function parseMinutes(o,_,$){var j=numberRe.exec(_.slice($,$+2));return j?(o.M=+j[0],$+j[0].length):-1}function parseSeconds(o,_,$){var j=numberRe.exec(_.slice($,$+2));return j?(o.S=+j[0],$+j[0].length):-1}function parseMilliseconds(o,_,$){var j=numberRe.exec(_.slice($,$+3));return j?(o.L=+j[0],$+j[0].length):-1}function parseMicroseconds(o,_,$){var j=numberRe.exec(_.slice($,$+6));return j?(o.L=Math.floor(j[0]/1e3),$+j[0].length):-1}function parseLiteralPercent(o,_,$){var j=percentRe.exec(_.slice($,$+1));return j?$+j[0].length:-1}function parseUnixTimestamp(o,_,$){var j=numberRe.exec(_.slice($));return j?(o.Q=+j[0],$+j[0].length):-1}function parseUnixTimestampSeconds(o,_,$){var j=numberRe.exec(_.slice($));return j?(o.s=+j[0],$+j[0].length):-1}function formatDayOfMonth(o,_){return pad(o.getDate(),_,2)}function formatHour24(o,_){return pad(o.getHours(),_,2)}function formatHour12(o,_){return pad(o.getHours()%12||12,_,2)}function formatDayOfYear(o,_){return pad(1+timeDay.count(timeYear(o),o),_,3)}function formatMilliseconds(o,_){return pad(o.getMilliseconds(),_,3)}function formatMicroseconds(o,_){return formatMilliseconds(o,_)+"000"}function formatMonthNumber(o,_){return pad(o.getMonth()+1,_,2)}function formatMinutes(o,_){return pad(o.getMinutes(),_,2)}function formatSeconds(o,_){return pad(o.getSeconds(),_,2)}function formatWeekdayNumberMonday(o){var _=o.getDay();return _===0?7:_}function formatWeekNumberSunday(o,_){return pad(timeSunday.count(timeYear(o)-1,o),_,2)}function dISO(o){var _=o.getDay();return _>=4||_===0?timeThursday(o):timeThursday.ceil(o)}function formatWeekNumberISO(o,_){return o=dISO(o),pad(timeThursday.count(timeYear(o),o)+(timeYear(o).getDay()===4),_,2)}function formatWeekdayNumberSunday(o){return o.getDay()}function formatWeekNumberMonday(o,_){return pad(timeMonday.count(timeYear(o)-1,o),_,2)}function formatYear(o,_){return pad(o.getFullYear()%100,_,2)}function formatYearISO(o,_){return o=dISO(o),pad(o.getFullYear()%100,_,2)}function formatFullYear(o,_){return pad(o.getFullYear()%1e4,_,4)}function formatFullYearISO(o,_){var $=o.getDay();return o=$>=4||$===0?timeThursday(o):timeThursday.ceil(o),pad(o.getFullYear()%1e4,_,4)}function formatZone(o){var _=o.getTimezoneOffset();return(_>0?"-":(_*=-1,"+"))+pad(_/60|0,"0",2)+pad(_%60,"0",2)}function formatUTCDayOfMonth(o,_){return pad(o.getUTCDate(),_,2)}function formatUTCHour24(o,_){return pad(o.getUTCHours(),_,2)}function formatUTCHour12(o,_){return pad(o.getUTCHours()%12||12,_,2)}function formatUTCDayOfYear(o,_){return pad(1+utcDay.count(utcYear(o),o),_,3)}function formatUTCMilliseconds(o,_){return pad(o.getUTCMilliseconds(),_,3)}function formatUTCMicroseconds(o,_){return formatUTCMilliseconds(o,_)+"000"}function formatUTCMonthNumber(o,_){return pad(o.getUTCMonth()+1,_,2)}function formatUTCMinutes(o,_){return pad(o.getUTCMinutes(),_,2)}function formatUTCSeconds(o,_){return pad(o.getUTCSeconds(),_,2)}function formatUTCWeekdayNumberMonday(o){var _=o.getUTCDay();return _===0?7:_}function formatUTCWeekNumberSunday(o,_){return pad(utcSunday.count(utcYear(o)-1,o),_,2)}function UTCdISO(o){var _=o.getUTCDay();return _>=4||_===0?utcThursday(o):utcThursday.ceil(o)}function formatUTCWeekNumberISO(o,_){return o=UTCdISO(o),pad(utcThursday.count(utcYear(o),o)+(utcYear(o).getUTCDay()===4),_,2)}function formatUTCWeekdayNumberSunday(o){return o.getUTCDay()}function formatUTCWeekNumberMonday(o,_){return pad(utcMonday.count(utcYear(o)-1,o),_,2)}function formatUTCYear(o,_){return pad(o.getUTCFullYear()%100,_,2)}function formatUTCYearISO(o,_){return o=UTCdISO(o),pad(o.getUTCFullYear()%100,_,2)}function formatUTCFullYear(o,_){return pad(o.getUTCFullYear()%1e4,_,4)}function formatUTCFullYearISO(o,_){var $=o.getUTCDay();return o=$>=4||$===0?utcThursday(o):utcThursday.ceil(o),pad(o.getUTCFullYear()%1e4,_,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(o){return+o}function formatUnixTimestampSeconds(o){return Math.floor(+o/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(o){return locale=formatLocale(o),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(o){return new Date(o)}function number(o){return o instanceof Date?+o:+new Date(+o)}function calendar(o,_,$,j,_e,et,tt,nt,it,lt){var dt=continuous(),bt=dt.invert,Ht=dt.domain,pr=lt(".%L"),_n=lt(":%S"),ft=lt("%I:%M"),Ct=lt("%I %p"),mr=lt("%a %d"),_r=lt("%b %d"),mn=lt("%B"),dr=lt("%Y");function pn(Do){return(it(Do)<Do?pr:nt(Do)<Do?_n:tt(Do)<Do?ft:et(Do)<Do?Ct:j(Do)<Do?_e(Do)<Do?mr:_r:$(Do)<Do?mn:dr)(Do)}return dt.invert=function(Do){return new Date(bt(Do))},dt.domain=function(Do){return arguments.length?Ht(Array.from(Do,number)):Ht().map(date)},dt.ticks=function(Do){var Io=Ht();return o(Io[0],Io[Io.length-1],Do??10)},dt.tickFormat=function(Do,Io){return Io==null?pn:lt(Io)},dt.nice=function(Do){var Io=Ht();return(!Do||typeof Do.range!="function")&&(Do=_(Io[0],Io[Io.length-1],Do??10)),Do?Ht(nice(Io,Do)):dt},dt.copy=function(){return copy$1(dt,calendar(o,_,$,j,_e,et,tt,nt,it,lt))},dt}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var o=0,_=1,$,j,_e,et,tt=identity$6,nt=!1,it;function lt(bt){return bt==null||isNaN(bt=+bt)?it:tt(_e===0?.5:(bt=(et(bt)-$)*_e,nt?Math.max(0,Math.min(1,bt)):bt))}lt.domain=function(bt){return arguments.length?([o,_]=bt,$=et(o=+o),j=et(_=+_),_e=$===j?0:1/(j-$),lt):[o,_]},lt.clamp=function(bt){return arguments.length?(nt=!!bt,lt):nt},lt.interpolator=function(bt){return arguments.length?(tt=bt,lt):tt};function dt(bt){return function(Ht){var pr,_n;return arguments.length?([pr,_n]=Ht,tt=bt(pr,_n),lt):[tt(0),tt(1)]}}return lt.range=dt(interpolate$1),lt.rangeRound=dt(interpolateRound),lt.unknown=function(bt){return arguments.length?(it=bt,lt):it},function(bt){return et=bt,$=bt(o),j=bt(_),_e=$===j?0:1/(j-$),lt}}function copy(o,_){return _.domain(o.domain()).interpolator(o.interpolator()).clamp(o.clamp()).unknown(o.unknown())}function sequential(){var o=linearish(transformer$1()(identity$6));return o.copy=function(){return copy(o,sequential())},initInterpolator.apply(o,arguments)}function sequentialLog(){var o=loggish(transformer$1()).domain([1,10]);return o.copy=function(){return copy(o,sequentialLog()).base(o.base())},initInterpolator.apply(o,arguments)}function sequentialSymlog(){var o=symlogish(transformer$1());return o.copy=function(){return copy(o,sequentialSymlog()).constant(o.constant())},initInterpolator.apply(o,arguments)}function sequentialPow(){var o=powish(transformer$1());return o.copy=function(){return copy(o,sequentialPow()).exponent(o.exponent())},initInterpolator.apply(o,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var o=[],_=identity$6;function $(j){if(j!=null&&!isNaN(j=+j))return _((bisectRight(o,j,1)-1)/(o.length-1))}return $.domain=function(j){if(!arguments.length)return o.slice();o=[];for(let _e of j)_e!=null&&!isNaN(_e=+_e)&&o.push(_e);return o.sort(ascending),$},$.interpolator=function(j){return arguments.length?(_=j,$):_},$.range=function(){return o.map((j,_e)=>_(_e/(o.length-1)))},$.quantiles=function(j){return Array.from({length:j+1},(_e,et)=>quantile$1(o,et/j))},$.copy=function(){return sequentialQuantile(_).domain(o)},initInterpolator.apply($,arguments)}function transformer(){var o=0,_=.5,$=1,j=1,_e,et,tt,nt,it,lt=identity$6,dt,bt=!1,Ht;function pr(ft){return isNaN(ft=+ft)?Ht:(ft=.5+((ft=+dt(ft))-et)*(j*ft<j*et?nt:it),lt(bt?Math.max(0,Math.min(1,ft)):ft))}pr.domain=function(ft){return arguments.length?([o,_,$]=ft,_e=dt(o=+o),et=dt(_=+_),tt=dt($=+$),nt=_e===et?0:.5/(et-_e),it=et===tt?0:.5/(tt-et),j=et<_e?-1:1,pr):[o,_,$]},pr.clamp=function(ft){return arguments.length?(bt=!!ft,pr):bt},pr.interpolator=function(ft){return arguments.length?(lt=ft,pr):lt};function _n(ft){return function(Ct){var mr,_r,mn;return arguments.length?([mr,_r,mn]=Ct,lt=piecewise(ft,[mr,_r,mn]),pr):[lt(0),lt(.5),lt(1)]}}return pr.range=_n(interpolate$1),pr.rangeRound=_n(interpolateRound),pr.unknown=function(ft){return arguments.length?(Ht=ft,pr):Ht},function(ft){return dt=ft,_e=ft(o),et=ft(_),tt=ft($),nt=_e===et?0:.5/(et-_e),it=et===tt?0:.5/(tt-et),j=et<_e?-1:1,pr}}function diverging(){var o=linearish(transformer()(identity$6));return o.copy=function(){return copy(o,diverging())},initInterpolator.apply(o,arguments)}function divergingLog(){var o=loggish(transformer()).domain([.1,1,10]);return o.copy=function(){return copy(o,divergingLog()).base(o.base())},initInterpolator.apply(o,arguments)}function divergingSymlog(){var o=symlogish(transformer());return o.copy=function(){return copy(o,divergingSymlog()).constant(o.constant())},initInterpolator.apply(o,arguments)}function divergingPow(){var o=powish(transformer());return o.copy=function(){return copy(o,divergingPow()).exponent(o.exponent())},initInterpolator.apply(o,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$4,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var isSymbol=isSymbol_1;function baseExtremum$4(o,_,$){for(var j=-1,_e=o.length;++j<_e;){var et=o[j],tt=_(et);if(tt!=null&&(nt===void 0?tt===tt&&!isSymbol(tt):$(tt,nt)))var nt=tt,it=et}return it}var _baseExtremum=baseExtremum$4;function baseGt$2(o,_){return o>_}var _baseGt=baseGt$2,baseExtremum$3=_baseExtremum,baseGt$1=_baseGt,identity$3=identity_1;function max$1(o){return o&&o.length?baseExtremum$3(o,identity$3,baseGt$1):void 0}var max_1=max$1;const max$2=getDefaultExportFromCjs(max_1);function baseLt$2(o,_){return o<_}var _baseLt=baseLt$2,baseExtremum$2=_baseExtremum,baseLt$1=_baseLt,identity$2=identity_1;function min$1(o){return o&&o.length?baseExtremum$2(o,identity$2,baseLt$1):void 0}var min_1=min$1;const min$2=getDefaultExportFromCjs(min_1);var arrayMap=_arrayMap,baseIteratee$7=_baseIteratee,baseMap=_baseMap,isArray$3=isArray_1;function map$2(o,_){var $=isArray$3(o)?arrayMap:baseMap;return $(o,baseIteratee$7(_))}var map_1=map$2,baseFlatten=_baseFlatten,map$1=map_1;function flatMap(o,_){return baseFlatten(map$1(o,_),1)}var flatMap_1=flatMap;const flatMap$1=getDefaultExportFromCjs(flatMap_1);var baseIsEqual=_baseIsEqual;function isEqual$1(o,_){return baseIsEqual(o,_)}var isEqual_1=isEqual$1;const isEqual$2=getDefaultExportFromCjs(isEqual_1);var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P={};P.absoluteValue=P.abs=function(){var o=new this.constructor(this);return o.s&&(o.s=1),o};P.comparedTo=P.cmp=function(o){var _,$,j,_e,et=this;if(o=new et.constructor(o),et.s!==o.s)return et.s||-o.s;if(et.e!==o.e)return et.e>o.e^et.s<0?1:-1;for(j=et.d.length,_e=o.d.length,_=0,$=j<_e?j:_e;_<$;++_)if(et.d[_]!==o.d[_])return et.d[_]>o.d[_]^et.s<0?1:-1;return j===_e?0:j>_e^et.s<0?1:-1};P.decimalPlaces=P.dp=function(){var o=this,_=o.d.length-1,$=(_-o.e)*LOG_BASE;if(_=o.d[_],_)for(;_%10==0;_/=10)$--;return $<0?0:$};P.dividedBy=P.div=function(o){return divide(this,new this.constructor(o))};P.dividedToIntegerBy=P.idiv=function(o){var _=this,$=_.constructor;return round$1(divide(_,new $(o),0,1),$.precision)};P.equals=P.eq=function(o){return!this.cmp(o)};P.exponent=function(){return getBase10Exponent(this)};P.greaterThan=P.gt=function(o){return this.cmp(o)>0};P.greaterThanOrEqualTo=P.gte=function(o){return this.cmp(o)>=0};P.isInteger=P.isint=function(){return this.e>this.d.length-2};P.isNegative=P.isneg=function(){return this.s<0};P.isPositive=P.ispos=function(){return this.s>0};P.isZero=function(){return this.s===0};P.lessThan=P.lt=function(o){return this.cmp(o)<0};P.lessThanOrEqualTo=P.lte=function(o){return this.cmp(o)<1};P.logarithm=P.log=function(o){var _,$=this,j=$.constructor,_e=j.precision,et=_e+5;if(o===void 0)o=new j(10);else if(o=new j(o),o.s<1||o.eq(ONE))throw Error(decimalError+"NaN");if($.s<1)throw Error(decimalError+($.s?"NaN":"-Infinity"));return $.eq(ONE)?new j(0):(external=!1,_=divide(ln($,et),ln(o,et),et),external=!0,round$1(_,_e))};P.minus=P.sub=function(o){var _=this;return o=new _.constructor(o),_.s==o.s?subtract(_,o):add(_,(o.s=-o.s,o))};P.modulo=P.mod=function(o){var _,$=this,j=$.constructor,_e=j.precision;if(o=new j(o),!o.s)throw Error(decimalError+"NaN");return $.s?(external=!1,_=divide($,o,0,1).times(o),external=!0,$.minus(_)):round$1(new j($),_e)};P.naturalExponential=P.exp=function(){return exp(this)};P.naturalLogarithm=P.ln=function(){return ln(this)};P.negated=P.neg=function(){var o=new this.constructor(this);return o.s=-o.s||0,o};P.plus=P.add=function(o){var _=this;return o=new _.constructor(o),_.s==o.s?add(_,o):subtract(_,(o.s=-o.s,o))};P.precision=P.sd=function(o){var _,$,j,_e=this;if(o!==void 0&&o!==!!o&&o!==1&&o!==0)throw Error(invalidArgument+o);if(_=getBase10Exponent(_e)+1,j=_e.d.length-1,$=j*LOG_BASE+1,j=_e.d[j],j){for(;j%10==0;j/=10)$--;for(j=_e.d[0];j>=10;j/=10)$++}return o&&_>$?_:$};P.squareRoot=P.sqrt=function(){var o,_,$,j,_e,et,tt,nt=this,it=nt.constructor;if(nt.s<1){if(!nt.s)return new it(0);throw Error(decimalError+"NaN")}for(o=getBase10Exponent(nt),external=!1,_e=Math.sqrt(+nt),_e==0||_e==1/0?(_=digitsToString(nt.d),(_.length+o)%2==0&&(_+="0"),_e=Math.sqrt(_),o=mathfloor((o+1)/2)-(o<0||o%2),_e==1/0?_="5e"+o:(_=_e.toExponential(),_=_.slice(0,_.indexOf("e")+1)+o),j=new it(_)):j=new it(_e.toString()),$=it.precision,_e=tt=$+3;;)if(et=j,j=et.plus(divide(nt,et,tt+2)).times(.5),digitsToString(et.d).slice(0,tt)===(_=digitsToString(j.d)).slice(0,tt)){if(_=_.slice(tt-3,tt+1),_e==tt&&_=="4999"){if(round$1(et,$+1,0),et.times(et).eq(nt)){j=et;break}}else if(_!="9999")break;tt+=4}return external=!0,round$1(j,$)};P.times=P.mul=function(o){var _,$,j,_e,et,tt,nt,it,lt,dt=this,bt=dt.constructor,Ht=dt.d,pr=(o=new bt(o)).d;if(!dt.s||!o.s)return new bt(0);for(o.s*=dt.s,$=dt.e+o.e,it=Ht.length,lt=pr.length,it<lt&&(et=Ht,Ht=pr,pr=et,tt=it,it=lt,lt=tt),et=[],tt=it+lt,j=tt;j--;)et.push(0);for(j=lt;--j>=0;){for(_=0,_e=it+j;_e>j;)nt=et[_e]+pr[j]*Ht[_e-j-1]+_,et[_e--]=nt%BASE|0,_=nt/BASE|0;et[_e]=(et[_e]+_)%BASE|0}for(;!et[--tt];)et.pop();return _?++$:et.shift(),o.d=et,o.e=$,external?round$1(o,bt.precision):o};P.toDecimalPlaces=P.todp=function(o,_){var $=this,j=$.constructor;return $=new j($),o===void 0?$:(checkInt32(o,0,MAX_DIGITS),_===void 0?_=j.rounding:checkInt32(_,0,8),round$1($,o+getBase10Exponent($)+1,_))};P.toExponential=function(o,_){var $,j=this,_e=j.constructor;return o===void 0?$=toString(j,!0):(checkInt32(o,0,MAX_DIGITS),_===void 0?_=_e.rounding:checkInt32(_,0,8),j=round$1(new _e(j),o+1,_),$=toString(j,!0,o+1)),$};P.toFixed=function(o,_){var $,j,_e=this,et=_e.constructor;return o===void 0?toString(_e):(checkInt32(o,0,MAX_DIGITS),_===void 0?_=et.rounding:checkInt32(_,0,8),j=round$1(new et(_e),o+getBase10Exponent(_e)+1,_),$=toString(j.abs(),!1,o+getBase10Exponent(j)+1),_e.isneg()&&!_e.isZero()?"-"+$:$)};P.toInteger=P.toint=function(){var o=this,_=o.constructor;return round$1(new _(o),getBase10Exponent(o)+1,_.rounding)};P.toNumber=function(){return+this};P.toPower=P.pow=function(o){var _,$,j,_e,et,tt,nt=this,it=nt.constructor,lt=12,dt=+(o=new it(o));if(!o.s)return new it(ONE);if(nt=new it(nt),!nt.s){if(o.s<1)throw Error(decimalError+"Infinity");return nt}if(nt.eq(ONE))return nt;if(j=it.precision,o.eq(ONE))return round$1(nt,j);if(_=o.e,$=o.d.length-1,tt=_>=$,et=nt.s,tt){if(($=dt<0?-dt:dt)<=MAX_SAFE_INTEGER){for(_e=new it(ONE),_=Math.ceil(j/LOG_BASE+4),external=!1;$%2&&(_e=_e.times(nt),truncate(_e.d,_)),$=mathfloor($/2),$!==0;)nt=nt.times(nt),truncate(nt.d,_);return external=!0,o.s<0?new it(ONE).div(_e):round$1(_e,j)}}else if(et<0)throw Error(decimalError+"NaN");return et=et<0&&o.d[Math.max(_,$)]&1?-1:1,nt.s=1,external=!1,_e=o.times(ln(nt,j+lt)),external=!0,_e=exp(_e),_e.s=et,_e};P.toPrecision=function(o,_){var $,j,_e=this,et=_e.constructor;return o===void 0?($=getBase10Exponent(_e),j=toString(_e,$<=et.toExpNeg||$>=et.toExpPos)):(checkInt32(o,1,MAX_DIGITS),_===void 0?_=et.rounding:checkInt32(_,0,8),_e=round$1(new et(_e),o,_),$=getBase10Exponent(_e),j=toString(_e,o<=$||$<=et.toExpNeg,o)),j};P.toSignificantDigits=P.tosd=function(o,_){var $=this,j=$.constructor;return o===void 0?(o=j.precision,_=j.rounding):(checkInt32(o,1,MAX_DIGITS),_===void 0?_=j.rounding:checkInt32(_,0,8)),round$1(new j($),o,_)};P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var o=this,_=getBase10Exponent(o),$=o.constructor;return toString(o,_<=$.toExpNeg||_>=$.toExpPos)};function add(o,_){var $,j,_e,et,tt,nt,it,lt,dt=o.constructor,bt=dt.precision;if(!o.s||!_.s)return _.s||(_=new dt(o)),external?round$1(_,bt):_;if(it=o.d,lt=_.d,tt=o.e,_e=_.e,it=it.slice(),et=tt-_e,et){for(et<0?(j=it,et=-et,nt=lt.length):(j=lt,_e=tt,nt=it.length),tt=Math.ceil(bt/LOG_BASE),nt=tt>nt?tt+1:nt+1,et>nt&&(et=nt,j.length=1),j.reverse();et--;)j.push(0);j.reverse()}for(nt=it.length,et=lt.length,nt-et<0&&(et=nt,j=lt,lt=it,it=j),$=0;et;)$=(it[--et]=it[et]+lt[et]+$)/BASE|0,it[et]%=BASE;for($&&(it.unshift($),++_e),nt=it.length;it[--nt]==0;)it.pop();return _.d=it,_.e=_e,external?round$1(_,bt):_}function checkInt32(o,_,$){if(o!==~~o||o<_||o>$)throw Error(invalidArgument+o)}function digitsToString(o){var _,$,j,_e=o.length-1,et="",tt=o[0];if(_e>0){for(et+=tt,_=1;_<_e;_++)j=o[_]+"",$=LOG_BASE-j.length,$&&(et+=getZeroString($)),et+=j;tt=o[_],j=tt+"",$=LOG_BASE-j.length,$&&(et+=getZeroString($))}else if(tt===0)return"0";for(;tt%10===0;)tt/=10;return et+tt}var divide=function(){function o(j,_e){var et,tt=0,nt=j.length;for(j=j.slice();nt--;)et=j[nt]*_e+tt,j[nt]=et%BASE|0,tt=et/BASE|0;return tt&&j.unshift(tt),j}function _(j,_e,et,tt){var nt,it;if(et!=tt)it=et>tt?1:-1;else for(nt=it=0;nt<et;nt++)if(j[nt]!=_e[nt]){it=j[nt]>_e[nt]?1:-1;break}return it}function $(j,_e,et){for(var tt=0;et--;)j[et]-=tt,tt=j[et]<_e[et]?1:0,j[et]=tt*BASE+j[et]-_e[et];for(;!j[0]&&j.length>1;)j.shift()}return function(j,_e,et,tt){var nt,it,lt,dt,bt,Ht,pr,_n,ft,Ct,mr,_r,mn,dr,pn,Do,Io,Lo,ms=j.constructor,Uo=j.s==_e.s?1:-1,_s=j.d,yp=_e.d;if(!j.s)return new ms(j);if(!_e.s)throw Error(decimalError+"Division by zero");for(it=j.e-_e.e,Io=yp.length,pn=_s.length,pr=new ms(Uo),_n=pr.d=[],lt=0;yp[lt]==(_s[lt]||0);)++lt;if(yp[lt]>(_s[lt]||0)&&--it,et==null?_r=et=ms.precision:tt?_r=et+(getBase10Exponent(j)-getBase10Exponent(_e))+1:_r=et,_r<0)return new ms(0);if(_r=_r/LOG_BASE+2|0,lt=0,Io==1)for(dt=0,yp=yp[0],_r++;(lt<pn||dt)&&_r--;lt++)mn=dt*BASE+(_s[lt]||0),_n[lt]=mn/yp|0,dt=mn%yp|0;else{for(dt=BASE/(yp[0]+1)|0,dt>1&&(yp=o(yp,dt),_s=o(_s,dt),Io=yp.length,pn=_s.length),dr=Io,ft=_s.slice(0,Io),Ct=ft.length;Ct<Io;)ft[Ct++]=0;Lo=yp.slice(),Lo.unshift(0),Do=yp[0],yp[1]>=BASE/2&&++Do;do dt=0,nt=_(yp,ft,Io,Ct),nt<0?(mr=ft[0],Io!=Ct&&(mr=mr*BASE+(ft[1]||0)),dt=mr/Do|0,dt>1?(dt>=BASE&&(dt=BASE-1),bt=o(yp,dt),Ht=bt.length,Ct=ft.length,nt=_(bt,ft,Ht,Ct),nt==1&&(dt--,$(bt,Io<Ht?Lo:yp,Ht))):(dt==0&&(nt=dt=1),bt=yp.slice()),Ht=bt.length,Ht<Ct&&bt.unshift(0),$(ft,bt,Ct),nt==-1&&(Ct=ft.length,nt=_(yp,ft,Io,Ct),nt<1&&(dt++,$(ft,Io<Ct?Lo:yp,Ct))),Ct=ft.length):nt===0&&(dt++,ft=[0]),_n[lt++]=dt,nt&&ft[0]?ft[Ct++]=_s[dr]||0:(ft=[_s[dr]],Ct=1);while((dr++<pn||ft[0]!==void 0)&&_r--)}return _n[0]||_n.shift(),pr.e=it,round$1(pr,tt?et+getBase10Exponent(pr)+1:et)}}();function exp(o,_){var $,j,_e,et,tt,nt,it=0,lt=0,dt=o.constructor,bt=dt.precision;if(getBase10Exponent(o)>16)throw Error(exponentOutOfRange+getBase10Exponent(o));if(!o.s)return new dt(ONE);for(_==null?(external=!1,nt=bt):nt=_,tt=new dt(.03125);o.abs().gte(.1);)o=o.times(tt),lt+=5;for(j=Math.log(mathpow(2,lt))/Math.LN10*2+5|0,nt+=j,$=_e=et=new dt(ONE),dt.precision=nt;;){if(_e=round$1(_e.times(o),nt),$=$.times(++it),tt=et.plus(divide(_e,$,nt)),digitsToString(tt.d).slice(0,nt)===digitsToString(et.d).slice(0,nt)){for(;lt--;)et=round$1(et.times(et),nt);return dt.precision=bt,_==null?(external=!0,round$1(et,bt)):et}et=tt}}function getBase10Exponent(o){for(var _=o.e*LOG_BASE,$=o.d[0];$>=10;$/=10)_++;return _}function getLn10(o,_,$){if(_>o.LN10.sd())throw external=!0,$&&(o.precision=$),Error(decimalError+"LN10 precision limit exceeded");return round$1(new o(o.LN10),_)}function getZeroString(o){for(var _="";o--;)_+="0";return _}function ln(o,_){var $,j,_e,et,tt,nt,it,lt,dt,bt=1,Ht=10,pr=o,_n=pr.d,ft=pr.constructor,Ct=ft.precision;if(pr.s<1)throw Error(decimalError+(pr.s?"NaN":"-Infinity"));if(pr.eq(ONE))return new ft(0);if(_==null?(external=!1,lt=Ct):lt=_,pr.eq(10))return _==null&&(external=!0),getLn10(ft,lt);if(lt+=Ht,ft.precision=lt,$=digitsToString(_n),j=$.charAt(0),et=getBase10Exponent(pr),Math.abs(et)<15e14){for(;j<7&&j!=1||j==1&&$.charAt(1)>3;)pr=pr.times(o),$=digitsToString(pr.d),j=$.charAt(0),bt++;et=getBase10Exponent(pr),j>1?(pr=new ft("0."+$),et++):pr=new ft(j+"."+$.slice(1))}else return it=getLn10(ft,lt+2,Ct).times(et+""),pr=ln(new ft(j+"."+$.slice(1)),lt-Ht).plus(it),ft.precision=Ct,_==null?(external=!0,round$1(pr,Ct)):pr;for(nt=tt=pr=divide(pr.minus(ONE),pr.plus(ONE),lt),dt=round$1(pr.times(pr),lt),_e=3;;){if(tt=round$1(tt.times(dt),lt),it=nt.plus(divide(tt,new ft(_e),lt)),digitsToString(it.d).slice(0,lt)===digitsToString(nt.d).slice(0,lt))return nt=nt.times(2),et!==0&&(nt=nt.plus(getLn10(ft,lt+2,Ct).times(et+""))),nt=divide(nt,new ft(bt),lt),ft.precision=Ct,_==null?(external=!0,round$1(nt,Ct)):nt;nt=it,_e+=2}}function parseDecimal(o,_){var $,j,_e;for(($=_.indexOf("."))>-1&&(_=_.replace(".","")),(j=_.search(/e/i))>0?($<0&&($=j),$+=+_.slice(j+1),_=_.substring(0,j)):$<0&&($=_.length),j=0;_.charCodeAt(j)===48;)++j;for(_e=_.length;_.charCodeAt(_e-1)===48;)--_e;if(_=_.slice(j,_e),_){if(_e-=j,$=$-j-1,o.e=mathfloor($/LOG_BASE),o.d=[],j=($+1)%LOG_BASE,$<0&&(j+=LOG_BASE),j<_e){for(j&&o.d.push(+_.slice(0,j)),_e-=LOG_BASE;j<_e;)o.d.push(+_.slice(j,j+=LOG_BASE));_=_.slice(j),j=LOG_BASE-_.length}else j-=_e;for(;j--;)_+="0";if(o.d.push(+_),external&&(o.e>MAX_E||o.e<-MAX_E))throw Error(exponentOutOfRange+$)}else o.s=0,o.e=0,o.d=[0];return o}function round$1(o,_,$){var j,_e,et,tt,nt,it,lt,dt,bt=o.d;for(tt=1,et=bt[0];et>=10;et/=10)tt++;if(j=_-tt,j<0)j+=LOG_BASE,_e=_,lt=bt[dt=0];else{if(dt=Math.ceil((j+1)/LOG_BASE),et=bt.length,dt>=et)return o;for(lt=et=bt[dt],tt=1;et>=10;et/=10)tt++;j%=LOG_BASE,_e=j-LOG_BASE+tt}if($!==void 0&&(et=mathpow(10,tt-_e-1),nt=lt/et%10|0,it=_<0||bt[dt+1]!==void 0||lt%et,it=$<4?(nt||it)&&($==0||$==(o.s<0?3:2)):nt>5||nt==5&&($==4||it||$==6&&(j>0?_e>0?lt/mathpow(10,tt-_e):0:bt[dt-1])%10&1||$==(o.s<0?8:7))),_<1||!bt[0])return it?(et=getBase10Exponent(o),bt.length=1,_=_-et-1,bt[0]=mathpow(10,(LOG_BASE-_%LOG_BASE)%LOG_BASE),o.e=mathfloor(-_/LOG_BASE)||0):(bt.length=1,bt[0]=o.e=o.s=0),o;if(j==0?(bt.length=dt,et=1,dt--):(bt.length=dt+1,et=mathpow(10,LOG_BASE-j),bt[dt]=_e>0?(lt/mathpow(10,tt-_e)%mathpow(10,_e)|0)*et:0),it)for(;;)if(dt==0){(bt[0]+=et)==BASE&&(bt[0]=1,++o.e);break}else{if(bt[dt]+=et,bt[dt]!=BASE)break;bt[dt--]=0,et=1}for(j=bt.length;bt[--j]===0;)bt.pop();if(external&&(o.e>MAX_E||o.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(o));return o}function subtract(o,_){var $,j,_e,et,tt,nt,it,lt,dt,bt,Ht=o.constructor,pr=Ht.precision;if(!o.s||!_.s)return _.s?_.s=-_.s:_=new Ht(o),external?round$1(_,pr):_;if(it=o.d,bt=_.d,j=_.e,lt=o.e,it=it.slice(),tt=lt-j,tt){for(dt=tt<0,dt?($=it,tt=-tt,nt=bt.length):($=bt,j=lt,nt=it.length),_e=Math.max(Math.ceil(pr/LOG_BASE),nt)+2,tt>_e&&(tt=_e,$.length=1),$.reverse(),_e=tt;_e--;)$.push(0);$.reverse()}else{for(_e=it.length,nt=bt.length,dt=_e<nt,dt&&(nt=_e),_e=0;_e<nt;_e++)if(it[_e]!=bt[_e]){dt=it[_e]<bt[_e];break}tt=0}for(dt&&($=it,it=bt,bt=$,_.s=-_.s),nt=it.length,_e=bt.length-nt;_e>0;--_e)it[nt++]=0;for(_e=bt.length;_e>tt;){if(it[--_e]<bt[_e]){for(et=_e;et&&it[--et]===0;)it[et]=BASE-1;--it[et],it[_e]+=BASE}it[_e]-=bt[_e]}for(;it[--nt]===0;)it.pop();for(;it[0]===0;it.shift())--j;return it[0]?(_.d=it,_.e=j,external?round$1(_,pr):_):new Ht(0)}function toString(o,_,$){var j,_e=getBase10Exponent(o),et=digitsToString(o.d),tt=et.length;return _?($&&(j=$-tt)>0?et=et.charAt(0)+"."+et.slice(1)+getZeroString(j):tt>1&&(et=et.charAt(0)+"."+et.slice(1)),et=et+(_e<0?"e":"e+")+_e):_e<0?(et="0."+getZeroString(-_e-1)+et,$&&(j=$-tt)>0&&(et+=getZeroString(j))):_e>=tt?(et+=getZeroString(_e+1-tt),$&&(j=$-_e-1)>0&&(et=et+"."+getZeroString(j))):((j=_e+1)<tt&&(et=et.slice(0,j)+"."+et.slice(j)),$&&(j=$-tt)>0&&(_e+1===tt&&(et+="."),et+=getZeroString(j))),o.s<0?"-"+et:et}function truncate(o,_){if(o.length>_)return o.length=_,!0}function clone(o){var _,$,j;function _e(et){var tt=this;if(!(tt instanceof _e))return new _e(et);if(tt.constructor=_e,et instanceof _e){tt.s=et.s,tt.e=et.e,tt.d=(et=et.d)?et.slice():et;return}if(typeof et=="number"){if(et*0!==0)throw Error(invalidArgument+et);if(et>0)tt.s=1;else if(et<0)et=-et,tt.s=-1;else{tt.s=0,tt.e=0,tt.d=[0];return}if(et===~~et&&et<1e7){tt.e=0,tt.d=[et];return}return parseDecimal(tt,et.toString())}else if(typeof et!="string")throw Error(invalidArgument+et);if(et.charCodeAt(0)===45?(et=et.slice(1),tt.s=-1):tt.s=1,isDecimal.test(et))parseDecimal(tt,et);else throw Error(invalidArgument+et)}if(_e.prototype=P,_e.ROUND_UP=0,_e.ROUND_DOWN=1,_e.ROUND_CEIL=2,_e.ROUND_FLOOR=3,_e.ROUND_HALF_UP=4,_e.ROUND_HALF_DOWN=5,_e.ROUND_HALF_EVEN=6,_e.ROUND_HALF_CEIL=7,_e.ROUND_HALF_FLOOR=8,_e.clone=clone,_e.config=_e.set=config,o===void 0&&(o={}),o)for(j=["precision","rounding","toExpNeg","toExpPos","LN10"],_=0;_<j.length;)o.hasOwnProperty($=j[_++])||(o[$]=this[$]);return _e.config(o),_e}function config(o){if(!o||typeof o!="object")throw Error(decimalError+"Object expected");var _,$,j,_e=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(_=0;_<_e.length;_+=3)if((j=o[$=_e[_]])!==void 0)if(mathfloor(j)===j&&j>=_e[_+1]&&j<=_e[_+2])this[$]=j;else throw Error(invalidArgument+$+": "+j);if((j=o[$="LN10"])!==void 0)if(j==Math.LN10)this[$]=new this(j);else throw Error(invalidArgument+$+": "+j);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;function _toConsumableArray$b(o){return _arrayWithoutHoles$b(o)||_iterableToArray$c(o)||_unsupportedIterableToArray$h(o)||_nonIterableSpread$b()}function _nonIterableSpread$b(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$h(o,_){if(o){if(typeof o=="string")return _arrayLikeToArray$h(o,_);var $=Object.prototype.toString.call(o).slice(8,-1);if($==="Object"&&o.constructor&&($=o.constructor.name),$==="Map"||$==="Set")return Array.from(o);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$h(o,_)}}function _iterableToArray$c(o){if(typeof Symbol<"u"&&Symbol.iterator in Object(o))return Array.from(o)}function _arrayWithoutHoles$b(o){if(Array.isArray(o))return _arrayLikeToArray$h(o)}function _arrayLikeToArray$h(o,_){(_==null||_>o.length)&&(_=o.length);for(var $=0,j=new Array(_);$<_;$++)j[$]=o[$];return j}var identity$1=function o(_){return _},PLACE_HOLDER={"@@functional/placeholder":!0},isPlaceHolder=function o(_){return _===PLACE_HOLDER},curry0=function o(_){return function $(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?$:_.apply(void 0,arguments)}},curryN=function o(_,$){return _===1?$:curry0(function(){for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];var tt=_e.filter(function(nt){return nt!==PLACE_HOLDER}).length;return tt>=_?$.apply(void 0,_e):o(_-tt,curry0(function(){for(var nt=arguments.length,it=new Array(nt),lt=0;lt<nt;lt++)it[lt]=arguments[lt];var dt=_e.map(function(bt){return isPlaceHolder(bt)?it.shift():bt});return $.apply(void 0,_toConsumableArray$b(dt).concat(it))}))})},curry=function o(_){return curryN(_.length,_)},range$2=function o(_,$){for(var j=[],_e=_;_e<$;++_e)j[_e-_]=_e;return j},map=curry(function(o,_){return Array.isArray(_)?_.map(o):Object.keys(_).map(function($){return _[$]}).map(o)}),compose=function o(){for(var _=arguments.length,$=new Array(_),j=0;j<_;j++)$[j]=arguments[j];if(!$.length)return identity$1;var _e=$.reverse(),et=_e[0],tt=_e.slice(1);return function(){return tt.reduce(function(nt,it){return it(nt)},et.apply(void 0,arguments))}},reverse=function o(_){return Array.isArray(_)?_.reverse():_.split("").reverse.join("")},memoize=function o(_){var $=null,j=null;return function(){for(var _e=arguments.length,et=new Array(_e),tt=0;tt<_e;tt++)et[tt]=arguments[tt];return $&&et.every(function(nt,it){return nt===$[it]})||($=et,j=_.apply(void 0,et)),j}};function getDigitCount(o){var _;return o===0?_=1:_=Math.floor(new Decimal$1(o).abs().log(10).toNumber())+1,_}function rangeStep(o,_,$){for(var j=new Decimal$1(o),_e=0,et=[];j.lt(_)&&_e<1e5;)et.push(j.toNumber()),j=j.add($),_e++;return et}var interpolateNumber=curry(function(o,_,$){var j=+o,_e=+_;return j+$*(_e-j)}),uninterpolateNumber=curry(function(o,_,$){var j=_-+o;return j=j||1/0,($-o)/j}),uninterpolateTruncation=curry(function(o,_,$){var j=_-+o;return j=j||1/0,Math.max(0,Math.min(1,($-o)/j))});const Arithmetic={rangeStep,getDigitCount,interpolateNumber,uninterpolateNumber,uninterpolateTruncation};function _toConsumableArray$a(o){return _arrayWithoutHoles$a(o)||_iterableToArray$b(o)||_unsupportedIterableToArray$g(o)||_nonIterableSpread$a()}function _nonIterableSpread$a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$b(o){if(typeof Symbol<"u"&&Symbol.iterator in Object(o))return Array.from(o)}function _arrayWithoutHoles$a(o){if(Array.isArray(o))return _arrayLikeToArray$g(o)}function _slicedToArray$8(o,_){return _arrayWithHoles$9(o)||_iterableToArrayLimit$8(o,_)||_unsupportedIterableToArray$g(o,_)||_nonIterableRest$9()}function _nonIterableRest$9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$g(o,_){if(o){if(typeof o=="string")return _arrayLikeToArray$g(o,_);var $=Object.prototype.toString.call(o).slice(8,-1);if($==="Object"&&o.constructor&&($=o.constructor.name),$==="Map"||$==="Set")return Array.from(o);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$g(o,_)}}function _arrayLikeToArray$g(o,_){(_==null||_>o.length)&&(_=o.length);for(var $=0,j=new Array(_);$<_;$++)j[$]=o[$];return j}function _iterableToArrayLimit$8(o,_){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(o)))){var $=[],j=!0,_e=!1,et=void 0;try{for(var tt=o[Symbol.iterator](),nt;!(j=(nt=tt.next()).done)&&($.push(nt.value),!(_&&$.length===_));j=!0);}catch(it){_e=!0,et=it}finally{try{!j&&tt.return!=null&&tt.return()}finally{if(_e)throw et}}return $}}function _arrayWithHoles$9(o){if(Array.isArray(o))return o}function getValidInterval(o){var _=_slicedToArray$8(o,2),$=_[0],j=_[1],_e=$,et=j;return $>j&&(_e=j,et=$),[_e,et]}function getFormatStep(o,_,$){if(o.lte(0))return new Decimal$1(0);var j=Arithmetic.getDigitCount(o.toNumber()),_e=new Decimal$1(10).pow(j),et=o.div(_e),tt=j!==1?.05:.1,nt=new Decimal$1(Math.ceil(et.div(tt).toNumber())).add($).mul(tt),it=nt.mul(_e);return _?it:new Decimal$1(Math.ceil(it))}function getTickOfSingleValue(o,_,$){var j=1,_e=new Decimal$1(o);if(!_e.isint()&&$){var et=Math.abs(o);et<1?(j=new Decimal$1(10).pow(Arithmetic.getDigitCount(o)-1),_e=new Decimal$1(Math.floor(_e.div(j).toNumber())).mul(j)):et>1&&(_e=new Decimal$1(Math.floor(o)))}else o===0?_e=new Decimal$1(Math.floor((_-1)/2)):$||(_e=new Decimal$1(Math.floor(o)));var tt=Math.floor((_-1)/2),nt=compose(map(function(it){return _e.add(new Decimal$1(it-tt).mul(j)).toNumber()}),range$2);return nt(0,_)}function calculateStep(o,_,$,j){var _e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((_-o)/($-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var et=getFormatStep(new Decimal$1(_).sub(o).div($-1),j,_e),tt;o<=0&&_>=0?tt=new Decimal$1(0):(tt=new Decimal$1(o).add(_).div(2),tt=tt.sub(new Decimal$1(tt).mod(et)));var nt=Math.ceil(tt.sub(o).div(et).toNumber()),it=Math.ceil(new Decimal$1(_).sub(tt).div(et).toNumber()),lt=nt+it+1;return lt>$?calculateStep(o,_,$,j,_e+1):(lt<$&&(it=_>0?it+($-lt):it,nt=_>0?nt:nt+($-lt)),{step:et,tickMin:tt.sub(new Decimal$1(nt).mul(et)),tickMax:tt.add(new Decimal$1(it).mul(et))})}function getNiceTickValuesFn(o){var _=_slicedToArray$8(o,2),$=_[0],j=_[1],_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,tt=Math.max(_e,2),nt=getValidInterval([$,j]),it=_slicedToArray$8(nt,2),lt=it[0],dt=it[1];if(lt===-1/0||dt===1/0){var bt=dt===1/0?[lt].concat(_toConsumableArray$a(range$2(0,_e-1).map(function(){return 1/0}))):[].concat(_toConsumableArray$a(range$2(0,_e-1).map(function(){return-1/0})),[dt]);return $>j?reverse(bt):bt}if(lt===dt)return getTickOfSingleValue(lt,_e,et);var Ht=calculateStep(lt,dt,tt,et),pr=Ht.step,_n=Ht.tickMin,ft=Ht.tickMax,Ct=Arithmetic.rangeStep(_n,ft.add(new Decimal$1(.1).mul(pr)),pr);return $>j?reverse(Ct):Ct}function getTickValuesFixedDomainFn(o,_){var $=_slicedToArray$8(o,2),j=$[0],_e=$[1],et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,tt=getValidInterval([j,_e]),nt=_slicedToArray$8(tt,2),it=nt[0],lt=nt[1];if(it===-1/0||lt===1/0)return[j,_e];if(it===lt)return[it];var dt=Math.max(_,2),bt=getFormatStep(new Decimal$1(lt).sub(it).div(dt-1),et,0),Ht=[].concat(_toConsumableArray$a(Arithmetic.rangeStep(new Decimal$1(it),new Decimal$1(lt).sub(new Decimal$1(.99).mul(bt)),bt)),[lt]);return j>_e?reverse(Ht):Ht}var getNiceTickValues=memoize(getNiceTickValuesFn),getTickValuesFixedDomain=memoize(getTickValuesFixedDomainFn),prefix="Invariant failed";function invariant(o,_){throw new Error(prefix)}var _excluded$c=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$p.apply(this,arguments)}function _slicedToArray$7(o,_){return _arrayWithHoles$8(o)||_iterableToArrayLimit$7(o,_)||_unsupportedIterableToArray$f(o,_)||_nonIterableRest$8()}function _nonIterableRest$8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$f(o,_){if(o){if(typeof o=="string")return _arrayLikeToArray$f(o,_);var $=Object.prototype.toString.call(o).slice(8,-1);if($==="Object"&&o.constructor&&($=o.constructor.name),$==="Map"||$==="Set")return Array.from(o);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$f(o,_)}}function _arrayLikeToArray$f(o,_){(_==null||_>o.length)&&(_=o.length);for(var $=0,j=new Array(_);$<_;$++)j[$]=o[$];return j}function _iterableToArrayLimit$7(o,_){var $=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if($!=null){var j,_e,et,tt,nt=[],it=!0,lt=!1;try{if(et=($=$.call(o)).next,_!==0)for(;!(it=(j=et.call($)).done)&&(nt.push(j.value),nt.length!==_);it=!0);}catch(dt){lt=!0,_e=dt}finally{try{if(!it&&$.return!=null&&(tt=$.return(),Object(tt)!==tt))return}finally{if(lt)throw _e}}return nt}}function _arrayWithHoles$8(o){if(Array.isArray(o))return o}function _objectWithoutProperties$c(o,_){if(o==null)return{};var $=_objectWithoutPropertiesLoose$d(o,_),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for(_e=0;_e<et.length;_e++)j=et[_e],!(_.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(o,j)&&($[j]=o[j])}return $}function _objectWithoutPropertiesLoose$d(o,_){if(o==null)return{};var $={},j=Object.keys(o),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(_.indexOf(_e)>=0)&&($[_e]=o[_e]);return $}function ErrorBar(o){var _=o.offset,$=o.layout,j=o.width,_e=o.dataKey,et=o.data,tt=o.dataPointFormatter,nt=o.xAxis,it=o.yAxis,lt=_objectWithoutProperties$c(o,_excluded$c),dt=filterProps(lt,!1);o.direction==="x"&&nt.type!=="number"&&invariant();var bt=et.map(function(Ht){var pr=tt(Ht,_e),_n=pr.x,ft=pr.y,Ct=pr.value,mr=pr.errorVal;if(!mr)return null;var _r=[],mn,dr;if(Array.isArray(mr)){var pn=_slicedToArray$7(mr,2);mn=pn[0],dr=pn[1]}else mn=dr=mr;if($==="vertical"){var Do=nt.scale,Io=ft+_,Lo=Io+j,ms=Io-j,Uo=Do(Ct-mn),_s=Do(Ct+dr);_r.push({x1:_s,y1:Lo,x2:_s,y2:ms}),_r.push({x1:Uo,y1:Io,x2:_s,y2:Io}),_r.push({x1:Uo,y1:Lo,x2:Uo,y2:ms})}else if($==="horizontal"){var yp=it.scale,xs=_n+_,vs=xs-j,Sp=xs+j,wp=yp(Ct-mn),bp=yp(Ct+dr);_r.push({x1:vs,y1:bp,x2:Sp,y2:bp}),_r.push({x1:xs,y1:wp,x2:xs,y2:bp}),_r.push({x1:vs,y1:wp,x2:Sp,y2:wp})}return React.createElement(Layer,_extends$p({className:"recharts-errorBar",key:"bar-".concat(_r.map(function(Ep){return"".concat(Ep.x1,"-").concat(Ep.x2,"-").concat(Ep.y1,"-").concat(Ep.y2)}))},dt),_r.map(function(Ep){return React.createElement("line",_extends$p({},Ep,{key:"line-".concat(Ep.x1,"-").concat(Ep.x2,"-").concat(Ep.y1,"-").concat(Ep.y2)}))}))});return React.createElement(Layer,{className:"recharts-errorBars"},bt)}ErrorBar.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};ErrorBar.displayName="ErrorBar";function _typeof$w(o){"@babel/helpers - typeof";return _typeof$w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$w(o)}function ownKeys$u(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$t(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$u(Object($),!0).forEach(function(j){_defineProperty$v(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$u(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$v(o,_,$){return _=_toPropertyKey$v(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$v(o){var _=_toPrimitive$v(o,"string");return _typeof$w(_)=="symbol"?_:String(_)}function _toPrimitive$v(o,_){if(_typeof$w(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$w(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}var getLegendProps=function o(_){var $=_.children,j=_.formattedGraphicalItems,_e=_.legendWidth,et=_.legendContent,tt=findChildByType($,Legend);if(!tt)return null;var nt;return tt.props&&tt.props.payload?nt=tt.props&&tt.props.payload:et==="children"?nt=(j||[]).reduce(function(it,lt){var dt=lt.item,bt=lt.props,Ht=bt.sectors||bt.data||[];return it.concat(Ht.map(function(pr){return{type:tt.props.iconType||dt.props.legendType,value:pr.name,color:pr.fill,payload:pr}}))},[]):nt=(j||[]).map(function(it){var lt=it.item,dt=lt.props,bt=dt.dataKey,Ht=dt.name,pr=dt.legendType,_n=dt.hide;return{inactive:_n,dataKey:bt,type:tt.props.iconType||pr||"square",color:getMainColorOfGraphicItem(lt),value:Ht||bt,payload:lt.props}}),_objectSpread$t(_objectSpread$t(_objectSpread$t({},tt.props),Legend.getWithHeight(tt,_e)),{},{payload:nt,item:tt})};function _typeof$v(o){"@babel/helpers - typeof";return _typeof$v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$v(o)}function ownKeys$t(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$s(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$t(Object($),!0).forEach(function(j){_defineProperty$u(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$t(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$u(o,_,$){return _=_toPropertyKey$u(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$u(o){var _=_toPrimitive$u(o,"string");return _typeof$v(_)=="symbol"?_:String(_)}function _toPrimitive$u(o,_){if(_typeof$v(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$v(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}function _toConsumableArray$9(o){return _arrayWithoutHoles$9(o)||_iterableToArray$a(o)||_unsupportedIterableToArray$e(o)||_nonIterableSpread$9()}function _nonIterableSpread$9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$e(o,_){if(o){if(typeof o=="string")return _arrayLikeToArray$e(o,_);var $=Object.prototype.toString.call(o).slice(8,-1);if($==="Object"&&o.constructor&&($=o.constructor.name),$==="Map"||$==="Set")return Array.from(o);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$e(o,_)}}function _iterableToArray$a(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithoutHoles$9(o){if(Array.isArray(o))return _arrayLikeToArray$e(o)}function _arrayLikeToArray$e(o,_){(_==null||_>o.length)&&(_=o.length);for(var $=0,j=new Array(_);$<_;$++)j[$]=o[$];return j}function getValueByDataKey(o,_,$){return isNil$1(o)||isNil$1(_)?$:isNumOrStr(_)?get$2(o,_,$):isFunction$3(_)?_(o):$}function getDomainOfDataByKey(o,_,$,j){var _e=flatMap$1(o,function(nt){return getValueByDataKey(nt,_)});if($==="number"){var et=_e.filter(function(nt){return isNumber(nt)||parseFloat(nt)});return et.length?[min$2(et),max$2(et)]:[1/0,-1/0]}var tt=j?_e.filter(function(nt){return!isNil$1(nt)}):_e;return tt.map(function(nt){return isNumOrStr(nt)||nt instanceof Date?nt:""})}var calculateActiveTickIndex=function o(_){var $,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],_e=arguments.length>2?arguments[2]:void 0,et=arguments.length>3?arguments[3]:void 0,tt=-1,nt=($=j==null?void 0:j.length)!==null&&$!==void 0?$:0;if(nt<=1)return 0;if(et&&et.axisType==="angleAxis"&&Math.abs(Math.abs(et.range[1]-et.range[0])-360)<=1e-6)for(var it=et.range,lt=0;lt<nt;lt++){var dt=lt>0?_e[lt-1].coordinate:_e[nt-1].coordinate,bt=_e[lt].coordinate,Ht=lt>=nt-1?_e[0].coordinate:_e[lt+1].coordinate,pr=void 0;if(mathSign(bt-dt)!==mathSign(Ht-bt)){var _n=[];if(mathSign(Ht-bt)===mathSign(it[1]-it[0])){pr=Ht;var ft=bt+it[1]-it[0];_n[0]=Math.min(ft,(ft+dt)/2),_n[1]=Math.max(ft,(ft+dt)/2)}else{pr=dt;var Ct=Ht+it[1]-it[0];_n[0]=Math.min(bt,(Ct+bt)/2),_n[1]=Math.max(bt,(Ct+bt)/2)}var mr=[Math.min(bt,(pr+bt)/2),Math.max(bt,(pr+bt)/2)];if(_>mr[0]&&_<=mr[1]||_>=_n[0]&&_<=_n[1]){tt=_e[lt].index;break}}else{var _r=Math.min(dt,Ht),mn=Math.max(dt,Ht);if(_>(_r+bt)/2&&_<=(mn+bt)/2){tt=_e[lt].index;break}}}else for(var dr=0;dr<nt;dr++)if(dr===0&&_<=(j[dr].coordinate+j[dr+1].coordinate)/2||dr>0&&dr<nt-1&&_>(j[dr].coordinate+j[dr-1].coordinate)/2&&_<=(j[dr].coordinate+j[dr+1].coordinate)/2||dr===nt-1&&_>(j[dr].coordinate+j[dr-1].coordinate)/2){tt=j[dr].index;break}return tt},getMainColorOfGraphicItem=function o(_){var $=_,j=$.type.displayName,_e=_.props,et=_e.stroke,tt=_e.fill,nt;switch(j){case"Line":nt=et;break;case"Area":case"Radar":nt=et&&et!=="none"?et:tt;break;default:nt=tt;break}return nt},getBarSizeList=function o(_){var $=_.barSize,j=_.totalSize,_e=_.stackGroups,et=_e===void 0?{}:_e;if(!et)return{};for(var tt={},nt=Object.keys(et),it=0,lt=nt.length;it<lt;it++)for(var dt=et[nt[it]].stackGroups,bt=Object.keys(dt),Ht=0,pr=bt.length;Ht<pr;Ht++){var _n=dt[bt[Ht]],ft=_n.items,Ct=_n.cateAxisId,mr=ft.filter(function(pn){return getDisplayName(pn.type).indexOf("Bar")>=0});if(mr&&mr.length){var _r=mr[0].props.barSize,mn=mr[0].props[Ct];tt[mn]||(tt[mn]=[]);var dr=isNil$1(_r)?$:_r;tt[mn].push({item:mr[0],stackList:mr.slice(1),barSize:isNil$1(dr)?void 0:getPercentValue(dr,j,0)})}}return tt},getBarPosition=function o(_){var $=_.barGap,j=_.barCategoryGap,_e=_.bandSize,et=_.sizeList,tt=et===void 0?[]:et,nt=_.maxBarSize,it=tt.length;if(it<1)return null;var lt=getPercentValue($,_e,0,!0),dt,bt=[];if(tt[0].barSize===+tt[0].barSize){var Ht=!1,pr=_e/it,_n=tt.reduce(function(dr,pn){return dr+pn.barSize||0},0);_n+=(it-1)*lt,_n>=_e&&(_n-=(it-1)*lt,lt=0),_n>=_e&&pr>0&&(Ht=!0,pr*=.9,_n=it*pr);var ft=(_e-_n)/2>>0,Ct={offset:ft-lt,size:0};dt=tt.reduce(function(dr,pn){var Do={item:pn.item,position:{offset:Ct.offset+Ct.size+lt,size:Ht?pr:pn.barSize}},Io=[].concat(_toConsumableArray$9(dr),[Do]);return Ct=Io[Io.length-1].position,pn.stackList&&pn.stackList.length&&pn.stackList.forEach(function(Lo){Io.push({item:Lo,position:Ct})}),Io},bt)}else{var mr=getPercentValue(j,_e,0,!0);_e-2*mr-(it-1)*lt<=0&&(lt=0);var _r=(_e-2*mr-(it-1)*lt)/it;_r>1&&(_r>>=0);var mn=nt===+nt?Math.min(_r,nt):_r;dt=tt.reduce(function(dr,pn,Do){var Io=[].concat(_toConsumableArray$9(dr),[{item:pn.item,position:{offset:mr+(_r+lt)*Do+(_r-mn)/2,size:mn}}]);return pn.stackList&&pn.stackList.length&&pn.stackList.forEach(function(Lo){Io.push({item:Lo,position:Io[Io.length-1].position})}),Io},bt)}return dt},appendOffsetOfLegend=function o(_,$,j,_e){var et=j.children,tt=j.width,nt=j.margin,it=tt-(nt.left||0)-(nt.right||0),lt=getLegendProps({children:et,legendWidth:it});if(lt){var dt=_e||{},bt=dt.width,Ht=dt.height,pr=lt.align,_n=lt.verticalAlign,ft=lt.layout;if((ft==="vertical"||ft==="horizontal"&&_n==="middle")&&pr!=="center"&&isNumber(_[pr]))return _objectSpread$s(_objectSpread$s({},_),{},_defineProperty$u({},pr,_[pr]+(bt||0)));if((ft==="horizontal"||ft==="vertical"&&pr==="center")&&_n!=="middle"&&isNumber(_[_n]))return _objectSpread$s(_objectSpread$s({},_),{},_defineProperty$u({},_n,_[_n]+(Ht||0)))}return _},isErrorBarRelevantForAxis=function o(_,$,j){return isNil$1($)?!0:_==="horizontal"?$==="yAxis":_==="vertical"||j==="x"?$==="xAxis":j==="y"?$==="yAxis":!0},getDomainOfErrorBars=function o(_,$,j,_e,et){var tt=$.props.children,nt=findAllByType(tt,ErrorBar).filter(function(lt){return isErrorBarRelevantForAxis(_e,et,lt.props.direction)});if(nt&&nt.length){var it=nt.map(function(lt){return lt.props.dataKey});return _.reduce(function(lt,dt){var bt=getValueByDataKey(dt,j);if(isNil$1(bt))return lt;var Ht=Array.isArray(bt)?[min$2(bt),max$2(bt)]:[bt,bt],pr=it.reduce(function(_n,ft){var Ct=getValueByDataKey(dt,ft,0),mr=Ht[0]-Math.abs(Array.isArray(Ct)?Ct[0]:Ct),_r=Ht[1]+Math.abs(Array.isArray(Ct)?Ct[1]:Ct);return[Math.min(mr,_n[0]),Math.max(_r,_n[1])]},[1/0,-1/0]);return[Math.min(pr[0],lt[0]),Math.max(pr[1],lt[1])]},[1/0,-1/0])}return null},parseErrorBarsOfAxis=function o(_,$,j,_e,et){var tt=$.map(function(nt){return getDomainOfErrorBars(_,nt,j,et,_e)}).filter(function(nt){return!isNil$1(nt)});return tt&&tt.length?tt.reduce(function(nt,it){return[Math.min(nt[0],it[0]),Math.max(nt[1],it[1])]},[1/0,-1/0]):null},getDomainOfItemsWithSameAxis=function o(_,$,j,_e,et){var tt=$.map(function(it){var lt=it.props.dataKey;return j==="number"&&lt&&getDomainOfErrorBars(_,it,lt,_e)||getDomainOfDataByKey(_,lt,j,et)});if(j==="number")return tt.reduce(function(it,lt){return[Math.min(it[0],lt[0]),Math.max(it[1],lt[1])]},[1/0,-1/0]);var nt={};return tt.reduce(function(it,lt){for(var dt=0,bt=lt.length;dt<bt;dt++)nt[lt[dt]]||(nt[lt[dt]]=!0,it.push(lt[dt]));return it},[])},isCategoricalAxis=function o(_,$){return _==="horizontal"&&$==="xAxis"||_==="vertical"&&$==="yAxis"||_==="centric"&&$==="angleAxis"||_==="radial"&&$==="radiusAxis"},getCoordinatesOfGrid=function o(_,$,j,_e){if(_e)return _.map(function(it){return it.coordinate});var et,tt,nt=_.map(function(it){return it.coordinate===$&&(et=!0),it.coordinate===j&&(tt=!0),it.coordinate});return et||nt.push($),tt||nt.push(j),nt},getTicksOfAxis=function o(_,$,j){if(!_)return null;var _e=_.scale,et=_.duplicateDomain,tt=_.type,nt=_.range,it=_.realScaleType==="scaleBand"?_e.bandwidth()/2:2,lt=($||j)&&tt==="category"&&_e.bandwidth?_e.bandwidth()/it:0;if(lt=_.axisType==="angleAxis"&&(nt==null?void 0:nt.length)>=2?mathSign(nt[0]-nt[1])*2*lt:lt,$&&(_.ticks||_.niceTicks)){var dt=(_.ticks||_.niceTicks).map(function(bt){var Ht=et?et.indexOf(bt):bt;return{coordinate:_e(Ht)+lt,value:bt,offset:lt}});return dt.filter(function(bt){return!isNan(bt.coordinate)})}return _.isCategorical&&_.categoricalDomain?_.categoricalDomain.map(function(bt,Ht){return{coordinate:_e(bt)+lt,value:bt,index:Ht,offset:lt}}):_e.ticks&&!j?_e.ticks(_.tickCount).map(function(bt){return{coordinate:_e(bt)+lt,value:bt,offset:lt}}):_e.domain().map(function(bt,Ht){return{coordinate:_e(bt)+lt,value:et?et[bt]:bt,index:Ht,offset:lt}})},handlerWeakMap=new WeakMap,combineEventHandlers=function o(_,$){if(typeof $!="function")return _;handlerWeakMap.has(_)||handlerWeakMap.set(_,new WeakMap);var j=handlerWeakMap.get(_);if(j.has($))return j.get($);var _e=function(){_.apply(void 0,arguments),$.apply(void 0,arguments)};return j.set($,_e),_e},parseScale=function o(_,$,j){var _e=_.scale,et=_.type,tt=_.layout,nt=_.axisType;if(_e==="auto")return tt==="radial"&&nt==="radiusAxis"?{scale:band(),realScaleType:"band"}:tt==="radial"&&nt==="angleAxis"?{scale:linear(),realScaleType:"linear"}:et==="category"&&$&&($.indexOf("LineChart")>=0||$.indexOf("AreaChart")>=0||$.indexOf("ComposedChart")>=0&&!j)?{scale:point(),realScaleType:"point"}:et==="category"?{scale:band(),realScaleType:"band"}:{scale:linear(),realScaleType:"linear"};if(isString$1(_e)){var it="scale".concat(upperFirst$1(_e));return{scale:(d3Scales[it]||point)(),realScaleType:d3Scales[it]?it:"point"}}return isFunction$3(_e)?{scale:_e}:{scale:point(),realScaleType:"point"}},EPS=1e-4,checkDomainOfScale=function o(_){var $=_.domain();if(!(!$||$.length<=2)){var j=$.length,_e=_.range(),et=Math.min(_e[0],_e[1])-EPS,tt=Math.max(_e[0],_e[1])+EPS,nt=_($[0]),it=_($[j-1]);(nt<et||nt>tt||it<et||it>tt)&&_.domain([$[0],$[j-1]])}},findPositionOfBar=function o(_,$){if(!_)return null;for(var j=0,_e=_.length;j<_e;j++)if(_[j].item===$)return _[j].position;return null},truncateByDomain=function o(_,$){if(!$||$.length!==2||!isNumber($[0])||!isNumber($[1]))return _;var j=Math.min($[0],$[1]),_e=Math.max($[0],$[1]),et=[_[0],_[1]];return(!isNumber(_[0])||_[0]<j)&&(et[0]=j),(!isNumber(_[1])||_[1]>_e)&&(et[1]=_e),et[0]>_e&&(et[0]=_e),et[1]<j&&(et[1]=j),et},offsetSign=function o(_){var $=_.length;if(!($<=0))for(var j=0,_e=_[0].length;j<_e;++j)for(var et=0,tt=0,nt=0;nt<$;++nt){var it=isNan(_[nt][j][1])?_[nt][j][0]:_[nt][j][1];it>=0?(_[nt][j][0]=et,_[nt][j][1]=et+it,et=_[nt][j][1]):(_[nt][j][0]=tt,_[nt][j][1]=tt+it,tt=_[nt][j][1])}},offsetPositive=function o(_){var $=_.length;if(!($<=0))for(var j=0,_e=_[0].length;j<_e;++j)for(var et=0,tt=0;tt<$;++tt){var nt=isNan(_[tt][j][1])?_[tt][j][0]:_[tt][j][1];nt>=0?(_[tt][j][0]=et,_[tt][j][1]=et+nt,et=_[tt][j][1]):(_[tt][j][0]=0,_[tt][j][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=function o(_,$,j){var _e=$.map(function(nt){return nt.props.dataKey}),et=STACK_OFFSET_MAP[j],tt=shapeStack().keys(_e).value(function(nt,it){return+getValueByDataKey(nt,it,0)}).order(stackOrderNone).offset(et);return tt(_)},getStackGroupsByAxisId=function o(_,$,j,_e,et,tt){if(!_)return null;var nt=tt?$.reverse():$,it={},lt=nt.reduce(function(bt,Ht){var pr=Ht.props,_n=pr.stackId,ft=pr.hide;if(ft)return bt;var Ct=Ht.props[j],mr=bt[Ct]||{hasStack:!1,stackGroups:{}};if(isNumOrStr(_n)){var _r=mr.stackGroups[_n]||{numericAxisId:j,cateAxisId:_e,items:[]};_r.items.push(Ht),mr.hasStack=!0,mr.stackGroups[_n]=_r}else mr.stackGroups[uniqueId("_stackId_")]={numericAxisId:j,cateAxisId:_e,items:[Ht]};return _objectSpread$s(_objectSpread$s({},bt),{},_defineProperty$u({},Ct,mr))},it),dt={};return Object.keys(lt).reduce(function(bt,Ht){var pr=lt[Ht];if(pr.hasStack){var _n={};pr.stackGroups=Object.keys(pr.stackGroups).reduce(function(ft,Ct){var mr=pr.stackGroups[Ct];return _objectSpread$s(_objectSpread$s({},ft),{},_defineProperty$u({},Ct,{numericAxisId:j,cateAxisId:_e,items:mr.items,stackedData:getStackedData(_,mr.items,et)}))},_n)}return _objectSpread$s(_objectSpread$s({},bt),{},_defineProperty$u({},Ht,pr))},dt)},getTicksOfScale=function o(_,$){var j=$.realScaleType,_e=$.type,et=$.tickCount,tt=$.originalDomain,nt=$.allowDecimals,it=j||$.scale;if(it!=="auto"&&it!=="linear")return null;if(et&&_e==="number"&&tt&&(tt[0]==="auto"||tt[1]==="auto")){var lt=_.domain();if(!lt.length)return null;var dt=getNiceTickValues(lt,et,nt);return _.domain([min$2(dt),max$2(dt)]),{niceTicks:dt}}if(et&&_e==="number"){var bt=_.domain(),Ht=getTickValuesFixedDomain(bt,et,nt);return{niceTicks:Ht}}return null},getCateCoordinateOfBar=function o(_){var $=_.axis,j=_.ticks,_e=_.offset,et=_.bandSize,tt=_.entry,nt=_.index;if($.type==="category")return j[nt]?j[nt].coordinate+_e:null;var it=getValueByDataKey(tt,$.dataKey,$.domain[nt]);return isNil$1(it)?null:$.scale(it)-et/2+_e},getBaseValueOfBar=function o(_){var $=_.numericAxis,j=$.scale.domain();if($.type==="number"){var _e=Math.min(j[0],j[1]),et=Math.max(j[0],j[1]);return _e<=0&&et>=0?0:et<0?et:_e}return j[0]},getStackedDataOfItem=function o(_,$){var j=_.props.stackId;if(isNumOrStr(j)){var _e=$[j];if(_e){var et=_e.items.indexOf(_);return et>=0?_e.stackedData[et]:null}}return null},getDomainOfSingle=function o(_){return _.reduce(function($,j){return[min$2(j.concat([$[0]]).filter(isNumber)),max$2(j.concat([$[1]]).filter(isNumber))]},[1/0,-1/0])},getDomainOfStackGroups=function o(_,$,j){return Object.keys(_).reduce(function(_e,et){var tt=_[et],nt=tt.stackedData,it=nt.reduce(function(lt,dt){var bt=getDomainOfSingle(dt.slice($,j+1));return[Math.min(lt[0],bt[0]),Math.max(lt[1],bt[1])]},[1/0,-1/0]);return[Math.min(it[0],_e[0]),Math.max(it[1],_e[1])]},[1/0,-1/0]).map(function(_e){return _e===1/0||_e===-1/0?0:_e})},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,parseSpecifiedDomain=function o(_,$,j){if(isFunction$3(_))return _($,j);if(!Array.isArray(_))return $;var _e=[];if(isNumber(_[0]))_e[0]=j?_[0]:Math.min(_[0],$[0]);else if(MIN_VALUE_REG.test(_[0])){var et=+MIN_VALUE_REG.exec(_[0])[1];_e[0]=$[0]-et}else isFunction$3(_[0])?_e[0]=_[0]($[0]):_e[0]=$[0];if(isNumber(_[1]))_e[1]=j?_[1]:Math.max(_[1],$[1]);else if(MAX_VALUE_REG.test(_[1])){var tt=+MAX_VALUE_REG.exec(_[1])[1];_e[1]=$[1]+tt}else isFunction$3(_[1])?_e[1]=_[1]($[1]):_e[1]=$[1];return _e},getBandSizeOfAxis=function o(_,$,j){if(_&&_.scale&&_.scale.bandwidth){var _e=_.scale.bandwidth();if(!j||_e>0)return _e}if(_&&$&&$.length>=2){for(var et=sortBy$1($,function(bt){return bt.coordinate}),tt=1/0,nt=1,it=et.length;nt<it;nt++){var lt=et[nt],dt=et[nt-1];tt=Math.min((lt.coordinate||0)-(dt.coordinate||0),tt)}return tt===1/0?0:tt}return j?void 0:0},parseDomainOfCategoryAxis=function o(_,$,j){return!_||!_.length||isEqual$2(_,get$2(j,"type.defaultProps.domain"))?$:_},getTooltipItem=function o(_,$){var j=_.props,_e=j.dataKey,et=j.name,tt=j.unit,nt=j.formatter,it=j.tooltipType,lt=j.chartType,dt=j.hide;return _objectSpread$s(_objectSpread$s({},filterProps(_,!1)),{},{dataKey:_e,unit:tt,formatter:nt,name:et||_e,color:getMainColorOfGraphicItem(_),value:getValueByDataKey($,_e),type:it,payload:$,chartType:lt,hide:dt})};function _typeof$u(o){"@babel/helpers - typeof";return _typeof$u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$u(o)}function ownKeys$s(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$r(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$s(Object($),!0).forEach(function(j){_defineProperty$t(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$s(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$t(o,_,$){return _=_toPropertyKey$t(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$t(o){var _=_toPrimitive$t(o,"string");return _typeof$u(_)=="symbol"?_:String(_)}function _toPrimitive$t(o,_){if(_typeof$u(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$u(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}function _slicedToArray$6(o,_){return _arrayWithHoles$7(o)||_iterableToArrayLimit$6(o,_)||_unsupportedIterableToArray$d(o,_)||_nonIterableRest$7()}function _nonIterableRest$7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$d(o,_){if(o){if(typeof o=="string")return _arrayLikeToArray$d(o,_);var $=Object.prototype.toString.call(o).slice(8,-1);if($==="Object"&&o.constructor&&($=o.constructor.name),$==="Map"||$==="Set")return Array.from(o);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$d(o,_)}}function _arrayLikeToArray$d(o,_){(_==null||_>o.length)&&(_=o.length);for(var $=0,j=new Array(_);$<_;$++)j[$]=o[$];return j}function _iterableToArrayLimit$6(o,_){var $=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if($!=null){var j,_e,et,tt,nt=[],it=!0,lt=!1;try{if(et=($=$.call(o)).next,_!==0)for(;!(it=(j=et.call($)).done)&&(nt.push(j.value),nt.length!==_);it=!0);}catch(dt){lt=!0,_e=dt}finally{try{if(!it&&$.return!=null&&(tt=$.return(),Object(tt)!==tt))return}finally{if(lt)throw _e}}return nt}}function _arrayWithHoles$7(o){if(Array.isArray(o))return o}var RADIAN$1=Math.PI/180,radianToDegree=function o(_){return _*180/Math.PI},polarToCartesian=function o(_,$,j,_e){return{x:_+Math.cos(-RADIAN$1*_e)*j,y:$+Math.sin(-RADIAN$1*_e)*j}},getMaxRadius=function o(_,$){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(_-(j.left||0)-(j.right||0)),Math.abs($-(j.top||0)-(j.bottom||0)))/2},formatAxisMap$1=function o(_,$,j,_e,et){var tt=_.width,nt=_.height,it=_.startAngle,lt=_.endAngle,dt=getPercentValue(_.cx,tt,tt/2),bt=getPercentValue(_.cy,nt,nt/2),Ht=getMaxRadius(tt,nt,j),pr=getPercentValue(_.innerRadius,Ht,0),_n=getPercentValue(_.outerRadius,Ht,Ht*.8),ft=Object.keys($);return ft.reduce(function(Ct,mr){var _r=$[mr],mn=_r.domain,dr=_r.reversed,pn;if(isNil$1(_r.range))_e==="angleAxis"?pn=[it,lt]:_e==="radiusAxis"&&(pn=[pr,_n]),dr&&(pn=[pn[1],pn[0]]);else{pn=_r.range;var Do=pn,Io=_slicedToArray$6(Do,2);it=Io[0],lt=Io[1]}var Lo=parseScale(_r,et),ms=Lo.realScaleType,Uo=Lo.scale;Uo.domain(mn).range(pn),checkDomainOfScale(Uo);var _s=getTicksOfScale(Uo,_objectSpread$r(_objectSpread$r({},_r),{},{realScaleType:ms})),yp=_objectSpread$r(_objectSpread$r(_objectSpread$r({},_r),_s),{},{range:pn,radius:_n,realScaleType:ms,scale:Uo,cx:dt,cy:bt,innerRadius:pr,outerRadius:_n,startAngle:it,endAngle:lt});return _objectSpread$r(_objectSpread$r({},Ct),{},_defineProperty$t({},mr,yp))},{})},distanceBetweenPoints=function o(_,$){var j=_.x,_e=_.y,et=$.x,tt=$.y;return Math.sqrt(Math.pow(j-et,2)+Math.pow(_e-tt,2))},getAngleOfPoint=function o(_,$){var j=_.x,_e=_.y,et=$.cx,tt=$.cy,nt=distanceBetweenPoints({x:j,y:_e},{x:et,y:tt});if(nt<=0)return{radius:nt};var it=(j-et)/nt,lt=Math.acos(it);return _e>tt&&(lt=2*Math.PI-lt),{radius:nt,angle:radianToDegree(lt),angleInRadian:lt}},formatAngleOfSector=function o(_){var $=_.startAngle,j=_.endAngle,_e=Math.floor($/360),et=Math.floor(j/360),tt=Math.min(_e,et);return{startAngle:$-tt*360,endAngle:j-tt*360}},reverseFormatAngleOfSetor=function o(_,$){var j=$.startAngle,_e=$.endAngle,et=Math.floor(j/360),tt=Math.floor(_e/360),nt=Math.min(et,tt);return _+nt*360},inRangeOfSector=function o(_,$){var j=_.x,_e=_.y,et=getAngleOfPoint({x:j,y:_e},$),tt=et.radius,nt=et.angle,it=$.innerRadius,lt=$.outerRadius;if(tt<it||tt>lt)return!1;if(tt===0)return!0;var dt=formatAngleOfSector($),bt=dt.startAngle,Ht=dt.endAngle,pr=nt,_n;if(bt<=Ht){for(;pr>Ht;)pr-=360;for(;pr<bt;)pr+=360;_n=pr>=bt&&pr<=Ht}else{for(;pr>bt;)pr-=360;for(;pr<Ht;)pr+=360;_n=pr>=Ht&&pr<=bt}return _n?_objectSpread$r(_objectSpread$r({},$),{},{radius:tt,angle:reverseFormatAngleOfSetor(pr,$)}):null},getTickClassName=function o(_){return!reactExports.isValidElement(_)&&!isFunction$3(_)&&typeof _!="boolean"?_.className:""};function _typeof$t(o){"@babel/helpers - typeof";return _typeof$t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$t(o)}var _excluded$b=["offset"];function _toConsumableArray$8(o){return _arrayWithoutHoles$8(o)||_iterableToArray$9(o)||_unsupportedIterableToArray$c(o)||_nonIterableSpread$8()}function _nonIterableSpread$8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$c(o,_){if(o){if(typeof o=="string")return _arrayLikeToArray$c(o,_);var $=Object.prototype.toString.call(o).slice(8,-1);if($==="Object"&&o.constructor&&($=o.constructor.name),$==="Map"||$==="Set")return Array.from(o);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$c(o,_)}}function _iterableToArray$9(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithoutHoles$8(o){if(Array.isArray(o))return _arrayLikeToArray$c(o)}function _arrayLikeToArray$c(o,_){(_==null||_>o.length)&&(_=o.length);for(var $=0,j=new Array(_);$<_;$++)j[$]=o[$];return j}function _objectWithoutProperties$b(o,_){if(o==null)return{};var $=_objectWithoutPropertiesLoose$c(o,_),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for(_e=0;_e<et.length;_e++)j=et[_e],!(_.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(o,j)&&($[j]=o[j])}return $}function _objectWithoutPropertiesLoose$c(o,_){if(o==null)return{};var $={},j=Object.keys(o),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(_.indexOf(_e)>=0)&&($[_e]=o[_e]);return $}function ownKeys$r(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$q(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$r(Object($),!0).forEach(function(j){_defineProperty$s(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$r(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$s(o,_,$){return _=_toPropertyKey$s(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$s(o){var _=_toPrimitive$s(o,"string");return _typeof$t(_)=="symbol"?_:String(_)}function _toPrimitive$s(o,_){if(_typeof$t(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$t(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$o.apply(this,arguments)}var getLabel=function o(_){var $=_.value,j=_.formatter,_e=isNil$1(_.children)?$:_.children;return isFunction$3(j)?j(_e):_e},getDeltaAngle$1=function o(_,$){var j=mathSign($-_),_e=Math.min(Math.abs($-_),360);return j*_e},renderRadialLabel=function o(_,$,j){var _e=_.position,et=_.viewBox,tt=_.offset,nt=_.className,it=et,lt=it.cx,dt=it.cy,bt=it.innerRadius,Ht=it.outerRadius,pr=it.startAngle,_n=it.endAngle,ft=it.clockWise,Ct=(bt+Ht)/2,mr=getDeltaAngle$1(pr,_n),_r=mr>=0?1:-1,mn,dr;_e==="insideStart"?(mn=pr+_r*tt,dr=ft):_e==="insideEnd"?(mn=_n-_r*tt,dr=!ft):_e==="end"&&(mn=_n+_r*tt,dr=ft),dr=mr<=0?dr:!dr;var pn=polarToCartesian(lt,dt,Ct,mn),Do=polarToCartesian(lt,dt,Ct,mn+(dr?1:-1)*359),Io="M".concat(pn.x,",").concat(pn.y,`
    A`).concat(Ct,",").concat(Ct,",0,1,").concat(dr?0:1,`,
    `).concat(Do.x,",").concat(Do.y),Lo=isNil$1(_.id)?uniqueId("recharts-radial-line-"):_.id;return React.createElement("text",_extends$o({},j,{dominantBaseline:"central",className:clsx$1("recharts-radial-bar-label",nt)}),React.createElement("defs",null,React.createElement("path",{id:Lo,d:Io})),React.createElement("textPath",{xlinkHref:"#".concat(Lo)},$))},getAttrsOfPolarLabel=function o(_){var $=_.viewBox,j=_.offset,_e=_.position,et=$,tt=et.cx,nt=et.cy,it=et.innerRadius,lt=et.outerRadius,dt=et.startAngle,bt=et.endAngle,Ht=(dt+bt)/2;if(_e==="outside"){var pr=polarToCartesian(tt,nt,lt+j,Ht),_n=pr.x,ft=pr.y;return{x:_n,y:ft,textAnchor:_n>=tt?"start":"end",verticalAnchor:"middle"}}if(_e==="center")return{x:tt,y:nt,textAnchor:"middle",verticalAnchor:"middle"};if(_e==="centerTop")return{x:tt,y:nt,textAnchor:"middle",verticalAnchor:"start"};if(_e==="centerBottom")return{x:tt,y:nt,textAnchor:"middle",verticalAnchor:"end"};var Ct=(it+lt)/2,mr=polarToCartesian(tt,nt,Ct,Ht),_r=mr.x,mn=mr.y;return{x:_r,y:mn,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=function o(_){var $=_.viewBox,j=_.parentViewBox,_e=_.offset,et=_.position,tt=$,nt=tt.x,it=tt.y,lt=tt.width,dt=tt.height,bt=dt>=0?1:-1,Ht=bt*_e,pr=bt>0?"end":"start",_n=bt>0?"start":"end",ft=lt>=0?1:-1,Ct=ft*_e,mr=ft>0?"end":"start",_r=ft>0?"start":"end";if(et==="top"){var mn={x:nt+lt/2,y:it-bt*_e,textAnchor:"middle",verticalAnchor:pr};return _objectSpread$q(_objectSpread$q({},mn),j?{height:Math.max(it-j.y,0),width:lt}:{})}if(et==="bottom"){var dr={x:nt+lt/2,y:it+dt+Ht,textAnchor:"middle",verticalAnchor:_n};return _objectSpread$q(_objectSpread$q({},dr),j?{height:Math.max(j.y+j.height-(it+dt),0),width:lt}:{})}if(et==="left"){var pn={x:nt-Ct,y:it+dt/2,textAnchor:mr,verticalAnchor:"middle"};return _objectSpread$q(_objectSpread$q({},pn),j?{width:Math.max(pn.x-j.x,0),height:dt}:{})}if(et==="right"){var Do={x:nt+lt+Ct,y:it+dt/2,textAnchor:_r,verticalAnchor:"middle"};return _objectSpread$q(_objectSpread$q({},Do),j?{width:Math.max(j.x+j.width-Do.x,0),height:dt}:{})}var Io=j?{width:lt,height:dt}:{};return et==="insideLeft"?_objectSpread$q({x:nt+Ct,y:it+dt/2,textAnchor:_r,verticalAnchor:"middle"},Io):et==="insideRight"?_objectSpread$q({x:nt+lt-Ct,y:it+dt/2,textAnchor:mr,verticalAnchor:"middle"},Io):et==="insideTop"?_objectSpread$q({x:nt+lt/2,y:it+Ht,textAnchor:"middle",verticalAnchor:_n},Io):et==="insideBottom"?_objectSpread$q({x:nt+lt/2,y:it+dt-Ht,textAnchor:"middle",verticalAnchor:pr},Io):et==="insideTopLeft"?_objectSpread$q({x:nt+Ct,y:it+Ht,textAnchor:_r,verticalAnchor:_n},Io):et==="insideTopRight"?_objectSpread$q({x:nt+lt-Ct,y:it+Ht,textAnchor:mr,verticalAnchor:_n},Io):et==="insideBottomLeft"?_objectSpread$q({x:nt+Ct,y:it+dt-Ht,textAnchor:_r,verticalAnchor:pr},Io):et==="insideBottomRight"?_objectSpread$q({x:nt+lt-Ct,y:it+dt-Ht,textAnchor:mr,verticalAnchor:pr},Io):isObject$8(et)&&(isNumber(et.x)||isPercent(et.x))&&(isNumber(et.y)||isPercent(et.y))?_objectSpread$q({x:nt+getPercentValue(et.x,lt),y:it+getPercentValue(et.y,dt),textAnchor:"end",verticalAnchor:"end"},Io):_objectSpread$q({x:nt+lt/2,y:it+dt/2,textAnchor:"middle",verticalAnchor:"middle"},Io)},isPolar=function o(_){return"cx"in _&&isNumber(_.cx)};function Label(o){var _=o.offset,$=_===void 0?5:_,j=_objectWithoutProperties$b(o,_excluded$b),_e=_objectSpread$q({offset:$},j),et=_e.viewBox,tt=_e.position,nt=_e.value,it=_e.children,lt=_e.content,dt=_e.className,bt=dt===void 0?"":dt,Ht=_e.textBreakAll;if(!et||isNil$1(nt)&&isNil$1(it)&&!reactExports.isValidElement(lt)&&!isFunction$3(lt))return null;if(reactExports.isValidElement(lt))return reactExports.cloneElement(lt,_e);var pr;if(isFunction$3(lt)){if(pr=reactExports.createElement(lt,_e),reactExports.isValidElement(pr))return pr}else pr=getLabel(_e);var _n=isPolar(et),ft=filterProps(_e,!0);if(_n&&(tt==="insideStart"||tt==="insideEnd"||tt==="end"))return renderRadialLabel(_e,pr,ft);var Ct=_n?getAttrsOfPolarLabel(_e):getAttrsOfCartesianLabel(_e);return React.createElement(Text,_extends$o({className:clsx$1("recharts-label",bt)},ft,Ct,{breakAll:Ht}),pr)}Label.displayName="Label";var parseViewBox=function o(_){var $=_.cx,j=_.cy,_e=_.angle,et=_.startAngle,tt=_.endAngle,nt=_.r,it=_.radius,lt=_.innerRadius,dt=_.outerRadius,bt=_.x,Ht=_.y,pr=_.top,_n=_.left,ft=_.width,Ct=_.height,mr=_.clockWise,_r=_.labelViewBox;if(_r)return _r;if(isNumber(ft)&&isNumber(Ct)){if(isNumber(bt)&&isNumber(Ht))return{x:bt,y:Ht,width:ft,height:Ct};if(isNumber(pr)&&isNumber(_n))return{x:pr,y:_n,width:ft,height:Ct}}return isNumber(bt)&&isNumber(Ht)?{x:bt,y:Ht,width:0,height:0}:isNumber($)&&isNumber(j)?{cx:$,cy:j,startAngle:et||_e||0,endAngle:tt||_e||0,innerRadius:lt||0,outerRadius:dt||it||nt||0,clockWise:mr}:_.viewBox?_.viewBox:{}},parseLabel=function o(_,$){return _?_===!0?React.createElement(Label,{key:"label-implicit",viewBox:$}):isNumOrStr(_)?React.createElement(Label,{key:"label-implicit",viewBox:$,value:_}):reactExports.isValidElement(_)?_.type===Label?reactExports.cloneElement(_,{key:"label-implicit",viewBox:$}):React.createElement(Label,{key:"label-implicit",content:_,viewBox:$}):isFunction$3(_)?React.createElement(Label,{key:"label-implicit",content:_,viewBox:$}):isObject$8(_)?React.createElement(Label,_extends$o({viewBox:$},_,{key:"label-implicit"})):null:null},renderCallByParent$1=function o(_,$){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!_||!_.children&&j&&!_.label)return null;var _e=_.children,et=parseViewBox(_),tt=findAllByType(_e,Label).map(function(it,lt){return reactExports.cloneElement(it,{viewBox:$||et,key:"label-".concat(lt)})});if(!j)return tt;var nt=parseLabel(_.label,$||et);return[nt].concat(_toConsumableArray$8(tt))};Label.parseViewBox=parseViewBox;Label.renderCallByParent=renderCallByParent$1;function last(o){var _=o==null?0:o.length;return _?o[_-1]:void 0}var last_1=last;const last$1=getDefaultExportFromCjs(last_1);function _typeof$s(o){"@babel/helpers - typeof";return _typeof$s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$s(o)}var _excluded$a=["valueAccessor"],_excluded2$4=["data","dataKey","clockWise","id","textBreakAll"];function _toConsumableArray$7(o){return _arrayWithoutHoles$7(o)||_iterableToArray$8(o)||_unsupportedIterableToArray$b(o)||_nonIterableSpread$7()}function _nonIterableSpread$7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$b(o,_){if(o){if(typeof o=="string")return _arrayLikeToArray$b(o,_);var $=Object.prototype.toString.call(o).slice(8,-1);if($==="Object"&&o.constructor&&($=o.constructor.name),$==="Map"||$==="Set")return Array.from(o);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$b(o,_)}}function _iterableToArray$8(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithoutHoles$7(o){if(Array.isArray(o))return _arrayLikeToArray$b(o)}function _arrayLikeToArray$b(o,_){(_==null||_>o.length)&&(_=o.length);for(var $=0,j=new Array(_);$<_;$++)j[$]=o[$];return j}function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$n.apply(this,arguments)}function ownKeys$q(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$p(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$q(Object($),!0).forEach(function(j){_defineProperty$r(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$q(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$r(o,_,$){return _=_toPropertyKey$r(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$r(o){var _=_toPrimitive$r(o,"string");return _typeof$s(_)=="symbol"?_:String(_)}function _toPrimitive$r(o,_){if(_typeof$s(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$s(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}function _objectWithoutProperties$a(o,_){if(o==null)return{};var $=_objectWithoutPropertiesLoose$b(o,_),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for(_e=0;_e<et.length;_e++)j=et[_e],!(_.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(o,j)&&($[j]=o[j])}return $}function _objectWithoutPropertiesLoose$b(o,_){if(o==null)return{};var $={},j=Object.keys(o),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(_.indexOf(_e)>=0)&&($[_e]=o[_e]);return $}var defaultAccessor=function o(_){return Array.isArray(_.value)?last$1(_.value):_.value};function LabelList(o){var _=o.valueAccessor,$=_===void 0?defaultAccessor:_,j=_objectWithoutProperties$a(o,_excluded$a),_e=j.data,et=j.dataKey,tt=j.clockWise,nt=j.id,it=j.textBreakAll,lt=_objectWithoutProperties$a(j,_excluded2$4);return!_e||!_e.length?null:React.createElement(Layer,{className:"recharts-label-list"},_e.map(function(dt,bt){var Ht=isNil$1(et)?$(dt,bt):getValueByDataKey(dt&&dt.payload,et),pr=isNil$1(nt)?{}:{id:"".concat(nt,"-").concat(bt)};return React.createElement(Label,_extends$n({},filterProps(dt,!0),lt,pr,{parentViewBox:dt.parentViewBox,value:Ht,textBreakAll:it,viewBox:Label.parseViewBox(isNil$1(tt)?dt:_objectSpread$p(_objectSpread$p({},dt),{},{clockWise:tt})),key:"label-".concat(bt),index:bt}))}))}LabelList.displayName="LabelList";function parseLabelList(o,_){return o?o===!0?React.createElement(LabelList,{key:"labelList-implicit",data:_}):React.isValidElement(o)||isFunction$3(o)?React.createElement(LabelList,{key:"labelList-implicit",data:_,content:o}):isObject$8(o)?React.createElement(LabelList,_extends$n({data:_},o,{key:"labelList-implicit"})):null:null}function renderCallByParent(o,_){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!o||!o.children&&$&&!o.label)return null;var j=o.children,_e=findAllByType(j,LabelList).map(function(tt,nt){return reactExports.cloneElement(tt,{data:_,key:"labelList-".concat(nt)})});if(!$)return _e;var et=parseLabelList(o.label,_);return[et].concat(_toConsumableArray$7(_e))}LabelList.renderCallByParent=renderCallByParent;function _typeof$r(o){"@babel/helpers - typeof";return _typeof$r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$r(o)}function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$m.apply(this,arguments)}function ownKeys$p(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$o(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$p(Object($),!0).forEach(function(j){_defineProperty$q(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$p(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$q(o,_,$){return _=_toPropertyKey$q(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$q(o){var _=_toPrimitive$q(o,"string");return _typeof$r(_)=="symbol"?_:String(_)}function _toPrimitive$q(o,_){if(_typeof$r(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$r(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}var getDeltaAngle=function o(_,$){var j=mathSign($-_),_e=Math.min(Math.abs($-_),359.999);return j*_e},getTangentCircle=function o(_){var $=_.cx,j=_.cy,_e=_.radius,et=_.angle,tt=_.sign,nt=_.isExternal,it=_.cornerRadius,lt=_.cornerIsExternal,dt=it*(nt?1:-1)+_e,bt=Math.asin(it/dt)/RADIAN$1,Ht=lt?et:et+tt*bt,pr=polarToCartesian($,j,dt,Ht),_n=polarToCartesian($,j,_e,Ht),ft=lt?et-tt*bt:et,Ct=polarToCartesian($,j,dt*Math.cos(bt*RADIAN$1),ft);return{center:pr,circleTangency:_n,lineTangency:Ct,theta:bt}},getSectorPath=function o(_){var $=_.cx,j=_.cy,_e=_.innerRadius,et=_.outerRadius,tt=_.startAngle,nt=_.endAngle,it=getDeltaAngle(tt,nt),lt=tt+it,dt=polarToCartesian($,j,et,tt),bt=polarToCartesian($,j,et,lt),Ht="M ".concat(dt.x,",").concat(dt.y,`
    A `).concat(et,",").concat(et,`,0,
    `).concat(+(Math.abs(it)>180),",").concat(+(tt>lt),`,
    `).concat(bt.x,",").concat(bt.y,`
  `);if(_e>0){var pr=polarToCartesian($,j,_e,tt),_n=polarToCartesian($,j,_e,lt);Ht+="L ".concat(_n.x,",").concat(_n.y,`
            A `).concat(_e,",").concat(_e,`,0,
            `).concat(+(Math.abs(it)>180),",").concat(+(tt<=lt),`,
            `).concat(pr.x,",").concat(pr.y," Z")}else Ht+="L ".concat($,",").concat(j," Z");return Ht},getSectorWithCorner=function o(_){var $=_.cx,j=_.cy,_e=_.innerRadius,et=_.outerRadius,tt=_.cornerRadius,nt=_.forceCornerRadius,it=_.cornerIsExternal,lt=_.startAngle,dt=_.endAngle,bt=mathSign(dt-lt),Ht=getTangentCircle({cx:$,cy:j,radius:et,angle:lt,sign:bt,cornerRadius:tt,cornerIsExternal:it}),pr=Ht.circleTangency,_n=Ht.lineTangency,ft=Ht.theta,Ct=getTangentCircle({cx:$,cy:j,radius:et,angle:dt,sign:-bt,cornerRadius:tt,cornerIsExternal:it}),mr=Ct.circleTangency,_r=Ct.lineTangency,mn=Ct.theta,dr=it?Math.abs(lt-dt):Math.abs(lt-dt)-ft-mn;if(dr<0)return nt?"M ".concat(_n.x,",").concat(_n.y,`
        a`).concat(tt,",").concat(tt,",0,0,1,").concat(tt*2,`,0
        a`).concat(tt,",").concat(tt,",0,0,1,").concat(-tt*2,`,0
      `):getSectorPath({cx:$,cy:j,innerRadius:_e,outerRadius:et,startAngle:lt,endAngle:dt});var pn="M ".concat(_n.x,",").concat(_n.y,`
    A`).concat(tt,",").concat(tt,",0,0,").concat(+(bt<0),",").concat(pr.x,",").concat(pr.y,`
    A`).concat(et,",").concat(et,",0,").concat(+(dr>180),",").concat(+(bt<0),",").concat(mr.x,",").concat(mr.y,`
    A`).concat(tt,",").concat(tt,",0,0,").concat(+(bt<0),",").concat(_r.x,",").concat(_r.y,`
  `);if(_e>0){var Do=getTangentCircle({cx:$,cy:j,radius:_e,angle:lt,sign:bt,isExternal:!0,cornerRadius:tt,cornerIsExternal:it}),Io=Do.circleTangency,Lo=Do.lineTangency,ms=Do.theta,Uo=getTangentCircle({cx:$,cy:j,radius:_e,angle:dt,sign:-bt,isExternal:!0,cornerRadius:tt,cornerIsExternal:it}),_s=Uo.circleTangency,yp=Uo.lineTangency,xs=Uo.theta,vs=it?Math.abs(lt-dt):Math.abs(lt-dt)-ms-xs;if(vs<0&&tt===0)return"".concat(pn,"L").concat($,",").concat(j,"Z");pn+="L".concat(yp.x,",").concat(yp.y,`
      A`).concat(tt,",").concat(tt,",0,0,").concat(+(bt<0),",").concat(_s.x,",").concat(_s.y,`
      A`).concat(_e,",").concat(_e,",0,").concat(+(vs>180),",").concat(+(bt>0),",").concat(Io.x,",").concat(Io.y,`
      A`).concat(tt,",").concat(tt,",0,0,").concat(+(bt<0),",").concat(Lo.x,",").concat(Lo.y,"Z")}else pn+="L".concat($,",").concat(j,"Z");return pn},defaultProps$3={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=function o(_){var $=_objectSpread$o(_objectSpread$o({},defaultProps$3),_),j=$.cx,_e=$.cy,et=$.innerRadius,tt=$.outerRadius,nt=$.cornerRadius,it=$.forceCornerRadius,lt=$.cornerIsExternal,dt=$.startAngle,bt=$.endAngle,Ht=$.className;if(tt<et||dt===bt)return null;var pr=clsx$1("recharts-sector",Ht),_n=tt-et,ft=getPercentValue(nt,_n,0,!0),Ct;return ft>0&&Math.abs(dt-bt)<360?Ct=getSectorWithCorner({cx:j,cy:_e,innerRadius:et,outerRadius:tt,cornerRadius:Math.min(ft,_n/2),forceCornerRadius:it,cornerIsExternal:lt,startAngle:dt,endAngle:bt}):Ct=getSectorPath({cx:j,cy:_e,innerRadius:et,outerRadius:tt,startAngle:dt,endAngle:bt}),React.createElement("path",_extends$m({},filterProps($,!0),{className:pr,d:Ct,role:"img"}))};function _typeof$q(o){"@babel/helpers - typeof";return _typeof$q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$q(o)}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$l.apply(this,arguments)}function ownKeys$o(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$n(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$o(Object($),!0).forEach(function(j){_defineProperty$p(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$o(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$p(o,_,$){return _=_toPropertyKey$p(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$p(o){var _=_toPrimitive$p(o,"string");return _typeof$q(_)=="symbol"?_:String(_)}function _toPrimitive$p(o,_){if(_typeof$q(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$q(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=function o(_){return _.x===+_.x&&_.y===+_.y},getX=function o(_){return _.x},getY=function o(_){return _.y},getCurveFactory=function o(_,$){if(isFunction$3(_))return _;var j="curve".concat(upperFirst$1(_));return(j==="curveMonotone"||j==="curveBump")&&$?CURVE_FACTORIES["".concat(j).concat($==="vertical"?"Y":"X")]:CURVE_FACTORIES[j]||curveLinear},getPath$1=function o(_){var $=_.type,j=$===void 0?"linear":$,_e=_.points,et=_e===void 0?[]:_e,tt=_.baseLine,nt=_.layout,it=_.connectNulls,lt=it===void 0?!1:it,dt=getCurveFactory(j,nt),bt=lt?et.filter(function(ft){return defined(ft)}):et,Ht;if(Array.isArray(tt)){var pr=lt?tt.filter(function(ft){return defined(ft)}):tt,_n=bt.map(function(ft,Ct){return _objectSpread$n(_objectSpread$n({},ft),{},{base:pr[Ct]})});return nt==="vertical"?Ht=shapeArea().y(getY).x1(getX).x0(function(ft){return ft.base.x}):Ht=shapeArea().x(getX).y1(getY).y0(function(ft){return ft.base.y}),Ht.defined(defined).curve(dt),Ht(_n)}return nt==="vertical"&&isNumber(tt)?Ht=shapeArea().y(getY).x1(getX).x0(tt):isNumber(tt)?Ht=shapeArea().x(getX).y1(getY).y0(tt):Ht=shapeLine().x(getX).y(getY),Ht.defined(defined).curve(dt),Ht(bt)},Curve=function o(_){var $=_.className,j=_.points,_e=_.path,et=_.pathRef;if((!j||!j.length)&&!_e)return null;var tt=j&&j.length?getPath$1(_):_e;return React.createElement("path",_extends$l({},filterProps(_,!1),adaptEventHandlers(_),{className:clsx$1("recharts-curve",$),d:tt,ref:et}))},getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$1=Object.prototype.hasOwnProperty;function combineComparators(o,_){return function(j,_e,et){return o(j,_e,et)&&_(j,_e,et)}}function createIsCircular(o){return function($,j,_e){if(!$||!j||typeof $!="object"||typeof j!="object")return o($,j,_e);var et=_e.cache,tt=et.get($),nt=et.get(j);if(tt&&nt)return tt===j&&nt===$;et.set($,j),et.set(j,$);var it=o($,j,_e);return et.delete($),et.delete(j),it}}function getStrictProperties(o){return getOwnPropertyNames(o).concat(getOwnPropertySymbols(o))}var hasOwn=Object.hasOwn||function(o,_){return hasOwnProperty$1.call(o,_)};function sameValueZeroEqual(o,_){return o||_?o===_:o===_||o!==o&&_!==_}var OWNER="_owner",getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,keys$1=Object.keys;function areArraysEqual(o,_,$){var j=o.length;if(_.length!==j)return!1;for(;j-- >0;)if(!$.equals(o[j],_[j],j,j,o,_,$))return!1;return!0}function areDatesEqual(o,_){return sameValueZeroEqual(o.getTime(),_.getTime())}function areMapsEqual(o,_,$){if(o.size!==_.size)return!1;for(var j={},_e=o.entries(),et=0,tt,nt;(tt=_e.next())&&!tt.done;){for(var it=_.entries(),lt=!1,dt=0;(nt=it.next())&&!nt.done;){var bt=tt.value,Ht=bt[0],pr=bt[1],_n=nt.value,ft=_n[0],Ct=_n[1];!lt&&!j[dt]&&(lt=$.equals(Ht,ft,et,dt,o,_,$)&&$.equals(pr,Ct,Ht,ft,o,_,$))&&(j[dt]=!0),dt++}if(!lt)return!1;et++}return!0}function areObjectsEqual(o,_,$){var j=keys$1(o),_e=j.length;if(keys$1(_).length!==_e)return!1;for(var et;_e-- >0;)if(et=j[_e],et===OWNER&&(o.$$typeof||_.$$typeof)&&o.$$typeof!==_.$$typeof||!hasOwn(_,et)||!$.equals(o[et],_[et],et,et,o,_,$))return!1;return!0}function areObjectsEqualStrict(o,_,$){var j=getStrictProperties(o),_e=j.length;if(getStrictProperties(_).length!==_e)return!1;for(var et,tt,nt;_e-- >0;)if(et=j[_e],et===OWNER&&(o.$$typeof||_.$$typeof)&&o.$$typeof!==_.$$typeof||!hasOwn(_,et)||!$.equals(o[et],_[et],et,et,o,_,$)||(tt=getOwnPropertyDescriptor(o,et),nt=getOwnPropertyDescriptor(_,et),(tt||nt)&&(!tt||!nt||tt.configurable!==nt.configurable||tt.enumerable!==nt.enumerable||tt.writable!==nt.writable)))return!1;return!0}function arePrimitiveWrappersEqual(o,_){return sameValueZeroEqual(o.valueOf(),_.valueOf())}function areRegExpsEqual(o,_){return o.source===_.source&&o.flags===_.flags}function areSetsEqual(o,_,$){if(o.size!==_.size)return!1;for(var j={},_e=o.values(),et,tt;(et=_e.next())&&!et.done;){for(var nt=_.values(),it=!1,lt=0;(tt=nt.next())&&!tt.done;)!it&&!j[lt]&&(it=$.equals(et.value,tt.value,et.value,tt.value,o,_,$))&&(j[lt]=!0),lt++;if(!it)return!1}return!0}function areTypedArraysEqual(o,_){var $=o.length;if(_.length!==$)return!1;for(;$-- >0;)if(o[$]!==_[$])return!1;return!0}var ARGUMENTS_TAG="[object Arguments]",BOOLEAN_TAG="[object Boolean]",DATE_TAG="[object Date]",MAP_TAG="[object Map]",NUMBER_TAG="[object Number]",OBJECT_TAG="[object Object]",REG_EXP_TAG="[object RegExp]",SET_TAG="[object Set]",STRING_TAG="[object String]",isArray$2=Array.isArray,isTypedArray=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,assign=Object.assign,getTag=Object.prototype.toString.call.bind(Object.prototype.toString);function createEqualityComparator(o){var _=o.areArraysEqual,$=o.areDatesEqual,j=o.areMapsEqual,_e=o.areObjectsEqual,et=o.arePrimitiveWrappersEqual,tt=o.areRegExpsEqual,nt=o.areSetsEqual,it=o.areTypedArraysEqual;return function(dt,bt,Ht){if(dt===bt)return!0;if(dt==null||bt==null||typeof dt!="object"||typeof bt!="object")return dt!==dt&&bt!==bt;var pr=dt.constructor;if(pr!==bt.constructor)return!1;if(pr===Object)return _e(dt,bt,Ht);if(isArray$2(dt))return _(dt,bt,Ht);if(isTypedArray!=null&&isTypedArray(dt))return it(dt,bt,Ht);if(pr===Date)return $(dt,bt,Ht);if(pr===RegExp)return tt(dt,bt,Ht);if(pr===Map)return j(dt,bt,Ht);if(pr===Set)return nt(dt,bt,Ht);var _n=getTag(dt);return _n===DATE_TAG?$(dt,bt,Ht):_n===REG_EXP_TAG?tt(dt,bt,Ht):_n===MAP_TAG?j(dt,bt,Ht):_n===SET_TAG?nt(dt,bt,Ht):_n===OBJECT_TAG?typeof dt.then!="function"&&typeof bt.then!="function"&&_e(dt,bt,Ht):_n===ARGUMENTS_TAG?_e(dt,bt,Ht):_n===BOOLEAN_TAG||_n===NUMBER_TAG||_n===STRING_TAG?et(dt,bt,Ht):!1}}function createEqualityComparatorConfig(o){var _=o.circular,$=o.createCustomConfig,j=o.strict,_e={areArraysEqual:j?areObjectsEqualStrict:areArraysEqual,areDatesEqual,areMapsEqual:j?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areObjectsEqual:j?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual,areRegExpsEqual,areSetsEqual:j?combineComparators(areSetsEqual,areObjectsEqualStrict):areSetsEqual,areTypedArraysEqual:j?areObjectsEqualStrict:areTypedArraysEqual};if($&&(_e=assign({},_e,$(_e))),_){var et=createIsCircular(_e.areArraysEqual),tt=createIsCircular(_e.areMapsEqual),nt=createIsCircular(_e.areObjectsEqual),it=createIsCircular(_e.areSetsEqual);_e=assign({},_e,{areArraysEqual:et,areMapsEqual:tt,areObjectsEqual:nt,areSetsEqual:it})}return _e}function createInternalEqualityComparator(o){return function(_,$,j,_e,et,tt,nt){return o(_,$,nt)}}function createIsEqual(o){var _=o.circular,$=o.comparator,j=o.createState,_e=o.equals,et=o.strict;if(j)return function(it,lt){var dt=j(),bt=dt.cache,Ht=bt===void 0?_?new WeakMap:void 0:bt,pr=dt.meta;return $(it,lt,{cache:Ht,equals:_e,meta:pr,strict:et})};if(_)return function(it,lt){return $(it,lt,{cache:new WeakMap,equals:_e,meta:void 0,strict:et})};var tt={cache:void 0,equals:_e,meta:void 0,strict:et};return function(it,lt){return $(it,lt,tt)}}var deepEqual$1=createCustomEqual();createCustomEqual({strict:!0});createCustomEqual({circular:!0});createCustomEqual({circular:!0,strict:!0});createCustomEqual({createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({strict:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual},strict:!0});function createCustomEqual(o){o===void 0&&(o={});var _=o.circular,$=_===void 0?!1:_,j=o.createInternalComparator,_e=o.createState,et=o.strict,tt=et===void 0?!1:et,nt=createEqualityComparatorConfig(o),it=createEqualityComparator(nt),lt=j?j(it):createInternalEqualityComparator(it);return createIsEqual({circular:$,comparator:it,createState:_e,equals:lt,strict:tt})}function safeRequestAnimationFrame(o){typeof requestAnimationFrame<"u"&&requestAnimationFrame(o)}function setRafTimeout(o){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,$=-1,j=function _e(et){$<0&&($=et),et-$>_?(o(et),$=-1):safeRequestAnimationFrame(_e)};requestAnimationFrame(j)}function _typeof$p(o){"@babel/helpers - typeof";return _typeof$p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$p(o)}function _toArray(o){return _arrayWithHoles$6(o)||_iterableToArray$7(o)||_unsupportedIterableToArray$a(o)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$a(o,_){if(o){if(typeof o=="string")return _arrayLikeToArray$a(o,_);var $=Object.prototype.toString.call(o).slice(8,-1);if($==="Object"&&o.constructor&&($=o.constructor.name),$==="Map"||$==="Set")return Array.from(o);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$a(o,_)}}function _arrayLikeToArray$a(o,_){(_==null||_>o.length)&&(_=o.length);for(var $=0,j=new Array(_);$<_;$++)j[$]=o[$];return j}function _iterableToArray$7(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithHoles$6(o){if(Array.isArray(o))return o}function createAnimateManager(){var o={},_=function(){return null},$=!1,j=function _e(et){if(!$){if(Array.isArray(et)){if(!et.length)return;var tt=et,nt=_toArray(tt),it=nt[0],lt=nt.slice(1);if(typeof it=="number"){setRafTimeout(_e.bind(null,lt),it);return}_e(it),setRafTimeout(_e.bind(null,lt));return}_typeof$p(et)==="object"&&(o=et,_(o)),typeof et=="function"&&et()}};return{stop:function(){$=!0},start:function(et){$=!1,j(et)},subscribe:function(et){return _=et,function(){_=function(){return null}}}}}function _typeof$o(o){"@babel/helpers - typeof";return _typeof$o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$o(o)}function ownKeys$n(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$m(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$n(Object($),!0).forEach(function(j){_defineProperty$o(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$n(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$o(o,_,$){return _=_toPropertyKey$o(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$o(o){var _=_toPrimitive$o(o,"string");return _typeof$o(_)==="symbol"?_:String(_)}function _toPrimitive$o(o,_){if(_typeof$o(o)!=="object"||o===null)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$o(j)!=="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}var getIntersectionKeys=function o(_,$){return[Object.keys(_),Object.keys($)].reduce(function(j,_e){return j.filter(function(et){return _e.includes(et)})})},identity=function o(_){return _},getDashCase=function o(_){return _.replace(/([A-Z])/g,function($){return"-".concat($.toLowerCase())})},mapObject=function o(_,$){return Object.keys($).reduce(function(j,_e){return _objectSpread$m(_objectSpread$m({},j),{},_defineProperty$o({},_e,_(_e,$[_e])))},{})},getTransitionVal=function o(_,$,j){return _.map(function(_e){return"".concat(getDashCase(_e)," ").concat($,"ms ").concat(j)}).join(",")};function _slicedToArray$5(o,_){return _arrayWithHoles$5(o)||_iterableToArrayLimit$5(o,_)||_unsupportedIterableToArray$9(o,_)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$5(o,_){var $=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if($!=null){var j,_e,et,tt,nt=[],it=!0,lt=!1;try{if(et=($=$.call(o)).next,_!==0)for(;!(it=(j=et.call($)).done)&&(nt.push(j.value),nt.length!==_);it=!0);}catch(dt){lt=!0,_e=dt}finally{try{if(!it&&$.return!=null&&(tt=$.return(),Object(tt)!==tt))return}finally{if(lt)throw _e}}return nt}}function _arrayWithHoles$5(o){if(Array.isArray(o))return o}function _toConsumableArray$6(o){return _arrayWithoutHoles$6(o)||_iterableToArray$6(o)||_unsupportedIterableToArray$9(o)||_nonIterableSpread$6()}function _nonIterableSpread$6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$9(o,_){if(o){if(typeof o=="string")return _arrayLikeToArray$9(o,_);var $=Object.prototype.toString.call(o).slice(8,-1);if($==="Object"&&o.constructor&&($=o.constructor.name),$==="Map"||$==="Set")return Array.from(o);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$9(o,_)}}function _iterableToArray$6(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithoutHoles$6(o){if(Array.isArray(o))return _arrayLikeToArray$9(o)}function _arrayLikeToArray$9(o,_){(_==null||_>o.length)&&(_=o.length);for(var $=0,j=new Array(_);$<_;$++)j[$]=o[$];return j}var ACCURACY=1e-4,cubicBezierFactor=function o(_,$){return[0,3*_,3*$-6*_,3*_-3*$+1]},multyTime=function o(_,$){return _.map(function(j,_e){return j*Math.pow($,_e)}).reduce(function(j,_e){return j+_e})},cubicBezier=function o(_,$){return function(j){var _e=cubicBezierFactor(_,$);return multyTime(_e,j)}},derivativeCubicBezier=function o(_,$){return function(j){var _e=cubicBezierFactor(_,$),et=[].concat(_toConsumableArray$6(_e.map(function(tt,nt){return tt*nt}).slice(1)),[0]);return multyTime(et,j)}},configBezier=function o(){for(var _=arguments.length,$=new Array(_),j=0;j<_;j++)$[j]=arguments[j];var _e=$[0],et=$[1],tt=$[2],nt=$[3];if($.length===1)switch($[0]){case"linear":_e=0,et=0,tt=1,nt=1;break;case"ease":_e=.25,et=.1,tt=.25,nt=1;break;case"ease-in":_e=.42,et=0,tt=1,nt=1;break;case"ease-out":_e=.42,et=0,tt=.58,nt=1;break;case"ease-in-out":_e=0,et=0,tt=.58,nt=1;break;default:{var it=$[0].split("(");if(it[0]==="cubic-bezier"&&it[1].split(")")[0].split(",").length===4){var lt=it[1].split(")")[0].split(",").map(function(Ct){return parseFloat(Ct)}),dt=_slicedToArray$5(lt,4);_e=dt[0],et=dt[1],tt=dt[2],nt=dt[3]}}}var bt=cubicBezier(_e,tt),Ht=cubicBezier(et,nt),pr=derivativeCubicBezier(_e,tt),_n=function(mr){return mr>1?1:mr<0?0:mr},ft=function(mr){for(var _r=mr>1?1:mr,mn=_r,dr=0;dr<8;++dr){var pn=bt(mn)-_r,Do=pr(mn);if(Math.abs(pn-_r)<ACCURACY||Do<ACCURACY)return Ht(mn);mn=_n(mn-pn/Do)}return Ht(mn)};return ft.isStepper=!1,ft},configSpring=function o(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=_.stiff,j=$===void 0?100:$,_e=_.damping,et=_e===void 0?8:_e,tt=_.dt,nt=tt===void 0?17:tt,it=function(dt,bt,Ht){var pr=-(dt-bt)*j,_n=Ht*et,ft=Ht+(pr-_n)*nt/1e3,Ct=Ht*nt/1e3+dt;return Math.abs(Ct-bt)<ACCURACY&&Math.abs(ft)<ACCURACY?[bt,0]:[Ct,ft]};return it.isStepper=!0,it.dt=nt,it},configEasing=function o(){for(var _=arguments.length,$=new Array(_),j=0;j<_;j++)$[j]=arguments[j];var _e=$[0];if(typeof _e=="string")switch(_e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(_e);case"spring":return configSpring();default:if(_e.split("(")[0]==="cubic-bezier")return configBezier(_e)}return typeof _e=="function"?_e:null};function _typeof$n(o){"@babel/helpers - typeof";return _typeof$n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$n(o)}function _toConsumableArray$5(o){return _arrayWithoutHoles$5(o)||_iterableToArray$5(o)||_unsupportedIterableToArray$8(o)||_nonIterableSpread$5()}function _nonIterableSpread$5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$5(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithoutHoles$5(o){if(Array.isArray(o))return _arrayLikeToArray$8(o)}function ownKeys$m(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$l(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$m(Object($),!0).forEach(function(j){_defineProperty$n(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$m(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$n(o,_,$){return _=_toPropertyKey$n(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$n(o){var _=_toPrimitive$n(o,"string");return _typeof$n(_)==="symbol"?_:String(_)}function _toPrimitive$n(o,_){if(_typeof$n(o)!=="object"||o===null)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$n(j)!=="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}function _slicedToArray$4(o,_){return _arrayWithHoles$4(o)||_iterableToArrayLimit$4(o,_)||_unsupportedIterableToArray$8(o,_)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$8(o,_){if(o){if(typeof o=="string")return _arrayLikeToArray$8(o,_);var $=Object.prototype.toString.call(o).slice(8,-1);if($==="Object"&&o.constructor&&($=o.constructor.name),$==="Map"||$==="Set")return Array.from(o);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$8(o,_)}}function _arrayLikeToArray$8(o,_){(_==null||_>o.length)&&(_=o.length);for(var $=0,j=new Array(_);$<_;$++)j[$]=o[$];return j}function _iterableToArrayLimit$4(o,_){var $=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if($!=null){var j,_e,et,tt,nt=[],it=!0,lt=!1;try{if(et=($=$.call(o)).next,_!==0)for(;!(it=(j=et.call($)).done)&&(nt.push(j.value),nt.length!==_);it=!0);}catch(dt){lt=!0,_e=dt}finally{try{if(!it&&$.return!=null&&(tt=$.return(),Object(tt)!==tt))return}finally{if(lt)throw _e}}return nt}}function _arrayWithHoles$4(o){if(Array.isArray(o))return o}var alpha=function o(_,$,j){return _+($-_)*j},needContinue=function o(_){var $=_.from,j=_.to;return $!==j},calStepperVals=function o(_,$,j){var _e=mapObject(function(et,tt){if(needContinue(tt)){var nt=_(tt.from,tt.to,tt.velocity),it=_slicedToArray$4(nt,2),lt=it[0],dt=it[1];return _objectSpread$l(_objectSpread$l({},tt),{},{from:lt,velocity:dt})}return tt},$);return j<1?mapObject(function(et,tt){return needContinue(tt)?_objectSpread$l(_objectSpread$l({},tt),{},{velocity:alpha(tt.velocity,_e[et].velocity,j),from:alpha(tt.from,_e[et].from,j)}):tt},$):o(_,_e,j-1)};const configUpdate=function(o,_,$,j,_e){var et=getIntersectionKeys(o,_),tt=et.reduce(function(Ct,mr){return _objectSpread$l(_objectSpread$l({},Ct),{},_defineProperty$n({},mr,[o[mr],_[mr]]))},{}),nt=et.reduce(function(Ct,mr){return _objectSpread$l(_objectSpread$l({},Ct),{},_defineProperty$n({},mr,{from:o[mr],velocity:0,to:_[mr]}))},{}),it=-1,lt,dt,bt=function(){return null},Ht=function(){return mapObject(function(mr,_r){return _r.from},nt)},pr=function(){return!Object.values(nt).filter(needContinue).length},_n=function(mr){lt||(lt=mr);var _r=mr-lt,mn=_r/$.dt;nt=calStepperVals($,nt,mn),_e(_objectSpread$l(_objectSpread$l(_objectSpread$l({},o),_),Ht())),lt=mr,pr()||(it=requestAnimationFrame(bt))},ft=function(mr){dt||(dt=mr);var _r=(mr-dt)/j,mn=mapObject(function(pn,Do){return alpha.apply(void 0,_toConsumableArray$5(Do).concat([$(_r)]))},tt);if(_e(_objectSpread$l(_objectSpread$l(_objectSpread$l({},o),_),mn)),_r<1)it=requestAnimationFrame(bt);else{var dr=mapObject(function(pn,Do){return alpha.apply(void 0,_toConsumableArray$5(Do).concat([$(1)]))},tt);_e(_objectSpread$l(_objectSpread$l(_objectSpread$l({},o),_),dr))}};return bt=$.isStepper?_n:ft,function(){return requestAnimationFrame(bt),function(){cancelAnimationFrame(it)}}};function _typeof$m(o){"@babel/helpers - typeof";return _typeof$m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$m(o)}var _excluded$9=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _objectWithoutProperties$9(o,_){if(o==null)return{};var $=_objectWithoutPropertiesLoose$a(o,_),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for(_e=0;_e<et.length;_e++)j=et[_e],!(_.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(o,j)&&($[j]=o[j])}return $}function _objectWithoutPropertiesLoose$a(o,_){if(o==null)return{};var $={},j=Object.keys(o),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(_.indexOf(_e)>=0)&&($[_e]=o[_e]);return $}function _toConsumableArray$4(o){return _arrayWithoutHoles$4(o)||_iterableToArray$4(o)||_unsupportedIterableToArray$7(o)||_nonIterableSpread$4()}function _nonIterableSpread$4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$7(o,_){if(o){if(typeof o=="string")return _arrayLikeToArray$7(o,_);var $=Object.prototype.toString.call(o).slice(8,-1);if($==="Object"&&o.constructor&&($=o.constructor.name),$==="Map"||$==="Set")return Array.from(o);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$7(o,_)}}function _iterableToArray$4(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithoutHoles$4(o){if(Array.isArray(o))return _arrayLikeToArray$7(o)}function _arrayLikeToArray$7(o,_){(_==null||_>o.length)&&(_=o.length);for(var $=0,j=new Array(_);$<_;$++)j[$]=o[$];return j}function ownKeys$l(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$k(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$l(Object($),!0).forEach(function(j){_defineProperty$m(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$l(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$m(o,_,$){return _=_toPropertyKey$m(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _classCallCheck$a(o,_){if(!(o instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(o,_){for(var $=0;$<_.length;$++){var j=_[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(o,_toPropertyKey$m(j.key),j)}}function _createClass$a(o,_,$){return _&&_defineProperties$a(o.prototype,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _toPropertyKey$m(o){var _=_toPrimitive$m(o,"string");return _typeof$m(_)==="symbol"?_:String(_)}function _toPrimitive$m(o,_){if(_typeof$m(o)!=="object"||o===null)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$m(j)!=="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}function _inherits$8(o,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(_&&_.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),_&&_setPrototypeOf$9(o,_)}function _setPrototypeOf$9(o,_){return _setPrototypeOf$9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$9(o,_)}function _createSuper(o){var _=_isNativeReflectConstruct$8();return function(){var j=_getPrototypeOf$8(o),_e;if(_){var et=_getPrototypeOf$8(this).constructor;_e=Reflect.construct(j,arguments,et)}else _e=j.apply(this,arguments);return _possibleConstructorReturn$8(this,_e)}}function _possibleConstructorReturn$8(o,_){if(_&&(_typeof$m(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$9(o)}function _assertThisInitialized$9(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$8(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$8(o){return _getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$8(o)}var Animate=function(o){_inherits$8($,o);var _=_createSuper($);function $(j,_e){var et;_classCallCheck$a(this,$),et=_.call(this,j,_e);var tt=et.props,nt=tt.isActive,it=tt.attributeName,lt=tt.from,dt=tt.to,bt=tt.steps,Ht=tt.children,pr=tt.duration;if(et.handleStyleChange=et.handleStyleChange.bind(_assertThisInitialized$9(et)),et.changeStyle=et.changeStyle.bind(_assertThisInitialized$9(et)),!nt||pr<=0)return et.state={style:{}},typeof Ht=="function"&&(et.state={style:dt}),_possibleConstructorReturn$8(et);if(bt&&bt.length)et.state={style:bt[0].style};else if(lt){if(typeof Ht=="function")return et.state={style:lt},_possibleConstructorReturn$8(et);et.state={style:it?_defineProperty$m({},it,lt):lt}}else et.state={style:{}};return et}return _createClass$a($,[{key:"componentDidMount",value:function(){var _e=this.props,et=_e.isActive,tt=_e.canBegin;this.mounted=!0,!(!et||!tt)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(_e){var et=this.props,tt=et.isActive,nt=et.canBegin,it=et.attributeName,lt=et.shouldReAnimate,dt=et.to,bt=et.from,Ht=this.state.style;if(nt){if(!tt){var pr={style:it?_defineProperty$m({},it,dt):dt};this.state&&Ht&&(it&&Ht[it]!==dt||!it&&Ht!==dt)&&this.setState(pr);return}if(!(deepEqual$1(_e.to,dt)&&_e.canBegin&&_e.isActive)){var _n=!_e.canBegin||!_e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var ft=_n||lt?bt:_e.to;if(this.state&&Ht){var Ct={style:it?_defineProperty$m({},it,ft):ft};(it&&Ht[it]!==ft||!it&&Ht!==ft)&&this.setState(Ct)}this.runAnimation(_objectSpread$k(_objectSpread$k({},this.props),{},{from:ft,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var _e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),_e&&_e()}},{key:"handleStyleChange",value:function(_e){this.changeStyle(_e)}},{key:"changeStyle",value:function(_e){this.mounted&&this.setState({style:_e})}},{key:"runJSAnimation",value:function(_e){var et=this,tt=_e.from,nt=_e.to,it=_e.duration,lt=_e.easing,dt=_e.begin,bt=_e.onAnimationEnd,Ht=_e.onAnimationStart,pr=configUpdate(tt,nt,configEasing(lt),it,this.changeStyle),_n=function(){et.stopJSAnimation=pr()};this.manager.start([Ht,dt,_n,it,bt])}},{key:"runStepAnimation",value:function(_e){var et=this,tt=_e.steps,nt=_e.begin,it=_e.onAnimationStart,lt=tt[0],dt=lt.style,bt=lt.duration,Ht=bt===void 0?0:bt,pr=function(ft,Ct,mr){if(mr===0)return ft;var _r=Ct.duration,mn=Ct.easing,dr=mn===void 0?"ease":mn,pn=Ct.style,Do=Ct.properties,Io=Ct.onAnimationEnd,Lo=mr>0?tt[mr-1]:Ct,ms=Do||Object.keys(pn);if(typeof dr=="function"||dr==="spring")return[].concat(_toConsumableArray$4(ft),[et.runJSAnimation.bind(et,{from:Lo.style,to:pn,duration:_r,easing:dr}),_r]);var Uo=getTransitionVal(ms,_r,dr),_s=_objectSpread$k(_objectSpread$k(_objectSpread$k({},Lo.style),pn),{},{transition:Uo});return[].concat(_toConsumableArray$4(ft),[_s,_r,Io]).filter(identity)};return this.manager.start([it].concat(_toConsumableArray$4(tt.reduce(pr,[dt,Math.max(Ht,nt)])),[_e.onAnimationEnd]))}},{key:"runAnimation",value:function(_e){this.manager||(this.manager=createAnimateManager());var et=_e.begin,tt=_e.duration,nt=_e.attributeName,it=_e.to,lt=_e.easing,dt=_e.onAnimationStart,bt=_e.onAnimationEnd,Ht=_e.steps,pr=_e.children,_n=this.manager;if(this.unSubscribe=_n.subscribe(this.handleStyleChange),typeof lt=="function"||typeof pr=="function"||lt==="spring"){this.runJSAnimation(_e);return}if(Ht.length>1){this.runStepAnimation(_e);return}var ft=nt?_defineProperty$m({},nt,it):it,Ct=getTransitionVal(Object.keys(ft),tt,lt);_n.start([dt,et,_objectSpread$k(_objectSpread$k({},ft),{},{transition:Ct}),tt,bt])}},{key:"render",value:function(){var _e=this.props,et=_e.children;_e.begin;var tt=_e.duration;_e.attributeName,_e.easing;var nt=_e.isActive;_e.steps,_e.from,_e.to,_e.canBegin,_e.onAnimationEnd,_e.shouldReAnimate,_e.onAnimationReStart;var it=_objectWithoutProperties$9(_e,_excluded$9),lt=reactExports.Children.count(et),dt=this.state.style;if(typeof et=="function")return et(dt);if(!nt||lt===0||tt<=0)return et;var bt=function(pr){var _n=pr.props,ft=_n.style,Ct=ft===void 0?{}:ft,mr=_n.className,_r=reactExports.cloneElement(pr,_objectSpread$k(_objectSpread$k({},it),{},{style:_objectSpread$k(_objectSpread$k({},Ct),dt),className:mr}));return _r};return lt===1?bt(reactExports.Children.only(et)):React.createElement("div",null,reactExports.Children.map(et,function(Ht){return bt(Ht)}))}}]),$}(reactExports.PureComponent);Animate.displayName="Animate";Animate.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function o(){},onAnimationStart:function o(){}};Animate.propTypes={from:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),to:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),attributeName:PropTypes.string,duration:PropTypes.number,begin:PropTypes.number,easing:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),steps:PropTypes.arrayOf(PropTypes.shape({duration:PropTypes.number.isRequired,style:PropTypes.object.isRequired,easing:PropTypes.oneOfType([PropTypes.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),PropTypes.func]),properties:PropTypes.arrayOf("string"),onAnimationEnd:PropTypes.func})),children:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),isActive:PropTypes.bool,canBegin:PropTypes.bool,onAnimationEnd:PropTypes.func,shouldReAnimate:PropTypes.bool,onAnimationStart:PropTypes.func,onAnimationReStart:PropTypes.func};PropTypes.object,PropTypes.object,PropTypes.object,PropTypes.element;PropTypes.object,PropTypes.object,PropTypes.object,PropTypes.oneOfType([PropTypes.array,PropTypes.element]),PropTypes.any;function _typeof$l(o){"@babel/helpers - typeof";return _typeof$l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$l(o)}function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$k.apply(this,arguments)}function _slicedToArray$3(o,_){return _arrayWithHoles$3(o)||_iterableToArrayLimit$3(o,_)||_unsupportedIterableToArray$6(o,_)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(o,_){if(o){if(typeof o=="string")return _arrayLikeToArray$6(o,_);var $=Object.prototype.toString.call(o).slice(8,-1);if($==="Object"&&o.constructor&&($=o.constructor.name),$==="Map"||$==="Set")return Array.from(o);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$6(o,_)}}function _arrayLikeToArray$6(o,_){(_==null||_>o.length)&&(_=o.length);for(var $=0,j=new Array(_);$<_;$++)j[$]=o[$];return j}function _iterableToArrayLimit$3(o,_){var $=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if($!=null){var j,_e,et,tt,nt=[],it=!0,lt=!1;try{if(et=($=$.call(o)).next,_!==0)for(;!(it=(j=et.call($)).done)&&(nt.push(j.value),nt.length!==_);it=!0);}catch(dt){lt=!0,_e=dt}finally{try{if(!it&&$.return!=null&&(tt=$.return(),Object(tt)!==tt))return}finally{if(lt)throw _e}}return nt}}function _arrayWithHoles$3(o){if(Array.isArray(o))return o}function ownKeys$k(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$j(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$k(Object($),!0).forEach(function(j){_defineProperty$l(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$k(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$l(o,_,$){return _=_toPropertyKey$l(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$l(o){var _=_toPrimitive$l(o,"string");return _typeof$l(_)=="symbol"?_:String(_)}function _toPrimitive$l(o,_){if(_typeof$l(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$l(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}var getRectanglePath=function o(_,$,j,_e,et){var tt=Math.min(Math.abs(j)/2,Math.abs(_e)/2),nt=_e>=0?1:-1,it=j>=0?1:-1,lt=_e>=0&&j>=0||_e<0&&j<0?1:0,dt;if(tt>0&&et instanceof Array){for(var bt=[0,0,0,0],Ht=0,pr=4;Ht<pr;Ht++)bt[Ht]=et[Ht]>tt?tt:et[Ht];dt="M".concat(_,",").concat($+nt*bt[0]),bt[0]>0&&(dt+="A ".concat(bt[0],",").concat(bt[0],",0,0,").concat(lt,",").concat(_+it*bt[0],",").concat($)),dt+="L ".concat(_+j-it*bt[1],",").concat($),bt[1]>0&&(dt+="A ".concat(bt[1],",").concat(bt[1],",0,0,").concat(lt,`,
        `).concat(_+j,",").concat($+nt*bt[1])),dt+="L ".concat(_+j,",").concat($+_e-nt*bt[2]),bt[2]>0&&(dt+="A ".concat(bt[2],",").concat(bt[2],",0,0,").concat(lt,`,
        `).concat(_+j-it*bt[2],",").concat($+_e)),dt+="L ".concat(_+it*bt[3],",").concat($+_e),bt[3]>0&&(dt+="A ".concat(bt[3],",").concat(bt[3],",0,0,").concat(lt,`,
        `).concat(_,",").concat($+_e-nt*bt[3])),dt+="Z"}else if(tt>0&&et===+et&&et>0){var _n=Math.min(tt,et);dt="M ".concat(_,",").concat($+nt*_n,`
            A `).concat(_n,",").concat(_n,",0,0,").concat(lt,",").concat(_+it*_n,",").concat($,`
            L `).concat(_+j-it*_n,",").concat($,`
            A `).concat(_n,",").concat(_n,",0,0,").concat(lt,",").concat(_+j,",").concat($+nt*_n,`
            L `).concat(_+j,",").concat($+_e-nt*_n,`
            A `).concat(_n,",").concat(_n,",0,0,").concat(lt,",").concat(_+j-it*_n,",").concat($+_e,`
            L `).concat(_+it*_n,",").concat($+_e,`
            A `).concat(_n,",").concat(_n,",0,0,").concat(lt,",").concat(_,",").concat($+_e-nt*_n," Z")}else dt="M ".concat(_,",").concat($," h ").concat(j," v ").concat(_e," h ").concat(-j," Z");return dt},isInRectangle=function o(_,$){if(!_||!$)return!1;var j=_.x,_e=_.y,et=$.x,tt=$.y,nt=$.width,it=$.height;if(Math.abs(nt)>0&&Math.abs(it)>0){var lt=Math.min(et,et+nt),dt=Math.max(et,et+nt),bt=Math.min(tt,tt+it),Ht=Math.max(tt,tt+it);return j>=lt&&j<=dt&&_e>=bt&&_e<=Ht}return!1},defaultProps$2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=function o(_){var $=_objectSpread$j(_objectSpread$j({},defaultProps$2),_),j=reactExports.useRef(),_e=reactExports.useState(-1),et=_slicedToArray$3(_e,2),tt=et[0],nt=et[1];reactExports.useEffect(function(){if(j.current&&j.current.getTotalLength)try{var dr=j.current.getTotalLength();dr&&nt(dr)}catch{}},[]);var it=$.x,lt=$.y,dt=$.width,bt=$.height,Ht=$.radius,pr=$.className,_n=$.animationEasing,ft=$.animationDuration,Ct=$.animationBegin,mr=$.isAnimationActive,_r=$.isUpdateAnimationActive;if(it!==+it||lt!==+lt||dt!==+dt||bt!==+bt||dt===0||bt===0)return null;var mn=clsx$1("recharts-rectangle",pr);return _r?React.createElement(Animate,{canBegin:tt>0,from:{width:dt,height:bt,x:it,y:lt},to:{width:dt,height:bt,x:it,y:lt},duration:ft,animationEasing:_n,isActive:_r},function(dr){var pn=dr.width,Do=dr.height,Io=dr.x,Lo=dr.y;return React.createElement(Animate,{canBegin:tt>0,from:"0px ".concat(tt===-1?1:tt,"px"),to:"".concat(tt,"px 0px"),attributeName:"strokeDasharray",begin:Ct,duration:ft,isActive:mr,easing:_n},React.createElement("path",_extends$k({},filterProps($,!0),{className:mn,d:getRectanglePath(Io,Lo,pn,Do,Ht),ref:j})))}):React.createElement("path",_extends$k({},filterProps($,!0),{className:mn,d:getRectanglePath(it,lt,dt,bt,Ht)}))},_excluded$8=["points","className","baseLinePoints","connectNulls"];function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$j.apply(this,arguments)}function _objectWithoutProperties$8(o,_){if(o==null)return{};var $=_objectWithoutPropertiesLoose$9(o,_),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for(_e=0;_e<et.length;_e++)j=et[_e],!(_.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(o,j)&&($[j]=o[j])}return $}function _objectWithoutPropertiesLoose$9(o,_){if(o==null)return{};var $={},j=Object.keys(o),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(_.indexOf(_e)>=0)&&($[_e]=o[_e]);return $}function _toConsumableArray$3(o){return _arrayWithoutHoles$3(o)||_iterableToArray$3(o)||_unsupportedIterableToArray$5(o)||_nonIterableSpread$3()}function _nonIterableSpread$3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5(o,_){if(o){if(typeof o=="string")return _arrayLikeToArray$5(o,_);var $=Object.prototype.toString.call(o).slice(8,-1);if($==="Object"&&o.constructor&&($=o.constructor.name),$==="Map"||$==="Set")return Array.from(o);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$5(o,_)}}function _iterableToArray$3(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithoutHoles$3(o){if(Array.isArray(o))return _arrayLikeToArray$5(o)}function _arrayLikeToArray$5(o,_){(_==null||_>o.length)&&(_=o.length);for(var $=0,j=new Array(_);$<_;$++)j[$]=o[$];return j}var isValidatePoint=function o(_){return _&&_.x===+_.x&&_.y===+_.y},getParsedPoints=function o(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],$=[[]];return _.forEach(function(j){isValidatePoint(j)?$[$.length-1].push(j):$[$.length-1].length>0&&$.push([])}),isValidatePoint(_[0])&&$[$.length-1].push(_[0]),$[$.length-1].length<=0&&($=$.slice(0,-1)),$},getSinglePolygonPath=function o(_,$){var j=getParsedPoints(_);$&&(j=[j.reduce(function(et,tt){return[].concat(_toConsumableArray$3(et),_toConsumableArray$3(tt))},[])]);var _e=j.map(function(et){return et.reduce(function(tt,nt,it){return"".concat(tt).concat(it===0?"M":"L").concat(nt.x,",").concat(nt.y)},"")}).join("");return j.length===1?"".concat(_e,"Z"):_e},getRanglePath=function o(_,$,j){var _e=getSinglePolygonPath(_,j);return"".concat(_e.slice(-1)==="Z"?_e.slice(0,-1):_e,"L").concat(getSinglePolygonPath($.reverse(),j).slice(1))},Polygon=function o(_){var $=_.points,j=_.className,_e=_.baseLinePoints,et=_.connectNulls,tt=_objectWithoutProperties$8(_,_excluded$8);if(!$||!$.length)return null;var nt=clsx$1("recharts-polygon",j);if(_e&&_e.length){var it=tt.stroke&&tt.stroke!=="none",lt=getRanglePath($,_e,et);return React.createElement("g",{className:nt},React.createElement("path",_extends$j({},filterProps(tt,!0),{fill:lt.slice(-1)==="Z"?tt.fill:"none",stroke:"none",d:lt})),it?React.createElement("path",_extends$j({},filterProps(tt,!0),{fill:"none",d:getSinglePolygonPath($,et)})):null,it?React.createElement("path",_extends$j({},filterProps(tt,!0),{fill:"none",d:getSinglePolygonPath(_e,et)})):null)}var dt=getSinglePolygonPath($,et);return React.createElement("path",_extends$j({},filterProps(tt,!0),{fill:dt.slice(-1)==="Z"?tt.fill:"none",className:nt,d:dt}))};function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$i.apply(this,arguments)}var Dot=function o(_){var $=_.cx,j=_.cy,_e=_.r,et=_.className,tt=clsx$1("recharts-dot",et);return $===+$&&j===+j&&_e===+_e?React.createElement("circle",_extends$i({},filterProps(_,!1),adaptEventHandlers(_),{className:tt,cx:$,cy:j,r:_e})):null};function _typeof$k(o){"@babel/helpers - typeof";return _typeof$k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$k(o)}var _excluded$7=["x","y","top","left","width","height","className"];function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$h.apply(this,arguments)}function ownKeys$j(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$i(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$j(Object($),!0).forEach(function(j){_defineProperty$k(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$j(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$k(o,_,$){return _=_toPropertyKey$k(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$k(o){var _=_toPrimitive$k(o,"string");return _typeof$k(_)=="symbol"?_:String(_)}function _toPrimitive$k(o,_){if(_typeof$k(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$k(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}function _objectWithoutProperties$7(o,_){if(o==null)return{};var $=_objectWithoutPropertiesLoose$8(o,_),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for(_e=0;_e<et.length;_e++)j=et[_e],!(_.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(o,j)&&($[j]=o[j])}return $}function _objectWithoutPropertiesLoose$8(o,_){if(o==null)return{};var $={},j=Object.keys(o),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(_.indexOf(_e)>=0)&&($[_e]=o[_e]);return $}var getPath=function o(_,$,j,_e,et,tt){return"M".concat(_,",").concat(et,"v").concat(_e,"M").concat(tt,",").concat($,"h").concat(j)},Cross=function o(_){var $=_.x,j=$===void 0?0:$,_e=_.y,et=_e===void 0?0:_e,tt=_.top,nt=tt===void 0?0:tt,it=_.left,lt=it===void 0?0:it,dt=_.width,bt=dt===void 0?0:dt,Ht=_.height,pr=Ht===void 0?0:Ht,_n=_.className,ft=_objectWithoutProperties$7(_,_excluded$7),Ct=_objectSpread$i({x:j,y:et,top:nt,left:lt,width:bt,height:pr},ft);return!isNumber(j)||!isNumber(et)||!isNumber(bt)||!isNumber(pr)||!isNumber(nt)||!isNumber(lt)?null:React.createElement("path",_extends$h({},filterProps(Ct,!0),{className:clsx$1("recharts-cross",_n),d:getPath(j,et,bt,pr,nt,lt)}))},baseExtremum$1=_baseExtremum,baseGt=_baseGt,baseIteratee$6=_baseIteratee;function maxBy(o,_){return o&&o.length?baseExtremum$1(o,baseIteratee$6(_),baseGt):void 0}var maxBy_1=maxBy;const maxBy$1=getDefaultExportFromCjs(maxBy_1);var baseExtremum=_baseExtremum,baseIteratee$5=_baseIteratee,baseLt=_baseLt;function minBy(o,_){return o&&o.length?baseExtremum(o,baseIteratee$5(_),baseLt):void 0}var minBy_1=minBy;const minBy$1=getDefaultExportFromCjs(minBy_1);var _excluded$6=["cx","cy","angle","ticks","axisLine"],_excluded2$3=["ticks","tick","angle","tickFormatter","stroke"];function _typeof$j(o){"@babel/helpers - typeof";return _typeof$j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$j(o)}function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$g.apply(this,arguments)}function ownKeys$i(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$h(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$i(Object($),!0).forEach(function(j){_defineProperty$j(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$i(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _objectWithoutProperties$6(o,_){if(o==null)return{};var $=_objectWithoutPropertiesLoose$7(o,_),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for(_e=0;_e<et.length;_e++)j=et[_e],!(_.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(o,j)&&($[j]=o[j])}return $}function _objectWithoutPropertiesLoose$7(o,_){if(o==null)return{};var $={},j=Object.keys(o),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(_.indexOf(_e)>=0)&&($[_e]=o[_e]);return $}function _classCallCheck$9(o,_){if(!(o instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(o,_){for(var $=0;$<_.length;$++){var j=_[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(o,_toPropertyKey$j(j.key),j)}}function _createClass$9(o,_,$){return _&&_defineProperties$9(o.prototype,_),$&&_defineProperties$9(o,$),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$7(o,_,$){return _=_getPrototypeOf$7(_),_possibleConstructorReturn$7(o,_isNativeReflectConstruct$7()?Reflect.construct(_,$||[],_getPrototypeOf$7(o).constructor):_.apply(o,$))}function _possibleConstructorReturn$7(o,_){if(_&&(_typeof$j(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$8(o)}function _assertThisInitialized$8(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$7(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$7=function(){return!!o})()}function _getPrototypeOf$7(o){return _getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$7(o)}function _inherits$7(o,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(_&&_.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),_&&_setPrototypeOf$8(o,_)}function _setPrototypeOf$8(o,_){return _setPrototypeOf$8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$8(o,_)}function _defineProperty$j(o,_,$){return _=_toPropertyKey$j(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$j(o){var _=_toPrimitive$j(o,"string");return _typeof$j(_)=="symbol"?_:String(_)}function _toPrimitive$j(o,_){if(_typeof$j(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$j(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}var PolarRadiusAxis=function(o){_inherits$7(_,o);function _(){return _classCallCheck$9(this,_),_callSuper$7(this,_,arguments)}return _createClass$9(_,[{key:"getTickValueCoord",value:function(j){var _e=j.coordinate,et=this.props,tt=et.angle,nt=et.cx,it=et.cy;return polarToCartesian(nt,it,_e,tt)}},{key:"getTickTextAnchor",value:function(){var j=this.props.orientation,_e;switch(j){case"left":_e="end";break;case"right":_e="start";break;default:_e="middle";break}return _e}},{key:"getViewBox",value:function(){var j=this.props,_e=j.cx,et=j.cy,tt=j.angle,nt=j.ticks,it=maxBy$1(nt,function(dt){return dt.coordinate||0}),lt=minBy$1(nt,function(dt){return dt.coordinate||0});return{cx:_e,cy:et,startAngle:tt,endAngle:tt,innerRadius:lt.coordinate||0,outerRadius:it.coordinate||0}}},{key:"renderAxisLine",value:function(){var j=this.props,_e=j.cx,et=j.cy,tt=j.angle,nt=j.ticks,it=j.axisLine,lt=_objectWithoutProperties$6(j,_excluded$6),dt=nt.reduce(function(_n,ft){return[Math.min(_n[0],ft.coordinate),Math.max(_n[1],ft.coordinate)]},[1/0,-1/0]),bt=polarToCartesian(_e,et,dt[0],tt),Ht=polarToCartesian(_e,et,dt[1],tt),pr=_objectSpread$h(_objectSpread$h(_objectSpread$h({},filterProps(lt,!1)),{},{fill:"none"},filterProps(it,!1)),{},{x1:bt.x,y1:bt.y,x2:Ht.x,y2:Ht.y});return React.createElement("line",_extends$g({className:"recharts-polar-radius-axis-line"},pr))}},{key:"renderTicks",value:function(){var j=this,_e=this.props,et=_e.ticks,tt=_e.tick,nt=_e.angle,it=_e.tickFormatter,lt=_e.stroke,dt=_objectWithoutProperties$6(_e,_excluded2$3),bt=this.getTickTextAnchor(),Ht=filterProps(dt,!1),pr=filterProps(tt,!1),_n=et.map(function(ft,Ct){var mr=j.getTickValueCoord(ft),_r=_objectSpread$h(_objectSpread$h(_objectSpread$h(_objectSpread$h({textAnchor:bt,transform:"rotate(".concat(90-nt,", ").concat(mr.x,", ").concat(mr.y,")")},Ht),{},{stroke:"none",fill:lt},pr),{},{index:Ct},mr),{},{payload:ft});return React.createElement(Layer,_extends$g({className:clsx$1("recharts-polar-radius-axis-tick",getTickClassName(tt)),key:"tick-".concat(ft.coordinate)},adaptEventsOfChild(j.props,ft,Ct)),_.renderTickItem(tt,_r,it?it(ft.value,Ct):ft.value))});return React.createElement(Layer,{className:"recharts-polar-radius-axis-ticks"},_n)}},{key:"render",value:function(){var j=this.props,_e=j.ticks,et=j.axisLine,tt=j.tick;return!_e||!_e.length?null:React.createElement(Layer,{className:clsx$1("recharts-polar-radius-axis",this.props.className)},et&&this.renderAxisLine(),tt&&this.renderTicks(),Label.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(j,_e,et){var tt;return React.isValidElement(j)?tt=React.cloneElement(j,_e):isFunction$3(j)?tt=j(_e):tt=React.createElement(Text,_extends$g({},_e,{className:"recharts-polar-radius-axis-tick-value"}),et),tt}}]),_}(reactExports.PureComponent);_defineProperty$j(PolarRadiusAxis,"displayName","PolarRadiusAxis");_defineProperty$j(PolarRadiusAxis,"axisType","radiusAxis");_defineProperty$j(PolarRadiusAxis,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function _typeof$i(o){"@babel/helpers - typeof";return _typeof$i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$i(o)}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$f.apply(this,arguments)}function ownKeys$h(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$g(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$h(Object($),!0).forEach(function(j){_defineProperty$i(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$h(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _classCallCheck$8(o,_){if(!(o instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(o,_){for(var $=0;$<_.length;$++){var j=_[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(o,_toPropertyKey$i(j.key),j)}}function _createClass$8(o,_,$){return _&&_defineProperties$8(o.prototype,_),$&&_defineProperties$8(o,$),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$6(o,_,$){return _=_getPrototypeOf$6(_),_possibleConstructorReturn$6(o,_isNativeReflectConstruct$6()?Reflect.construct(_,$||[],_getPrototypeOf$6(o).constructor):_.apply(o,$))}function _possibleConstructorReturn$6(o,_){if(_&&(_typeof$i(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$7(o)}function _assertThisInitialized$7(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$6(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$6=function(){return!!o})()}function _getPrototypeOf$6(o){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$6(o)}function _inherits$6(o,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(_&&_.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),_&&_setPrototypeOf$7(o,_)}function _setPrototypeOf$7(o,_){return _setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$7(o,_)}function _defineProperty$i(o,_,$){return _=_toPropertyKey$i(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$i(o){var _=_toPrimitive$i(o,"string");return _typeof$i(_)=="symbol"?_:String(_)}function _toPrimitive$i(o,_){if(_typeof$i(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$i(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}var RADIAN=Math.PI/180,eps=1e-5,PolarAngleAxis=function(o){_inherits$6(_,o);function _(){return _classCallCheck$8(this,_),_callSuper$6(this,_,arguments)}return _createClass$8(_,[{key:"getTickLineCoord",value:function(j){var _e=this.props,et=_e.cx,tt=_e.cy,nt=_e.radius,it=_e.orientation,lt=_e.tickSize,dt=lt||8,bt=polarToCartesian(et,tt,nt,j.coordinate),Ht=polarToCartesian(et,tt,nt+(it==="inner"?-1:1)*dt,j.coordinate);return{x1:bt.x,y1:bt.y,x2:Ht.x,y2:Ht.y}}},{key:"getTickTextAnchor",value:function(j){var _e=this.props.orientation,et=Math.cos(-j.coordinate*RADIAN),tt;return et>eps?tt=_e==="outer"?"start":"end":et<-eps?tt=_e==="outer"?"end":"start":tt="middle",tt}},{key:"renderAxisLine",value:function(){var j=this.props,_e=j.cx,et=j.cy,tt=j.radius,nt=j.axisLine,it=j.axisLineType,lt=_objectSpread$g(_objectSpread$g({},filterProps(this.props,!1)),{},{fill:"none"},filterProps(nt,!1));if(it==="circle")return React.createElement(Dot,_extends$f({className:"recharts-polar-angle-axis-line"},lt,{cx:_e,cy:et,r:tt}));var dt=this.props.ticks,bt=dt.map(function(Ht){return polarToCartesian(_e,et,tt,Ht.coordinate)});return React.createElement(Polygon,_extends$f({className:"recharts-polar-angle-axis-line"},lt,{points:bt}))}},{key:"renderTicks",value:function(){var j=this,_e=this.props,et=_e.ticks,tt=_e.tick,nt=_e.tickLine,it=_e.tickFormatter,lt=_e.stroke,dt=filterProps(this.props,!1),bt=filterProps(tt,!1),Ht=_objectSpread$g(_objectSpread$g({},dt),{},{fill:"none"},filterProps(nt,!1)),pr=et.map(function(_n,ft){var Ct=j.getTickLineCoord(_n),mr=j.getTickTextAnchor(_n),_r=_objectSpread$g(_objectSpread$g(_objectSpread$g({textAnchor:mr},dt),{},{stroke:"none",fill:lt},bt),{},{index:ft,payload:_n,x:Ct.x2,y:Ct.y2});return React.createElement(Layer,_extends$f({className:clsx$1("recharts-polar-angle-axis-tick",getTickClassName(tt)),key:"tick-".concat(_n.coordinate)},adaptEventsOfChild(j.props,_n,ft)),nt&&React.createElement("line",_extends$f({className:"recharts-polar-angle-axis-tick-line"},Ht,Ct)),tt&&_.renderTickItem(tt,_r,it?it(_n.value,ft):_n.value))});return React.createElement(Layer,{className:"recharts-polar-angle-axis-ticks"},pr)}},{key:"render",value:function(){var j=this.props,_e=j.ticks,et=j.radius,tt=j.axisLine;return et<=0||!_e||!_e.length?null:React.createElement(Layer,{className:clsx$1("recharts-polar-angle-axis",this.props.className)},tt&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(j,_e,et){var tt;return React.isValidElement(j)?tt=React.cloneElement(j,_e):isFunction$3(j)?tt=j(_e):tt=React.createElement(Text,_extends$f({},_e,{className:"recharts-polar-angle-axis-tick-value"}),et),tt}}]),_}(reactExports.PureComponent);_defineProperty$i(PolarAngleAxis,"displayName","PolarAngleAxis");_defineProperty$i(PolarAngleAxis,"axisType","angleAxis");_defineProperty$i(PolarAngleAxis,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var overArg=_overArg,getPrototype$1=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$1,baseGetTag$1=_baseGetTag,getPrototype=_getPrototype,isObjectLike$1=isObjectLike_1,objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(o){if(!isObjectLike$1(o)||baseGetTag$1(o)!=objectTag)return!1;var _=getPrototype(o);if(_===null)return!0;var $=hasOwnProperty.call(_,"constructor")&&_.constructor;return typeof $=="function"&&$ instanceof $&&funcToString.call($)==objectCtorString}var isPlainObject_1=isPlainObject;const isPlainObject$1=getDefaultExportFromCjs(isPlainObject_1);var baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,boolTag="[object Boolean]";function isBoolean(o){return o===!0||o===!1||isObjectLike(o)&&baseGetTag(o)==boolTag}var isBoolean_1=isBoolean;const isBoolean$1=getDefaultExportFromCjs(isBoolean_1);function _typeof$h(o){"@babel/helpers - typeof";return _typeof$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$h(o)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$e.apply(this,arguments)}function _slicedToArray$2(o,_){return _arrayWithHoles$2(o)||_iterableToArrayLimit$2(o,_)||_unsupportedIterableToArray$4(o,_)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$4(o,_){if(o){if(typeof o=="string")return _arrayLikeToArray$4(o,_);var $=Object.prototype.toString.call(o).slice(8,-1);if($==="Object"&&o.constructor&&($=o.constructor.name),$==="Map"||$==="Set")return Array.from(o);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$4(o,_)}}function _arrayLikeToArray$4(o,_){(_==null||_>o.length)&&(_=o.length);for(var $=0,j=new Array(_);$<_;$++)j[$]=o[$];return j}function _iterableToArrayLimit$2(o,_){var $=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if($!=null){var j,_e,et,tt,nt=[],it=!0,lt=!1;try{if(et=($=$.call(o)).next,_!==0)for(;!(it=(j=et.call($)).done)&&(nt.push(j.value),nt.length!==_);it=!0);}catch(dt){lt=!0,_e=dt}finally{try{if(!it&&$.return!=null&&(tt=$.return(),Object(tt)!==tt))return}finally{if(lt)throw _e}}return nt}}function _arrayWithHoles$2(o){if(Array.isArray(o))return o}function ownKeys$g(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$f(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$g(Object($),!0).forEach(function(j){_defineProperty$h(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$g(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$h(o,_,$){return _=_toPropertyKey$h(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$h(o){var _=_toPrimitive$h(o,"string");return _typeof$h(_)=="symbol"?_:String(_)}function _toPrimitive$h(o,_){if(_typeof$h(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$h(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}var getTrapezoidPath=function o(_,$,j,_e,et){var tt=j-_e,nt;return nt="M ".concat(_,",").concat($),nt+="L ".concat(_+j,",").concat($),nt+="L ".concat(_+j-tt/2,",").concat($+et),nt+="L ".concat(_+j-tt/2-_e,",").concat($+et),nt+="L ".concat(_,",").concat($," Z"),nt},defaultProps$1={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=function o(_){var $=_objectSpread$f(_objectSpread$f({},defaultProps$1),_),j=reactExports.useRef(),_e=reactExports.useState(-1),et=_slicedToArray$2(_e,2),tt=et[0],nt=et[1];reactExports.useEffect(function(){if(j.current&&j.current.getTotalLength)try{var mn=j.current.getTotalLength();mn&&nt(mn)}catch{}},[]);var it=$.x,lt=$.y,dt=$.upperWidth,bt=$.lowerWidth,Ht=$.height,pr=$.className,_n=$.animationEasing,ft=$.animationDuration,Ct=$.animationBegin,mr=$.isUpdateAnimationActive;if(it!==+it||lt!==+lt||dt!==+dt||bt!==+bt||Ht!==+Ht||dt===0&&bt===0||Ht===0)return null;var _r=clsx$1("recharts-trapezoid",pr);return mr?React.createElement(Animate,{canBegin:tt>0,from:{upperWidth:0,lowerWidth:0,height:Ht,x:it,y:lt},to:{upperWidth:dt,lowerWidth:bt,height:Ht,x:it,y:lt},duration:ft,animationEasing:_n,isActive:mr},function(mn){var dr=mn.upperWidth,pn=mn.lowerWidth,Do=mn.height,Io=mn.x,Lo=mn.y;return React.createElement(Animate,{canBegin:tt>0,from:"0px ".concat(tt===-1?1:tt,"px"),to:"".concat(tt,"px 0px"),attributeName:"strokeDasharray",begin:Ct,duration:ft,easing:_n},React.createElement("path",_extends$e({},filterProps($,!0),{className:_r,d:getTrapezoidPath(Io,Lo,dr,pn,Do),ref:j})))}):React.createElement("g",null,React.createElement("path",_extends$e({},filterProps($,!0),{className:_r,d:getTrapezoidPath(it,lt,dt,bt,Ht)})))},_excluded$5=["option","shapeType","propTransformer","activeClassName","isActive"];function _typeof$g(o){"@babel/helpers - typeof";return _typeof$g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$g(o)}function _objectWithoutProperties$5(o,_){if(o==null)return{};var $=_objectWithoutPropertiesLoose$6(o,_),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for(_e=0;_e<et.length;_e++)j=et[_e],!(_.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(o,j)&&($[j]=o[j])}return $}function _objectWithoutPropertiesLoose$6(o,_){if(o==null)return{};var $={},j=Object.keys(o),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(_.indexOf(_e)>=0)&&($[_e]=o[_e]);return $}function ownKeys$f(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$e(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$f(Object($),!0).forEach(function(j){_defineProperty$g(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$f(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$g(o,_,$){return _=_toPropertyKey$g(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$g(o){var _=_toPrimitive$g(o,"string");return _typeof$g(_)=="symbol"?_:String(_)}function _toPrimitive$g(o,_){if(_typeof$g(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$g(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}function defaultPropTransformer(o,_){return _objectSpread$e(_objectSpread$e({},_),o)}function isSymbolsProps(o,_){return o==="symbols"}function ShapeSelector(o){var _=o.shapeType,$=o.elementProps;switch(_){case"rectangle":return React.createElement(Rectangle,$);case"trapezoid":return React.createElement(Trapezoid,$);case"sector":return React.createElement(Sector,$);case"symbols":if(isSymbolsProps(_))return React.createElement(Symbols,$);break;default:return null}}function getPropsFromShapeOption(o){return reactExports.isValidElement(o)?o.props:o}function Shape(o){var _=o.option,$=o.shapeType,j=o.propTransformer,_e=j===void 0?defaultPropTransformer:j,et=o.activeClassName,tt=et===void 0?"recharts-active-shape":et,nt=o.isActive,it=_objectWithoutProperties$5(o,_excluded$5),lt;if(reactExports.isValidElement(_))lt=reactExports.cloneElement(_,_objectSpread$e(_objectSpread$e({},it),getPropsFromShapeOption(_)));else if(isFunction$3(_))lt=_(it);else if(isPlainObject$1(_)&&!isBoolean$1(_)){var dt=_e(_,it);lt=React.createElement(ShapeSelector,{shapeType:$,elementProps:dt})}else{var bt=it;lt=React.createElement(ShapeSelector,{shapeType:$,elementProps:bt})}return nt?React.createElement(Layer,{className:tt},lt):lt}function isFunnel(o,_){return _!=null&&"trapezoids"in o.props}function isPie(o,_){return _!=null&&"sectors"in o.props}function isScatter(o,_){return _!=null&&"points"in o.props}function compareFunnel(o,_){var $,j,_e=o.x===(_==null||($=_.labelViewBox)===null||$===void 0?void 0:$.x)||o.x===_.x,et=o.y===(_==null||(j=_.labelViewBox)===null||j===void 0?void 0:j.y)||o.y===_.y;return _e&&et}function comparePie(o,_){var $=o.endAngle===_.endAngle,j=o.startAngle===_.startAngle;return $&&j}function compareScatter(o,_){var $=o.x===_.x,j=o.y===_.y,_e=o.z===_.z;return $&&j&&_e}function getComparisonFn(o,_){var $;return isFunnel(o,_)?$=compareFunnel:isPie(o,_)?$=comparePie:isScatter(o,_)&&($=compareScatter),$}function getShapeDataKey(o,_){var $;return isFunnel(o,_)?$="trapezoids":isPie(o,_)?$="sectors":isScatter(o,_)&&($="points"),$}function getActiveShapeTooltipPayload(o,_){if(isFunnel(o,_)){var $;return($=_.tooltipPayload)===null||$===void 0||($=$[0])===null||$===void 0||($=$.payload)===null||$===void 0?void 0:$.payload}if(isPie(o,_)){var j;return(j=_.tooltipPayload)===null||j===void 0||(j=j[0])===null||j===void 0||(j=j.payload)===null||j===void 0?void 0:j.payload}return isScatter(o,_)?_.payload:{}}function getActiveShapeIndexForTooltip(o){var _=o.activeTooltipItem,$=o.graphicalItem,j=o.itemData,_e=getShapeDataKey($,_),et=getActiveShapeTooltipPayload($,_),tt=j.filter(function(it,lt){var dt=isEqual$2(et,it),bt=$.props[_e].filter(function(_n){var ft=getComparisonFn($,_);return ft(_n,_)}),Ht=$.props[_e].indexOf(bt[bt.length-1]),pr=lt===Ht;return dt&&pr}),nt=j.indexOf(tt[tt.length-1]);return nt}var _Pie;function _typeof$f(o){"@babel/helpers - typeof";return _typeof$f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$f(o)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$d.apply(this,arguments)}function ownKeys$e(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$d(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$e(Object($),!0).forEach(function(j){_defineProperty$f(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$e(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _classCallCheck$7(o,_){if(!(o instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(o,_){for(var $=0;$<_.length;$++){var j=_[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(o,_toPropertyKey$f(j.key),j)}}function _createClass$7(o,_,$){return _&&_defineProperties$7(o.prototype,_),$&&_defineProperties$7(o,$),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$5(o,_,$){return _=_getPrototypeOf$5(_),_possibleConstructorReturn$5(o,_isNativeReflectConstruct$5()?Reflect.construct(_,$||[],_getPrototypeOf$5(o).constructor):_.apply(o,$))}function _possibleConstructorReturn$5(o,_){if(_&&(_typeof$f(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$6(o)}function _isNativeReflectConstruct$5(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$5=function(){return!!o})()}function _getPrototypeOf$5(o){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$5(o)}function _assertThisInitialized$6(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _inherits$5(o,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(_&&_.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),_&&_setPrototypeOf$6(o,_)}function _setPrototypeOf$6(o,_){return _setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$6(o,_)}function _defineProperty$f(o,_,$){return _=_toPropertyKey$f(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$f(o){var _=_toPrimitive$f(o,"string");return _typeof$f(_)=="symbol"?_:String(_)}function _toPrimitive$f(o,_){if(_typeof$f(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$f(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}var Pie=function(o){_inherits$5(_,o);function _($){var j;return _classCallCheck$7(this,_),j=_callSuper$5(this,_,[$]),_defineProperty$f(_assertThisInitialized$6(j),"pieRef",null),_defineProperty$f(_assertThisInitialized$6(j),"sectorRefs",[]),_defineProperty$f(_assertThisInitialized$6(j),"id",uniqueId("recharts-pie-")),_defineProperty$f(_assertThisInitialized$6(j),"handleAnimationEnd",function(){var _e=j.props.onAnimationEnd;j.setState({isAnimationFinished:!0}),isFunction$3(_e)&&_e()}),_defineProperty$f(_assertThisInitialized$6(j),"handleAnimationStart",function(){var _e=j.props.onAnimationStart;j.setState({isAnimationFinished:!1}),isFunction$3(_e)&&_e()}),j.state={isAnimationFinished:!$.isAnimationActive,prevIsAnimationActive:$.isAnimationActive,prevAnimationId:$.animationId,sectorToFocus:0},j}return _createClass$7(_,[{key:"isActiveIndex",value:function(j){var _e=this.props.activeIndex;return Array.isArray(_e)?_e.indexOf(j)!==-1:j===_e}},{key:"hasActiveIndex",value:function(){var j=this.props.activeIndex;return Array.isArray(j)?j.length!==0:j||j===0}},{key:"renderLabels",value:function(j){var _e=this.props.isAnimationActive;if(_e&&!this.state.isAnimationFinished)return null;var et=this.props,tt=et.label,nt=et.labelLine,it=et.dataKey,lt=et.valueKey,dt=filterProps(this.props,!1),bt=filterProps(tt,!1),Ht=filterProps(nt,!1),pr=tt&&tt.offsetRadius||20,_n=j.map(function(ft,Ct){var mr=(ft.startAngle+ft.endAngle)/2,_r=polarToCartesian(ft.cx,ft.cy,ft.outerRadius+pr,mr),mn=_objectSpread$d(_objectSpread$d(_objectSpread$d(_objectSpread$d({},dt),ft),{},{stroke:"none"},bt),{},{index:Ct,textAnchor:_.getTextAnchor(_r.x,ft.cx)},_r),dr=_objectSpread$d(_objectSpread$d(_objectSpread$d(_objectSpread$d({},dt),ft),{},{fill:"none",stroke:ft.fill},Ht),{},{index:Ct,points:[polarToCartesian(ft.cx,ft.cy,ft.outerRadius,mr),_r],key:"line"}),pn=it;return isNil$1(it)&&isNil$1(lt)?pn="value":isNil$1(it)&&(pn=lt),React.createElement(Layer,{key:"label-".concat(ft.startAngle,"-").concat(ft.endAngle,"-").concat(ft.midAngle,"-").concat(Ct)},nt&&_.renderLabelLineItem(nt,dr),_.renderLabelItem(tt,mn,getValueByDataKey(ft,pn)))});return React.createElement(Layer,{className:"recharts-pie-labels"},_n)}},{key:"renderSectorsStatically",value:function(j){var _e=this,et=this.props,tt=et.activeShape,nt=et.blendStroke,it=et.inactiveShape;return j.map(function(lt,dt){if((lt==null?void 0:lt.startAngle)===0&&(lt==null?void 0:lt.endAngle)===0&&j.length!==1)return null;var bt=_e.isActiveIndex(dt),Ht=it&&_e.hasActiveIndex()?it:null,pr=bt?tt:Ht,_n=_objectSpread$d(_objectSpread$d({},lt),{},{stroke:nt?lt.fill:lt.stroke,tabIndex:-1});return React.createElement(Layer,_extends$d({ref:function(Ct){Ct&&!_e.sectorRefs.includes(Ct)&&_e.sectorRefs.push(Ct)},tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(_e.props,lt,dt),{key:"sector-".concat(lt==null?void 0:lt.startAngle,"-").concat(lt==null?void 0:lt.endAngle,"-").concat(lt.midAngle,"-").concat(dt)}),React.createElement(Shape,_extends$d({option:pr,isActive:bt,shapeType:"sector"},_n)))})}},{key:"renderSectorsWithAnimation",value:function(){var j=this,_e=this.props,et=_e.sectors,tt=_e.isAnimationActive,nt=_e.animationBegin,it=_e.animationDuration,lt=_e.animationEasing,dt=_e.animationId,bt=this.state,Ht=bt.prevSectors,pr=bt.prevIsAnimationActive;return React.createElement(Animate,{begin:nt,duration:it,isActive:tt,easing:lt,from:{t:0},to:{t:1},key:"pie-".concat(dt,"-").concat(pr),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(_n){var ft=_n.t,Ct=[],mr=et&&et[0],_r=mr.startAngle;return et.forEach(function(mn,dr){var pn=Ht&&Ht[dr],Do=dr>0?get$2(mn,"paddingAngle",0):0;if(pn){var Io=interpolateNumber$1(pn.endAngle-pn.startAngle,mn.endAngle-mn.startAngle),Lo=_objectSpread$d(_objectSpread$d({},mn),{},{startAngle:_r+Do,endAngle:_r+Io(ft)+Do});Ct.push(Lo),_r=Lo.endAngle}else{var ms=mn.endAngle,Uo=mn.startAngle,_s=interpolateNumber$1(0,ms-Uo),yp=_s(ft),xs=_objectSpread$d(_objectSpread$d({},mn),{},{startAngle:_r+Do,endAngle:_r+yp+Do});Ct.push(xs),_r=xs.endAngle}}),React.createElement(Layer,null,j.renderSectorsStatically(Ct))})}},{key:"attachKeyboardHandlers",value:function(j){var _e=this;j.onkeydown=function(et){if(!et.altKey)switch(et.key){case"ArrowLeft":{var tt=++_e.state.sectorToFocus%_e.sectorRefs.length;_e.sectorRefs[tt].focus(),_e.setState({sectorToFocus:tt});break}case"ArrowRight":{var nt=--_e.state.sectorToFocus<0?_e.sectorRefs.length-1:_e.state.sectorToFocus%_e.sectorRefs.length;_e.sectorRefs[nt].focus(),_e.setState({sectorToFocus:nt});break}case"Escape":{_e.sectorRefs[_e.state.sectorToFocus].blur(),_e.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var j=this.props,_e=j.sectors,et=j.isAnimationActive,tt=this.state.prevSectors;return et&&_e&&_e.length&&(!tt||!isEqual$2(tt,_e))?this.renderSectorsWithAnimation():this.renderSectorsStatically(_e)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var j=this,_e=this.props,et=_e.hide,tt=_e.sectors,nt=_e.className,it=_e.label,lt=_e.cx,dt=_e.cy,bt=_e.innerRadius,Ht=_e.outerRadius,pr=_e.isAnimationActive,_n=this.state.isAnimationFinished;if(et||!tt||!tt.length||!isNumber(lt)||!isNumber(dt)||!isNumber(bt)||!isNumber(Ht))return null;var ft=clsx$1("recharts-pie",nt);return React.createElement(Layer,{tabIndex:this.props.rootTabIndex,className:ft,ref:function(mr){j.pieRef=mr}},this.renderSectors(),it&&this.renderLabels(tt),Label.renderCallByParent(this.props,null,!1),(!pr||_n)&&LabelList.renderCallByParent(this.props,tt,!1))}}],[{key:"getDerivedStateFromProps",value:function(j,_e){return _e.prevIsAnimationActive!==j.isAnimationActive?{prevIsAnimationActive:j.isAnimationActive,prevAnimationId:j.animationId,curSectors:j.sectors,prevSectors:[],isAnimationFinished:!0}:j.isAnimationActive&&j.animationId!==_e.prevAnimationId?{prevAnimationId:j.animationId,curSectors:j.sectors,prevSectors:_e.curSectors,isAnimationFinished:!0}:j.sectors!==_e.curSectors?{curSectors:j.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(j,_e){return j>_e?"start":j<_e?"end":"middle"}},{key:"renderLabelLineItem",value:function(j,_e){if(React.isValidElement(j))return React.cloneElement(j,_e);if(isFunction$3(j))return j(_e);var et=clsx$1("recharts-pie-label-line",typeof j!="boolean"?j.className:"");return React.createElement(Curve,_extends$d({},_e,{type:"linear",className:et}))}},{key:"renderLabelItem",value:function(j,_e,et){if(React.isValidElement(j))return React.cloneElement(j,_e);var tt=et;if(isFunction$3(j)&&(tt=j(_e),React.isValidElement(tt)))return tt;var nt=clsx$1("recharts-pie-label-text",typeof j!="boolean"&&!isFunction$3(j)?j.className:"");return React.createElement(Text,_extends$d({},_e,{alignmentBaseline:"middle",className:nt}),tt)}}]),_}(reactExports.PureComponent);_Pie=Pie;_defineProperty$f(Pie,"displayName","Pie");_defineProperty$f(Pie,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Global.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});_defineProperty$f(Pie,"parseDeltaAngle",function(o,_){var $=mathSign(_-o),j=Math.min(Math.abs(_-o),360);return $*j});_defineProperty$f(Pie,"getRealPieData",function(o){var _=o.props,$=_.data,j=_.children,_e=filterProps(o.props,!1),et=findAllByType(j,Cell);return $&&$.length?$.map(function(tt,nt){return _objectSpread$d(_objectSpread$d(_objectSpread$d({payload:tt},_e),tt),et&&et[nt]&&et[nt].props)}):et&&et.length?et.map(function(tt){return _objectSpread$d(_objectSpread$d({},_e),tt.props)}):[]});_defineProperty$f(Pie,"parseCoordinateOfPie",function(o,_){var $=_.top,j=_.left,_e=_.width,et=_.height,tt=getMaxRadius(_e,et),nt=j+getPercentValue(o.props.cx,_e,_e/2),it=$+getPercentValue(o.props.cy,et,et/2),lt=getPercentValue(o.props.innerRadius,tt,0),dt=getPercentValue(o.props.outerRadius,tt,tt*.8),bt=o.props.maxRadius||Math.sqrt(_e*_e+et*et)/2;return{cx:nt,cy:it,innerRadius:lt,outerRadius:dt,maxRadius:bt}});_defineProperty$f(Pie,"getComposedData",function(o){var _=o.item,$=o.offset,j=_Pie.getRealPieData(_);if(!j||!j.length)return null;var _e=_.props,et=_e.cornerRadius,tt=_e.startAngle,nt=_e.endAngle,it=_e.paddingAngle,lt=_e.dataKey,dt=_e.nameKey,bt=_e.valueKey,Ht=_e.tooltipType,pr=Math.abs(_.props.minAngle),_n=_Pie.parseCoordinateOfPie(_,$),ft=_Pie.parseDeltaAngle(tt,nt),Ct=Math.abs(ft),mr=lt;isNil$1(lt)&&isNil$1(bt)?(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),mr="value"):isNil$1(lt)&&(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),mr=bt);var _r=j.filter(function(Lo){return getValueByDataKey(Lo,mr,0)!==0}).length,mn=(Ct>=360?_r:_r-1)*it,dr=Ct-_r*pr-mn,pn=j.reduce(function(Lo,ms){var Uo=getValueByDataKey(ms,mr,0);return Lo+(isNumber(Uo)?Uo:0)},0),Do;if(pn>0){var Io;Do=j.map(function(Lo,ms){var Uo=getValueByDataKey(Lo,mr,0),_s=getValueByDataKey(Lo,dt,ms),yp=(isNumber(Uo)?Uo:0)/pn,xs;ms?xs=Io.endAngle+mathSign(ft)*it*(Uo!==0?1:0):xs=tt;var vs=xs+mathSign(ft)*((Uo!==0?pr:0)+yp*dr),Sp=(xs+vs)/2,wp=(_n.innerRadius+_n.outerRadius)/2,bp=[{name:_s,value:Uo,payload:Lo,dataKey:mr,type:Ht}],Ep=polarToCartesian(_n.cx,_n.cy,wp,Sp);return Io=_objectSpread$d(_objectSpread$d(_objectSpread$d({percent:yp,cornerRadius:et,name:_s,tooltipPayload:bp,midAngle:Sp,middleRadius:wp,tooltipPosition:Ep},Lo),_n),{},{value:getValueByDataKey(Lo,mr),startAngle:xs,endAngle:vs,payload:Lo,paddingAngle:mathSign(ft)*it}),Io})}return _objectSpread$d(_objectSpread$d({},_n),{},{sectors:Do,data:j})});var nativeCeil=Math.ceil,nativeMax$1=Math.max;function baseRange$1(o,_,$,j){for(var _e=-1,et=nativeMax$1(nativeCeil((_-o)/($||1)),0),tt=Array(et);et--;)tt[j?et:++_e]=o,o+=$;return tt}var _baseRange=baseRange$1,toNumber=toNumber_1,INFINITY=1/0,MAX_INTEGER=17976931348623157e292;function toFinite$2(o){if(!o)return o===0?o:0;if(o=toNumber(o),o===INFINITY||o===-INFINITY){var _=o<0?-1:1;return _*MAX_INTEGER}return o===o?o:0}var toFinite_1=toFinite$2,baseRange=_baseRange,isIterateeCall$2=_isIterateeCall,toFinite$1=toFinite_1;function createRange$1(o){return function(_,$,j){return j&&typeof j!="number"&&isIterateeCall$2(_,$,j)&&($=j=void 0),_=toFinite$1(_),$===void 0?($=_,_=0):$=toFinite$1($),j=j===void 0?_<$?1:-1:toFinite$1(j),baseRange(_,$,j,o)}}var _createRange=createRange$1,createRange=_createRange,range=createRange(),range_1=range;const range$1=getDefaultExportFromCjs(range_1);function _typeof$e(o){"@babel/helpers - typeof";return _typeof$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$e(o)}function ownKeys$d(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$c(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$d(Object($),!0).forEach(function(j){_defineProperty$e(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$d(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$e(o,_,$){return _=_toPropertyKey$e(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$e(o){var _=_toPrimitive$e(o,"string");return _typeof$e(_)=="symbol"?_:String(_)}function _toPrimitive$e(o,_){if(_typeof$e(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$e(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}var PREFIX_LIST=["Webkit","Moz","O","ms"],generatePrefixStyle=function o(_,$){var j=_.replace(/(\w)/,function(et){return et.toUpperCase()}),_e=PREFIX_LIST.reduce(function(et,tt){return _objectSpread$c(_objectSpread$c({},et),{},_defineProperty$e({},tt+j,$))},{});return _e[_]=$,_e};function _typeof$d(o){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$d(o)}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$c.apply(this,arguments)}function ownKeys$c(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$b(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$c(Object($),!0).forEach(function(j){_defineProperty$d(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$c(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _classCallCheck$6(o,_){if(!(o instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(o,_){for(var $=0;$<_.length;$++){var j=_[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(o,_toPropertyKey$d(j.key),j)}}function _createClass$6(o,_,$){return _&&_defineProperties$6(o.prototype,_),$&&_defineProperties$6(o,$),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$4(o,_,$){return _=_getPrototypeOf$4(_),_possibleConstructorReturn$4(o,_isNativeReflectConstruct$4()?Reflect.construct(_,$||[],_getPrototypeOf$4(o).constructor):_.apply(o,$))}function _possibleConstructorReturn$4(o,_){if(_&&(_typeof$d(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$5(o)}function _isNativeReflectConstruct$4(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$4=function(){return!!o})()}function _getPrototypeOf$4(o){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$4(o)}function _assertThisInitialized$5(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _inherits$4(o,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(_&&_.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),_&&_setPrototypeOf$5(o,_)}function _setPrototypeOf$5(o,_){return _setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$5(o,_)}function _defineProperty$d(o,_,$){return _=_toPropertyKey$d(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$d(o){var _=_toPrimitive$d(o,"string");return _typeof$d(_)=="symbol"?_:String(_)}function _toPrimitive$d(o,_){if(_typeof$d(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$d(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}var createScale=function o(_){var $=_.data,j=_.startIndex,_e=_.endIndex,et=_.x,tt=_.width,nt=_.travellerWidth;if(!$||!$.length)return{};var it=$.length,lt=point().domain(range$1(0,it)).range([et,et+tt-nt]),dt=lt.domain().map(function(bt){return lt(bt)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:lt(j),endX:lt(_e),scale:lt,scaleValues:dt}},isTouch=function o(_){return _.changedTouches&&!!_.changedTouches.length},Brush=function(o){_inherits$4(_,o);function _($){var j;return _classCallCheck$6(this,_),j=_callSuper$4(this,_,[$]),_defineProperty$d(_assertThisInitialized$5(j),"handleDrag",function(_e){j.leaveTimer&&(clearTimeout(j.leaveTimer),j.leaveTimer=null),j.state.isTravellerMoving?j.handleTravellerMove(_e):j.state.isSlideMoving&&j.handleSlideDrag(_e)}),_defineProperty$d(_assertThisInitialized$5(j),"handleTouchMove",function(_e){_e.changedTouches!=null&&_e.changedTouches.length>0&&j.handleDrag(_e.changedTouches[0])}),_defineProperty$d(_assertThisInitialized$5(j),"handleDragEnd",function(){j.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var _e=j.props,et=_e.endIndex,tt=_e.onDragEnd,nt=_e.startIndex;tt==null||tt({endIndex:et,startIndex:nt})}),j.detachDragEndListener()}),_defineProperty$d(_assertThisInitialized$5(j),"handleLeaveWrapper",function(){(j.state.isTravellerMoving||j.state.isSlideMoving)&&(j.leaveTimer=window.setTimeout(j.handleDragEnd,j.props.leaveTimeOut))}),_defineProperty$d(_assertThisInitialized$5(j),"handleEnterSlideOrTraveller",function(){j.setState({isTextActive:!0})}),_defineProperty$d(_assertThisInitialized$5(j),"handleLeaveSlideOrTraveller",function(){j.setState({isTextActive:!1})}),_defineProperty$d(_assertThisInitialized$5(j),"handleSlideDragStart",function(_e){var et=isTouch(_e)?_e.changedTouches[0]:_e;j.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:et.pageX}),j.attachDragEndListener()}),j.travellerDragStartHandlers={startX:j.handleTravellerDragStart.bind(_assertThisInitialized$5(j),"startX"),endX:j.handleTravellerDragStart.bind(_assertThisInitialized$5(j),"endX")},j.state={},j}return _createClass$6(_,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(j){var _e=j.startX,et=j.endX,tt=this.state.scaleValues,nt=this.props,it=nt.gap,lt=nt.data,dt=lt.length-1,bt=Math.min(_e,et),Ht=Math.max(_e,et),pr=_.getIndexInRange(tt,bt),_n=_.getIndexInRange(tt,Ht);return{startIndex:pr-pr%it,endIndex:_n===dt?dt:_n-_n%it}}},{key:"getTextOfTick",value:function(j){var _e=this.props,et=_e.data,tt=_e.tickFormatter,nt=_e.dataKey,it=getValueByDataKey(et[j],nt,j);return isFunction$3(tt)?tt(it,j):it}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(j){var _e=this.state,et=_e.slideMoveStartX,tt=_e.startX,nt=_e.endX,it=this.props,lt=it.x,dt=it.width,bt=it.travellerWidth,Ht=it.startIndex,pr=it.endIndex,_n=it.onChange,ft=j.pageX-et;ft>0?ft=Math.min(ft,lt+dt-bt-nt,lt+dt-bt-tt):ft<0&&(ft=Math.max(ft,lt-tt,lt-nt));var Ct=this.getIndex({startX:tt+ft,endX:nt+ft});(Ct.startIndex!==Ht||Ct.endIndex!==pr)&&_n&&_n(Ct),this.setState({startX:tt+ft,endX:nt+ft,slideMoveStartX:j.pageX})}},{key:"handleTravellerDragStart",value:function(j,_e){var et=isTouch(_e)?_e.changedTouches[0]:_e;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:j,brushMoveStartX:et.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(j){var _e=this.state,et=_e.brushMoveStartX,tt=_e.movingTravellerId,nt=_e.endX,it=_e.startX,lt=this.state[tt],dt=this.props,bt=dt.x,Ht=dt.width,pr=dt.travellerWidth,_n=dt.onChange,ft=dt.gap,Ct=dt.data,mr={startX:this.state.startX,endX:this.state.endX},_r=j.pageX-et;_r>0?_r=Math.min(_r,bt+Ht-pr-lt):_r<0&&(_r=Math.max(_r,bt-lt)),mr[tt]=lt+_r;var mn=this.getIndex(mr),dr=mn.startIndex,pn=mn.endIndex,Do=function(){var Lo=Ct.length-1;return tt==="startX"&&(nt>it?dr%ft===0:pn%ft===0)||nt<it&&pn===Lo||tt==="endX"&&(nt>it?pn%ft===0:dr%ft===0)||nt>it&&pn===Lo};this.setState(_defineProperty$d(_defineProperty$d({},tt,lt+_r),"brushMoveStartX",j.pageX),function(){_n&&Do()&&_n(mn)})}},{key:"handleTravellerMoveKeyboard",value:function(j,_e){var et=this,tt=this.state,nt=tt.scaleValues,it=tt.startX,lt=tt.endX,dt=this.state[_e],bt=nt.indexOf(dt);if(bt!==-1){var Ht=bt+j;if(!(Ht===-1||Ht>=nt.length)){var pr=nt[Ht];_e==="startX"&&pr>=lt||_e==="endX"&&pr<=it||this.setState(_defineProperty$d({},_e,pr),function(){et.props.onChange(et.getIndex({startX:et.state.startX,endX:et.state.endX}))})}}}},{key:"renderBackground",value:function(){var j=this.props,_e=j.x,et=j.y,tt=j.width,nt=j.height,it=j.fill,lt=j.stroke;return React.createElement("rect",{stroke:lt,fill:it,x:_e,y:et,width:tt,height:nt})}},{key:"renderPanorama",value:function(){var j=this.props,_e=j.x,et=j.y,tt=j.width,nt=j.height,it=j.data,lt=j.children,dt=j.padding,bt=reactExports.Children.only(lt);return bt?React.cloneElement(bt,{x:_e,y:et,width:tt,height:nt,margin:dt,compact:!0,data:it}):null}},{key:"renderTravellerLayer",value:function(j,_e){var et,tt,nt=this,it=this.props,lt=it.y,dt=it.travellerWidth,bt=it.height,Ht=it.traveller,pr=it.ariaLabel,_n=it.data,ft=it.startIndex,Ct=it.endIndex,mr=Math.max(j,this.props.x),_r=_objectSpread$b(_objectSpread$b({},filterProps(this.props,!1)),{},{x:mr,y:lt,width:dt,height:bt}),mn=pr||"Min value: ".concat((et=_n[ft])===null||et===void 0?void 0:et.name,", Max value: ").concat((tt=_n[Ct])===null||tt===void 0?void 0:tt.name);return React.createElement(Layer,{tabIndex:0,role:"slider","aria-label":mn,"aria-valuenow":j,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[_e],onTouchStart:this.travellerDragStartHandlers[_e],onKeyDown:function(pn){["ArrowLeft","ArrowRight"].includes(pn.key)&&(pn.preventDefault(),pn.stopPropagation(),nt.handleTravellerMoveKeyboard(pn.key==="ArrowRight"?1:-1,_e))},onFocus:function(){nt.setState({isTravellerFocused:!0})},onBlur:function(){nt.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},_.renderTraveller(Ht,_r))}},{key:"renderSlide",value:function(j,_e){var et=this.props,tt=et.y,nt=et.height,it=et.stroke,lt=et.travellerWidth,dt=Math.min(j,_e)+lt,bt=Math.max(Math.abs(_e-j)-lt,0);return React.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:it,fillOpacity:.2,x:dt,y:tt,width:bt,height:nt})}},{key:"renderText",value:function(){var j=this.props,_e=j.startIndex,et=j.endIndex,tt=j.y,nt=j.height,it=j.travellerWidth,lt=j.stroke,dt=this.state,bt=dt.startX,Ht=dt.endX,pr=5,_n={pointerEvents:"none",fill:lt};return React.createElement(Layer,{className:"recharts-brush-texts"},React.createElement(Text,_extends$c({textAnchor:"end",verticalAnchor:"middle",x:Math.min(bt,Ht)-pr,y:tt+nt/2},_n),this.getTextOfTick(_e)),React.createElement(Text,_extends$c({textAnchor:"start",verticalAnchor:"middle",x:Math.max(bt,Ht)+it+pr,y:tt+nt/2},_n),this.getTextOfTick(et)))}},{key:"render",value:function(){var j=this.props,_e=j.data,et=j.className,tt=j.children,nt=j.x,it=j.y,lt=j.width,dt=j.height,bt=j.alwaysShowText,Ht=this.state,pr=Ht.startX,_n=Ht.endX,ft=Ht.isTextActive,Ct=Ht.isSlideMoving,mr=Ht.isTravellerMoving,_r=Ht.isTravellerFocused;if(!_e||!_e.length||!isNumber(nt)||!isNumber(it)||!isNumber(lt)||!isNumber(dt)||lt<=0||dt<=0)return null;var mn=clsx$1("recharts-brush",et),dr=React.Children.count(tt)===1,pn=generatePrefixStyle("userSelect","none");return React.createElement(Layer,{className:mn,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:pn},this.renderBackground(),dr&&this.renderPanorama(),this.renderSlide(pr,_n),this.renderTravellerLayer(pr,"startX"),this.renderTravellerLayer(_n,"endX"),(ft||Ct||mr||_r||bt)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(j){var _e=j.x,et=j.y,tt=j.width,nt=j.height,it=j.stroke,lt=Math.floor(et+nt/2)-1;return React.createElement(React.Fragment,null,React.createElement("rect",{x:_e,y:et,width:tt,height:nt,fill:it,stroke:"none"}),React.createElement("line",{x1:_e+1,y1:lt,x2:_e+tt-1,y2:lt,fill:"none",stroke:"#fff"}),React.createElement("line",{x1:_e+1,y1:lt+2,x2:_e+tt-1,y2:lt+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(j,_e){var et;return React.isValidElement(j)?et=React.cloneElement(j,_e):isFunction$3(j)?et=j(_e):et=_.renderDefaultTraveller(_e),et}},{key:"getDerivedStateFromProps",value:function(j,_e){var et=j.data,tt=j.width,nt=j.x,it=j.travellerWidth,lt=j.updateId,dt=j.startIndex,bt=j.endIndex;if(et!==_e.prevData||lt!==_e.prevUpdateId)return _objectSpread$b({prevData:et,prevTravellerWidth:it,prevUpdateId:lt,prevX:nt,prevWidth:tt},et&&et.length?createScale({data:et,width:tt,x:nt,travellerWidth:it,startIndex:dt,endIndex:bt}):{scale:null,scaleValues:null});if(_e.scale&&(tt!==_e.prevWidth||nt!==_e.prevX||it!==_e.prevTravellerWidth)){_e.scale.range([nt,nt+tt-it]);var Ht=_e.scale.domain().map(function(pr){return _e.scale(pr)});return{prevData:et,prevTravellerWidth:it,prevUpdateId:lt,prevX:nt,prevWidth:tt,startX:_e.scale(j.startIndex),endX:_e.scale(j.endIndex),scaleValues:Ht}}return null}},{key:"getIndexInRange",value:function(j,_e){for(var et=j.length,tt=0,nt=et-1;nt-tt>1;){var it=Math.floor((tt+nt)/2);j[it]>_e?nt=it:tt=it}return _e>=j[nt]?nt:tt}}]),_}(reactExports.PureComponent);_defineProperty$d(Brush,"displayName","Brush");_defineProperty$d(Brush,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var baseEach$1=_baseEach;function baseSome$1(o,_){var $;return baseEach$1(o,function(j,_e,et){return $=_(j,_e,et),!$}),!!$}var _baseSome=baseSome$1,arraySome=_arraySome,baseIteratee$4=_baseIteratee,baseSome=_baseSome,isArray$1=isArray_1,isIterateeCall$1=_isIterateeCall;function some(o,_,$){var j=isArray$1(o)?arraySome:baseSome;return $&&isIterateeCall$1(o,_,$)&&(_=void 0),j(o,baseIteratee$4(_))}var some_1=some;const some$1=getDefaultExportFromCjs(some_1);var ifOverflowMatches=function o(_,$){var j=_.alwaysShow,_e=_.ifOverflow;return j&&(_e="extendDomain"),_e===$},defineProperty=_defineProperty$C;function baseAssignValue$1(o,_,$){_=="__proto__"&&defineProperty?defineProperty(o,_,{configurable:!0,enumerable:!0,value:$,writable:!0}):o[_]=$}var _baseAssignValue=baseAssignValue$1,baseAssignValue=_baseAssignValue,baseForOwn=_baseForOwn,baseIteratee$3=_baseIteratee;function mapValues(o,_){var $={};return _=baseIteratee$3(_),baseForOwn(o,function(j,_e,et){baseAssignValue($,_e,_(j,_e,et))}),$}var mapValues_1=mapValues;const mapValues$1=getDefaultExportFromCjs(mapValues_1);function arrayEvery$1(o,_){for(var $=-1,j=o==null?0:o.length;++$<j;)if(!_(o[$],$,o))return!1;return!0}var _arrayEvery=arrayEvery$1,baseEach=_baseEach;function baseEvery$1(o,_){var $=!0;return baseEach(o,function(j,_e,et){return $=!!_(j,_e,et),$}),$}var _baseEvery=baseEvery$1,arrayEvery=_arrayEvery,baseEvery=_baseEvery,baseIteratee$2=_baseIteratee,isArray=isArray_1,isIterateeCall=_isIterateeCall;function every(o,_,$){var j=isArray(o)?arrayEvery:baseEvery;return $&&isIterateeCall(o,_,$)&&(_=void 0),j(o,baseIteratee$2(_))}var every_1=every;const every$1=getDefaultExportFromCjs(every_1);var _excluded$4=["x","y"];function _typeof$c(o){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$c(o)}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$b.apply(this,arguments)}function ownKeys$b(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$a(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$b(Object($),!0).forEach(function(j){_defineProperty$c(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$b(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$c(o,_,$){return _=_toPropertyKey$c(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$c(o){var _=_toPrimitive$c(o,"string");return _typeof$c(_)=="symbol"?_:String(_)}function _toPrimitive$c(o,_){if(_typeof$c(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$c(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}function _objectWithoutProperties$4(o,_){if(o==null)return{};var $=_objectWithoutPropertiesLoose$5(o,_),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for(_e=0;_e<et.length;_e++)j=et[_e],!(_.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(o,j)&&($[j]=o[j])}return $}function _objectWithoutPropertiesLoose$5(o,_){if(o==null)return{};var $={},j=Object.keys(o),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(_.indexOf(_e)>=0)&&($[_e]=o[_e]);return $}function typeguardBarRectangleProps(o,_){var $=o.x,j=o.y,_e=_objectWithoutProperties$4(o,_excluded$4),et="".concat($),tt=parseInt(et,10),nt="".concat(j),it=parseInt(nt,10),lt="".concat(_.height||_e.height),dt=parseInt(lt,10),bt="".concat(_.width||_e.width),Ht=parseInt(bt,10);return _objectSpread$a(_objectSpread$a(_objectSpread$a(_objectSpread$a(_objectSpread$a({},_),_e),tt?{x:tt}:{}),it?{y:it}:{}),{},{height:dt,width:Ht,name:_.name,radius:_.radius})}function BarRectangle(o){return React.createElement(Shape,_extends$b({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},o))}var minPointSizeCallback=function o(_){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(j,_e){if(typeof _=="number")return _;var et=typeof j=="number";return et?_(j,_e):(et||invariant(),$)}},_excluded$3=["value","background"],_Bar;function _typeof$b(o){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$b(o)}function _objectWithoutProperties$3(o,_){if(o==null)return{};var $=_objectWithoutPropertiesLoose$4(o,_),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for(_e=0;_e<et.length;_e++)j=et[_e],!(_.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(o,j)&&($[j]=o[j])}return $}function _objectWithoutPropertiesLoose$4(o,_){if(o==null)return{};var $={},j=Object.keys(o),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(_.indexOf(_e)>=0)&&($[_e]=o[_e]);return $}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$a.apply(this,arguments)}function ownKeys$a(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$9(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$a(Object($),!0).forEach(function(j){_defineProperty$b(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$a(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _classCallCheck$5(o,_){if(!(o instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(o,_){for(var $=0;$<_.length;$++){var j=_[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(o,_toPropertyKey$b(j.key),j)}}function _createClass$5(o,_,$){return _&&_defineProperties$5(o.prototype,_),$&&_defineProperties$5(o,$),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$3(o,_,$){return _=_getPrototypeOf$3(_),_possibleConstructorReturn$3(o,_isNativeReflectConstruct$3()?Reflect.construct(_,$||[],_getPrototypeOf$3(o).constructor):_.apply(o,$))}function _possibleConstructorReturn$3(o,_){if(_&&(_typeof$b(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$4(o)}function _isNativeReflectConstruct$3(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$3=function(){return!!o})()}function _getPrototypeOf$3(o){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$3(o)}function _assertThisInitialized$4(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _inherits$3(o,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(_&&_.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),_&&_setPrototypeOf$4(o,_)}function _setPrototypeOf$4(o,_){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$4(o,_)}function _defineProperty$b(o,_,$){return _=_toPropertyKey$b(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$b(o){var _=_toPrimitive$b(o,"string");return _typeof$b(_)=="symbol"?_:String(_)}function _toPrimitive$b(o,_){if(_typeof$b(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$b(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}var Bar=function(o){_inherits$3(_,o);function _(){var $;_classCallCheck$5(this,_);for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];return $=_callSuper$3(this,_,[].concat(_e)),_defineProperty$b(_assertThisInitialized$4($),"state",{isAnimationFinished:!1}),_defineProperty$b(_assertThisInitialized$4($),"id",uniqueId("recharts-bar-")),_defineProperty$b(_assertThisInitialized$4($),"handleAnimationEnd",function(){var tt=$.props.onAnimationEnd;$.setState({isAnimationFinished:!0}),tt&&tt()}),_defineProperty$b(_assertThisInitialized$4($),"handleAnimationStart",function(){var tt=$.props.onAnimationStart;$.setState({isAnimationFinished:!1}),tt&&tt()}),$}return _createClass$5(_,[{key:"renderRectanglesStatically",value:function(j){var _e=this,et=this.props,tt=et.shape,nt=et.dataKey,it=et.activeIndex,lt=et.activeBar,dt=filterProps(this.props,!1);return j&&j.map(function(bt,Ht){var pr=Ht===it,_n=pr?lt:tt,ft=_objectSpread$9(_objectSpread$9(_objectSpread$9({},dt),bt),{},{isActive:pr,option:_n,index:Ht,dataKey:nt,onAnimationStart:_e.handleAnimationStart,onAnimationEnd:_e.handleAnimationEnd});return React.createElement(Layer,_extends$a({className:"recharts-bar-rectangle"},adaptEventsOfChild(_e.props,bt,Ht),{key:"rectangle-".concat(bt==null?void 0:bt.x,"-").concat(bt==null?void 0:bt.y,"-").concat(bt==null?void 0:bt.value)}),React.createElement(BarRectangle,ft))})}},{key:"renderRectanglesWithAnimation",value:function(){var j=this,_e=this.props,et=_e.data,tt=_e.layout,nt=_e.isAnimationActive,it=_e.animationBegin,lt=_e.animationDuration,dt=_e.animationEasing,bt=_e.animationId,Ht=this.state.prevData;return React.createElement(Animate,{begin:it,duration:lt,isActive:nt,easing:dt,from:{t:0},to:{t:1},key:"bar-".concat(bt),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(pr){var _n=pr.t,ft=et.map(function(Ct,mr){var _r=Ht&&Ht[mr];if(_r){var mn=interpolateNumber$1(_r.x,Ct.x),dr=interpolateNumber$1(_r.y,Ct.y),pn=interpolateNumber$1(_r.width,Ct.width),Do=interpolateNumber$1(_r.height,Ct.height);return _objectSpread$9(_objectSpread$9({},Ct),{},{x:mn(_n),y:dr(_n),width:pn(_n),height:Do(_n)})}if(tt==="horizontal"){var Io=interpolateNumber$1(0,Ct.height),Lo=Io(_n);return _objectSpread$9(_objectSpread$9({},Ct),{},{y:Ct.y+Ct.height-Lo,height:Lo})}var ms=interpolateNumber$1(0,Ct.width),Uo=ms(_n);return _objectSpread$9(_objectSpread$9({},Ct),{},{width:Uo})});return React.createElement(Layer,null,j.renderRectanglesStatically(ft))})}},{key:"renderRectangles",value:function(){var j=this.props,_e=j.data,et=j.isAnimationActive,tt=this.state.prevData;return et&&_e&&_e.length&&(!tt||!isEqual$2(tt,_e))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(_e)}},{key:"renderBackground",value:function(){var j=this,_e=this.props,et=_e.data,tt=_e.dataKey,nt=_e.activeIndex,it=filterProps(this.props.background,!1);return et.map(function(lt,dt){lt.value;var bt=lt.background,Ht=_objectWithoutProperties$3(lt,_excluded$3);if(!bt)return null;var pr=_objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9({},Ht),{},{fill:"#eee"},bt),it),adaptEventsOfChild(j.props,lt,dt)),{},{onAnimationStart:j.handleAnimationStart,onAnimationEnd:j.handleAnimationEnd,dataKey:tt,index:dt,key:"background-bar-".concat(dt),className:"recharts-bar-background-rectangle"});return React.createElement(BarRectangle,_extends$a({option:j.props.background,isActive:dt===nt},pr))})}},{key:"renderErrorBar",value:function(j,_e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var et=this.props,tt=et.data,nt=et.xAxis,it=et.yAxis,lt=et.layout,dt=et.children,bt=findAllByType(dt,ErrorBar);if(!bt)return null;var Ht=lt==="vertical"?tt[0].height/2:tt[0].width/2,pr=function(Ct,mr){var _r=Array.isArray(Ct.value)?Ct.value[1]:Ct.value;return{x:Ct.x,y:Ct.y,value:_r,errorVal:getValueByDataKey(Ct,mr)}},_n={clipPath:j?"url(#clipPath-".concat(_e,")"):null};return React.createElement(Layer,_n,bt.map(function(ft){return React.cloneElement(ft,{key:"error-bar-".concat(_e,"-").concat(ft.props.dataKey),data:tt,xAxis:nt,yAxis:it,layout:lt,offset:Ht,dataPointFormatter:pr})}))}},{key:"render",value:function(){var j=this.props,_e=j.hide,et=j.data,tt=j.className,nt=j.xAxis,it=j.yAxis,lt=j.left,dt=j.top,bt=j.width,Ht=j.height,pr=j.isAnimationActive,_n=j.background,ft=j.id;if(_e||!et||!et.length)return null;var Ct=this.state.isAnimationFinished,mr=clsx$1("recharts-bar",tt),_r=nt&&nt.allowDataOverflow,mn=it&&it.allowDataOverflow,dr=_r||mn,pn=isNil$1(ft)?this.id:ft;return React.createElement(Layer,{className:mr},_r||mn?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(pn)},React.createElement("rect",{x:_r?lt:lt-bt/2,y:mn?dt:dt-Ht/2,width:_r?bt:bt*2,height:mn?Ht:Ht*2}))):null,React.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:dr?"url(#clipPath-".concat(pn,")"):null},_n?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(dr,pn),(!pr||Ct)&&LabelList.renderCallByParent(this.props,et))}}],[{key:"getDerivedStateFromProps",value:function(j,_e){return j.animationId!==_e.prevAnimationId?{prevAnimationId:j.animationId,curData:j.data,prevData:_e.curData}:j.data!==_e.curData?{curData:j.data}:null}}]),_}(reactExports.PureComponent);_Bar=Bar;_defineProperty$b(Bar,"displayName","Bar");_defineProperty$b(Bar,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_defineProperty$b(Bar,"getComposedData",function(o){var _=o.props,$=o.item,j=o.barPosition,_e=o.bandSize,et=o.xAxis,tt=o.yAxis,nt=o.xAxisTicks,it=o.yAxisTicks,lt=o.stackedData,dt=o.dataStartIndex,bt=o.displayedData,Ht=o.offset,pr=findPositionOfBar(j,$);if(!pr)return null;var _n=_.layout,ft=$.props,Ct=ft.dataKey,mr=ft.children,_r=ft.minPointSize,mn=_n==="horizontal"?tt:et,dr=lt?mn.scale.domain():null,pn=getBaseValueOfBar({numericAxis:mn}),Do=findAllByType(mr,Cell),Io=bt.map(function(Lo,ms){var Uo,_s,yp,xs,vs,Sp;lt?Uo=truncateByDomain(lt[dt+ms],dr):(Uo=getValueByDataKey(Lo,Ct),Array.isArray(Uo)||(Uo=[pn,Uo]));var wp=minPointSizeCallback(_r,_Bar.defaultProps.minPointSize)(Uo[1],ms);if(_n==="horizontal"){var bp,Ep=[tt.scale(Uo[0]),tt.scale(Uo[1])],Cp=Ep[0],Ap=Ep[1];_s=getCateCoordinateOfBar({axis:et,ticks:nt,bandSize:_e,offset:pr.offset,entry:Lo,index:ms}),yp=(bp=Ap??Cp)!==null&&bp!==void 0?bp:void 0,xs=pr.size;var Mp=Cp-Ap;if(vs=Number.isNaN(Mp)?0:Mp,Sp={x:_s,y:tt.y,width:xs,height:tt.height},Math.abs(wp)>0&&Math.abs(vs)<Math.abs(wp)){var Pp=mathSign(vs||wp)*(Math.abs(wp)-Math.abs(vs));yp-=Pp,vs+=Pp}}else{var Ip=[et.scale(Uo[0]),et.scale(Uo[1])],Op=Ip[0],Wp=Ip[1];if(_s=Op,yp=getCateCoordinateOfBar({axis:tt,ticks:it,bandSize:_e,offset:pr.offset,entry:Lo,index:ms}),xs=Wp-Op,vs=pr.size,Sp={x:et.x,y:yp,width:et.width,height:vs},Math.abs(wp)>0&&Math.abs(xs)<Math.abs(wp)){var Yp=mathSign(xs||wp)*(Math.abs(wp)-Math.abs(xs));xs+=Yp}}return _objectSpread$9(_objectSpread$9(_objectSpread$9({},Lo),{},{x:_s,y:yp,width:xs,height:vs,value:lt?Uo:Uo[1],payload:Lo,background:Sp},Do&&Do[ms]&&Do[ms].props),{},{tooltipPayload:[getTooltipItem($,Lo)],tooltipPosition:{x:_s+xs/2,y:yp+vs/2}})});return _objectSpread$9({data:Io,layout:_n},Ht)});function _typeof$a(o){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$a(o)}function _classCallCheck$4(o,_){if(!(o instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(o,_){for(var $=0;$<_.length;$++){var j=_[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(o,_toPropertyKey$a(j.key),j)}}function _createClass$4(o,_,$){return _&&_defineProperties$4(o.prototype,_),$&&_defineProperties$4(o,$),Object.defineProperty(o,"prototype",{writable:!1}),o}function ownKeys$9(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$8(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$9(Object($),!0).forEach(function(j){_defineProperty$a(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$9(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$a(o,_,$){return _=_toPropertyKey$a(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$a(o){var _=_toPrimitive$a(o,"string");return _typeof$a(_)=="symbol"?_:String(_)}function _toPrimitive$a(o,_){if(_typeof$a(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$a(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}var formatAxisMap=function o(_,$,j,_e,et){var tt=_.width,nt=_.height,it=_.layout,lt=_.children,dt=Object.keys($),bt={left:j.left,leftMirror:j.left,right:tt-j.right,rightMirror:tt-j.right,top:j.top,topMirror:j.top,bottom:nt-j.bottom,bottomMirror:nt-j.bottom},Ht=!!findChildByType(lt,Bar);return dt.reduce(function(pr,_n){var ft=$[_n],Ct=ft.orientation,mr=ft.domain,_r=ft.padding,mn=_r===void 0?{}:_r,dr=ft.mirror,pn=ft.reversed,Do="".concat(Ct).concat(dr?"Mirror":""),Io,Lo,ms,Uo,_s;if(ft.type==="number"&&(ft.padding==="gap"||ft.padding==="no-gap")){var yp=mr[1]-mr[0],xs=1/0,vs=ft.categoricalDomain.sort();if(vs.forEach(function(Op,Wp){Wp>0&&(xs=Math.min((Op||0)-(vs[Wp-1]||0),xs))}),Number.isFinite(xs)){var Sp=xs/yp,wp=ft.layout==="vertical"?j.height:j.width;if(ft.padding==="gap"&&(Io=Sp*wp/2),ft.padding==="no-gap"){var bp=getPercentValue(_.barCategoryGap,Sp*wp),Ep=Sp*wp/2;Io=Ep-bp-(Ep-bp)/wp*bp}}}_e==="xAxis"?Lo=[j.left+(mn.left||0)+(Io||0),j.left+j.width-(mn.right||0)-(Io||0)]:_e==="yAxis"?Lo=it==="horizontal"?[j.top+j.height-(mn.bottom||0),j.top+(mn.top||0)]:[j.top+(mn.top||0)+(Io||0),j.top+j.height-(mn.bottom||0)-(Io||0)]:Lo=ft.range,pn&&(Lo=[Lo[1],Lo[0]]);var Cp=parseScale(ft,et,Ht),Ap=Cp.scale,Mp=Cp.realScaleType;Ap.domain(mr).range(Lo),checkDomainOfScale(Ap);var Pp=getTicksOfScale(Ap,_objectSpread$8(_objectSpread$8({},ft),{},{realScaleType:Mp}));_e==="xAxis"?(_s=Ct==="top"&&!dr||Ct==="bottom"&&dr,ms=j.left,Uo=bt[Do]-_s*ft.height):_e==="yAxis"&&(_s=Ct==="left"&&!dr||Ct==="right"&&dr,ms=bt[Do]-_s*ft.width,Uo=j.top);var Ip=_objectSpread$8(_objectSpread$8(_objectSpread$8({},ft),Pp),{},{realScaleType:Mp,x:ms,y:Uo,scale:Ap,width:_e==="xAxis"?j.width:ft.width,height:_e==="yAxis"?j.height:ft.height});return Ip.bandSize=getBandSizeOfAxis(Ip,Pp),!ft.hide&&_e==="xAxis"?bt[Do]+=(_s?-1:1)*Ip.height:ft.hide||(bt[Do]+=(_s?-1:1)*Ip.width),_objectSpread$8(_objectSpread$8({},pr),{},_defineProperty$a({},_n,Ip))},{})},rectWithPoints=function o(_,$){var j=_.x,_e=_.y,et=$.x,tt=$.y;return{x:Math.min(j,et),y:Math.min(_e,tt),width:Math.abs(et-j),height:Math.abs(tt-_e)}},rectWithCoords=function o(_){var $=_.x1,j=_.y1,_e=_.x2,et=_.y2;return rectWithPoints({x:$,y:j},{x:_e,y:et})},ScaleHelper=function(){function o(_){_classCallCheck$4(this,o),this.scale=_}return _createClass$4(o,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function($){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=j.bandAware,et=j.position;if($!==void 0){if(et)switch(et){case"start":return this.scale($);case"middle":{var tt=this.bandwidth?this.bandwidth()/2:0;return this.scale($)+tt}case"end":{var nt=this.bandwidth?this.bandwidth():0;return this.scale($)+nt}default:return this.scale($)}if(_e){var it=this.bandwidth?this.bandwidth()/2:0;return this.scale($)+it}return this.scale($)}}},{key:"isInRange",value:function($){var j=this.range(),_e=j[0],et=j[j.length-1];return _e<=et?$>=_e&&$<=et:$>=et&&$<=_e}}],[{key:"create",value:function($){return new o($)}}]),o}();_defineProperty$a(ScaleHelper,"EPS",1e-4);var createLabeledScales=function o(_){var $=Object.keys(_).reduce(function(j,_e){return _objectSpread$8(_objectSpread$8({},j),{},_defineProperty$a({},_e,ScaleHelper.create(_[_e])))},{});return _objectSpread$8(_objectSpread$8({},$),{},{apply:function(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=et.bandAware,nt=et.position;return mapValues$1(_e,function(it,lt){return $[lt].apply(it,{bandAware:tt,position:nt})})},isInRange:function(_e){return every$1(_e,function(et,tt){return $[tt].isInRange(et)})}})};function normalizeAngle(o){return(o%180+180)%180}var getAngledRectangleWidth=function o(_){var $=_.width,j=_.height,_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,et=normalizeAngle(_e),tt=et*Math.PI/180,nt=Math.atan(j/$),it=tt>nt&&tt<Math.PI-nt?j/Math.sin(tt):$/Math.cos(tt);return Math.abs(it)},baseIteratee$1=_baseIteratee,isArrayLike=isArrayLike_1,keys=keys_1;function createFind$1(o){return function(_,$,j){var _e=Object(_);if(!isArrayLike(_)){var et=baseIteratee$1($);_=keys(_),$=function(nt){return et(_e[nt],nt,_e)}}var tt=o(_,$,j);return tt>-1?_e[et?_[tt]:tt]:void 0}}var _createFind=createFind$1,toFinite=toFinite_1;function toInteger$1(o){var _=toFinite(o),$=_%1;return _===_?$?_-$:_:0}var toInteger_1=toInteger$1,baseFindIndex=_baseFindIndex,baseIteratee=_baseIteratee,toInteger=toInteger_1,nativeMax=Math.max;function findIndex$1(o,_,$){var j=o==null?0:o.length;if(!j)return-1;var _e=$==null?0:toInteger($);return _e<0&&(_e=nativeMax(j+_e,0)),baseFindIndex(o,baseIteratee(_),_e)}var findIndex_1=findIndex$1,createFind=_createFind,findIndex=findIndex_1,find=createFind(findIndex),find_1=find;const find$1=getDefaultExportFromCjs(find_1);var calculateViewBox=memoize$3(function(o){return{x:o.left,y:o.top,width:o.width,height:o.height}},function(o){return["l",o.left,"t",o.top,"w",o.width,"h",o.height].join("")}),XAxisContext=reactExports.createContext(void 0),YAxisContext=reactExports.createContext(void 0),ViewBoxContext=reactExports.createContext(void 0),OffsetContext=reactExports.createContext({}),ClipPathIdContext=reactExports.createContext(void 0),ChartHeightContext=reactExports.createContext(0),ChartWidthContext=reactExports.createContext(0),ChartLayoutContextProvider=function o(_){var $=_.state,j=$.xAxisMap,_e=$.yAxisMap,et=$.offset,tt=_.clipPathId,nt=_.children,it=_.width,lt=_.height,dt=calculateViewBox(et);return React.createElement(XAxisContext.Provider,{value:j},React.createElement(YAxisContext.Provider,{value:_e},React.createElement(OffsetContext.Provider,{value:et},React.createElement(ViewBoxContext.Provider,{value:dt},React.createElement(ClipPathIdContext.Provider,{value:tt},React.createElement(ChartHeightContext.Provider,{value:lt},React.createElement(ChartWidthContext.Provider,{value:it},nt)))))))},useClipPathId=function o(){return reactExports.useContext(ClipPathIdContext)},useXAxisOrThrow=function o(_){var $=reactExports.useContext(XAxisContext);$==null&&invariant();var j=$[_];return j==null&&invariant(),j},useArbitraryXAxis=function o(){var _=reactExports.useContext(XAxisContext);return getAnyElementOfObject(_)},useYAxisWithFiniteDomainOrRandom=function o(){var _=reactExports.useContext(YAxisContext),$=find$1(_,function(j){return every$1(j.domain,Number.isFinite)});return $||getAnyElementOfObject(_)},useYAxisOrThrow=function o(_){var $=reactExports.useContext(YAxisContext);$==null&&invariant();var j=$[_];return j==null&&invariant(),j},useViewBox=function o(){var _=reactExports.useContext(ViewBoxContext);return _},useOffset=function o(){return reactExports.useContext(OffsetContext)},useChartWidth=function o(){return reactExports.useContext(ChartWidthContext)},useChartHeight=function o(){return reactExports.useContext(ChartHeightContext)};function _typeof$9(o){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$9(o)}function ownKeys$8(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$7(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$8(Object($),!0).forEach(function(j){_defineProperty$9(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$8(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$9(o,_,$){return _=_toPropertyKey$9(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$9(o){var _=_toPrimitive$9(o,"string");return _typeof$9(_)=="symbol"?_:String(_)}function _toPrimitive$9(o,_){if(_typeof$9(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$9(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}function _slicedToArray$1(o,_){return _arrayWithHoles$1(o)||_iterableToArrayLimit$1(o,_)||_unsupportedIterableToArray$3(o,_)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(o,_){if(o){if(typeof o=="string")return _arrayLikeToArray$3(o,_);var $=Object.prototype.toString.call(o).slice(8,-1);if($==="Object"&&o.constructor&&($=o.constructor.name),$==="Map"||$==="Set")return Array.from(o);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$3(o,_)}}function _arrayLikeToArray$3(o,_){(_==null||_>o.length)&&(_=o.length);for(var $=0,j=new Array(_);$<_;$++)j[$]=o[$];return j}function _iterableToArrayLimit$1(o,_){var $=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if($!=null){var j,_e,et,tt,nt=[],it=!0,lt=!1;try{if(et=($=$.call(o)).next,_!==0)for(;!(it=(j=et.call($)).done)&&(nt.push(j.value),nt.length!==_);it=!0);}catch(dt){lt=!0,_e=dt}finally{try{if(!it&&$.return!=null&&(tt=$.return(),Object(tt)!==tt))return}finally{if(lt)throw _e}}return nt}}function _arrayWithHoles$1(o){if(Array.isArray(o))return o}function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$9.apply(this,arguments)}var renderLine=function o(_,$){var j;return React.isValidElement(_)?j=React.cloneElement(_,$):isFunction$3(_)?j=_($):j=React.createElement("line",_extends$9({},$,{className:"recharts-reference-line-line"})),j},getEndPoints=function o(_,$,j,_e,et,tt,nt,it,lt){var dt=et.x,bt=et.y,Ht=et.width,pr=et.height;if(j){var _n=lt.y,ft=_.y.apply(_n,{position:tt});if(ifOverflowMatches(lt,"discard")&&!_.y.isInRange(ft))return null;var Ct=[{x:dt+Ht,y:ft},{x:dt,y:ft}];return it==="left"?Ct.reverse():Ct}if($){var mr=lt.x,_r=_.x.apply(mr,{position:tt});if(ifOverflowMatches(lt,"discard")&&!_.x.isInRange(_r))return null;var mn=[{x:_r,y:bt+pr},{x:_r,y:bt}];return nt==="top"?mn.reverse():mn}if(_e){var dr=lt.segment,pn=dr.map(function(Do){return _.apply(Do,{position:tt})});return ifOverflowMatches(lt,"discard")&&some$1(pn,function(Do){return!_.isInRange(Do)})?null:pn}return null};function ReferenceLine(o){var _=o.x,$=o.y,j=o.segment,_e=o.xAxisId,et=o.yAxisId,tt=o.shape,nt=o.className,it=o.alwaysShow,lt=useClipPathId(),dt=useXAxisOrThrow(_e),bt=useYAxisOrThrow(et),Ht=useViewBox();if(!lt||!Ht)return null;warn(it===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var pr=createLabeledScales({x:dt.scale,y:bt.scale}),_n=isNumOrStr(_),ft=isNumOrStr($),Ct=j&&j.length===2,mr=getEndPoints(pr,_n,ft,Ct,Ht,o.position,dt.orientation,bt.orientation,o);if(!mr)return null;var _r=_slicedToArray$1(mr,2),mn=_r[0],dr=mn.x,pn=mn.y,Do=_r[1],Io=Do.x,Lo=Do.y,ms=ifOverflowMatches(o,"hidden")?"url(#".concat(lt,")"):void 0,Uo=_objectSpread$7(_objectSpread$7({clipPath:ms},filterProps(o,!0)),{},{x1:dr,y1:pn,x2:Io,y2:Lo});return React.createElement(Layer,{className:clsx$1("recharts-reference-line",nt)},renderLine(tt,Uo),Label.renderCallByParent(o,rectWithCoords({x1:dr,y1:pn,x2:Io,y2:Lo})))}ReferenceLine.displayName="ReferenceLine";ReferenceLine.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function _typeof$8(o){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$8(o)}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$8.apply(this,arguments)}function ownKeys$7(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$6(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$7(Object($),!0).forEach(function(j){_defineProperty$8(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$7(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$8(o,_,$){return _=_toPropertyKey$8(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$8(o){var _=_toPrimitive$8(o,"string");return _typeof$8(_)=="symbol"?_:String(_)}function _toPrimitive$8(o,_){if(_typeof$8(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$8(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}var getCoordinate=function o(_){var $=_.x,j=_.y,_e=_.xAxis,et=_.yAxis,tt=createLabeledScales({x:_e.scale,y:et.scale}),nt=tt.apply({x:$,y:j},{bandAware:!0});return ifOverflowMatches(_,"discard")&&!tt.isInRange(nt)?null:nt};function ReferenceDot(o){var _=o.x,$=o.y,j=o.r,_e=o.alwaysShow,et=o.clipPathId,tt=isNumOrStr(_),nt=isNumOrStr($);if(warn(_e===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!tt||!nt)return null;var it=getCoordinate(o);if(!it)return null;var lt=it.x,dt=it.y,bt=o.shape,Ht=o.className,pr=ifOverflowMatches(o,"hidden")?"url(#".concat(et,")"):void 0,_n=_objectSpread$6(_objectSpread$6({clipPath:pr},filterProps(o,!0)),{},{cx:lt,cy:dt});return React.createElement(Layer,{className:clsx$1("recharts-reference-dot",Ht)},ReferenceDot.renderDot(bt,_n),Label.renderCallByParent(o,{x:lt-j,y:dt-j,width:2*j,height:2*j}))}ReferenceDot.displayName="ReferenceDot";ReferenceDot.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};ReferenceDot.renderDot=function(o,_){var $;return React.isValidElement(o)?$=React.cloneElement(o,_):isFunction$3(o)?$=o(_):$=React.createElement(Dot,_extends$8({},_,{cx:_.cx,cy:_.cy,className:"recharts-reference-dot-dot"})),$};function _typeof$7(o){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$7(o)}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$7.apply(this,arguments)}function ownKeys$6(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$5(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$6(Object($),!0).forEach(function(j){_defineProperty$7(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$6(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$7(o,_,$){return _=_toPropertyKey$7(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$7(o){var _=_toPrimitive$7(o,"string");return _typeof$7(_)=="symbol"?_:String(_)}function _toPrimitive$7(o,_){if(_typeof$7(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$7(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}var getRect=function o(_,$,j,_e,et){var tt=et.x1,nt=et.x2,it=et.y1,lt=et.y2,dt=et.xAxis,bt=et.yAxis;if(!dt||!bt)return null;var Ht=createLabeledScales({x:dt.scale,y:bt.scale}),pr={x:_?Ht.x.apply(tt,{position:"start"}):Ht.x.rangeMin,y:j?Ht.y.apply(it,{position:"start"}):Ht.y.rangeMin},_n={x:$?Ht.x.apply(nt,{position:"end"}):Ht.x.rangeMax,y:_e?Ht.y.apply(lt,{position:"end"}):Ht.y.rangeMax};return ifOverflowMatches(et,"discard")&&(!Ht.isInRange(pr)||!Ht.isInRange(_n))?null:rectWithPoints(pr,_n)};function ReferenceArea(o){var _=o.x1,$=o.x2,j=o.y1,_e=o.y2,et=o.className,tt=o.alwaysShow,nt=o.clipPathId;warn(tt===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var it=isNumOrStr(_),lt=isNumOrStr($),dt=isNumOrStr(j),bt=isNumOrStr(_e),Ht=o.shape;if(!it&&!lt&&!dt&&!bt&&!Ht)return null;var pr=getRect(it,lt,dt,bt,o);if(!pr&&!Ht)return null;var _n=ifOverflowMatches(o,"hidden")?"url(#".concat(nt,")"):void 0;return React.createElement(Layer,{className:clsx$1("recharts-reference-area",et)},ReferenceArea.renderRect(Ht,_objectSpread$5(_objectSpread$5({clipPath:_n},filterProps(o,!0)),pr)),Label.renderCallByParent(o,pr))}ReferenceArea.displayName="ReferenceArea";ReferenceArea.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};ReferenceArea.renderRect=function(o,_){var $;return React.isValidElement(o)?$=React.cloneElement(o,_):isFunction$3(o)?$=o(_):$=React.createElement(Rectangle,_extends$7({},_,{className:"recharts-reference-area-rect"})),$};function getEveryNthWithCondition(o,_,$){if(_<1)return[];if(_===1&&$===void 0)return o;for(var j=[],_e=0;_e<o.length;_e+=_)j.push(o[_e]);return j}function getAngledTickWidth(o,_,$){var j={width:o.width+_.width,height:o.height+_.height};return getAngledRectangleWidth(j,$)}function getTickBoundaries(o,_,$){var j=$==="width",_e=o.x,et=o.y,tt=o.width,nt=o.height;return _===1?{start:j?_e:et,end:j?_e+tt:et+nt}:{start:j?_e+tt:et+nt,end:j?_e:et}}function isVisible(o,_,$,j,_e){if(o*_<o*j||o*_>o*_e)return!1;var et=$();return o*(_-o*et/2-j)>=0&&o*(_+o*et/2-_e)<=0}function getNumberIntervalTicks(o,_){return getEveryNthWithCondition(o,_+1)}function getEquidistantTicks(o,_,$,j,_e){for(var et=(j||[]).slice(),tt=_.start,nt=_.end,it=0,lt=1,dt=tt,bt=function(){var _n=j==null?void 0:j[it];if(_n===void 0)return{v:getEveryNthWithCondition(j,lt)};var ft=it,Ct,mr=function(){return Ct===void 0&&(Ct=$(_n,ft)),Ct},_r=_n.coordinate,mn=it===0||isVisible(o,_r,mr,dt,nt);mn||(it=0,dt=tt,lt+=1),mn&&(dt=_r+o*(mr()/2+_e),it+=lt)},Ht;lt<=et.length;)if(Ht=bt(),Ht)return Ht.v;return[]}function _typeof$6(o){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$6(o)}function ownKeys$5(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$4(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$5(Object($),!0).forEach(function(j){_defineProperty$6(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$5(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$6(o,_,$){return _=_toPropertyKey$6(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$6(o){var _=_toPrimitive$6(o,"string");return _typeof$6(_)=="symbol"?_:String(_)}function _toPrimitive$6(o,_){if(_typeof$6(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$6(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}function getTicksEnd(o,_,$,j,_e){for(var et=(j||[]).slice(),tt=et.length,nt=_.start,it=_.end,lt=function(Ht){var pr=et[Ht],_n,ft=function(){return _n===void 0&&(_n=$(pr,Ht)),_n};if(Ht===tt-1){var Ct=o*(pr.coordinate+o*ft()/2-it);et[Ht]=pr=_objectSpread$4(_objectSpread$4({},pr),{},{tickCoord:Ct>0?pr.coordinate-Ct*o:pr.coordinate})}else et[Ht]=pr=_objectSpread$4(_objectSpread$4({},pr),{},{tickCoord:pr.coordinate});var mr=isVisible(o,pr.tickCoord,ft,nt,it);mr&&(it=pr.tickCoord-o*(ft()/2+_e),et[Ht]=_objectSpread$4(_objectSpread$4({},pr),{},{isShow:!0}))},dt=tt-1;dt>=0;dt--)lt(dt);return et}function getTicksStart(o,_,$,j,_e,et){var tt=(j||[]).slice(),nt=tt.length,it=_.start,lt=_.end;if(et){var dt=j[nt-1],bt=$(dt,nt-1),Ht=o*(dt.coordinate+o*bt/2-lt);tt[nt-1]=dt=_objectSpread$4(_objectSpread$4({},dt),{},{tickCoord:Ht>0?dt.coordinate-Ht*o:dt.coordinate});var pr=isVisible(o,dt.tickCoord,function(){return bt},it,lt);pr&&(lt=dt.tickCoord-o*(bt/2+_e),tt[nt-1]=_objectSpread$4(_objectSpread$4({},dt),{},{isShow:!0}))}for(var _n=et?nt-1:nt,ft=function(_r){var mn=tt[_r],dr,pn=function(){return dr===void 0&&(dr=$(mn,_r)),dr};if(_r===0){var Do=o*(mn.coordinate-o*pn()/2-it);tt[_r]=mn=_objectSpread$4(_objectSpread$4({},mn),{},{tickCoord:Do<0?mn.coordinate-Do*o:mn.coordinate})}else tt[_r]=mn=_objectSpread$4(_objectSpread$4({},mn),{},{tickCoord:mn.coordinate});var Io=isVisible(o,mn.tickCoord,pn,it,lt);Io&&(it=mn.tickCoord+o*(pn()/2+_e),tt[_r]=_objectSpread$4(_objectSpread$4({},mn),{},{isShow:!0}))},Ct=0;Ct<_n;Ct++)ft(Ct);return tt}function getTicks(o,_,$){var j=o.tick,_e=o.ticks,et=o.viewBox,tt=o.minTickGap,nt=o.orientation,it=o.interval,lt=o.tickFormatter,dt=o.unit,bt=o.angle;if(!_e||!_e.length||!j)return[];if(isNumber(it)||Global.isSsr)return getNumberIntervalTicks(_e,typeof it=="number"&&isNumber(it)?it:0);var Ht=[],pr=nt==="top"||nt==="bottom"?"width":"height",_n=dt&&pr==="width"?getStringSize(dt,{fontSize:_,letterSpacing:$}):{width:0,height:0},ft=function(mn,dr){var pn=isFunction$3(lt)?lt(mn.value,dr):mn.value;return pr==="width"?getAngledTickWidth(getStringSize(pn,{fontSize:_,letterSpacing:$}),_n,bt):getStringSize(pn,{fontSize:_,letterSpacing:$})[pr]},Ct=_e.length>=2?mathSign(_e[1].coordinate-_e[0].coordinate):1,mr=getTickBoundaries(et,Ct,pr);return it==="equidistantPreserveStart"?getEquidistantTicks(Ct,mr,ft,_e,tt):(it==="preserveStart"||it==="preserveStartEnd"?Ht=getTicksStart(Ct,mr,ft,_e,tt,it==="preserveStartEnd"):Ht=getTicksEnd(Ct,mr,ft,_e,tt),Ht.filter(function(_r){return _r.isShow}))}var _excluded$2=["viewBox"],_excluded2$2=["viewBox"],_excluded3=["ticks"];function _typeof$5(o){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$5(o)}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$6.apply(this,arguments)}function ownKeys$4(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$3(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$4(Object($),!0).forEach(function(j){_defineProperty$5(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$4(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _objectWithoutProperties$2(o,_){if(o==null)return{};var $=_objectWithoutPropertiesLoose$3(o,_),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for(_e=0;_e<et.length;_e++)j=et[_e],!(_.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(o,j)&&($[j]=o[j])}return $}function _objectWithoutPropertiesLoose$3(o,_){if(o==null)return{};var $={},j=Object.keys(o),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(_.indexOf(_e)>=0)&&($[_e]=o[_e]);return $}function _classCallCheck$3(o,_){if(!(o instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(o,_){for(var $=0;$<_.length;$++){var j=_[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(o,_toPropertyKey$5(j.key),j)}}function _createClass$3(o,_,$){return _&&_defineProperties$3(o.prototype,_),$&&_defineProperties$3(o,$),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$2(o,_,$){return _=_getPrototypeOf$2(_),_possibleConstructorReturn$2(o,_isNativeReflectConstruct$2()?Reflect.construct(_,$||[],_getPrototypeOf$2(o).constructor):_.apply(o,$))}function _possibleConstructorReturn$2(o,_){if(_&&(_typeof$5(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(o)}function _assertThisInitialized$3(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$2(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$2=function(){return!!o})()}function _getPrototypeOf$2(o){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$2(o)}function _inherits$2(o,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(_&&_.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),_&&_setPrototypeOf$3(o,_)}function _setPrototypeOf$3(o,_){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$3(o,_)}function _defineProperty$5(o,_,$){return _=_toPropertyKey$5(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$5(o){var _=_toPrimitive$5(o,"string");return _typeof$5(_)=="symbol"?_:String(_)}function _toPrimitive$5(o,_){if(_typeof$5(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$5(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}var CartesianAxis=function(o){_inherits$2(_,o);function _($){var j;return _classCallCheck$3(this,_),j=_callSuper$2(this,_,[$]),j.state={fontSize:"",letterSpacing:""},j}return _createClass$3(_,[{key:"shouldComponentUpdate",value:function(j,_e){var et=j.viewBox,tt=_objectWithoutProperties$2(j,_excluded$2),nt=this.props,it=nt.viewBox,lt=_objectWithoutProperties$2(nt,_excluded2$2);return!shallowEqual(et,it)||!shallowEqual(tt,lt)||!shallowEqual(_e,this.state)}},{key:"componentDidMount",value:function(){var j=this.layerReference;if(j){var _e=j.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];_e&&this.setState({fontSize:window.getComputedStyle(_e).fontSize,letterSpacing:window.getComputedStyle(_e).letterSpacing})}}},{key:"getTickLineCoord",value:function(j){var _e=this.props,et=_e.x,tt=_e.y,nt=_e.width,it=_e.height,lt=_e.orientation,dt=_e.tickSize,bt=_e.mirror,Ht=_e.tickMargin,pr,_n,ft,Ct,mr,_r,mn=bt?-1:1,dr=j.tickSize||dt,pn=isNumber(j.tickCoord)?j.tickCoord:j.coordinate;switch(lt){case"top":pr=_n=j.coordinate,Ct=tt+ +!bt*it,ft=Ct-mn*dr,_r=ft-mn*Ht,mr=pn;break;case"left":ft=Ct=j.coordinate,_n=et+ +!bt*nt,pr=_n-mn*dr,mr=pr-mn*Ht,_r=pn;break;case"right":ft=Ct=j.coordinate,_n=et+ +bt*nt,pr=_n+mn*dr,mr=pr+mn*Ht,_r=pn;break;default:pr=_n=j.coordinate,Ct=tt+ +bt*it,ft=Ct+mn*dr,_r=ft+mn*Ht,mr=pn;break}return{line:{x1:pr,y1:ft,x2:_n,y2:Ct},tick:{x:mr,y:_r}}}},{key:"getTickTextAnchor",value:function(){var j=this.props,_e=j.orientation,et=j.mirror,tt;switch(_e){case"left":tt=et?"start":"end";break;case"right":tt=et?"end":"start";break;default:tt="middle";break}return tt}},{key:"getTickVerticalAnchor",value:function(){var j=this.props,_e=j.orientation,et=j.mirror,tt="end";switch(_e){case"left":case"right":tt="middle";break;case"top":tt=et?"start":"end";break;default:tt=et?"end":"start";break}return tt}},{key:"renderAxisLine",value:function(){var j=this.props,_e=j.x,et=j.y,tt=j.width,nt=j.height,it=j.orientation,lt=j.mirror,dt=j.axisLine,bt=_objectSpread$3(_objectSpread$3(_objectSpread$3({},filterProps(this.props,!1)),filterProps(dt,!1)),{},{fill:"none"});if(it==="top"||it==="bottom"){var Ht=+(it==="top"&&!lt||it==="bottom"&&lt);bt=_objectSpread$3(_objectSpread$3({},bt),{},{x1:_e,y1:et+Ht*nt,x2:_e+tt,y2:et+Ht*nt})}else{var pr=+(it==="left"&&!lt||it==="right"&&lt);bt=_objectSpread$3(_objectSpread$3({},bt),{},{x1:_e+pr*tt,y1:et,x2:_e+pr*tt,y2:et+nt})}return React.createElement("line",_extends$6({},bt,{className:clsx$1("recharts-cartesian-axis-line",get$2(dt,"className"))}))}},{key:"renderTicks",value:function(j,_e,et){var tt=this,nt=this.props,it=nt.tickLine,lt=nt.stroke,dt=nt.tick,bt=nt.tickFormatter,Ht=nt.unit,pr=getTicks(_objectSpread$3(_objectSpread$3({},this.props),{},{ticks:j}),_e,et),_n=this.getTickTextAnchor(),ft=this.getTickVerticalAnchor(),Ct=filterProps(this.props,!1),mr=filterProps(dt,!1),_r=_objectSpread$3(_objectSpread$3({},Ct),{},{fill:"none"},filterProps(it,!1)),mn=pr.map(function(dr,pn){var Do=tt.getTickLineCoord(dr),Io=Do.line,Lo=Do.tick,ms=_objectSpread$3(_objectSpread$3(_objectSpread$3(_objectSpread$3({textAnchor:_n,verticalAnchor:ft},Ct),{},{stroke:"none",fill:lt},mr),Lo),{},{index:pn,payload:dr,visibleTicksCount:pr.length,tickFormatter:bt});return React.createElement(Layer,_extends$6({className:"recharts-cartesian-axis-tick",key:"tick-".concat(dr.value,"-").concat(dr.coordinate,"-").concat(dr.tickCoord)},adaptEventsOfChild(tt.props,dr,pn)),it&&React.createElement("line",_extends$6({},_r,Io,{className:clsx$1("recharts-cartesian-axis-tick-line",get$2(it,"className"))})),dt&&_.renderTickItem(dt,ms,"".concat(isFunction$3(bt)?bt(dr.value,pn):dr.value).concat(Ht||"")))});return React.createElement("g",{className:"recharts-cartesian-axis-ticks"},mn)}},{key:"render",value:function(){var j=this,_e=this.props,et=_e.axisLine,tt=_e.width,nt=_e.height,it=_e.ticksGenerator,lt=_e.className,dt=_e.hide;if(dt)return null;var bt=this.props,Ht=bt.ticks,pr=_objectWithoutProperties$2(bt,_excluded3),_n=Ht;return isFunction$3(it)&&(_n=Ht&&Ht.length>0?it(this.props):it(pr)),tt<=0||nt<=0||!_n||!_n.length?null:React.createElement(Layer,{className:clsx$1("recharts-cartesian-axis",lt),ref:function(Ct){j.layerReference=Ct}},et&&this.renderAxisLine(),this.renderTicks(_n,this.state.fontSize,this.state.letterSpacing),Label.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(j,_e,et){var tt;return React.isValidElement(j)?tt=React.cloneElement(j,_e):isFunction$3(j)?tt=j(_e):tt=React.createElement(Text,_extends$6({},_e,{className:"recharts-cartesian-axis-tick-value"}),et),tt}}]),_}(reactExports.Component);_defineProperty$5(CartesianAxis,"displayName","CartesianAxis");_defineProperty$5(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _excluded$1=["x1","y1","x2","y2","key"],_excluded2$1=["offset"];function _typeof$4(o){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$4(o)}function ownKeys$3(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$2(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$3(Object($),!0).forEach(function(j){_defineProperty$4(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$3(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$4(o,_,$){return _=_toPropertyKey$4(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$4(o){var _=_toPrimitive$4(o,"string");return _typeof$4(_)=="symbol"?_:String(_)}function _toPrimitive$4(o,_){if(_typeof$4(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$4(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$5.apply(this,arguments)}function _objectWithoutProperties$1(o,_){if(o==null)return{};var $=_objectWithoutPropertiesLoose$2(o,_),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for(_e=0;_e<et.length;_e++)j=et[_e],!(_.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(o,j)&&($[j]=o[j])}return $}function _objectWithoutPropertiesLoose$2(o,_){if(o==null)return{};var $={},j=Object.keys(o),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(_.indexOf(_e)>=0)&&($[_e]=o[_e]);return $}var Background=function o(_){var $=_.fill;if(!$||$==="none")return null;var j=_.fillOpacity,_e=_.x,et=_.y,tt=_.width,nt=_.height;return React.createElement("rect",{x:_e,y:et,width:tt,height:nt,stroke:"none",fill:$,fillOpacity:j,className:"recharts-cartesian-grid-bg"})};function renderLineItem(o,_){var $;if(React.isValidElement(o))$=React.cloneElement(o,_);else if(isFunction$3(o))$=o(_);else{var j=_.x1,_e=_.y1,et=_.x2,tt=_.y2,nt=_.key,it=_objectWithoutProperties$1(_,_excluded$1),lt=filterProps(it,!1);lt.offset;var dt=_objectWithoutProperties$1(lt,_excluded2$1);$=React.createElement("line",_extends$5({},dt,{x1:j,y1:_e,x2:et,y2:tt,fill:"none",key:nt}))}return $}function HorizontalGridLines(o){var _=o.x,$=o.width,j=o.horizontal,_e=j===void 0?!0:j,et=o.horizontalPoints;if(!_e||!et||!et.length)return null;var tt=et.map(function(nt,it){var lt=_objectSpread$2(_objectSpread$2({},o),{},{x1:_,y1:nt,x2:_+$,y2:nt,key:"line-".concat(it),index:it});return renderLineItem(_e,lt)});return React.createElement("g",{className:"recharts-cartesian-grid-horizontal"},tt)}function VerticalGridLines(o){var _=o.y,$=o.height,j=o.vertical,_e=j===void 0?!0:j,et=o.verticalPoints;if(!_e||!et||!et.length)return null;var tt=et.map(function(nt,it){var lt=_objectSpread$2(_objectSpread$2({},o),{},{x1:nt,y1:_,x2:nt,y2:_+$,key:"line-".concat(it),index:it});return renderLineItem(_e,lt)});return React.createElement("g",{className:"recharts-cartesian-grid-vertical"},tt)}function HorizontalStripes(o){var _=o.horizontalFill,$=o.fillOpacity,j=o.x,_e=o.y,et=o.width,tt=o.height,nt=o.horizontalPoints,it=o.horizontal,lt=it===void 0?!0:it;if(!lt||!_||!_.length)return null;var dt=nt.map(function(Ht){return Math.round(Ht+_e-_e)}).sort(function(Ht,pr){return Ht-pr});_e!==dt[0]&&dt.unshift(0);var bt=dt.map(function(Ht,pr){var _n=!dt[pr+1],ft=_n?_e+tt-Ht:dt[pr+1]-Ht;if(ft<=0)return null;var Ct=pr%_.length;return React.createElement("rect",{key:"react-".concat(pr),y:Ht,x:j,height:ft,width:et,stroke:"none",fill:_[Ct],fillOpacity:$,className:"recharts-cartesian-grid-bg"})});return React.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},bt)}function VerticalStripes(o){var _=o.vertical,$=_===void 0?!0:_,j=o.verticalFill,_e=o.fillOpacity,et=o.x,tt=o.y,nt=o.width,it=o.height,lt=o.verticalPoints;if(!$||!j||!j.length)return null;var dt=lt.map(function(Ht){return Math.round(Ht+et-et)}).sort(function(Ht,pr){return Ht-pr});et!==dt[0]&&dt.unshift(0);var bt=dt.map(function(Ht,pr){var _n=!dt[pr+1],ft=_n?et+nt-Ht:dt[pr+1]-Ht;if(ft<=0)return null;var Ct=pr%j.length;return React.createElement("rect",{key:"react-".concat(pr),x:Ht,y:tt,width:ft,height:it,stroke:"none",fill:j[Ct],fillOpacity:_e,className:"recharts-cartesian-grid-bg"})});return React.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},bt)}var defaultVerticalCoordinatesGenerator=function o(_,$){var j=_.xAxis,_e=_.width,et=_.height,tt=_.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$2(_objectSpread$2(_objectSpread$2({},CartesianAxis.defaultProps),j),{},{ticks:getTicksOfAxis(j,!0),viewBox:{x:0,y:0,width:_e,height:et}})),tt.left,tt.left+tt.width,$)},defaultHorizontalCoordinatesGenerator=function o(_,$){var j=_.yAxis,_e=_.width,et=_.height,tt=_.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$2(_objectSpread$2(_objectSpread$2({},CartesianAxis.defaultProps),j),{},{ticks:getTicksOfAxis(j,!0),viewBox:{x:0,y:0,width:_e,height:et}})),tt.top,tt.top+tt.height,$)},defaultProps={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function CartesianGrid(o){var _,$,j,_e,et,tt,nt=useChartWidth(),it=useChartHeight(),lt=useOffset(),dt=_objectSpread$2(_objectSpread$2({},o),{},{stroke:(_=o.stroke)!==null&&_!==void 0?_:defaultProps.stroke,fill:($=o.fill)!==null&&$!==void 0?$:defaultProps.fill,horizontal:(j=o.horizontal)!==null&&j!==void 0?j:defaultProps.horizontal,horizontalFill:(_e=o.horizontalFill)!==null&&_e!==void 0?_e:defaultProps.horizontalFill,vertical:(et=o.vertical)!==null&&et!==void 0?et:defaultProps.vertical,verticalFill:(tt=o.verticalFill)!==null&&tt!==void 0?tt:defaultProps.verticalFill,x:isNumber(o.x)?o.x:lt.left,y:isNumber(o.y)?o.y:lt.top,width:isNumber(o.width)?o.width:lt.width,height:isNumber(o.height)?o.height:lt.height}),bt=dt.x,Ht=dt.y,pr=dt.width,_n=dt.height,ft=dt.syncWithTicks,Ct=dt.horizontalValues,mr=dt.verticalValues,_r=useArbitraryXAxis(),mn=useYAxisWithFiniteDomainOrRandom();if(!isNumber(pr)||pr<=0||!isNumber(_n)||_n<=0||!isNumber(bt)||bt!==+bt||!isNumber(Ht)||Ht!==+Ht)return null;var dr=dt.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,pn=dt.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,Do=dt.horizontalPoints,Io=dt.verticalPoints;if((!Do||!Do.length)&&isFunction$3(pn)){var Lo=Ct&&Ct.length,ms=pn({yAxis:mn?_objectSpread$2(_objectSpread$2({},mn),{},{ticks:Lo?Ct:mn.ticks}):void 0,width:nt,height:it,offset:lt},Lo?!0:ft);warn(Array.isArray(ms),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$4(ms),"]")),Array.isArray(ms)&&(Do=ms)}if((!Io||!Io.length)&&isFunction$3(dr)){var Uo=mr&&mr.length,_s=dr({xAxis:_r?_objectSpread$2(_objectSpread$2({},_r),{},{ticks:Uo?mr:_r.ticks}):void 0,width:nt,height:it,offset:lt},Uo?!0:ft);warn(Array.isArray(_s),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$4(_s),"]")),Array.isArray(_s)&&(Io=_s)}return React.createElement("g",{className:"recharts-cartesian-grid"},React.createElement(Background,{fill:dt.fill,fillOpacity:dt.fillOpacity,x:dt.x,y:dt.y,width:dt.width,height:dt.height}),React.createElement(HorizontalGridLines,_extends$5({},dt,{offset:lt,horizontalPoints:Do,xAxis:_r,yAxis:mn})),React.createElement(VerticalGridLines,_extends$5({},dt,{offset:lt,verticalPoints:Io,xAxis:_r,yAxis:mn})),React.createElement(HorizontalStripes,_extends$5({},dt,{horizontalPoints:Do})),React.createElement(VerticalStripes,_extends$5({},dt,{verticalPoints:Io})))}CartesianGrid.displayName="CartesianGrid";function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$4.apply(this,arguments)}var XAxis=function o(_){var $=_.xAxisId,j=useChartWidth(),_e=useChartHeight(),et=useXAxisOrThrow($);return et==null?null:React.createElement(CartesianAxis,_extends$4({},et,{className:clsx$1("recharts-".concat(et.axisType," ").concat(et.axisType),et.className),viewBox:{x:0,y:0,width:j,height:_e},ticksGenerator:function(nt){return getTicksOfAxis(nt,!0)}}))};XAxis.displayName="XAxis";XAxis.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$3.apply(this,arguments)}var YAxis=function o(_){var $=_.yAxisId,j=useChartWidth(),_e=useChartHeight(),et=useYAxisOrThrow($);return et==null?null:React.createElement(CartesianAxis,_extends$3({},et,{className:clsx$1("recharts-".concat(et.axisType," ").concat(et.axisType),et.className),viewBox:{x:0,y:0,width:j,height:_e},ticksGenerator:function(nt){return getTicksOfAxis(nt,!0)}}))};YAxis.displayName="YAxis";YAxis.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function _toConsumableArray$2(o){return _arrayWithoutHoles$2(o)||_iterableToArray$2(o)||_unsupportedIterableToArray$2(o)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(o,_){if(o){if(typeof o=="string")return _arrayLikeToArray$2(o,_);var $=Object.prototype.toString.call(o).slice(8,-1);if($==="Object"&&o.constructor&&($=o.constructor.name),$==="Map"||$==="Set")return Array.from(o);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$2(o,_)}}function _iterableToArray$2(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithoutHoles$2(o){if(Array.isArray(o))return _arrayLikeToArray$2(o)}function _arrayLikeToArray$2(o,_){(_==null||_>o.length)&&(_=o.length);for(var $=0,j=new Array(_);$<_;$++)j[$]=o[$];return j}var detectReferenceElementsDomain=function o(_,$,j,_e,et){var tt=findAllByType(_,ReferenceLine),nt=findAllByType(_,ReferenceDot),it=[].concat(_toConsumableArray$2(tt),_toConsumableArray$2(nt)),lt=findAllByType(_,ReferenceArea),dt="".concat(_e,"Id"),bt=_e[0],Ht=$;if(it.length&&(Ht=it.reduce(function(ft,Ct){if(Ct.props[dt]===j&&ifOverflowMatches(Ct.props,"extendDomain")&&isNumber(Ct.props[bt])){var mr=Ct.props[bt];return[Math.min(ft[0],mr),Math.max(ft[1],mr)]}return ft},Ht)),lt.length){var pr="".concat(bt,"1"),_n="".concat(bt,"2");Ht=lt.reduce(function(ft,Ct){if(Ct.props[dt]===j&&ifOverflowMatches(Ct.props,"extendDomain")&&isNumber(Ct.props[pr])&&isNumber(Ct.props[_n])){var mr=Ct.props[pr],_r=Ct.props[_n];return[Math.min(ft[0],mr,_r),Math.max(ft[1],mr,_r)]}return ft},Ht)}return et&&et.length&&(Ht=et.reduce(function(ft,Ct){return isNumber(Ct)?[Math.min(ft[0],Ct),Math.max(ft[1],Ct)]:ft},Ht)),Ht},eventemitter3={exports:{}};(function(o){var _=Object.prototype.hasOwnProperty,$="~";function j(){}Object.create&&(j.prototype=Object.create(null),new j().__proto__||($=!1));function _e(it,lt,dt){this.fn=it,this.context=lt,this.once=dt||!1}function et(it,lt,dt,bt,Ht){if(typeof dt!="function")throw new TypeError("The listener must be a function");var pr=new _e(dt,bt||it,Ht),_n=$?$+lt:lt;return it._events[_n]?it._events[_n].fn?it._events[_n]=[it._events[_n],pr]:it._events[_n].push(pr):(it._events[_n]=pr,it._eventsCount++),it}function tt(it,lt){--it._eventsCount===0?it._events=new j:delete it._events[lt]}function nt(){this._events=new j,this._eventsCount=0}nt.prototype.eventNames=function(){var lt=[],dt,bt;if(this._eventsCount===0)return lt;for(bt in dt=this._events)_.call(dt,bt)&&lt.push($?bt.slice(1):bt);return Object.getOwnPropertySymbols?lt.concat(Object.getOwnPropertySymbols(dt)):lt},nt.prototype.listeners=function(lt){var dt=$?$+lt:lt,bt=this._events[dt];if(!bt)return[];if(bt.fn)return[bt.fn];for(var Ht=0,pr=bt.length,_n=new Array(pr);Ht<pr;Ht++)_n[Ht]=bt[Ht].fn;return _n},nt.prototype.listenerCount=function(lt){var dt=$?$+lt:lt,bt=this._events[dt];return bt?bt.fn?1:bt.length:0},nt.prototype.emit=function(lt,dt,bt,Ht,pr,_n){var ft=$?$+lt:lt;if(!this._events[ft])return!1;var Ct=this._events[ft],mr=arguments.length,_r,mn;if(Ct.fn){switch(Ct.once&&this.removeListener(lt,Ct.fn,void 0,!0),mr){case 1:return Ct.fn.call(Ct.context),!0;case 2:return Ct.fn.call(Ct.context,dt),!0;case 3:return Ct.fn.call(Ct.context,dt,bt),!0;case 4:return Ct.fn.call(Ct.context,dt,bt,Ht),!0;case 5:return Ct.fn.call(Ct.context,dt,bt,Ht,pr),!0;case 6:return Ct.fn.call(Ct.context,dt,bt,Ht,pr,_n),!0}for(mn=1,_r=new Array(mr-1);mn<mr;mn++)_r[mn-1]=arguments[mn];Ct.fn.apply(Ct.context,_r)}else{var dr=Ct.length,pn;for(mn=0;mn<dr;mn++)switch(Ct[mn].once&&this.removeListener(lt,Ct[mn].fn,void 0,!0),mr){case 1:Ct[mn].fn.call(Ct[mn].context);break;case 2:Ct[mn].fn.call(Ct[mn].context,dt);break;case 3:Ct[mn].fn.call(Ct[mn].context,dt,bt);break;case 4:Ct[mn].fn.call(Ct[mn].context,dt,bt,Ht);break;default:if(!_r)for(pn=1,_r=new Array(mr-1);pn<mr;pn++)_r[pn-1]=arguments[pn];Ct[mn].fn.apply(Ct[mn].context,_r)}}return!0},nt.prototype.on=function(lt,dt,bt){return et(this,lt,dt,bt,!1)},nt.prototype.once=function(lt,dt,bt){return et(this,lt,dt,bt,!0)},nt.prototype.removeListener=function(lt,dt,bt,Ht){var pr=$?$+lt:lt;if(!this._events[pr])return this;if(!dt)return tt(this,pr),this;var _n=this._events[pr];if(_n.fn)_n.fn===dt&&(!Ht||_n.once)&&(!bt||_n.context===bt)&&tt(this,pr);else{for(var ft=0,Ct=[],mr=_n.length;ft<mr;ft++)(_n[ft].fn!==dt||Ht&&!_n[ft].once||bt&&_n[ft].context!==bt)&&Ct.push(_n[ft]);Ct.length?this._events[pr]=Ct.length===1?Ct[0]:Ct:tt(this,pr)}return this},nt.prototype.removeAllListeners=function(lt){var dt;return lt?(dt=$?$+lt:lt,this._events[dt]&&tt(this,dt)):(this._events=new j,this._eventsCount=0),this},nt.prototype.off=nt.prototype.removeListener,nt.prototype.addListener=nt.prototype.on,nt.prefixed=$,nt.EventEmitter=nt,o.exports=nt})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,SYNC_EVENT="recharts.syncMouseEvents";function _typeof$3(o){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$3(o)}function _classCallCheck$2(o,_){if(!(o instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(o,_){for(var $=0;$<_.length;$++){var j=_[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(o,_toPropertyKey$3(j.key),j)}}function _createClass$2(o,_,$){return _&&_defineProperties$2(o.prototype,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _defineProperty$3(o,_,$){return _=_toPropertyKey$3(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$3(o){var _=_toPrimitive$3(o,"string");return _typeof$3(_)=="symbol"?_:String(_)}function _toPrimitive$3(o,_){if(_typeof$3(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$3(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}var AccessibilityManager=function(){function o(){_classCallCheck$2(this,o),_defineProperty$3(this,"activeIndex",0),_defineProperty$3(this,"coordinateList",[]),_defineProperty$3(this,"layout","horizontal")}return _createClass$2(o,[{key:"setDetails",value:function($){var j,_e=$.coordinateList,et=_e===void 0?null:_e,tt=$.container,nt=tt===void 0?null:tt,it=$.layout,lt=it===void 0?null:it,dt=$.offset,bt=dt===void 0?null:dt,Ht=$.mouseHandlerCallback,pr=Ht===void 0?null:Ht;this.coordinateList=(j=et??this.coordinateList)!==null&&j!==void 0?j:[],this.container=nt??this.container,this.layout=lt??this.layout,this.offset=bt??this.offset,this.mouseHandlerCallback=pr??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function($){if(this.coordinateList.length!==0)switch($.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function($){this.activeIndex=$}},{key:"spoofMouse",value:function(){var $,j;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var _e=this.container.getBoundingClientRect(),et=_e.x,tt=_e.y,nt=_e.height,it=this.coordinateList[this.activeIndex].coordinate,lt=(($=window)===null||$===void 0?void 0:$.scrollX)||0,dt=((j=window)===null||j===void 0?void 0:j.scrollY)||0,bt=et+it+lt,Ht=tt+this.offset.top+nt/2+dt;this.mouseHandlerCallback({pageX:bt,pageY:Ht})}}}]),o}();function isDomainSpecifiedByUser(o,_,$){if($==="number"&&_===!0&&Array.isArray(o)){var j=o==null?void 0:o[0],_e=o==null?void 0:o[1];if(j&&_e&&isNumber(j)&&isNumber(_e))return!0}return!1}function getCursorRectangle(o,_,$,j){var _e=j/2;return{stroke:"none",fill:"#ccc",x:o==="horizontal"?_.x-_e:$.left+.5,y:o==="horizontal"?$.top+.5:_.y-_e,width:o==="horizontal"?j:$.width-1,height:o==="horizontal"?$.height-1:j}}function getRadialCursorPoints(o){var _=o.cx,$=o.cy,j=o.radius,_e=o.startAngle,et=o.endAngle,tt=polarToCartesian(_,$,j,_e),nt=polarToCartesian(_,$,j,et);return{points:[tt,nt],cx:_,cy:$,radius:j,startAngle:_e,endAngle:et}}function getCursorPoints(o,_,$){var j,_e,et,tt;if(o==="horizontal")j=_.x,et=j,_e=$.top,tt=$.top+$.height;else if(o==="vertical")_e=_.y,tt=_e,j=$.left,et=$.left+$.width;else if(_.cx!=null&&_.cy!=null)if(o==="centric"){var nt=_.cx,it=_.cy,lt=_.innerRadius,dt=_.outerRadius,bt=_.angle,Ht=polarToCartesian(nt,it,lt,bt),pr=polarToCartesian(nt,it,dt,bt);j=Ht.x,_e=Ht.y,et=pr.x,tt=pr.y}else return getRadialCursorPoints(_);return[{x:j,y:_e},{x:et,y:tt}]}function _typeof$2(o){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$2(o)}function ownKeys$2(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$1(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$2(Object($),!0).forEach(function(j){_defineProperty$2(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$2(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$2(o,_,$){return _=_toPropertyKey$2(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$2(o){var _=_toPrimitive$2(o,"string");return _typeof$2(_)=="symbol"?_:String(_)}function _toPrimitive$2(o,_){if(_typeof$2(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$2(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}function Cursor(o){var _=o.element,$=o.tooltipEventType,j=o.isActive,_e=o.activeCoordinate,et=o.activePayload,tt=o.offset,nt=o.activeTooltipIndex,it=o.tooltipAxisBandSize,lt=o.layout,dt=o.chartName;if(!_||!_.props.cursor||!j||!_e||dt!=="ScatterChart"&&$!=="axis")return null;var bt,Ht=Curve;if(dt==="ScatterChart")bt=_e,Ht=Cross;else if(dt==="BarChart")bt=getCursorRectangle(lt,_e,tt,it),Ht=Rectangle;else if(lt==="radial"){var pr=getRadialCursorPoints(_e),_n=pr.cx,ft=pr.cy,Ct=pr.radius,mr=pr.startAngle,_r=pr.endAngle;bt={cx:_n,cy:ft,startAngle:mr,endAngle:_r,innerRadius:Ct,outerRadius:Ct},Ht=Sector}else bt={points:getCursorPoints(lt,_e,tt)},Ht=Curve;var mn=_objectSpread$1(_objectSpread$1(_objectSpread$1(_objectSpread$1({stroke:"#ccc",pointerEvents:"none"},tt),bt),filterProps(_.props.cursor,!1)),{},{payload:et,payloadIndex:nt,className:clsx$1("recharts-tooltip-cursor",_.props.cursor.className)});return reactExports.isValidElement(_.props.cursor)?reactExports.cloneElement(_.props.cursor,mn):reactExports.createElement(Ht,mn)}var _excluded=["item"],_excluded2=["children","className","width","height","style","compact","title","desc"];function _typeof$1(o){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$1(o)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$2.apply(this,arguments)}function _slicedToArray(o,_){return _arrayWithHoles(o)||_iterableToArrayLimit(o,_)||_unsupportedIterableToArray$1(o,_)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit(o,_){var $=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if($!=null){var j,_e,et,tt,nt=[],it=!0,lt=!1;try{if(et=($=$.call(o)).next,_!==0)for(;!(it=(j=et.call($)).done)&&(nt.push(j.value),nt.length!==_);it=!0);}catch(dt){lt=!0,_e=dt}finally{try{if(!it&&$.return!=null&&(tt=$.return(),Object(tt)!==tt))return}finally{if(lt)throw _e}}return nt}}function _arrayWithHoles(o){if(Array.isArray(o))return o}function _objectWithoutProperties(o,_){if(o==null)return{};var $=_objectWithoutPropertiesLoose$1(o,_),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for(_e=0;_e<et.length;_e++)j=et[_e],!(_.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(o,j)&&($[j]=o[j])}return $}function _objectWithoutPropertiesLoose$1(o,_){if(o==null)return{};var $={},j=Object.keys(o),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(_.indexOf(_e)>=0)&&($[_e]=o[_e]);return $}function _classCallCheck$1(o,_){if(!(o instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(o,_){for(var $=0;$<_.length;$++){var j=_[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(o,_toPropertyKey$1(j.key),j)}}function _createClass$1(o,_,$){return _&&_defineProperties$1(o.prototype,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$1(o,_,$){return _=_getPrototypeOf$1(_),_possibleConstructorReturn$1(o,_isNativeReflectConstruct$1()?Reflect.construct(_,$||[],_getPrototypeOf$1(o).constructor):_.apply(o,$))}function _possibleConstructorReturn$1(o,_){if(_&&(_typeof$1(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(o)}function _isNativeReflectConstruct$1(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!o})()}function _getPrototypeOf$1(o){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$1(o)}function _assertThisInitialized$2(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _inherits$1(o,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(_&&_.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),_&&_setPrototypeOf$2(o,_)}function _setPrototypeOf$2(o,_){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$2(o,_)}function _toConsumableArray$1(o){return _arrayWithoutHoles$1(o)||_iterableToArray$1(o)||_unsupportedIterableToArray$1(o)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(o,_){if(o){if(typeof o=="string")return _arrayLikeToArray$1(o,_);var $=Object.prototype.toString.call(o).slice(8,-1);if($==="Object"&&o.constructor&&($=o.constructor.name),$==="Map"||$==="Set")return Array.from(o);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$1(o,_)}}function _iterableToArray$1(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithoutHoles$1(o){if(Array.isArray(o))return _arrayLikeToArray$1(o)}function _arrayLikeToArray$1(o,_){(_==null||_>o.length)&&(_=o.length);for(var $=0,j=new Array(_);$<_;$++)j[$]=o[$];return j}function ownKeys$1(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$1(Object($),!0).forEach(function(j){_defineProperty$1(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys$1(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _defineProperty$1(o,_,$){return _=_toPropertyKey$1(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _toPropertyKey$1(o){var _=_toPrimitive$1(o,"string");return _typeof$1(_)=="symbol"?_:String(_)}function _toPrimitive$1(o,_){if(_typeof$1(o)!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(_typeof$1(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}var ORIENT_MAP={xAxis:["bottom","top"],yAxis:["left","right"]},FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},originCoordinate={x:0,y:0};function renderAsIs(o){return o}var calculateTooltipPos=function o(_,$){return $==="horizontal"?_.x:$==="vertical"?_.y:$==="centric"?_.angle:_.radius},getActiveCoordinate=function o(_,$,j,_e){var et=$.find(function(dt){return dt&&dt.index===j});if(et){if(_==="horizontal")return{x:et.coordinate,y:_e.y};if(_==="vertical")return{x:_e.x,y:et.coordinate};if(_==="centric"){var tt=et.coordinate,nt=_e.radius;return _objectSpread(_objectSpread(_objectSpread({},_e),polarToCartesian(_e.cx,_e.cy,nt,tt)),{},{angle:tt,radius:nt})}var it=et.coordinate,lt=_e.angle;return _objectSpread(_objectSpread(_objectSpread({},_e),polarToCartesian(_e.cx,_e.cy,it,lt)),{},{angle:lt,radius:it})}return originCoordinate},getDisplayedData=function o(_,$){var j=$.graphicalItems,_e=$.dataStartIndex,et=$.dataEndIndex,tt=(j??[]).reduce(function(nt,it){var lt=it.props.data;return lt&&lt.length?[].concat(_toConsumableArray$1(nt),_toConsumableArray$1(lt)):nt},[]);return tt.length>0?tt:_&&_.length&&isNumber(_e)&&isNumber(et)?_.slice(_e,et+1):[]};function getDefaultDomainByAxisType(o){return o==="number"?[0,"auto"]:void 0}var getTooltipContent=function o(_,$,j,_e){var et=_.graphicalItems,tt=_.tooltipAxis,nt=getDisplayedData($,_);return j<0||!et||!et.length||j>=nt.length?null:et.reduce(function(it,lt){var dt,bt=(dt=lt.props.data)!==null&&dt!==void 0?dt:$;bt&&_.dataStartIndex+_.dataEndIndex!==0&&(bt=bt.slice(_.dataStartIndex,_.dataEndIndex+1));var Ht;if(tt.dataKey&&!tt.allowDuplicatedCategory){var pr=bt===void 0?nt:bt;Ht=findEntryInArray(pr,tt.dataKey,_e)}else Ht=bt&&bt[j]||nt[j];return Ht?[].concat(_toConsumableArray$1(it),[getTooltipItem(lt,Ht)]):it},[])},getTooltipData=function o(_,$,j,_e){var et=_e||{x:_.chartX,y:_.chartY},tt=calculateTooltipPos(et,j),nt=_.orderedTooltipTicks,it=_.tooltipAxis,lt=_.tooltipTicks,dt=calculateActiveTickIndex(tt,nt,lt,it);if(dt>=0&&lt){var bt=lt[dt]&&lt[dt].value,Ht=getTooltipContent(_,$,dt,bt),pr=getActiveCoordinate(j,nt,dt,et);return{activeTooltipIndex:dt,activeLabel:bt,activePayload:Ht,activeCoordinate:pr}}return null},getAxisMapByAxes=function o(_,$){var j=$.axes,_e=$.graphicalItems,et=$.axisType,tt=$.axisIdKey,nt=$.stackGroups,it=$.dataStartIndex,lt=$.dataEndIndex,dt=_.layout,bt=_.children,Ht=_.stackOffset,pr=isCategoricalAxis(dt,et);return j.reduce(function(_n,ft){var Ct,mr=ft.props,_r=mr.type,mn=mr.dataKey,dr=mr.allowDataOverflow,pn=mr.allowDuplicatedCategory,Do=mr.scale,Io=mr.ticks,Lo=mr.includeHidden,ms=ft.props[tt];if(_n[ms])return _n;var Uo=getDisplayedData(_.data,{graphicalItems:_e.filter(function(Pp){return Pp.props[tt]===ms}),dataStartIndex:it,dataEndIndex:lt}),_s=Uo.length,yp,xs,vs;isDomainSpecifiedByUser(ft.props.domain,dr,_r)&&(yp=parseSpecifiedDomain(ft.props.domain,null,dr),pr&&(_r==="number"||Do!=="auto")&&(vs=getDomainOfDataByKey(Uo,mn,"category")));var Sp=getDefaultDomainByAxisType(_r);if(!yp||yp.length===0){var wp,bp=(wp=ft.props.domain)!==null&&wp!==void 0?wp:Sp;if(mn){if(yp=getDomainOfDataByKey(Uo,mn,_r),_r==="category"&&pr){var Ep=hasDuplicate(yp);pn&&Ep?(xs=yp,yp=range$1(0,_s)):pn||(yp=parseDomainOfCategoryAxis(bp,yp,ft).reduce(function(Pp,Ip){return Pp.indexOf(Ip)>=0?Pp:[].concat(_toConsumableArray$1(Pp),[Ip])},[]))}else if(_r==="category")pn?yp=yp.filter(function(Pp){return Pp!==""&&!isNil$1(Pp)}):yp=parseDomainOfCategoryAxis(bp,yp,ft).reduce(function(Pp,Ip){return Pp.indexOf(Ip)>=0||Ip===""||isNil$1(Ip)?Pp:[].concat(_toConsumableArray$1(Pp),[Ip])},[]);else if(_r==="number"){var Cp=parseErrorBarsOfAxis(Uo,_e.filter(function(Pp){return Pp.props[tt]===ms&&(Lo||!Pp.props.hide)}),mn,et,dt);Cp&&(yp=Cp)}pr&&(_r==="number"||Do!=="auto")&&(vs=getDomainOfDataByKey(Uo,mn,"category"))}else pr?yp=range$1(0,_s):nt&&nt[ms]&&nt[ms].hasStack&&_r==="number"?yp=Ht==="expand"?[0,1]:getDomainOfStackGroups(nt[ms].stackGroups,it,lt):yp=getDomainOfItemsWithSameAxis(Uo,_e.filter(function(Pp){return Pp.props[tt]===ms&&(Lo||!Pp.props.hide)}),_r,dt,!0);if(_r==="number")yp=detectReferenceElementsDomain(bt,yp,ms,et,Io),bp&&(yp=parseSpecifiedDomain(bp,yp,dr));else if(_r==="category"&&bp){var Ap=bp,Mp=yp.every(function(Pp){return Ap.indexOf(Pp)>=0});Mp&&(yp=Ap)}}return _objectSpread(_objectSpread({},_n),{},_defineProperty$1({},ms,_objectSpread(_objectSpread({},ft.props),{},{axisType:et,domain:yp,categoricalDomain:vs,duplicateDomain:xs,originalDomain:(Ct=ft.props.domain)!==null&&Ct!==void 0?Ct:Sp,isCategorical:pr,layout:dt})))},{})},getAxisMapByItems=function o(_,$){var j=$.graphicalItems,_e=$.Axis,et=$.axisType,tt=$.axisIdKey,nt=$.stackGroups,it=$.dataStartIndex,lt=$.dataEndIndex,dt=_.layout,bt=_.children,Ht=getDisplayedData(_.data,{graphicalItems:j,dataStartIndex:it,dataEndIndex:lt}),pr=Ht.length,_n=isCategoricalAxis(dt,et),ft=-1;return j.reduce(function(Ct,mr){var _r=mr.props[tt],mn=getDefaultDomainByAxisType("number");if(!Ct[_r]){ft++;var dr;return _n?dr=range$1(0,pr):nt&&nt[_r]&&nt[_r].hasStack?(dr=getDomainOfStackGroups(nt[_r].stackGroups,it,lt),dr=detectReferenceElementsDomain(bt,dr,_r,et)):(dr=parseSpecifiedDomain(mn,getDomainOfItemsWithSameAxis(Ht,j.filter(function(pn){return pn.props[tt]===_r&&!pn.props.hide}),"number",dt),_e.defaultProps.allowDataOverflow),dr=detectReferenceElementsDomain(bt,dr,_r,et)),_objectSpread(_objectSpread({},Ct),{},_defineProperty$1({},_r,_objectSpread(_objectSpread({axisType:et},_e.defaultProps),{},{hide:!0,orientation:get$2(ORIENT_MAP,"".concat(et,".").concat(ft%2),null),domain:dr,originalDomain:mn,isCategorical:_n,layout:dt})))}return Ct},{})},getAxisMap=function o(_,$){var j=$.axisType,_e=j===void 0?"xAxis":j,et=$.AxisComp,tt=$.graphicalItems,nt=$.stackGroups,it=$.dataStartIndex,lt=$.dataEndIndex,dt=_.children,bt="".concat(_e,"Id"),Ht=findAllByType(dt,et),pr={};return Ht&&Ht.length?pr=getAxisMapByAxes(_,{axes:Ht,graphicalItems:tt,axisType:_e,axisIdKey:bt,stackGroups:nt,dataStartIndex:it,dataEndIndex:lt}):tt&&tt.length&&(pr=getAxisMapByItems(_,{Axis:et,graphicalItems:tt,axisType:_e,axisIdKey:bt,stackGroups:nt,dataStartIndex:it,dataEndIndex:lt})),pr},tooltipTicksGenerator=function o(_){var $=getAnyElementOfObject(_),j=getTicksOfAxis($,!1,!0);return{tooltipTicks:j,orderedTooltipTicks:sortBy$1(j,function(_e){return _e.coordinate}),tooltipAxis:$,tooltipAxisBandSize:getBandSizeOfAxis($,j)}},createDefaultState=function o(_){var $=_.children,j=_.defaultShowTooltip,_e=findChildByType($,Brush),et=0,tt=0;return _.data&&_.data.length!==0&&(tt=_.data.length-1),_e&&_e.props&&(_e.props.startIndex>=0&&(et=_e.props.startIndex),_e.props.endIndex>=0&&(tt=_e.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:et,dataEndIndex:tt,activeTooltipIndex:-1,isTooltipActive:!!j}},hasGraphicalBarItem=function o(_){return!_||!_.length?!1:_.some(function($){var j=getDisplayName($&&$.type);return j&&j.indexOf("Bar")>=0})},getAxisNameByLayout=function o(_){return _==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:_==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:_==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},calculateOffset=function o(_,$){var j=_.props,_e=_.graphicalItems,et=_.xAxisMap,tt=et===void 0?{}:et,nt=_.yAxisMap,it=nt===void 0?{}:nt,lt=j.width,dt=j.height,bt=j.children,Ht=j.margin||{},pr=findChildByType(bt,Brush),_n=findChildByType(bt,Legend),ft=Object.keys(it).reduce(function(pn,Do){var Io=it[Do],Lo=Io.orientation;return!Io.mirror&&!Io.hide?_objectSpread(_objectSpread({},pn),{},_defineProperty$1({},Lo,pn[Lo]+Io.width)):pn},{left:Ht.left||0,right:Ht.right||0}),Ct=Object.keys(tt).reduce(function(pn,Do){var Io=tt[Do],Lo=Io.orientation;return!Io.mirror&&!Io.hide?_objectSpread(_objectSpread({},pn),{},_defineProperty$1({},Lo,get$2(pn,"".concat(Lo))+Io.height)):pn},{top:Ht.top||0,bottom:Ht.bottom||0}),mr=_objectSpread(_objectSpread({},Ct),ft),_r=mr.bottom;pr&&(mr.bottom+=pr.props.height||Brush.defaultProps.height),_n&&$&&(mr=appendOffsetOfLegend(mr,_e,j,$));var mn=lt-mr.left-mr.right,dr=dt-mr.top-mr.bottom;return _objectSpread(_objectSpread({brushBottom:_r},mr),{},{width:Math.max(mn,0),height:Math.max(dr,0)})},getCartesianAxisSize=function o(_,$){if($==="xAxis")return _[$].width;if($==="yAxis")return _[$].height},generateCategoricalChart=function o(_){var $,j=_.chartName,_e=_.GraphicalChild,et=_.defaultTooltipEventType,tt=et===void 0?"axis":et,nt=_.validateTooltipEventTypes,it=nt===void 0?["axis"]:nt,lt=_.axisComponents,dt=_.legendContent,bt=_.formatAxisMap,Ht=_.defaultProps,pr=function(Ct,mr){var _r=mr.graphicalItems,mn=mr.stackGroups,dr=mr.offset,pn=mr.updateId,Do=mr.dataStartIndex,Io=mr.dataEndIndex,Lo=Ct.barSize,ms=Ct.layout,Uo=Ct.barGap,_s=Ct.barCategoryGap,yp=Ct.maxBarSize,xs=getAxisNameByLayout(ms),vs=xs.numericAxisName,Sp=xs.cateAxisName,wp=hasGraphicalBarItem(_r),bp=[];return _r.forEach(function(Ep,Cp){var Ap=getDisplayedData(Ct.data,{graphicalItems:[Ep],dataStartIndex:Do,dataEndIndex:Io}),Mp=Ep.props,Pp=Mp.dataKey,Ip=Mp.maxBarSize,Op=Ep.props["".concat(vs,"Id")],Wp=Ep.props["".concat(Sp,"Id")],Yp={},Zp=lt.reduce(function(vm,jp){var Rp=mr["".concat(jp.axisType,"Map")],um=Ep.props["".concat(jp.axisType,"Id")];Rp&&Rp[um]||jp.axisType==="zAxis"||invariant();var _m=Rp[um];return _objectSpread(_objectSpread({},vm),{},_defineProperty$1(_defineProperty$1({},jp.axisType,_m),"".concat(jp.axisType,"Ticks"),getTicksOfAxis(_m)))},Yp),Qp=Zp[Sp],Gp=Zp["".concat(Sp,"Ticks")],rm=mn&&mn[Op]&&mn[Op].hasStack&&getStackedDataOfItem(Ep,mn[Op].stackGroups),Jp=getDisplayName(Ep.type).indexOf("Bar")>=0,Up=getBandSizeOfAxis(Qp,Gp),im=[],em=wp&&getBarSizeList({barSize:Lo,stackGroups:mn,totalSize:getCartesianAxisSize(Zp,Sp)});if(Jp){var gm,bm,ym=isNil$1(Ip)?yp:Ip,am=(gm=(bm=getBandSizeOfAxis(Qp,Gp,!0))!==null&&bm!==void 0?bm:ym)!==null&&gm!==void 0?gm:0;im=getBarPosition({barGap:Uo,barCategoryGap:_s,bandSize:am!==Up?am:Up,sizeList:em[Wp],maxBarSize:ym}),am!==Up&&(im=im.map(function(vm){return _objectSpread(_objectSpread({},vm),{},{position:_objectSpread(_objectSpread({},vm.position),{},{offset:vm.position.offset-am/2})})}))}var fm=Ep&&Ep.type&&Ep.type.getComposedData;fm&&bp.push({props:_objectSpread(_objectSpread({},fm(_objectSpread(_objectSpread({},Zp),{},{displayedData:Ap,props:Ct,dataKey:Pp,item:Ep,bandSize:Up,barPosition:im,offset:dr,stackedData:rm,layout:ms,dataStartIndex:Do,dataEndIndex:Io}))),{},_defineProperty$1(_defineProperty$1(_defineProperty$1({key:Ep.key||"item-".concat(Cp)},vs,Zp[vs]),Sp,Zp[Sp]),"animationId",pn)),childIndex:parseChildIndex(Ep,Ct.children),item:Ep})}),bp},_n=function(Ct,mr){var _r=Ct.props,mn=Ct.dataStartIndex,dr=Ct.dataEndIndex,pn=Ct.updateId;if(!validateWidthHeight({props:_r}))return null;var Do=_r.children,Io=_r.layout,Lo=_r.stackOffset,ms=_r.data,Uo=_r.reverseStackOrder,_s=getAxisNameByLayout(Io),yp=_s.numericAxisName,xs=_s.cateAxisName,vs=findAllByType(Do,_e),Sp=getStackGroupsByAxisId(ms,vs,"".concat(yp,"Id"),"".concat(xs,"Id"),Lo,Uo),wp=lt.reduce(function(Mp,Pp){var Ip="".concat(Pp.axisType,"Map");return _objectSpread(_objectSpread({},Mp),{},_defineProperty$1({},Ip,getAxisMap(_r,_objectSpread(_objectSpread({},Pp),{},{graphicalItems:vs,stackGroups:Pp.axisType===yp&&Sp,dataStartIndex:mn,dataEndIndex:dr}))))},{}),bp=calculateOffset(_objectSpread(_objectSpread({},wp),{},{props:_r,graphicalItems:vs}),mr==null?void 0:mr.legendBBox);Object.keys(wp).forEach(function(Mp){wp[Mp]=bt(_r,wp[Mp],bp,Mp.replace("Map",""),j)});var Ep=wp["".concat(xs,"Map")],Cp=tooltipTicksGenerator(Ep),Ap=pr(_r,_objectSpread(_objectSpread({},wp),{},{dataStartIndex:mn,dataEndIndex:dr,updateId:pn,graphicalItems:vs,stackGroups:Sp,offset:bp}));return _objectSpread(_objectSpread({formattedGraphicalItems:Ap,graphicalItems:vs,offset:bp,stackGroups:Sp},Cp),wp)};return $=function(ft){_inherits$1(Ct,ft);function Ct(mr){var _r,mn,dr;return _classCallCheck$1(this,Ct),dr=_callSuper$1(this,Ct,[mr]),_defineProperty$1(_assertThisInitialized$2(dr),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_defineProperty$1(_assertThisInitialized$2(dr),"accessibilityManager",new AccessibilityManager),_defineProperty$1(_assertThisInitialized$2(dr),"handleLegendBBoxUpdate",function(pn){if(pn){var Do=dr.state,Io=Do.dataStartIndex,Lo=Do.dataEndIndex,ms=Do.updateId;dr.setState(_objectSpread({legendBBox:pn},_n({props:dr.props,dataStartIndex:Io,dataEndIndex:Lo,updateId:ms},_objectSpread(_objectSpread({},dr.state),{},{legendBBox:pn}))))}}),_defineProperty$1(_assertThisInitialized$2(dr),"handleReceiveSyncEvent",function(pn,Do,Io){if(dr.props.syncId===pn){if(Io===dr.eventEmitterSymbol&&typeof dr.props.syncMethod!="function")return;dr.applySyncEvent(Do)}}),_defineProperty$1(_assertThisInitialized$2(dr),"handleBrushChange",function(pn){var Do=pn.startIndex,Io=pn.endIndex;if(Do!==dr.state.dataStartIndex||Io!==dr.state.dataEndIndex){var Lo=dr.state.updateId;dr.setState(function(){return _objectSpread({dataStartIndex:Do,dataEndIndex:Io},_n({props:dr.props,dataStartIndex:Do,dataEndIndex:Io,updateId:Lo},dr.state))}),dr.triggerSyncEvent({dataStartIndex:Do,dataEndIndex:Io})}}),_defineProperty$1(_assertThisInitialized$2(dr),"handleMouseEnter",function(pn){var Do=dr.getMouseInfo(pn);if(Do){var Io=_objectSpread(_objectSpread({},Do),{},{isTooltipActive:!0});dr.setState(Io),dr.triggerSyncEvent(Io);var Lo=dr.props.onMouseEnter;isFunction$3(Lo)&&Lo(Io,pn)}}),_defineProperty$1(_assertThisInitialized$2(dr),"triggeredAfterMouseMove",function(pn){var Do=dr.getMouseInfo(pn),Io=Do?_objectSpread(_objectSpread({},Do),{},{isTooltipActive:!0}):{isTooltipActive:!1};dr.setState(Io),dr.triggerSyncEvent(Io);var Lo=dr.props.onMouseMove;isFunction$3(Lo)&&Lo(Io,pn)}),_defineProperty$1(_assertThisInitialized$2(dr),"handleItemMouseEnter",function(pn){dr.setState(function(){return{isTooltipActive:!0,activeItem:pn,activePayload:pn.tooltipPayload,activeCoordinate:pn.tooltipPosition||{x:pn.cx,y:pn.cy}}})}),_defineProperty$1(_assertThisInitialized$2(dr),"handleItemMouseLeave",function(){dr.setState(function(){return{isTooltipActive:!1}})}),_defineProperty$1(_assertThisInitialized$2(dr),"handleMouseMove",function(pn){pn.persist(),dr.throttleTriggeredAfterMouseMove(pn)}),_defineProperty$1(_assertThisInitialized$2(dr),"handleMouseLeave",function(pn){dr.throttleTriggeredAfterMouseMove.cancel();var Do={isTooltipActive:!1};dr.setState(Do),dr.triggerSyncEvent(Do);var Io=dr.props.onMouseLeave;isFunction$3(Io)&&Io(Do,pn)}),_defineProperty$1(_assertThisInitialized$2(dr),"handleOuterEvent",function(pn){var Do=getReactEventByType(pn),Io=get$2(dr.props,"".concat(Do));if(Do&&isFunction$3(Io)){var Lo,ms;/.*touch.*/i.test(Do)?ms=dr.getMouseInfo(pn.changedTouches[0]):ms=dr.getMouseInfo(pn),Io((Lo=ms)!==null&&Lo!==void 0?Lo:{},pn)}}),_defineProperty$1(_assertThisInitialized$2(dr),"handleClick",function(pn){var Do=dr.getMouseInfo(pn);if(Do){var Io=_objectSpread(_objectSpread({},Do),{},{isTooltipActive:!0});dr.setState(Io),dr.triggerSyncEvent(Io);var Lo=dr.props.onClick;isFunction$3(Lo)&&Lo(Io,pn)}}),_defineProperty$1(_assertThisInitialized$2(dr),"handleMouseDown",function(pn){var Do=dr.props.onMouseDown;if(isFunction$3(Do)){var Io=dr.getMouseInfo(pn);Do(Io,pn)}}),_defineProperty$1(_assertThisInitialized$2(dr),"handleMouseUp",function(pn){var Do=dr.props.onMouseUp;if(isFunction$3(Do)){var Io=dr.getMouseInfo(pn);Do(Io,pn)}}),_defineProperty$1(_assertThisInitialized$2(dr),"handleTouchMove",function(pn){pn.changedTouches!=null&&pn.changedTouches.length>0&&dr.throttleTriggeredAfterMouseMove(pn.changedTouches[0])}),_defineProperty$1(_assertThisInitialized$2(dr),"handleTouchStart",function(pn){pn.changedTouches!=null&&pn.changedTouches.length>0&&dr.handleMouseDown(pn.changedTouches[0])}),_defineProperty$1(_assertThisInitialized$2(dr),"handleTouchEnd",function(pn){pn.changedTouches!=null&&pn.changedTouches.length>0&&dr.handleMouseUp(pn.changedTouches[0])}),_defineProperty$1(_assertThisInitialized$2(dr),"triggerSyncEvent",function(pn){dr.props.syncId!==void 0&&eventCenter.emit(SYNC_EVENT,dr.props.syncId,pn,dr.eventEmitterSymbol)}),_defineProperty$1(_assertThisInitialized$2(dr),"applySyncEvent",function(pn){var Do=dr.props,Io=Do.layout,Lo=Do.syncMethod,ms=dr.state.updateId,Uo=pn.dataStartIndex,_s=pn.dataEndIndex;if(pn.dataStartIndex!==void 0||pn.dataEndIndex!==void 0)dr.setState(_objectSpread({dataStartIndex:Uo,dataEndIndex:_s},_n({props:dr.props,dataStartIndex:Uo,dataEndIndex:_s,updateId:ms},dr.state)));else if(pn.activeTooltipIndex!==void 0){var yp=pn.chartX,xs=pn.chartY,vs=pn.activeTooltipIndex,Sp=dr.state,wp=Sp.offset,bp=Sp.tooltipTicks;if(!wp)return;if(typeof Lo=="function")vs=Lo(bp,pn);else if(Lo==="value"){vs=-1;for(var Ep=0;Ep<bp.length;Ep++)if(bp[Ep].value===pn.activeLabel){vs=Ep;break}}var Cp=_objectSpread(_objectSpread({},wp),{},{x:wp.left,y:wp.top}),Ap=Math.min(yp,Cp.x+Cp.width),Mp=Math.min(xs,Cp.y+Cp.height),Pp=bp[vs]&&bp[vs].value,Ip=getTooltipContent(dr.state,dr.props.data,vs),Op=bp[vs]?{x:Io==="horizontal"?bp[vs].coordinate:Ap,y:Io==="horizontal"?Mp:bp[vs].coordinate}:originCoordinate;dr.setState(_objectSpread(_objectSpread({},pn),{},{activeLabel:Pp,activeCoordinate:Op,activePayload:Ip,activeTooltipIndex:vs}))}else dr.setState(pn)}),_defineProperty$1(_assertThisInitialized$2(dr),"renderCursor",function(pn){var Do,Io=dr.state,Lo=Io.isTooltipActive,ms=Io.activeCoordinate,Uo=Io.activePayload,_s=Io.offset,yp=Io.activeTooltipIndex,xs=Io.tooltipAxisBandSize,vs=dr.getTooltipEventType(),Sp=(Do=pn.props.active)!==null&&Do!==void 0?Do:Lo,wp=dr.props.layout,bp=pn.key||"_recharts-cursor";return React.createElement(Cursor,{key:bp,activeCoordinate:ms,activePayload:Uo,activeTooltipIndex:yp,chartName:j,element:pn,isActive:Sp,layout:wp,offset:_s,tooltipAxisBandSize:xs,tooltipEventType:vs})}),_defineProperty$1(_assertThisInitialized$2(dr),"renderPolarAxis",function(pn,Do,Io){var Lo=get$2(pn,"type.axisType"),ms=get$2(dr.state,"".concat(Lo,"Map")),Uo=ms&&ms[pn.props["".concat(Lo,"Id")]];return reactExports.cloneElement(pn,_objectSpread(_objectSpread({},Uo),{},{className:clsx$1(Lo,Uo.className),key:pn.key||"".concat(Do,"-").concat(Io),ticks:getTicksOfAxis(Uo,!0)}))}),_defineProperty$1(_assertThisInitialized$2(dr),"renderPolarGrid",function(pn){var Do=pn.props,Io=Do.radialLines,Lo=Do.polarAngles,ms=Do.polarRadius,Uo=dr.state,_s=Uo.radiusAxisMap,yp=Uo.angleAxisMap,xs=getAnyElementOfObject(_s),vs=getAnyElementOfObject(yp),Sp=vs.cx,wp=vs.cy,bp=vs.innerRadius,Ep=vs.outerRadius;return reactExports.cloneElement(pn,{polarAngles:Array.isArray(Lo)?Lo:getTicksOfAxis(vs,!0).map(function(Cp){return Cp.coordinate}),polarRadius:Array.isArray(ms)?ms:getTicksOfAxis(xs,!0).map(function(Cp){return Cp.coordinate}),cx:Sp,cy:wp,innerRadius:bp,outerRadius:Ep,key:pn.key||"polar-grid",radialLines:Io})}),_defineProperty$1(_assertThisInitialized$2(dr),"renderLegend",function(){var pn=dr.state.formattedGraphicalItems,Do=dr.props,Io=Do.children,Lo=Do.width,ms=Do.height,Uo=dr.props.margin||{},_s=Lo-(Uo.left||0)-(Uo.right||0),yp=getLegendProps({children:Io,formattedGraphicalItems:pn,legendWidth:_s,legendContent:dt});if(!yp)return null;var xs=yp.item,vs=_objectWithoutProperties(yp,_excluded);return reactExports.cloneElement(xs,_objectSpread(_objectSpread({},vs),{},{chartWidth:Lo,chartHeight:ms,margin:Uo,onBBoxUpdate:dr.handleLegendBBoxUpdate}))}),_defineProperty$1(_assertThisInitialized$2(dr),"renderTooltip",function(){var pn,Do=dr.props,Io=Do.children,Lo=Do.accessibilityLayer,ms=findChildByType(Io,Tooltip);if(!ms)return null;var Uo=dr.state,_s=Uo.isTooltipActive,yp=Uo.activeCoordinate,xs=Uo.activePayload,vs=Uo.activeLabel,Sp=Uo.offset,wp=(pn=ms.props.active)!==null&&pn!==void 0?pn:_s;return reactExports.cloneElement(ms,{viewBox:_objectSpread(_objectSpread({},Sp),{},{x:Sp.left,y:Sp.top}),active:wp,label:vs,payload:wp?xs:[],coordinate:yp,accessibilityLayer:Lo})}),_defineProperty$1(_assertThisInitialized$2(dr),"renderBrush",function(pn){var Do=dr.props,Io=Do.margin,Lo=Do.data,ms=dr.state,Uo=ms.offset,_s=ms.dataStartIndex,yp=ms.dataEndIndex,xs=ms.updateId;return reactExports.cloneElement(pn,{key:pn.key||"_recharts-brush",onChange:combineEventHandlers(dr.handleBrushChange,pn.props.onChange),data:Lo,x:isNumber(pn.props.x)?pn.props.x:Uo.left,y:isNumber(pn.props.y)?pn.props.y:Uo.top+Uo.height+Uo.brushBottom-(Io.bottom||0),width:isNumber(pn.props.width)?pn.props.width:Uo.width,startIndex:_s,endIndex:yp,updateId:"brush-".concat(xs)})}),_defineProperty$1(_assertThisInitialized$2(dr),"renderReferenceElement",function(pn,Do,Io){if(!pn)return null;var Lo=_assertThisInitialized$2(dr),ms=Lo.clipPathId,Uo=dr.state,_s=Uo.xAxisMap,yp=Uo.yAxisMap,xs=Uo.offset,vs=pn.props,Sp=vs.xAxisId,wp=vs.yAxisId;return reactExports.cloneElement(pn,{key:pn.key||"".concat(Do,"-").concat(Io),xAxis:_s[Sp],yAxis:yp[wp],viewBox:{x:xs.left,y:xs.top,width:xs.width,height:xs.height},clipPathId:ms})}),_defineProperty$1(_assertThisInitialized$2(dr),"renderActivePoints",function(pn){var Do=pn.item,Io=pn.activePoint,Lo=pn.basePoint,ms=pn.childIndex,Uo=pn.isRange,_s=[],yp=Do.props.key,xs=Do.item.props,vs=xs.activeDot,Sp=xs.dataKey,wp=_objectSpread(_objectSpread({index:ms,dataKey:Sp,cx:Io.x,cy:Io.y,r:4,fill:getMainColorOfGraphicItem(Do.item),strokeWidth:2,stroke:"#fff",payload:Io.payload,value:Io.value,key:"".concat(yp,"-activePoint-").concat(ms)},filterProps(vs,!1)),adaptEventHandlers(vs));return _s.push(Ct.renderActiveDot(vs,wp)),Lo?_s.push(Ct.renderActiveDot(vs,_objectSpread(_objectSpread({},wp),{},{cx:Lo.x,cy:Lo.y,key:"".concat(yp,"-basePoint-").concat(ms)}))):Uo&&_s.push(null),_s}),_defineProperty$1(_assertThisInitialized$2(dr),"renderGraphicChild",function(pn,Do,Io){var Lo=dr.filterFormatItem(pn,Do,Io);if(!Lo)return null;var ms=dr.getTooltipEventType(),Uo=dr.state,_s=Uo.isTooltipActive,yp=Uo.tooltipAxis,xs=Uo.activeTooltipIndex,vs=Uo.activeLabel,Sp=dr.props.children,wp=findChildByType(Sp,Tooltip),bp=Lo.props,Ep=bp.points,Cp=bp.isRange,Ap=bp.baseLine,Mp=Lo.item.props,Pp=Mp.activeDot,Ip=Mp.hide,Op=Mp.activeBar,Wp=Mp.activeShape,Yp=!!(!Ip&&_s&&wp&&(Pp||Op||Wp)),Zp={};ms!=="axis"&&wp&&wp.props.trigger==="click"?Zp={onClick:combineEventHandlers(dr.handleItemMouseEnter,pn.props.onClick)}:ms!=="axis"&&(Zp={onMouseLeave:combineEventHandlers(dr.handleItemMouseLeave,pn.props.onMouseLeave),onMouseEnter:combineEventHandlers(dr.handleItemMouseEnter,pn.props.onMouseEnter)});var Qp=reactExports.cloneElement(pn,_objectSpread(_objectSpread({},Lo.props),Zp));function Gp(jp){return typeof yp.dataKey=="function"?yp.dataKey(jp.payload):null}if(Yp)if(xs>=0){var rm,Jp;if(yp.dataKey&&!yp.allowDuplicatedCategory){var Up=typeof yp.dataKey=="function"?Gp:"payload.".concat(yp.dataKey.toString());rm=findEntryInArray(Ep,Up,vs),Jp=Cp&&Ap&&findEntryInArray(Ap,Up,vs)}else rm=Ep==null?void 0:Ep[xs],Jp=Cp&&Ap&&Ap[xs];if(Wp||Op){var im=pn.props.activeIndex!==void 0?pn.props.activeIndex:xs;return[reactExports.cloneElement(pn,_objectSpread(_objectSpread(_objectSpread({},Lo.props),Zp),{},{activeIndex:im})),null,null]}if(!isNil$1(rm))return[Qp].concat(_toConsumableArray$1(dr.renderActivePoints({item:Lo,activePoint:rm,basePoint:Jp,childIndex:xs,isRange:Cp})))}else{var em,gm=(em=dr.getItemByXY(dr.state.activeCoordinate))!==null&&em!==void 0?em:{graphicalItem:Qp},bm=gm.graphicalItem,ym=bm.item,am=ym===void 0?pn:ym,fm=bm.childIndex,vm=_objectSpread(_objectSpread(_objectSpread({},Lo.props),Zp),{},{activeIndex:fm});return[reactExports.cloneElement(am,vm),null,null]}return Cp?[Qp,null,null]:[Qp,null]}),_defineProperty$1(_assertThisInitialized$2(dr),"renderCustomized",function(pn,Do,Io){return reactExports.cloneElement(pn,_objectSpread(_objectSpread({key:"recharts-customized-".concat(Io)},dr.props),dr.state))}),_defineProperty$1(_assertThisInitialized$2(dr),"renderMap",{CartesianGrid:{handler:renderAsIs,once:!0},ReferenceArea:{handler:dr.renderReferenceElement},ReferenceLine:{handler:renderAsIs},ReferenceDot:{handler:dr.renderReferenceElement},XAxis:{handler:renderAsIs},YAxis:{handler:renderAsIs},Brush:{handler:dr.renderBrush,once:!0},Bar:{handler:dr.renderGraphicChild},Line:{handler:dr.renderGraphicChild},Area:{handler:dr.renderGraphicChild},Radar:{handler:dr.renderGraphicChild},RadialBar:{handler:dr.renderGraphicChild},Scatter:{handler:dr.renderGraphicChild},Pie:{handler:dr.renderGraphicChild},Funnel:{handler:dr.renderGraphicChild},Tooltip:{handler:dr.renderCursor,once:!0},PolarGrid:{handler:dr.renderPolarGrid,once:!0},PolarAngleAxis:{handler:dr.renderPolarAxis},PolarRadiusAxis:{handler:dr.renderPolarAxis},Customized:{handler:dr.renderCustomized}}),dr.clipPathId="".concat((_r=mr.id)!==null&&_r!==void 0?_r:uniqueId("recharts"),"-clip"),dr.throttleTriggeredAfterMouseMove=throttle$1(dr.triggeredAfterMouseMove,(mn=mr.throttleDelay)!==null&&mn!==void 0?mn:1e3/60),dr.state={},dr}return _createClass$1(Ct,[{key:"componentDidMount",value:function(){var _r,mn;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_r=this.props.margin.left)!==null&&_r!==void 0?_r:0,top:(mn=this.props.margin.top)!==null&&mn!==void 0?mn:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _r=this.props,mn=_r.children,dr=_r.data,pn=_r.height,Do=_r.layout,Io=findChildByType(mn,Tooltip);if(Io){var Lo=Io.props.defaultIndex;if(!(typeof Lo!="number"||Lo<0||Lo>this.state.tooltipTicks.length)){var ms=this.state.tooltipTicks[Lo]&&this.state.tooltipTicks[Lo].value,Uo=getTooltipContent(this.state,dr,Lo,ms),_s=this.state.tooltipTicks[Lo].coordinate,yp=(this.state.offset.top+pn)/2,xs=Do==="horizontal",vs=xs?{x:_s,y:yp}:{y:_s,x:yp},Sp=this.state.formattedGraphicalItems.find(function(bp){var Ep=bp.item;return Ep.type.name==="Scatter"});Sp&&(vs=_objectSpread(_objectSpread({},vs),Sp.props.points[Lo].tooltipPosition),Uo=Sp.props.points[Lo].tooltipPayload);var wp={activeTooltipIndex:Lo,isTooltipActive:!0,activeLabel:ms,activePayload:Uo,activeCoordinate:vs};this.setState(wp),this.renderCursor(Io),this.accessibilityManager.setIndex(Lo)}}}},{key:"getSnapshotBeforeUpdate",value:function(_r,mn){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==mn.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_r.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_r.margin){var dr,pn;this.accessibilityManager.setDetails({offset:{left:(dr=this.props.margin.left)!==null&&dr!==void 0?dr:0,top:(pn=this.props.margin.top)!==null&&pn!==void 0?pn:0}})}return null}},{key:"componentDidUpdate",value:function(_r){isChildrenEqual([findChildByType(_r.children,Tooltip)],[findChildByType(this.props.children,Tooltip)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _r=findChildByType(this.props.children,Tooltip);if(_r&&typeof _r.props.shared=="boolean"){var mn=_r.props.shared?"axis":"item";return it.indexOf(mn)>=0?mn:tt}return tt}},{key:"getMouseInfo",value:function(_r){if(!this.container)return null;var mn=this.container,dr=mn.getBoundingClientRect(),pn=getOffset(dr),Do={chartX:Math.round(_r.pageX-pn.left),chartY:Math.round(_r.pageY-pn.top)},Io=dr.width/mn.offsetWidth||1,Lo=this.inRange(Do.chartX,Do.chartY,Io);if(!Lo)return null;var ms=this.state,Uo=ms.xAxisMap,_s=ms.yAxisMap,yp=this.getTooltipEventType();if(yp!=="axis"&&Uo&&_s){var xs=getAnyElementOfObject(Uo).scale,vs=getAnyElementOfObject(_s).scale,Sp=xs&&xs.invert?xs.invert(Do.chartX):null,wp=vs&&vs.invert?vs.invert(Do.chartY):null;return _objectSpread(_objectSpread({},Do),{},{xValue:Sp,yValue:wp})}var bp=getTooltipData(this.state,this.props.data,this.props.layout,Lo);return bp?_objectSpread(_objectSpread({},Do),bp):null}},{key:"inRange",value:function(_r,mn){var dr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,pn=this.props.layout,Do=_r/dr,Io=mn/dr;if(pn==="horizontal"||pn==="vertical"){var Lo=this.state.offset,ms=Do>=Lo.left&&Do<=Lo.left+Lo.width&&Io>=Lo.top&&Io<=Lo.top+Lo.height;return ms?{x:Do,y:Io}:null}var Uo=this.state,_s=Uo.angleAxisMap,yp=Uo.radiusAxisMap;if(_s&&yp){var xs=getAnyElementOfObject(_s);return inRangeOfSector({x:Do,y:Io},xs)}return null}},{key:"parseEventsOfWrapper",value:function(){var _r=this.props.children,mn=this.getTooltipEventType(),dr=findChildByType(_r,Tooltip),pn={};dr&&mn==="axis"&&(dr.props.trigger==="click"?pn={onClick:this.handleClick}:pn={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var Do=adaptEventHandlers(this.props,this.handleOuterEvent);return _objectSpread(_objectSpread({},Do),pn)}},{key:"addListener",value:function(){eventCenter.on(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eventCenter.removeListener(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_r,mn,dr){for(var pn=this.state.formattedGraphicalItems,Do=0,Io=pn.length;Do<Io;Do++){var Lo=pn[Do];if(Lo.item===_r||Lo.props.key===_r.key||mn===getDisplayName(Lo.item.type)&&dr===Lo.childIndex)return Lo}return null}},{key:"renderClipPath",value:function(){var _r=this.clipPathId,mn=this.state.offset,dr=mn.left,pn=mn.top,Do=mn.height,Io=mn.width;return React.createElement("defs",null,React.createElement("clipPath",{id:_r},React.createElement("rect",{x:dr,y:pn,height:Do,width:Io})))}},{key:"getXScales",value:function(){var _r=this.state.xAxisMap;return _r?Object.entries(_r).reduce(function(mn,dr){var pn=_slicedToArray(dr,2),Do=pn[0],Io=pn[1];return _objectSpread(_objectSpread({},mn),{},_defineProperty$1({},Do,Io.scale))},{}):null}},{key:"getYScales",value:function(){var _r=this.state.yAxisMap;return _r?Object.entries(_r).reduce(function(mn,dr){var pn=_slicedToArray(dr,2),Do=pn[0],Io=pn[1];return _objectSpread(_objectSpread({},mn),{},_defineProperty$1({},Do,Io.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_r){var mn;return(mn=this.state.xAxisMap)===null||mn===void 0||(mn=mn[_r])===null||mn===void 0?void 0:mn.scale}},{key:"getYScaleByAxisId",value:function(_r){var mn;return(mn=this.state.yAxisMap)===null||mn===void 0||(mn=mn[_r])===null||mn===void 0?void 0:mn.scale}},{key:"getItemByXY",value:function(_r){var mn=this.state,dr=mn.formattedGraphicalItems,pn=mn.activeItem;if(dr&&dr.length)for(var Do=0,Io=dr.length;Do<Io;Do++){var Lo=dr[Do],ms=Lo.props,Uo=Lo.item,_s=getDisplayName(Uo.type);if(_s==="Bar"){var yp=(ms.data||[]).find(function(wp){return isInRectangle(_r,wp)});if(yp)return{graphicalItem:Lo,payload:yp}}else if(_s==="RadialBar"){var xs=(ms.data||[]).find(function(wp){return inRangeOfSector(_r,wp)});if(xs)return{graphicalItem:Lo,payload:xs}}else if(isFunnel(Lo,pn)||isPie(Lo,pn)||isScatter(Lo,pn)){var vs=getActiveShapeIndexForTooltip({graphicalItem:Lo,activeTooltipItem:pn,itemData:Uo.props.data}),Sp=Uo.props.activeIndex===void 0?vs:Uo.props.activeIndex;return{graphicalItem:_objectSpread(_objectSpread({},Lo),{},{childIndex:Sp}),payload:isScatter(Lo,pn)?Uo.props.data[vs]:Lo.props.data[vs]}}}return null}},{key:"render",value:function(){var _r=this;if(!validateWidthHeight(this))return null;var mn=this.props,dr=mn.children,pn=mn.className,Do=mn.width,Io=mn.height,Lo=mn.style,ms=mn.compact,Uo=mn.title,_s=mn.desc,yp=_objectWithoutProperties(mn,_excluded2),xs=filterProps(yp,!1);if(ms)return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement(Surface,_extends$2({},xs,{width:Do,height:Io,title:Uo,desc:_s}),this.renderClipPath(),renderByOrder(dr,this.renderMap)));if(this.props.accessibilityLayer){var vs,Sp;xs.tabIndex=(vs=this.props.tabIndex)!==null&&vs!==void 0?vs:0,xs.role=(Sp=this.props.role)!==null&&Sp!==void 0?Sp:"application",xs.onKeyDown=function(bp){_r.accessibilityManager.keyboardEvent(bp)},xs.onFocus=function(){_r.accessibilityManager.focus()}}var wp=this.parseEventsOfWrapper();return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement("div",_extends$2({className:clsx$1("recharts-wrapper",pn),style:_objectSpread({position:"relative",cursor:"default",width:Do,height:Io},Lo)},wp,{ref:function(Ep){_r.container=Ep}}),React.createElement(Surface,_extends$2({},xs,{width:Do,height:Io,title:Uo,desc:_s,style:FULL_WIDTH_AND_HEIGHT}),this.renderClipPath(),renderByOrder(dr,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),Ct}(reactExports.Component),_defineProperty$1($,"displayName",j),_defineProperty$1($,"defaultProps",_objectSpread({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},Ht)),_defineProperty$1($,"getDerivedStateFromProps",function(ft,Ct){var mr=ft.dataKey,_r=ft.data,mn=ft.children,dr=ft.width,pn=ft.height,Do=ft.layout,Io=ft.stackOffset,Lo=ft.margin,ms=Ct.dataStartIndex,Uo=Ct.dataEndIndex;if(Ct.updateId===void 0){var _s=createDefaultState(ft);return _objectSpread(_objectSpread(_objectSpread({},_s),{},{updateId:0},_n(_objectSpread(_objectSpread({props:ft},_s),{},{updateId:0}),Ct)),{},{prevDataKey:mr,prevData:_r,prevWidth:dr,prevHeight:pn,prevLayout:Do,prevStackOffset:Io,prevMargin:Lo,prevChildren:mn})}if(mr!==Ct.prevDataKey||_r!==Ct.prevData||dr!==Ct.prevWidth||pn!==Ct.prevHeight||Do!==Ct.prevLayout||Io!==Ct.prevStackOffset||!shallowEqual(Lo,Ct.prevMargin)){var yp=createDefaultState(ft),xs={chartX:Ct.chartX,chartY:Ct.chartY,isTooltipActive:Ct.isTooltipActive},vs=_objectSpread(_objectSpread({},getTooltipData(Ct,_r,Do)),{},{updateId:Ct.updateId+1}),Sp=_objectSpread(_objectSpread(_objectSpread({},yp),xs),vs);return _objectSpread(_objectSpread(_objectSpread({},Sp),_n(_objectSpread({props:ft},Sp),Ct)),{},{prevDataKey:mr,prevData:_r,prevWidth:dr,prevHeight:pn,prevLayout:Do,prevStackOffset:Io,prevMargin:Lo,prevChildren:mn})}if(!isChildrenEqual(mn,Ct.prevChildren)){var wp,bp,Ep,Cp,Ap=findChildByType(mn,Brush),Mp=Ap&&(wp=(bp=Ap.props)===null||bp===void 0?void 0:bp.startIndex)!==null&&wp!==void 0?wp:ms,Pp=Ap&&(Ep=(Cp=Ap.props)===null||Cp===void 0?void 0:Cp.endIndex)!==null&&Ep!==void 0?Ep:Uo,Ip=Mp!==ms||Pp!==Uo,Op=!isNil$1(_r),Wp=Op&&!Ip?Ct.updateId:Ct.updateId+1;return _objectSpread(_objectSpread({updateId:Wp},_n(_objectSpread(_objectSpread({props:ft},Ct),{},{updateId:Wp,dataStartIndex:Mp,dataEndIndex:Pp}),Ct)),{},{prevChildren:mn,dataStartIndex:Mp,dataEndIndex:Pp})}return null}),_defineProperty$1($,"renderActiveDot",function(ft,Ct){var mr;return reactExports.isValidElement(ft)?mr=reactExports.cloneElement(ft,Ct):isFunction$3(ft)?mr=ft(Ct):mr=React.createElement(Dot,Ct),React.createElement(Layer,{className:"recharts-active-dot",key:Ct.key},mr)}),$},BarChart=generateCategoricalChart({chartName:"BarChart",GraphicalChild:Bar,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap}),PieChart=generateCategoricalChart({chartName:"PieChart",GraphicalChild:Pie,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:PolarAngleAxis},{axisType:"radiusAxis",AxisComp:PolarRadiusAxis}],formatAxisMap:formatAxisMap$1,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function _inheritsLoose(o,_){o.prototype=Object.create(_.prototype),o.prototype.constructor=o,_setPrototypeOf$1(o,_)}function _setPrototypeOf$1(o,_){return _setPrototypeOf$1=Object.setPrototypeOf||function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$1(o,_)}function _objectWithoutPropertiesLoose(o,_){if(o==null)return{};var $={},j=Object.keys(o),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(_.indexOf(_e)>=0)&&($[_e]=o[_e]);return $}function _assertThisInitialized$1(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function isNodeFound(o,_,$){return o===_?!0:o.correspondingElement?o.correspondingElement.classList.contains($):o.classList.contains($)}function findHighest(o,_,$){if(o===_)return!0;for(;o.parentNode||o.host;){if(o.parentNode&&isNodeFound(o,_,$))return!0;o=o.parentNode||o.host}return o}function clickedScrollbar(o){return document.documentElement.clientWidth<=o.clientX||document.documentElement.clientHeight<=o.clientY}var testPassiveEventSupport=function o(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var _=!1,$=Object.defineProperty({},"passive",{get:function(){_=!0}}),j=function(){};return window.addEventListener("testPassiveEventSupport",j,$),window.removeEventListener("testPassiveEventSupport",j,$),_}};function autoInc(o){return o===void 0&&(o=0),function(){return++o}}var uid=autoInc(),passiveEventSupport,handlersMap={},enabledInstances={},touchEvents=["touchstart","touchmove"],IGNORE_CLASS_NAME="ignore-react-onclickoutside";function getEventHandlerOptions(o,_){var $={},j=touchEvents.indexOf(_)!==-1;return j&&passiveEventSupport&&($.passive=!o.props.preventDefault),$}function onClickOutsideHOC(o,_){var $,j,_e=o.displayName||o.name||"Component";return j=$=function(et){_inheritsLoose(tt,et);function tt(it){var lt;return lt=et.call(this,it)||this,lt.__outsideClickHandler=function(dt){if(typeof lt.__clickOutsideHandlerProp=="function"){lt.__clickOutsideHandlerProp(dt);return}var bt=lt.getInstance();if(typeof bt.props.handleClickOutside=="function"){bt.props.handleClickOutside(dt);return}if(typeof bt.handleClickOutside=="function"){bt.handleClickOutside(dt);return}throw new Error("WrappedComponent: "+_e+" lacks a handleClickOutside(event) function for processing outside click events.")},lt.__getComponentNode=function(){var dt=lt.getInstance();return typeof dt.setClickOutsideRef=="function"?dt.setClickOutsideRef():reactDomExports.findDOMNode(dt)},lt.enableOnClickOutside=function(){if(!(typeof document>"u"||enabledInstances[lt._uid])){typeof passiveEventSupport>"u"&&(passiveEventSupport=testPassiveEventSupport()),enabledInstances[lt._uid]=!0;var dt=lt.props.eventTypes;dt.forEach||(dt=[dt]),handlersMap[lt._uid]=function(bt){if(lt.componentNode!==null&&!(lt.initTimeStamp>bt.timeStamp)&&(lt.props.preventDefault&&bt.preventDefault(),lt.props.stopPropagation&&bt.stopPropagation(),!(lt.props.excludeScrollbar&&clickedScrollbar(bt)))){var Ht=bt.composed&&bt.composedPath&&bt.composedPath().shift()||bt.target;findHighest(Ht,lt.componentNode,lt.props.outsideClickIgnoreClass)===document&&lt.__outsideClickHandler(bt)}},dt.forEach(function(bt){document.addEventListener(bt,handlersMap[lt._uid],getEventHandlerOptions(_assertThisInitialized$1(lt),bt))})}},lt.disableOnClickOutside=function(){delete enabledInstances[lt._uid];var dt=handlersMap[lt._uid];if(dt&&typeof document<"u"){var bt=lt.props.eventTypes;bt.forEach||(bt=[bt]),bt.forEach(function(Ht){return document.removeEventListener(Ht,dt,getEventHandlerOptions(_assertThisInitialized$1(lt),Ht))}),delete handlersMap[lt._uid]}},lt.getRef=function(dt){return lt.instanceRef=dt},lt._uid=uid(),lt.initTimeStamp=performance.now(),lt}var nt=tt.prototype;return nt.getInstance=function(){if(o.prototype&&!o.prototype.isReactComponent)return this;var lt=this.instanceRef;return lt.getInstance?lt.getInstance():lt},nt.componentDidMount=function(){typeof document>"u"||!document.createElement||(this.getInstance(),this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside())},nt.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},nt.componentWillUnmount=function(){this.disableOnClickOutside()},nt.render=function(){var lt=this.props;lt.excludeScrollbar;var dt=_objectWithoutPropertiesLoose(lt,["excludeScrollbar"]);return o.prototype&&o.prototype.isReactComponent?dt.ref=this.getRef:dt.wrappedRef=this.getRef,dt.disableOnClickOutside=this.disableOnClickOutside,dt.enableOnClickOutside=this.enableOnClickOutside,reactExports.createElement(o,dt)},tt}(reactExports.Component),$.displayName="OnClickOutside("+_e+")",$.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:!1,outsideClickIgnoreClass:IGNORE_CLASS_NAME,preventDefault:!1,stopPropagation:!1},$.getClass=function(){return o.getClass?o.getClass():o},j}function getNodeName(o){return isNode(o)?(o.nodeName||"").toLowerCase():"#document"}function getWindow(o){var _;return(o==null||(_=o.ownerDocument)==null?void 0:_.defaultView)||window}function getDocumentElement(o){var _;return(_=(isNode(o)?o.ownerDocument:o.document)||window.document)==null?void 0:_.documentElement}function isNode(o){return o instanceof Node||o instanceof getWindow(o).Node}function isElement(o){return o instanceof Element||o instanceof getWindow(o).Element}function isHTMLElement(o){return o instanceof HTMLElement||o instanceof getWindow(o).HTMLElement}function isShadowRoot(o){return typeof ShadowRoot>"u"?!1:o instanceof ShadowRoot||o instanceof getWindow(o).ShadowRoot}function isOverflowElement(o){const{overflow:_,overflowX:$,overflowY:j,display:_e}=getComputedStyle(o);return/auto|scroll|overlay|hidden|clip/.test(_+j+$)&&!["inline","contents"].includes(_e)}function isTableElement(o){return["table","td","th"].includes(getNodeName(o))}function isTopLayer(o){return[":popover-open",":modal"].some(_=>{try{return o.matches(_)}catch{return!1}})}function isContainingBlock(o){const _=isWebKit(),$=isElement(o)?getComputedStyle(o):o;return $.transform!=="none"||$.perspective!=="none"||($.containerType?$.containerType!=="normal":!1)||!_&&($.backdropFilter?$.backdropFilter!=="none":!1)||!_&&($.filter?$.filter!=="none":!1)||["transform","perspective","filter"].some(j=>($.willChange||"").includes(j))||["paint","layout","strict","content"].some(j=>($.contain||"").includes(j))}function getContainingBlock(o){let _=getParentNode(o);for(;isHTMLElement(_)&&!isLastTraversableNode(_);){if(isContainingBlock(_))return _;if(isTopLayer(_))return null;_=getParentNode(_)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(o){return["html","body","#document"].includes(getNodeName(o))}function getComputedStyle(o){return getWindow(o).getComputedStyle(o)}function getNodeScroll(o){return isElement(o)?{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}:{scrollLeft:o.scrollX,scrollTop:o.scrollY}}function getParentNode(o){if(getNodeName(o)==="html")return o;const _=o.assignedSlot||o.parentNode||isShadowRoot(o)&&o.host||getDocumentElement(o);return isShadowRoot(_)?_.host:_}function getNearestOverflowAncestor(o){const _=getParentNode(o);return isLastTraversableNode(_)?o.ownerDocument?o.ownerDocument.body:o.body:isHTMLElement(_)&&isOverflowElement(_)?_:getNearestOverflowAncestor(_)}function getOverflowAncestors(o,_,$){var j;_===void 0&&(_=[]),$===void 0&&($=!0);const _e=getNearestOverflowAncestor(o),et=_e===((j=o.ownerDocument)==null?void 0:j.body),tt=getWindow(_e);if(et){const nt=getFrameElement(tt);return _.concat(tt,tt.visualViewport||[],isOverflowElement(_e)?_e:[],nt&&$?getOverflowAncestors(nt):[])}return _.concat(_e,getOverflowAncestors(_e,[],$))}function getFrameElement(o){return o.parent&&Object.getPrototypeOf(o.parent)?o.frameElement:null}const min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=o=>({x:o,y:o}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(o,_,$){return max(o,min(_,$))}function evaluate(o,_){return typeof o=="function"?o(_):o}function getSide(o){return o.split("-")[0]}function getAlignment(o){return o.split("-")[1]}function getOppositeAxis(o){return o==="x"?"y":"x"}function getAxisLength(o){return o==="y"?"height":"width"}function getSideAxis(o){return["top","bottom"].includes(getSide(o))?"y":"x"}function getAlignmentAxis(o){return getOppositeAxis(getSideAxis(o))}function getAlignmentSides(o,_,$){$===void 0&&($=!1);const j=getAlignment(o),_e=getAlignmentAxis(o),et=getAxisLength(_e);let tt=_e==="x"?j===($?"end":"start")?"right":"left":j==="start"?"bottom":"top";return _.reference[et]>_.floating[et]&&(tt=getOppositePlacement(tt)),[tt,getOppositePlacement(tt)]}function getExpandedPlacements(o){const _=getOppositePlacement(o);return[getOppositeAlignmentPlacement(o),_,getOppositeAlignmentPlacement(_)]}function getOppositeAlignmentPlacement(o){return o.replace(/start|end/g,_=>oppositeAlignmentMap[_])}function getSideList(o,_,$){const j=["left","right"],_e=["right","left"],et=["top","bottom"],tt=["bottom","top"];switch(o){case"top":case"bottom":return $?_?_e:j:_?j:_e;case"left":case"right":return _?et:tt;default:return[]}}function getOppositeAxisPlacements(o,_,$,j){const _e=getAlignment(o);let et=getSideList(getSide(o),$==="start",j);return _e&&(et=et.map(tt=>tt+"-"+_e),_&&(et=et.concat(et.map(getOppositeAlignmentPlacement)))),et}function getOppositePlacement(o){return o.replace(/left|right|bottom|top/g,_=>oppositeSideMap[_])}function expandPaddingObject(o){return{top:0,right:0,bottom:0,left:0,...o}}function getPaddingObject(o){return typeof o!="number"?expandPaddingObject(o):{top:o,right:o,bottom:o,left:o}}function rectToClientRect(o){const{x:_,y:$,width:j,height:_e}=o;return{width:j,height:_e,top:$,left:_,right:_+j,bottom:$+_e,x:_,y:$}}function computeCoordsFromPlacement(o,_,$){let{reference:j,floating:_e}=o;const et=getSideAxis(_),tt=getAlignmentAxis(_),nt=getAxisLength(tt),it=getSide(_),lt=et==="y",dt=j.x+j.width/2-_e.width/2,bt=j.y+j.height/2-_e.height/2,Ht=j[nt]/2-_e[nt]/2;let pr;switch(it){case"top":pr={x:dt,y:j.y-_e.height};break;case"bottom":pr={x:dt,y:j.y+j.height};break;case"right":pr={x:j.x+j.width,y:bt};break;case"left":pr={x:j.x-_e.width,y:bt};break;default:pr={x:j.x,y:j.y}}switch(getAlignment(_)){case"start":pr[tt]-=Ht*($&&lt?-1:1);break;case"end":pr[tt]+=Ht*($&&lt?-1:1);break}return pr}const computePosition$1=async(o,_,$)=>{const{placement:j="bottom",strategy:_e="absolute",middleware:et=[],platform:tt}=$,nt=et.filter(Boolean),it=await(tt.isRTL==null?void 0:tt.isRTL(_));let lt=await tt.getElementRects({reference:o,floating:_,strategy:_e}),{x:dt,y:bt}=computeCoordsFromPlacement(lt,j,it),Ht=j,pr={},_n=0;for(let ft=0;ft<nt.length;ft++){const{name:Ct,fn:mr}=nt[ft],{x:_r,y:mn,data:dr,reset:pn}=await mr({x:dt,y:bt,initialPlacement:j,placement:Ht,strategy:_e,middlewareData:pr,rects:lt,platform:tt,elements:{reference:o,floating:_}});dt=_r??dt,bt=mn??bt,pr={...pr,[Ct]:{...pr[Ct],...dr}},pn&&_n<=50&&(_n++,typeof pn=="object"&&(pn.placement&&(Ht=pn.placement),pn.rects&&(lt=pn.rects===!0?await tt.getElementRects({reference:o,floating:_,strategy:_e}):pn.rects),{x:dt,y:bt}=computeCoordsFromPlacement(lt,Ht,it)),ft=-1)}return{x:dt,y:bt,placement:Ht,strategy:_e,middlewareData:pr}};async function detectOverflow(o,_){var $;_===void 0&&(_={});const{x:j,y:_e,platform:et,rects:tt,elements:nt,strategy:it}=o,{boundary:lt="clippingAncestors",rootBoundary:dt="viewport",elementContext:bt="floating",altBoundary:Ht=!1,padding:pr=0}=evaluate(_,o),_n=getPaddingObject(pr),Ct=nt[Ht?bt==="floating"?"reference":"floating":bt],mr=rectToClientRect(await et.getClippingRect({element:($=await(et.isElement==null?void 0:et.isElement(Ct)))==null||$?Ct:Ct.contextElement||await(et.getDocumentElement==null?void 0:et.getDocumentElement(nt.floating)),boundary:lt,rootBoundary:dt,strategy:it})),_r=bt==="floating"?{x:j,y:_e,width:tt.floating.width,height:tt.floating.height}:tt.reference,mn=await(et.getOffsetParent==null?void 0:et.getOffsetParent(nt.floating)),dr=await(et.isElement==null?void 0:et.isElement(mn))?await(et.getScale==null?void 0:et.getScale(mn))||{x:1,y:1}:{x:1,y:1},pn=rectToClientRect(et.convertOffsetParentRelativeRectToViewportRelativeRect?await et.convertOffsetParentRelativeRectToViewportRelativeRect({elements:nt,rect:_r,offsetParent:mn,strategy:it}):_r);return{top:(mr.top-pn.top+_n.top)/dr.y,bottom:(pn.bottom-mr.bottom+_n.bottom)/dr.y,left:(mr.left-pn.left+_n.left)/dr.x,right:(pn.right-mr.right+_n.right)/dr.x}}const arrow$3=o=>({name:"arrow",options:o,async fn(_){const{x:$,y:j,placement:_e,rects:et,platform:tt,elements:nt,middlewareData:it}=_,{element:lt,padding:dt=0}=evaluate(o,_)||{};if(lt==null)return{};const bt=getPaddingObject(dt),Ht={x:$,y:j},pr=getAlignmentAxis(_e),_n=getAxisLength(pr),ft=await tt.getDimensions(lt),Ct=pr==="y",mr=Ct?"top":"left",_r=Ct?"bottom":"right",mn=Ct?"clientHeight":"clientWidth",dr=et.reference[_n]+et.reference[pr]-Ht[pr]-et.floating[_n],pn=Ht[pr]-et.reference[pr],Do=await(tt.getOffsetParent==null?void 0:tt.getOffsetParent(lt));let Io=Do?Do[mn]:0;(!Io||!await(tt.isElement==null?void 0:tt.isElement(Do)))&&(Io=nt.floating[mn]||et.floating[_n]);const Lo=dr/2-pn/2,ms=Io/2-ft[_n]/2-1,Uo=min(bt[mr],ms),_s=min(bt[_r],ms),yp=Uo,xs=Io-ft[_n]-_s,vs=Io/2-ft[_n]/2+Lo,Sp=clamp(yp,vs,xs),wp=!it.arrow&&getAlignment(_e)!=null&&vs!==Sp&&et.reference[_n]/2-(vs<yp?Uo:_s)-ft[_n]/2<0,bp=wp?vs<yp?vs-yp:vs-xs:0;return{[pr]:Ht[pr]+bp,data:{[pr]:Sp,centerOffset:vs-Sp-bp,...wp&&{alignmentOffset:bp}},reset:wp}}}),flip$2=function(o){return o===void 0&&(o={}),{name:"flip",options:o,async fn(_){var $,j;const{placement:_e,middlewareData:et,rects:tt,initialPlacement:nt,platform:it,elements:lt}=_,{mainAxis:dt=!0,crossAxis:bt=!0,fallbackPlacements:Ht,fallbackStrategy:pr="bestFit",fallbackAxisSideDirection:_n="none",flipAlignment:ft=!0,...Ct}=evaluate(o,_);if(($=et.arrow)!=null&&$.alignmentOffset)return{};const mr=getSide(_e),_r=getSideAxis(nt),mn=getSide(nt)===nt,dr=await(it.isRTL==null?void 0:it.isRTL(lt.floating)),pn=Ht||(mn||!ft?[getOppositePlacement(nt)]:getExpandedPlacements(nt)),Do=_n!=="none";!Ht&&Do&&pn.push(...getOppositeAxisPlacements(nt,ft,_n,dr));const Io=[nt,...pn],Lo=await detectOverflow(_,Ct),ms=[];let Uo=((j=et.flip)==null?void 0:j.overflows)||[];if(dt&&ms.push(Lo[mr]),bt){const vs=getAlignmentSides(_e,tt,dr);ms.push(Lo[vs[0]],Lo[vs[1]])}if(Uo=[...Uo,{placement:_e,overflows:ms}],!ms.every(vs=>vs<=0)){var _s,yp;const vs=(((_s=et.flip)==null?void 0:_s.index)||0)+1,Sp=Io[vs];if(Sp)return{data:{index:vs,overflows:Uo},reset:{placement:Sp}};let wp=(yp=Uo.filter(bp=>bp.overflows[0]<=0).sort((bp,Ep)=>bp.overflows[1]-Ep.overflows[1])[0])==null?void 0:yp.placement;if(!wp)switch(pr){case"bestFit":{var xs;const bp=(xs=Uo.filter(Ep=>{if(Do){const Cp=getSideAxis(Ep.placement);return Cp===_r||Cp==="y"}return!0}).map(Ep=>[Ep.placement,Ep.overflows.filter(Cp=>Cp>0).reduce((Cp,Ap)=>Cp+Ap,0)]).sort((Ep,Cp)=>Ep[1]-Cp[1])[0])==null?void 0:xs[0];bp&&(wp=bp);break}case"initialPlacement":wp=nt;break}if(_e!==wp)return{reset:{placement:wp}}}return{}}}};async function convertValueToCoords(o,_){const{placement:$,platform:j,elements:_e}=o,et=await(j.isRTL==null?void 0:j.isRTL(_e.floating)),tt=getSide($),nt=getAlignment($),it=getSideAxis($)==="y",lt=["left","top"].includes(tt)?-1:1,dt=et&&it?-1:1,bt=evaluate(_,o);let{mainAxis:Ht,crossAxis:pr,alignmentAxis:_n}=typeof bt=="number"?{mainAxis:bt,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...bt};return nt&&typeof _n=="number"&&(pr=nt==="end"?_n*-1:_n),it?{x:pr*dt,y:Ht*lt}:{x:Ht*lt,y:pr*dt}}const offset$2=function(o){return o===void 0&&(o=0),{name:"offset",options:o,async fn(_){var $,j;const{x:_e,y:et,placement:tt,middlewareData:nt}=_,it=await convertValueToCoords(_,o);return tt===(($=nt.offset)==null?void 0:$.placement)&&(j=nt.arrow)!=null&&j.alignmentOffset?{}:{x:_e+it.x,y:et+it.y,data:{...it,placement:tt}}}}};function getCssDimensions(o){const _=getComputedStyle(o);let $=parseFloat(_.width)||0,j=parseFloat(_.height)||0;const _e=isHTMLElement(o),et=_e?o.offsetWidth:$,tt=_e?o.offsetHeight:j,nt=round($)!==et||round(j)!==tt;return nt&&($=et,j=tt),{width:$,height:j,$:nt}}function unwrapElement(o){return isElement(o)?o:o.contextElement}function getScale(o){const _=unwrapElement(o);if(!isHTMLElement(_))return createCoords(1);const $=_.getBoundingClientRect(),{width:j,height:_e,$:et}=getCssDimensions(_);let tt=(et?round($.width):$.width)/j,nt=(et?round($.height):$.height)/_e;return(!tt||!Number.isFinite(tt))&&(tt=1),(!nt||!Number.isFinite(nt))&&(nt=1),{x:tt,y:nt}}const noOffsets=createCoords(0);function getVisualOffsets(o){const _=getWindow(o);return!isWebKit()||!_.visualViewport?noOffsets:{x:_.visualViewport.offsetLeft,y:_.visualViewport.offsetTop}}function shouldAddVisualOffsets(o,_,$){return _===void 0&&(_=!1),!$||_&&$!==getWindow(o)?!1:_}function getBoundingClientRect(o,_,$,j){_===void 0&&(_=!1),$===void 0&&($=!1);const _e=o.getBoundingClientRect(),et=unwrapElement(o);let tt=createCoords(1);_&&(j?isElement(j)&&(tt=getScale(j)):tt=getScale(o));const nt=shouldAddVisualOffsets(et,$,j)?getVisualOffsets(et):createCoords(0);let it=(_e.left+nt.x)/tt.x,lt=(_e.top+nt.y)/tt.y,dt=_e.width/tt.x,bt=_e.height/tt.y;if(et){const Ht=getWindow(et),pr=j&&isElement(j)?getWindow(j):j;let _n=Ht,ft=getFrameElement(_n);for(;ft&&j&&pr!==_n;){const Ct=getScale(ft),mr=ft.getBoundingClientRect(),_r=getComputedStyle(ft),mn=mr.left+(ft.clientLeft+parseFloat(_r.paddingLeft))*Ct.x,dr=mr.top+(ft.clientTop+parseFloat(_r.paddingTop))*Ct.y;it*=Ct.x,lt*=Ct.y,dt*=Ct.x,bt*=Ct.y,it+=mn,lt+=dr,_n=getWindow(ft),ft=getFrameElement(_n)}}return rectToClientRect({width:dt,height:bt,x:it,y:lt})}function convertOffsetParentRelativeRectToViewportRelativeRect(o){let{elements:_,rect:$,offsetParent:j,strategy:_e}=o;const et=_e==="fixed",tt=getDocumentElement(j),nt=_?isTopLayer(_.floating):!1;if(j===tt||nt&&et)return $;let it={scrollLeft:0,scrollTop:0},lt=createCoords(1);const dt=createCoords(0),bt=isHTMLElement(j);if((bt||!bt&&!et)&&((getNodeName(j)!=="body"||isOverflowElement(tt))&&(it=getNodeScroll(j)),isHTMLElement(j))){const Ht=getBoundingClientRect(j);lt=getScale(j),dt.x=Ht.x+j.clientLeft,dt.y=Ht.y+j.clientTop}return{width:$.width*lt.x,height:$.height*lt.y,x:$.x*lt.x-it.scrollLeft*lt.x+dt.x,y:$.y*lt.y-it.scrollTop*lt.y+dt.y}}function getClientRects(o){return Array.from(o.getClientRects())}function getWindowScrollBarX(o){return getBoundingClientRect(getDocumentElement(o)).left+getNodeScroll(o).scrollLeft}function getDocumentRect(o){const _=getDocumentElement(o),$=getNodeScroll(o),j=o.ownerDocument.body,_e=max(_.scrollWidth,_.clientWidth,j.scrollWidth,j.clientWidth),et=max(_.scrollHeight,_.clientHeight,j.scrollHeight,j.clientHeight);let tt=-$.scrollLeft+getWindowScrollBarX(o);const nt=-$.scrollTop;return getComputedStyle(j).direction==="rtl"&&(tt+=max(_.clientWidth,j.clientWidth)-_e),{width:_e,height:et,x:tt,y:nt}}function getViewportRect(o,_){const $=getWindow(o),j=getDocumentElement(o),_e=$.visualViewport;let et=j.clientWidth,tt=j.clientHeight,nt=0,it=0;if(_e){et=_e.width,tt=_e.height;const lt=isWebKit();(!lt||lt&&_==="fixed")&&(nt=_e.offsetLeft,it=_e.offsetTop)}return{width:et,height:tt,x:nt,y:it}}function getInnerBoundingClientRect(o,_){const $=getBoundingClientRect(o,!0,_==="fixed"),j=$.top+o.clientTop,_e=$.left+o.clientLeft,et=isHTMLElement(o)?getScale(o):createCoords(1),tt=o.clientWidth*et.x,nt=o.clientHeight*et.y,it=_e*et.x,lt=j*et.y;return{width:tt,height:nt,x:it,y:lt}}function getClientRectFromClippingAncestor(o,_,$){let j;if(_==="viewport")j=getViewportRect(o,$);else if(_==="document")j=getDocumentRect(getDocumentElement(o));else if(isElement(_))j=getInnerBoundingClientRect(_,$);else{const _e=getVisualOffsets(o);j={..._,x:_.x-_e.x,y:_.y-_e.y}}return rectToClientRect(j)}function hasFixedPositionAncestor(o,_){const $=getParentNode(o);return $===_||!isElement($)||isLastTraversableNode($)?!1:getComputedStyle($).position==="fixed"||hasFixedPositionAncestor($,_)}function getClippingElementAncestors(o,_){const $=_.get(o);if($)return $;let j=getOverflowAncestors(o,[],!1).filter(nt=>isElement(nt)&&getNodeName(nt)!=="body"),_e=null;const et=getComputedStyle(o).position==="fixed";let tt=et?getParentNode(o):o;for(;isElement(tt)&&!isLastTraversableNode(tt);){const nt=getComputedStyle(tt),it=isContainingBlock(tt);!it&&nt.position==="fixed"&&(_e=null),(et?!it&&!_e:!it&&nt.position==="static"&&!!_e&&["absolute","fixed"].includes(_e.position)||isOverflowElement(tt)&&!it&&hasFixedPositionAncestor(o,tt))?j=j.filter(dt=>dt!==tt):_e=nt,tt=getParentNode(tt)}return _.set(o,j),j}function getClippingRect(o){let{element:_,boundary:$,rootBoundary:j,strategy:_e}=o;const tt=[...$==="clippingAncestors"?isTopLayer(_)?[]:getClippingElementAncestors(_,this._c):[].concat($),j],nt=tt[0],it=tt.reduce((lt,dt)=>{const bt=getClientRectFromClippingAncestor(_,dt,_e);return lt.top=max(bt.top,lt.top),lt.right=min(bt.right,lt.right),lt.bottom=min(bt.bottom,lt.bottom),lt.left=max(bt.left,lt.left),lt},getClientRectFromClippingAncestor(_,nt,_e));return{width:it.right-it.left,height:it.bottom-it.top,x:it.left,y:it.top}}function getDimensions(o){const{width:_,height:$}=getCssDimensions(o);return{width:_,height:$}}function getRectRelativeToOffsetParent(o,_,$){const j=isHTMLElement(_),_e=getDocumentElement(_),et=$==="fixed",tt=getBoundingClientRect(o,!0,et,_);let nt={scrollLeft:0,scrollTop:0};const it=createCoords(0);if(j||!j&&!et)if((getNodeName(_)!=="body"||isOverflowElement(_e))&&(nt=getNodeScroll(_)),j){const bt=getBoundingClientRect(_,!0,et,_);it.x=bt.x+_.clientLeft,it.y=bt.y+_.clientTop}else _e&&(it.x=getWindowScrollBarX(_e));const lt=tt.left+nt.scrollLeft-it.x,dt=tt.top+nt.scrollTop-it.y;return{x:lt,y:dt,width:tt.width,height:tt.height}}function isStaticPositioned(o){return getComputedStyle(o).position==="static"}function getTrueOffsetParent(o,_){return!isHTMLElement(o)||getComputedStyle(o).position==="fixed"?null:_?_(o):o.offsetParent}function getOffsetParent(o,_){const $=getWindow(o);if(isTopLayer(o))return $;if(!isHTMLElement(o)){let _e=getParentNode(o);for(;_e&&!isLastTraversableNode(_e);){if(isElement(_e)&&!isStaticPositioned(_e))return _e;_e=getParentNode(_e)}return $}let j=getTrueOffsetParent(o,_);for(;j&&isTableElement(j)&&isStaticPositioned(j);)j=getTrueOffsetParent(j,_);return j&&isLastTraversableNode(j)&&isStaticPositioned(j)&&!isContainingBlock(j)?$:j||getContainingBlock(o)||$}const getElementRects=async function(o){const _=this.getOffsetParent||getOffsetParent,$=this.getDimensions,j=await $(o.floating);return{reference:getRectRelativeToOffsetParent(o.reference,await _(o.floating),o.strategy),floating:{x:0,y:0,width:j.width,height:j.height}}};function isRTL(o){return getComputedStyle(o).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(o,_){let $=null,j;const _e=getDocumentElement(o);function et(){var nt;clearTimeout(j),(nt=$)==null||nt.disconnect(),$=null}function tt(nt,it){nt===void 0&&(nt=!1),it===void 0&&(it=1),et();const{left:lt,top:dt,width:bt,height:Ht}=o.getBoundingClientRect();if(nt||_(),!bt||!Ht)return;const pr=floor(dt),_n=floor(_e.clientWidth-(lt+bt)),ft=floor(_e.clientHeight-(dt+Ht)),Ct=floor(lt),_r={rootMargin:-pr+"px "+-_n+"px "+-ft+"px "+-Ct+"px",threshold:max(0,min(1,it))||1};let mn=!0;function dr(pn){const Do=pn[0].intersectionRatio;if(Do!==it){if(!mn)return tt();Do?tt(!1,Do):j=setTimeout(()=>{tt(!1,1e-7)},1e3)}mn=!1}try{$=new IntersectionObserver(dr,{..._r,root:_e.ownerDocument})}catch{$=new IntersectionObserver(dr,_r)}$.observe(o)}return tt(!0),et}function autoUpdate(o,_,$,j){j===void 0&&(j={});const{ancestorScroll:_e=!0,ancestorResize:et=!0,elementResize:tt=typeof ResizeObserver=="function",layoutShift:nt=typeof IntersectionObserver=="function",animationFrame:it=!1}=j,lt=unwrapElement(o),dt=_e||et?[...lt?getOverflowAncestors(lt):[],...getOverflowAncestors(_)]:[];dt.forEach(mr=>{_e&&mr.addEventListener("scroll",$,{passive:!0}),et&&mr.addEventListener("resize",$)});const bt=lt&&nt?observeMove(lt,$):null;let Ht=-1,pr=null;tt&&(pr=new ResizeObserver(mr=>{let[_r]=mr;_r&&_r.target===lt&&pr&&(pr.unobserve(_),cancelAnimationFrame(Ht),Ht=requestAnimationFrame(()=>{var mn;(mn=pr)==null||mn.observe(_)})),$()}),lt&&!it&&pr.observe(lt),pr.observe(_));let _n,ft=it?getBoundingClientRect(o):null;it&&Ct();function Ct(){const mr=getBoundingClientRect(o);ft&&(mr.x!==ft.x||mr.y!==ft.y||mr.width!==ft.width||mr.height!==ft.height)&&$(),ft=mr,_n=requestAnimationFrame(Ct)}return $(),()=>{var mr;dt.forEach(_r=>{_e&&_r.removeEventListener("scroll",$),et&&_r.removeEventListener("resize",$)}),bt==null||bt(),(mr=pr)==null||mr.disconnect(),pr=null,it&&cancelAnimationFrame(_n)}}const offset$1=offset$2,flip$1=flip$2,arrow$2=arrow$3,computePosition=(o,_,$)=>{const j=new Map,_e={platform,...$},et={..._e.platform,_c:j};return computePosition$1(o,_,{..._e,platform:et})};var index$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(o,_){if(o===_)return!0;if(typeof o!=typeof _)return!1;if(typeof o=="function"&&o.toString()===_.toString())return!0;let $,j,_e;if(o&&_&&typeof o=="object"){if(Array.isArray(o)){if($=o.length,$!==_.length)return!1;for(j=$;j--!==0;)if(!deepEqual(o[j],_[j]))return!1;return!0}if(_e=Object.keys(o),$=_e.length,$!==Object.keys(_).length)return!1;for(j=$;j--!==0;)if(!{}.hasOwnProperty.call(_,_e[j]))return!1;for(j=$;j--!==0;){const et=_e[j];if(!(et==="_owner"&&o.$$typeof)&&!deepEqual(o[et],_[et]))return!1}return!0}return o!==o&&_!==_}function getDPR(o){return typeof window>"u"?1:(o.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(o,_){const $=getDPR(o);return Math.round(_*$)/$}function useLatestRef(o){const _=reactExports.useRef(o);return index$1(()=>{_.current=o}),_}function useFloating$1(o){o===void 0&&(o={});const{placement:_="bottom",strategy:$="absolute",middleware:j=[],platform:_e,elements:{reference:et,floating:tt}={},transform:nt=!0,whileElementsMounted:it,open:lt}=o,[dt,bt]=reactExports.useState({x:0,y:0,strategy:$,placement:_,middlewareData:{},isPositioned:!1}),[Ht,pr]=reactExports.useState(j);deepEqual(Ht,j)||pr(j);const[_n,ft]=reactExports.useState(null),[Ct,mr]=reactExports.useState(null),_r=reactExports.useCallback(bp=>{bp!==Do.current&&(Do.current=bp,ft(bp))},[]),mn=reactExports.useCallback(bp=>{bp!==Io.current&&(Io.current=bp,mr(bp))},[]),dr=et||_n,pn=tt||Ct,Do=reactExports.useRef(null),Io=reactExports.useRef(null),Lo=reactExports.useRef(dt),ms=it!=null,Uo=useLatestRef(it),_s=useLatestRef(_e),yp=reactExports.useCallback(()=>{if(!Do.current||!Io.current)return;const bp={placement:_,strategy:$,middleware:Ht};_s.current&&(bp.platform=_s.current),computePosition(Do.current,Io.current,bp).then(Ep=>{const Cp={...Ep,isPositioned:!0};xs.current&&!deepEqual(Lo.current,Cp)&&(Lo.current=Cp,reactDomExports.flushSync(()=>{bt(Cp)}))})},[Ht,_,$,_s]);index$1(()=>{lt===!1&&Lo.current.isPositioned&&(Lo.current.isPositioned=!1,bt(bp=>({...bp,isPositioned:!1})))},[lt]);const xs=reactExports.useRef(!1);index$1(()=>(xs.current=!0,()=>{xs.current=!1}),[]),index$1(()=>{if(dr&&(Do.current=dr),pn&&(Io.current=pn),dr&&pn){if(Uo.current)return Uo.current(dr,pn,yp);yp()}},[dr,pn,yp,Uo,ms]);const vs=reactExports.useMemo(()=>({reference:Do,floating:Io,setReference:_r,setFloating:mn}),[_r,mn]),Sp=reactExports.useMemo(()=>({reference:dr,floating:pn}),[dr,pn]),wp=reactExports.useMemo(()=>{const bp={position:$,left:0,top:0};if(!Sp.floating)return bp;const Ep=roundByDPR(Sp.floating,dt.x),Cp=roundByDPR(Sp.floating,dt.y);return nt?{...bp,transform:"translate("+Ep+"px, "+Cp+"px)",...getDPR(Sp.floating)>=1.5&&{willChange:"transform"}}:{position:$,left:Ep,top:Cp}},[$,nt,Sp.floating,dt.x,dt.y]);return reactExports.useMemo(()=>({...dt,update:yp,refs:vs,elements:Sp,floatingStyles:wp}),[dt,yp,vs,Sp,wp])}const arrow$1=o=>{function _($){return{}.hasOwnProperty.call($,"current")}return{name:"arrow",options:o,fn($){const{element:j,padding:_e}=typeof o=="function"?o($):o;return j&&_(j)?j.current!=null?arrow$2({element:j.current,padding:_e}).fn($):{}:j?arrow$2({element:j,padding:_e}).fn($):{}}}},offset=(o,_)=>({...offset$1(o),options:[o,_]}),flip=(o,_)=>({...flip$1(o),options:[o,_]}),arrow=(o,_)=>({...arrow$1(o),options:[o,_]}),SafeReact={...React$1},useInsertionEffect=SafeReact.useInsertionEffect,useSafeInsertionEffect=useInsertionEffect||(o=>o());function useEffectEvent(o){const _=reactExports.useRef(()=>{});return useSafeInsertionEffect(()=>{_.current=o}),reactExports.useCallback(function(){for(var $=arguments.length,j=new Array($),_e=0;_e<$;_e++)j[_e]=arguments[_e];return _.current==null?void 0:_.current(...j)},[])}var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends$1.apply(this,arguments)}let serverHandoffComplete=!1,count=0;const genId=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+count++;function useFloatingId(){const[o,_]=reactExports.useState(()=>serverHandoffComplete?genId():void 0);return index(()=>{o==null&&_(genId())},[]),reactExports.useEffect(()=>{serverHandoffComplete=!0},[]),o}const useReactId=SafeReact.useId,useId=useReactId||useFloatingId,FloatingArrow=reactExports.forwardRef(function o(_,$){const{context:{placement:j,elements:{floating:_e},middlewareData:{arrow:et}},width:tt=14,height:nt=7,tipRadius:it=0,strokeWidth:lt=0,staticOffset:dt,stroke:bt,d:Ht,style:{transform:pr,..._n}={},...ft}=_,Ct=useId(),[mr,_r]=reactExports.useState(!1);if(index(()=>{if(!_e)return;getComputedStyle(_e).direction==="rtl"&&_r(!0)},[_e]),!_e)return null;const mn=lt*2,dr=mn/2,pn=tt/2*(it/-8+1),Do=nt/2*it/4,[Io,Lo]=j.split("-"),ms=!!Ht,Uo=Io==="top"||Io==="bottom",_s=dt&&Lo==="end"?"bottom":"top";let yp=dt&&Lo==="end"?"right":"left";dt&&mr&&(yp=Lo==="end"?"left":"right");const xs=(et==null?void 0:et.x)!=null?dt||et.x:"",vs=(et==null?void 0:et.y)!=null?dt||et.y:"",Sp=Ht||"M0,0"+(" H"+tt)+(" L"+(tt-pn)+","+(nt-Do))+(" Q"+tt/2+","+nt+" "+pn+","+(nt-Do))+" Z",wp={top:ms?"rotate(180deg)":"",left:ms?"rotate(90deg)":"rotate(-90deg)",bottom:ms?"":"rotate(180deg)",right:ms?"rotate(-90deg)":"rotate(90deg)"}[Io];return reactExports.createElement("svg",_extends$1({},ft,{"aria-hidden":!0,ref:$,width:ms?tt:tt+mn,height:tt,viewBox:"0 0 "+tt+" "+(nt>tt?nt:tt),style:{position:"absolute",pointerEvents:"none",[yp]:xs,[_s]:vs,[Io]:Uo||ms?"100%":"calc(100% - "+mn/2+"px)",transform:""+wp+(pr??""),..._n}}),mn>0&&reactExports.createElement("path",{clipPath:"url(#"+Ct+")",fill:"none",stroke:bt,strokeWidth:mn+(Ht?0:1),d:Sp}),reactExports.createElement("path",{stroke:mn&&!Ht?ft.fill:"none",d:Sp}),reactExports.createElement("clipPath",{id:Ct},reactExports.createElement("rect",{x:-dr,y:dr*(ms?-1:1),width:tt+mn,height:tt})))});function createPubSub(){const o=new Map;return{emit(_,$){var j;(j=o.get(_))==null||j.forEach(_e=>_e($))},on(_,$){o.set(_,[...o.get(_)||[],$])},off(_,$){var j;o.set(_,((j=o.get(_))==null?void 0:j.filter(_e=>_e!==$))||[])}}}const FloatingNodeContext=reactExports.createContext(null),FloatingTreeContext=reactExports.createContext(null),useFloatingParentNodeId=()=>{var o;return((o=reactExports.useContext(FloatingNodeContext))==null?void 0:o.id)||null},useFloatingTree=()=>reactExports.useContext(FloatingTreeContext);function useFloatingRootContext(o){const{open:_=!1,onOpenChange:$,elements:j}=o,_e=useId(),et=reactExports.useRef({}),[tt]=reactExports.useState(()=>createPubSub()),nt=useFloatingParentNodeId()!=null,[it,lt]=reactExports.useState(j.reference),dt=useEffectEvent((pr,_n,ft)=>{et.current.openEvent=pr?_n:void 0,tt.emit("openchange",{open:pr,event:_n,reason:ft,nested:nt}),$==null||$(pr,_n,ft)}),bt=reactExports.useMemo(()=>({setPositionReference:lt}),[]),Ht=reactExports.useMemo(()=>({reference:it||j.reference||null,floating:j.floating||null,domReference:j.reference}),[it,j.reference,j.floating]);return reactExports.useMemo(()=>({dataRef:et,open:_,onOpenChange:dt,elements:Ht,events:tt,floatingId:_e,refs:bt}),[_,dt,Ht,tt,_e,bt])}function useFloating(o){o===void 0&&(o={});const{nodeId:_}=o,$=useFloatingRootContext({...o,elements:{reference:null,floating:null,...o.elements}}),j=o.rootContext||$,_e=j.elements,[et,tt]=reactExports.useState(null),[nt,it]=reactExports.useState(null),dt=(_e==null?void 0:_e.reference)||et,bt=reactExports.useRef(null),Ht=useFloatingTree();index(()=>{dt&&(bt.current=dt)},[dt]);const pr=useFloating$1({...o,elements:{..._e,...nt&&{reference:nt}}}),_n=reactExports.useCallback(mn=>{const dr=isElement(mn)?{getBoundingClientRect:()=>mn.getBoundingClientRect(),contextElement:mn}:mn;it(dr),pr.refs.setReference(dr)},[pr.refs]),ft=reactExports.useCallback(mn=>{(isElement(mn)||mn===null)&&(bt.current=mn,tt(mn)),(isElement(pr.refs.reference.current)||pr.refs.reference.current===null||mn!==null&&!isElement(mn))&&pr.refs.setReference(mn)},[pr.refs]),Ct=reactExports.useMemo(()=>({...pr.refs,setReference:ft,setPositionReference:_n,domReference:bt}),[pr.refs,ft,_n]),mr=reactExports.useMemo(()=>({...pr.elements,domReference:dt}),[pr.elements,dt]),_r=reactExports.useMemo(()=>({...pr,...j,refs:Ct,elements:mr,nodeId:_}),[pr,Ct,mr,_,j]);return index(()=>{j.dataRef.current.floatingContext=_r;const mn=Ht==null?void 0:Ht.nodesRef.current.find(dr=>dr.id===_);mn&&(mn.context=_r)}),reactExports.useMemo(()=>({...pr,context:_r,refs:Ct,elements:mr}),[pr,Ct,mr,_r])}/*!
  react-datepicker v6.9.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/function _callSuper(o,_,$){return _=_getPrototypeOf(_),_possibleConstructorReturn(o,_isNativeReflectConstruct()?Reflect.construct(_,$||[],_getPrototypeOf(o).constructor):_.apply(o,$))}function _isNativeReflectConstruct(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!o})()}function ownKeys(o,_){var $=Object.keys(o);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);_&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(o,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread2(o){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys(Object($),!0).forEach(function(j){_defineProperty(o,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors($)):ownKeys(Object($)).forEach(function(j){Object.defineProperty(o,j,Object.getOwnPropertyDescriptor($,j))})}return o}function _toPrimitive(o,_){if(typeof o!="object"||!o)return o;var $=o[Symbol.toPrimitive];if($!==void 0){var j=$.call(o,_||"default");if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(o)}function _toPropertyKey(o){var _=_toPrimitive(o,"string");return typeof _=="symbol"?_:_+""}function _typeof(o){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof(o)}function _classCallCheck(o,_){if(!(o instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties(o,_){for(var $=0;$<_.length;$++){var j=_[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(o,_toPropertyKey(j.key),j)}}function _createClass(o,_,$){return _&&_defineProperties(o.prototype,_),$&&_defineProperties(o,$),Object.defineProperty(o,"prototype",{writable:!1}),o}function _defineProperty(o,_,$){return _=_toPropertyKey(_),_ in o?Object.defineProperty(o,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[_]=$,o}function _extends(){return _extends=Object.assign?Object.assign.bind():function(o){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(o[j]=$[j])}return o},_extends.apply(this,arguments)}function _inherits(o,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(_&&_.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),_&&_setPrototypeOf(o,_)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf(o)}function _setPrototypeOf(o,_){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf(o,_)}function _assertThisInitialized(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _possibleConstructorReturn(o,_){if(_&&(typeof _=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(o)}function _toConsumableArray(o){return _arrayWithoutHoles(o)||_iterableToArray(o)||_unsupportedIterableToArray(o)||_nonIterableSpread()}function _arrayWithoutHoles(o){if(Array.isArray(o))return _arrayLikeToArray(o)}function _iterableToArray(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _unsupportedIterableToArray(o,_){if(o){if(typeof o=="string")return _arrayLikeToArray(o,_);var $=Object.prototype.toString.call(o).slice(8,-1);if($==="Object"&&o.constructor&&($=o.constructor.name),$==="Map"||$==="Set")return Array.from(o);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray(o,_)}}function _arrayLikeToArray(o,_){(_==null||_>o.length)&&(_=o.length);for(var $=0,j=new Array(_);$<_;$++)j[$]=o[$];return j}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var DEFAULT_YEAR_ITEM_NUMBER=12,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function newDate(o){var _=o?typeof o=="string"||o instanceof String?parseISO(o):toDate(o):new Date;return isValid(_)?_:null}function parseDate(o,_,$,j,_e){var et=null,tt=getLocaleObject($)||getLocaleObject(getDefaultLocale()),nt=!0;return Array.isArray(_)?(_.forEach(function(it){var lt=parse(o,it,new Date,{locale:tt,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});j&&(nt=isValid(lt,_e)&&o===formatDate(lt,it,$)),isValid(lt,_e)&&nt&&(et=lt)}),et):(et=parse(o,_,new Date,{locale:tt,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),j?nt=isValid(et)&&o===formatDate(et,_,$):isValid(et)||(_=_.match(longFormattingTokensRegExp).map(function(it){var lt=it[0];if(lt==="p"||lt==="P"){var dt=longFormatters[lt];return tt?dt(it,tt.formatLong):lt}return it}).join(""),o.length>0&&(et=parse(o,_.slice(0,o.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),isValid(et)||(et=new Date(o))),isValid(et)&&nt?et:null)}function isValid(o,_){return _=_||new Date("1/1/1000"),isValid$1(o)&&!isBefore(o,_)}function formatDate(o,_,$){if($==="en")return format$1(o,_,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var j=getLocaleObject($);return $&&!j&&console.warn('A locale object was not found for the provided string ["'.concat($,'"].')),!j&&getDefaultLocale()&&getLocaleObject(getDefaultLocale())&&(j=getLocaleObject(getDefaultLocale())),format$1(o,_,{locale:j||null,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function safeDateFormat(o,_){var $=_.dateFormat,j=_.locale;return o&&formatDate(o,Array.isArray($)?$[0]:$,j)||""}function safeDateRangeFormat(o,_,$){if(!o)return"";var j=safeDateFormat(o,$),_e=_?safeDateFormat(_,$):"";return"".concat(j," - ").concat(_e)}function safeMultipleDatesFormat(o,_){if(!(o!=null&&o.length))return"";var $=safeDateFormat(o[0],_);if(o.length===1)return $;if(o.length===2){var j=safeDateFormat(o[1],_);return"".concat($,", ").concat(j)}var _e=o.length-1;return"".concat($," (+").concat(_e,")")}function setTime(o,_){var $=_.hour,j=$===void 0?0:$,_e=_.minute,et=_e===void 0?0:_e,tt=_.second,nt=tt===void 0?0:tt;return setHours(setMinutes(setSeconds(o,nt),et),j)}function getWeek(o,_){return getDefaultLocale()&&getLocaleObject(getDefaultLocale()),getISOWeek(o)}function getDayOfWeekCode(o,_){return formatDate(o,"ddd",_)}function getStartOfDay(o){return startOfDay(o)}function getStartOfWeek(o,_,$){var j=getLocaleObject(_||getDefaultLocale());return startOfWeek(o,{locale:j,weekStartsOn:$})}function getStartOfMonth(o){return startOfMonth(o)}function getStartOfYear(o){return startOfYear(o)}function getStartOfQuarter(o){return startOfQuarter(o)}function getStartOfToday(){return startOfDay(newDate())}function getEndOfWeek(o){return endOfWeek(o)}function isSameYear(o,_){return o&&_?isSameYear$1(o,_):!o&&!_}function isSameMonth(o,_){return o&&_?isSameMonth$1(o,_):!o&&!_}function isSameQuarter(o,_){return o&&_?isSameQuarter$1(o,_):!o&&!_}function isSameDay(o,_){return o&&_?isSameDay$1(o,_):!o&&!_}function isEqual(o,_){return o&&_?isEqual$3(o,_):!o&&!_}function isDayInRange(o,_,$){var j,_e=startOfDay(_),et=endOfDay($);try{j=isWithinInterval(o,{start:_e,end:et})}catch{j=!1}return j}function getDefaultLocale(){var o=typeof window<"u"?window:globalThis;return o.__localeId__}function getLocaleObject(o){if(typeof o=="string"){var _=typeof window<"u"?window:globalThis;return _.__localeData__?_.__localeData__[o]:null}else return o}function getFormattedWeekdayInLocale(o,_,$){return _(formatDate(o,"EEEE",$))}function getWeekdayMinInLocale(o,_){return formatDate(o,"EEEEEE",_)}function getWeekdayShortInLocale(o,_){return formatDate(o,"EEE",_)}function getMonthInLocale(o,_){return formatDate(setMonth(newDate(),o),"LLLL",_)}function getMonthShortInLocale(o,_){return formatDate(setMonth(newDate(),o),"LLL",_)}function getQuarterShortInLocale(o,_){return formatDate(setQuarter(newDate(),o),"QQQ",_)}function isDayDisabled(o){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=_.minDate,j=_.maxDate,_e=_.excludeDates,et=_.excludeDateIntervals,tt=_.includeDates,nt=_.includeDateIntervals,it=_.filterDate;return isOutOfBounds(o,{minDate:$,maxDate:j})||_e&&_e.some(function(lt){return isSameDay(o,lt.date?lt.date:lt)})||et&&et.some(function(lt){var dt=lt.start,bt=lt.end;return isWithinInterval(o,{start:dt,end:bt})})||tt&&!tt.some(function(lt){return isSameDay(o,lt)})||nt&&!nt.some(function(lt){var dt=lt.start,bt=lt.end;return isWithinInterval(o,{start:dt,end:bt})})||it&&!it(newDate(o))||!1}function isDayExcluded(o){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=_.excludeDates,j=_.excludeDateIntervals;return j&&j.length>0?j.some(function(_e){var et=_e.start,tt=_e.end;return isWithinInterval(o,{start:et,end:tt})}):$&&$.some(function(_e){return isSameDay(o,_e.date?_e.date:_e)})||!1}function isMonthDisabled(o){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=_.minDate,j=_.maxDate,_e=_.excludeDates,et=_.includeDates,tt=_.filterDate;return isOutOfBounds(o,{minDate:startOfMonth($),maxDate:endOfMonth(j)})||_e&&_e.some(function(nt){return isSameMonth(o,nt)})||et&&!et.some(function(nt){return isSameMonth(o,nt)})||tt&&!tt(newDate(o))||!1}function isMonthInRange(o,_,$,j){var _e=getYear(o),et=getMonth(o),tt=getYear(_),nt=getMonth(_),it=getYear(j);if(_e===tt&&_e===it)return et<=$&&$<=nt;if(_e<tt)return it===_e&&et<=$||it===tt&&nt>=$||it<tt&&it>_e}function isQuarterDisabled(o){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=_.minDate,j=_.maxDate,_e=_.excludeDates,et=_.includeDates,tt=_.filterDate;return isOutOfBounds(o,{minDate:$,maxDate:j})||_e&&_e.some(function(nt){return isSameQuarter(o,nt)})||et&&!et.some(function(nt){return isSameQuarter(o,nt)})||tt&&!tt(newDate(o))||!1}function isYearInRange(o,_,$){if(!isValid$1(_)||!isValid$1($))return!1;var j=getYear(_),_e=getYear($);return j<=o&&_e>=o}function isYearDisabled(o){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=_.minDate,j=_.maxDate,_e=_.excludeDates,et=_.includeDates,tt=_.filterDate,nt=new Date(o,0,1);return isOutOfBounds(nt,{minDate:startOfYear($),maxDate:endOfYear(j)})||_e&&_e.some(function(it){return isSameYear(nt,it)})||et&&!et.some(function(it){return isSameYear(nt,it)})||tt&&!tt(newDate(nt))||!1}function isQuarterInRange(o,_,$,j){var _e=getYear(o),et=getQuarter(o),tt=getYear(_),nt=getQuarter(_),it=getYear(j);if(_e===tt&&_e===it)return et<=$&&$<=nt;if(_e<tt)return it===_e&&et<=$||it===tt&&nt>=$||it<tt&&it>_e}function isOutOfBounds(o){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=_.minDate,j=_.maxDate;return $&&differenceInCalendarDays(o,$)<0||j&&differenceInCalendarDays(o,j)>0}function isTimeInList(o,_){return _.some(function($){return getHours($)===getHours(o)&&getMinutes($)===getMinutes(o)&&getSeconds($)===getSeconds(o)})}function isTimeDisabled(o){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=_.excludeTimes,j=_.includeTimes,_e=_.filterTime;return $&&isTimeInList(o,$)||j&&!isTimeInList(o,j)||_e&&!_e(o)||!1}function isTimeInDisabledRange(o,_){var $=_.minTime,j=_.maxTime;if(!$||!j)throw new Error("Both minTime and maxTime props required");var _e=newDate();_e=setHours(_e,getHours(o)),_e=setMinutes(_e,getMinutes(o)),_e=setSeconds(_e,getSeconds(o));var et=newDate();et=setHours(et,getHours($)),et=setMinutes(et,getMinutes($)),et=setSeconds(et,getSeconds($));var tt=newDate();tt=setHours(tt,getHours(j)),tt=setMinutes(tt,getMinutes(j)),tt=setSeconds(tt,getSeconds(j));var nt;try{nt=!isWithinInterval(_e,{start:et,end:tt})}catch{nt=!1}return nt}function monthDisabledBefore(o){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=_.minDate,j=_.includeDates,_e=subMonths(o,1);return $&&differenceInCalendarMonths($,_e)>0||j&&j.every(function(et){return differenceInCalendarMonths(et,_e)>0})||!1}function monthDisabledAfter(o){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=_.maxDate,j=_.includeDates,_e=addMonths(o,1);return $&&differenceInCalendarMonths(_e,$)>0||j&&j.every(function(et){return differenceInCalendarMonths(_e,et)>0})||!1}function quarterDisabledBefore(o){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=_.minDate,j=_.includeDates,_e=startOfYear(o),et=subQuarters(_e,1);return $&&differenceInCalendarQuarters($,et)>0||j&&j.every(function(tt){return differenceInCalendarQuarters(tt,et)>0})||!1}function quarterDisabledAfter(o){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=_.maxDate,j=_.includeDates,_e=endOfYear(o),et=addQuarters(_e,1);return $&&differenceInCalendarQuarters(et,$)>0||j&&j.every(function(tt){return differenceInCalendarQuarters(et,tt)>0})||!1}function yearDisabledBefore(o){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=_.minDate,j=_.includeDates,_e=subYears(o,1);return $&&differenceInCalendarYears($,_e)>0||j&&j.every(function(et){return differenceInCalendarYears(et,_e)>0})||!1}function yearsDisabledBefore(o){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=_.minDate,j=_.yearItemNumber,_e=j===void 0?DEFAULT_YEAR_ITEM_NUMBER:j,et=getStartOfYear(subYears(o,_e)),tt=getYearsPeriod(et,_e),nt=tt.endPeriod,it=$&&getYear($);return it&&it>nt||!1}function yearDisabledAfter(o){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=_.maxDate,j=_.includeDates,_e=addYears(o,1);return $&&differenceInCalendarYears(_e,$)>0||j&&j.every(function(et){return differenceInCalendarYears(_e,et)>0})||!1}function yearsDisabledAfter(o){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=_.maxDate,j=_.yearItemNumber,_e=j===void 0?DEFAULT_YEAR_ITEM_NUMBER:j,et=addYears(o,_e),tt=getYearsPeriod(et,_e),nt=tt.startPeriod,it=$&&getYear($);return it&&it<nt||!1}function getEffectiveMinDate(o){var _=o.minDate,$=o.includeDates;if($&&_){var j=$.filter(function(_e){return differenceInCalendarDays(_e,_)>=0});return min$4(j)}else return $?min$4($):_}function getEffectiveMaxDate(o){var _=o.maxDate,$=o.includeDates;if($&&_){var j=$.filter(function(_e){return differenceInCalendarDays(_e,_)<=0});return max$4(j)}else return $?max$4($):_}function getHightLightDaysMap(){for(var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--highlighted",$=new Map,j=0,_e=o.length;j<_e;j++){var et=o[j];if(isDate(et)){var tt=formatDate(et,"MM.dd.yyyy"),nt=$.get(tt)||[];nt.includes(_)||(nt.push(_),$.set(tt,nt))}else if(_typeof(et)==="object"){var it=Object.keys(et),lt=it[0],dt=et[it[0]];if(typeof lt=="string"&&dt.constructor===Array)for(var bt=0,Ht=dt.length;bt<Ht;bt++){var pr=formatDate(dt[bt],"MM.dd.yyyy"),_n=$.get(pr)||[];_n.includes(lt)||(_n.push(lt),$.set(pr,_n))}}}return $}function arraysAreEqual(o,_){return o.length!==_.length?!1:o.every(function($,j){return $===_[j]})}function getHolidaysMap(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--holidays",$=new Map;return o.forEach(function(j){var _e=j.date,et=j.holidayName;if(isDate(_e)){var tt=formatDate(_e,"MM.dd.yyyy"),nt=$.get(tt)||{};if(!("className"in nt&&nt.className===_&&arraysAreEqual(nt.holidayNames,[et]))){nt.className=_;var it=nt.holidayNames;nt.holidayNames=it?[].concat(_toConsumableArray(it),[et]):[et],$.set(tt,nt)}}}),$}function timesToInjectAfter(o,_,$,j,_e){for(var et=_e.length,tt=[],nt=0;nt<et;nt++){var it=o;it=addHours(it,getHours(_e[nt])),it=addMinutes(it,getMinutes(_e[nt])),it=addSeconds(it,getSeconds(_e[nt]));var lt=addMinutes(o,($+1)*j);isAfter(it,_)&&isBefore(it,lt)&&tt.push(_e[nt])}return tt}function addZero(o){return o<10?"0".concat(o):"".concat(o)}function getYearsPeriod(o){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DEFAULT_YEAR_ITEM_NUMBER,$=Math.ceil(getYear(o)/_)*_,j=$-(_-1);return{startPeriod:j,endPeriod:$}}function getHoursInDay(o){var _=new Date(o.getFullYear(),o.getMonth(),o.getDate()),$=new Date(o.getFullYear(),o.getMonth(),o.getDate(),24);return Math.round((+$-+_)/36e5)}function startOfMinute(o){var _=o.getSeconds(),$=o.getMilliseconds();return toDate(o.getTime()-_*1e3-$)}function isSameMinute(o,_){return startOfMinute(o).getTime()===startOfMinute(_).getTime()}function getMidnightDate(o){if(!isDate(o))throw new Error("Invalid date");var _=new Date(o);return _.setHours(0,0,0,0),_}function isDateBefore(o,_){if(!isDate(o)||!isDate(_))throw new Error("Invalid date received");var $=getMidnightDate(o),j=getMidnightDate(_);return isBefore($,j)}function isSpaceKeyDown(o){var _=" ";return o.key===_}function generateYears(o,_,$,j){for(var _e=[],et=0;et<2*_+1;et++){var tt=o+_-et,nt=!0;$&&(nt=getYear($)<=tt),j&&nt&&(nt=getYear(j)>=tt),nt&&_e.push(tt)}return _e}var YearDropdownOptions=function(o){function _($){var j;_classCallCheck(this,_),j=_callSuper(this,_,[$]),_defineProperty(j,"renderOptions",function(){var nt=j.props.year,it=j.state.yearsList.map(function(bt){return React.createElement("div",{className:nt===bt?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:bt,onClick:j.onChange.bind(j,bt),"aria-selected":nt===bt?"true":void 0},nt===bt?React.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",bt)}),lt=j.props.minDate?getYear(j.props.minDate):null,dt=j.props.maxDate?getYear(j.props.maxDate):null;return(!dt||!j.state.yearsList.find(function(bt){return bt===dt}))&&it.unshift(React.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:j.incrementYears},React.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!lt||!j.state.yearsList.find(function(bt){return bt===lt}))&&it.push(React.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:j.decrementYears},React.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),it}),_defineProperty(j,"onChange",function(nt){j.props.onChange(nt)}),_defineProperty(j,"handleClickOutside",function(){j.props.onCancel()}),_defineProperty(j,"shiftYears",function(nt){var it=j.state.yearsList.map(function(lt){return lt+nt});j.setState({yearsList:it})}),_defineProperty(j,"incrementYears",function(){return j.shiftYears(1)}),_defineProperty(j,"decrementYears",function(){return j.shiftYears(-1)});var _e=$.yearDropdownItemNumber,et=$.scrollableYearDropdown,tt=_e||(et?10:5);return j.state={yearsList:generateYears(j.props.year,tt,j.props.minDate,j.props.maxDate)},j.dropdownRef=reactExports.createRef(),j}return _inherits(_,o),_createClass(_,[{key:"componentDidMount",value:function(){var j=this.dropdownRef.current;if(j){var _e=j.children?Array.from(j.children):null,et=_e?_e.find(function(tt){return tt.ariaSelected}):null;j.scrollTop=et?et.offsetTop+(et.clientHeight-j.clientHeight)/2:(j.scrollHeight-j.clientHeight)/2}}},{key:"render",value:function(){var j=clsx$1({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return React.createElement("div",{className:j,ref:this.dropdownRef},this.renderOptions())}}])}(React.Component),WrappedYearDropdownOptions=onClickOutsideHOC(YearDropdownOptions),YearDropdown=function(o){function _(){var $;_classCallCheck(this,_);for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];return $=_callSuper(this,_,[].concat(_e)),_defineProperty($,"state",{dropdownVisible:!1}),_defineProperty($,"renderSelectOptions",function(){for(var tt=$.props.minDate?getYear($.props.minDate):1900,nt=$.props.maxDate?getYear($.props.maxDate):2100,it=[],lt=tt;lt<=nt;lt++)it.push(React.createElement("option",{key:lt,value:lt},lt));return it}),_defineProperty($,"onSelectChange",function(tt){$.onChange(tt.target.value)}),_defineProperty($,"renderSelectMode",function(){return React.createElement("select",{value:$.props.year,className:"react-datepicker__year-select",onChange:$.onSelectChange},$.renderSelectOptions())}),_defineProperty($,"renderReadView",function(tt){return React.createElement("div",{key:"read",style:{visibility:tt?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(it){return $.toggleDropdown(it)}},React.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),React.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},$.props.year))}),_defineProperty($,"renderDropdown",function(){return React.createElement(WrappedYearDropdownOptions,{key:"dropdown",year:$.props.year,onChange:$.onChange,onCancel:$.toggleDropdown,minDate:$.props.minDate,maxDate:$.props.maxDate,scrollableYearDropdown:$.props.scrollableYearDropdown,yearDropdownItemNumber:$.props.yearDropdownItemNumber})}),_defineProperty($,"renderScrollMode",function(){var tt=$.state.dropdownVisible,nt=[$.renderReadView(!tt)];return tt&&nt.unshift($.renderDropdown()),nt}),_defineProperty($,"onChange",function(tt){$.toggleDropdown(),tt!==$.props.year&&$.props.onChange(tt)}),_defineProperty($,"toggleDropdown",function(tt){$.setState({dropdownVisible:!$.state.dropdownVisible},function(){$.props.adjustDateOnChange&&$.handleYearChange($.props.date,tt)})}),_defineProperty($,"handleYearChange",function(tt,nt){$.onSelect(tt,nt),$.setOpen()}),_defineProperty($,"onSelect",function(tt,nt){$.props.onSelect&&$.props.onSelect(tt,nt)}),_defineProperty($,"setOpen",function(){$.props.setOpen&&$.props.setOpen(!0)}),$}return _inherits(_,o),_createClass(_,[{key:"render",value:function(){var j;switch(this.props.dropdownMode){case"scroll":j=this.renderScrollMode();break;case"select":j=this.renderSelectMode();break}return React.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},j)}}])}(React.Component),MonthDropdownOptions=function(o){function _(){var $;_classCallCheck(this,_);for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];return $=_callSuper(this,_,[].concat(_e)),_defineProperty($,"isSelectedMonth",function(tt){return $.props.month===tt}),_defineProperty($,"renderOptions",function(){return $.props.monthNames.map(function(tt,nt){return React.createElement("div",{className:$.isSelectedMonth(nt)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:tt,onClick:$.onChange.bind($,nt),"aria-selected":$.isSelectedMonth(nt)?"true":void 0},$.isSelectedMonth(nt)?React.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",tt)})}),_defineProperty($,"onChange",function(tt){return $.props.onChange(tt)}),_defineProperty($,"handleClickOutside",function(){return $.props.onCancel()}),$}return _inherits(_,o),_createClass(_,[{key:"render",value:function(){return React.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}])}(React.Component),WrappedMonthDropdownOptions=onClickOutsideHOC(MonthDropdownOptions),MonthDropdown=function(o){function _(){var $;_classCallCheck(this,_);for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];return $=_callSuper(this,_,[].concat(_e)),_defineProperty($,"state",{dropdownVisible:!1}),_defineProperty($,"renderSelectOptions",function(tt){return tt.map(function(nt,it){return React.createElement("option",{key:it,value:it},nt)})}),_defineProperty($,"renderSelectMode",function(tt){return React.createElement("select",{value:$.props.month,className:"react-datepicker__month-select",onChange:function(it){return $.onChange(it.target.value)}},$.renderSelectOptions(tt))}),_defineProperty($,"renderReadView",function(tt,nt){return React.createElement("div",{key:"read",style:{visibility:tt?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:$.toggleDropdown},React.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),React.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},nt[$.props.month]))}),_defineProperty($,"renderDropdown",function(tt){return React.createElement(WrappedMonthDropdownOptions,{key:"dropdown",month:$.props.month,monthNames:tt,onChange:$.onChange,onCancel:$.toggleDropdown})}),_defineProperty($,"renderScrollMode",function(tt){var nt=$.state.dropdownVisible,it=[$.renderReadView(!nt,tt)];return nt&&it.unshift($.renderDropdown(tt)),it}),_defineProperty($,"onChange",function(tt){$.toggleDropdown(),tt!==$.props.month&&$.props.onChange(tt)}),_defineProperty($,"toggleDropdown",function(){return $.setState({dropdownVisible:!$.state.dropdownVisible})}),$}return _inherits(_,o),_createClass(_,[{key:"render",value:function(){var j=this,_e=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(tt){return getMonthShortInLocale(tt,j.props.locale)}:function(tt){return getMonthInLocale(tt,j.props.locale)}),et;switch(this.props.dropdownMode){case"scroll":et=this.renderScrollMode(_e);break;case"select":et=this.renderSelectMode(_e);break}return React.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},et)}}])}(React.Component);function generateMonthYears(o,_){for(var $=[],j=getStartOfMonth(o),_e=getStartOfMonth(_);!isAfter(j,_e);)$.push(newDate(j)),j=addMonths(j,1);return $}var MonthYearDropdownOptions=function(o){function _($){var j;return _classCallCheck(this,_),j=_callSuper(this,_,[$]),_defineProperty(j,"renderOptions",function(){return j.state.monthYearsList.map(function(_e){var et=getTime(_e),tt=isSameYear(j.props.date,_e)&&isSameMonth(j.props.date,_e);return React.createElement("div",{className:tt?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:et,onClick:j.onChange.bind(j,et),"aria-selected":tt?"true":void 0},tt?React.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",formatDate(_e,j.props.dateFormat,j.props.locale))})}),_defineProperty(j,"onChange",function(_e){return j.props.onChange(_e)}),_defineProperty(j,"handleClickOutside",function(){j.props.onCancel()}),j.state={monthYearsList:generateMonthYears(j.props.minDate,j.props.maxDate)},j}return _inherits(_,o),_createClass(_,[{key:"render",value:function(){var j=clsx$1({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return React.createElement("div",{className:j},this.renderOptions())}}])}(React.Component),WrappedMonthYearDropdownOptions=onClickOutsideHOC(MonthYearDropdownOptions),MonthYearDropdown=function(o){function _(){var $;_classCallCheck(this,_);for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];return $=_callSuper(this,_,[].concat(_e)),_defineProperty($,"state",{dropdownVisible:!1}),_defineProperty($,"renderSelectOptions",function(){for(var tt=getStartOfMonth($.props.minDate),nt=getStartOfMonth($.props.maxDate),it=[];!isAfter(tt,nt);){var lt=getTime(tt);it.push(React.createElement("option",{key:lt,value:lt},formatDate(tt,$.props.dateFormat,$.props.locale))),tt=addMonths(tt,1)}return it}),_defineProperty($,"onSelectChange",function(tt){$.onChange(tt.target.value)}),_defineProperty($,"renderSelectMode",function(){return React.createElement("select",{value:getTime(getStartOfMonth($.props.date)),className:"react-datepicker__month-year-select",onChange:$.onSelectChange},$.renderSelectOptions())}),_defineProperty($,"renderReadView",function(tt){var nt=formatDate($.props.date,$.props.dateFormat,$.props.locale);return React.createElement("div",{key:"read",style:{visibility:tt?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(lt){return $.toggleDropdown(lt)}},React.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),React.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},nt))}),_defineProperty($,"renderDropdown",function(){return React.createElement(WrappedMonthYearDropdownOptions,{key:"dropdown",date:$.props.date,dateFormat:$.props.dateFormat,onChange:$.onChange,onCancel:$.toggleDropdown,minDate:$.props.minDate,maxDate:$.props.maxDate,scrollableMonthYearDropdown:$.props.scrollableMonthYearDropdown,locale:$.props.locale})}),_defineProperty($,"renderScrollMode",function(){var tt=$.state.dropdownVisible,nt=[$.renderReadView(!tt)];return tt&&nt.unshift($.renderDropdown()),nt}),_defineProperty($,"onChange",function(tt){$.toggleDropdown();var nt=newDate(parseInt(tt));isSameYear($.props.date,nt)&&isSameMonth($.props.date,nt)||$.props.onChange(nt)}),_defineProperty($,"toggleDropdown",function(){return $.setState({dropdownVisible:!$.state.dropdownVisible})}),$}return _inherits(_,o),_createClass(_,[{key:"render",value:function(){var j;switch(this.props.dropdownMode){case"scroll":j=this.renderScrollMode();break;case"select":j=this.renderSelectMode();break}return React.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},j)}}])}(React.Component),Day=function(o){function _(){var $;_classCallCheck(this,_);for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];return $=_callSuper(this,_,[].concat(_e)),_defineProperty($,"dayEl",React.createRef()),_defineProperty($,"handleClick",function(tt){!$.isDisabled()&&$.props.onClick&&$.props.onClick(tt)}),_defineProperty($,"handleMouseEnter",function(tt){!$.isDisabled()&&$.props.onMouseEnter&&$.props.onMouseEnter(tt)}),_defineProperty($,"handleOnKeyDown",function(tt){var nt=tt.key;nt===" "&&(tt.preventDefault(),tt.key="Enter"),$.props.handleOnKeyDown(tt)}),_defineProperty($,"isSameDay",function(tt){return isSameDay($.props.day,tt)}),_defineProperty($,"isKeyboardSelected",function(){var tt;if($.props.disabledKeyboardNavigation)return!1;var nt=$.props.selectsMultiple?(tt=$.props.selectedDates)===null||tt===void 0?void 0:tt.some(function(it){return $.isSameDayOrWeek(it)}):$.isSameDayOrWeek($.props.selected);return!nt&&$.isSameDayOrWeek($.props.preSelection)}),_defineProperty($,"isDisabled",function(){return isDayDisabled($.props.day,$.props)}),_defineProperty($,"isExcluded",function(){return isDayExcluded($.props.day,$.props)}),_defineProperty($,"isStartOfWeek",function(){return isSameDay($.props.day,getStartOfWeek($.props.day,$.props.locale,$.props.calendarStartDay))}),_defineProperty($,"isSameWeek",function(tt){return $.props.showWeekPicker&&isSameDay(tt,getStartOfWeek($.props.day,$.props.locale,$.props.calendarStartDay))}),_defineProperty($,"isSameDayOrWeek",function(tt){return $.isSameDay(tt)||$.isSameWeek(tt)}),_defineProperty($,"getHighLightedClass",function(){var tt=$.props,nt=tt.day,it=tt.highlightDates;if(!it)return!1;var lt=formatDate(nt,"MM.dd.yyyy");return it.get(lt)}),_defineProperty($,"getHolidaysClass",function(){var tt=$.props,nt=tt.day,it=tt.holidays;if(!it)return!1;var lt=formatDate(nt,"MM.dd.yyyy");if(it.has(lt))return[it.get(lt).className]}),_defineProperty($,"isInRange",function(){var tt=$.props,nt=tt.day,it=tt.startDate,lt=tt.endDate;return!it||!lt?!1:isDayInRange(nt,it,lt)}),_defineProperty($,"isInSelectingRange",function(){var tt,nt=$.props,it=nt.day,lt=nt.selectsStart,dt=nt.selectsEnd,bt=nt.selectsRange,Ht=nt.selectsDisabledDaysInRange,pr=nt.startDate,_n=nt.endDate,ft=(tt=$.props.selectingDate)!==null&&tt!==void 0?tt:$.props.preSelection;return!(lt||dt||bt)||!ft||!Ht&&$.isDisabled()?!1:lt&&_n&&(isBefore(ft,_n)||isEqual(ft,_n))?isDayInRange(it,ft,_n):dt&&pr&&(isAfter(ft,pr)||isEqual(ft,pr))||bt&&pr&&!_n&&(isAfter(ft,pr)||isEqual(ft,pr))?isDayInRange(it,pr,ft):!1}),_defineProperty($,"isSelectingRangeStart",function(){var tt;if(!$.isInSelectingRange())return!1;var nt=$.props,it=nt.day,lt=nt.startDate,dt=nt.selectsStart,bt=(tt=$.props.selectingDate)!==null&&tt!==void 0?tt:$.props.preSelection;return dt?isSameDay(it,bt):isSameDay(it,lt)}),_defineProperty($,"isSelectingRangeEnd",function(){var tt;if(!$.isInSelectingRange())return!1;var nt=$.props,it=nt.day,lt=nt.endDate,dt=nt.selectsEnd,bt=nt.selectsRange,Ht=(tt=$.props.selectingDate)!==null&&tt!==void 0?tt:$.props.preSelection;return dt||bt?isSameDay(it,Ht):isSameDay(it,lt)}),_defineProperty($,"isRangeStart",function(){var tt=$.props,nt=tt.day,it=tt.startDate,lt=tt.endDate;return!it||!lt?!1:isSameDay(it,nt)}),_defineProperty($,"isRangeEnd",function(){var tt=$.props,nt=tt.day,it=tt.startDate,lt=tt.endDate;return!it||!lt?!1:isSameDay(lt,nt)}),_defineProperty($,"isWeekend",function(){var tt=getDay($.props.day);return tt===0||tt===6}),_defineProperty($,"isAfterMonth",function(){return $.props.month!==void 0&&($.props.month+1)%12===getMonth($.props.day)}),_defineProperty($,"isBeforeMonth",function(){return $.props.month!==void 0&&(getMonth($.props.day)+1)%12===$.props.month}),_defineProperty($,"isCurrentDay",function(){return $.isSameDay(newDate())}),_defineProperty($,"isSelected",function(){if($.props.selectsMultiple){var tt;return(tt=$.props.selectedDates)===null||tt===void 0?void 0:tt.some(function(nt){return $.isSameDayOrWeek(nt)})}return $.isSameDayOrWeek($.props.selected)}),_defineProperty($,"getClassNames",function(tt){var nt=$.props.dayClassName?$.props.dayClassName(tt):void 0;return clsx$1("react-datepicker__day",nt,"react-datepicker__day--"+getDayOfWeekCode($.props.day),{"react-datepicker__day--disabled":$.isDisabled(),"react-datepicker__day--excluded":$.isExcluded(),"react-datepicker__day--selected":$.isSelected(),"react-datepicker__day--keyboard-selected":$.isKeyboardSelected(),"react-datepicker__day--range-start":$.isRangeStart(),"react-datepicker__day--range-end":$.isRangeEnd(),"react-datepicker__day--in-range":$.isInRange(),"react-datepicker__day--in-selecting-range":$.isInSelectingRange(),"react-datepicker__day--selecting-range-start":$.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":$.isSelectingRangeEnd(),"react-datepicker__day--today":$.isCurrentDay(),"react-datepicker__day--weekend":$.isWeekend(),"react-datepicker__day--outside-month":$.isAfterMonth()||$.isBeforeMonth()},$.getHighLightedClass("react-datepicker__day--highlighted"),$.getHolidaysClass())}),_defineProperty($,"getAriaLabel",function(){var tt=$.props,nt=tt.day,it=tt.ariaLabelPrefixWhenEnabled,lt=it===void 0?"Choose":it,dt=tt.ariaLabelPrefixWhenDisabled,bt=dt===void 0?"Not available":dt,Ht=$.isDisabled()||$.isExcluded()?bt:lt;return"".concat(Ht," ").concat(formatDate(nt,"PPPP",$.props.locale))}),_defineProperty($,"getTitle",function(){var tt=$.props,nt=tt.day,it=tt.holidays,lt=it===void 0?new Map:it,dt=tt.excludeDates,bt=formatDate(nt,"MM.dd.yyyy"),Ht=[];return lt.has(bt)&&Ht.push.apply(Ht,_toConsumableArray(lt.get(bt).holidayNames)),$.isExcluded()&&Ht.push(dt==null?void 0:dt.filter(function(pr){return isSameDay(pr.date?pr.date:pr,nt)}).map(function(pr){return pr.message})),Ht.join(", ")}),_defineProperty($,"getTabIndex",function(tt,nt){var it=tt||$.props.selected,lt=nt||$.props.preSelection,dt=!($.props.showWeekPicker&&($.props.showWeekNumber||!$.isStartOfWeek()))&&($.isKeyboardSelected()||$.isSameDay(it)&&isSameDay(lt,it))?0:-1;return dt}),_defineProperty($,"handleFocusDay",function(){var tt,nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},it=!1;$.getTabIndex()===0&&!nt.isInputFocused&&$.isSameDay($.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(it=!0),$.props.inline&&!$.props.shouldFocusDayInline&&(it=!1),$.props.containerRef&&$.props.containerRef.current&&$.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(it=!0),$.props.monthShowsDuplicateDaysEnd&&$.isAfterMonth()&&(it=!1),$.props.monthShowsDuplicateDaysStart&&$.isBeforeMonth()&&(it=!1)),it&&((tt=$.dayEl.current)===null||tt===void 0||tt.focus({preventScroll:!0}))}),_defineProperty($,"renderDayContents",function(){return $.props.monthShowsDuplicateDaysEnd&&$.isAfterMonth()||$.props.monthShowsDuplicateDaysStart&&$.isBeforeMonth()?null:$.props.renderDayContents?$.props.renderDayContents(getDate($.props.day),$.props.day):getDate($.props.day)}),_defineProperty($,"render",function(){return React.createElement("div",{ref:$.dayEl,className:$.getClassNames($.props.day),onKeyDown:$.handleOnKeyDown,onClick:$.handleClick,onMouseEnter:$.props.usePointerEvent?void 0:$.handleMouseEnter,onPointerEnter:$.props.usePointerEvent?$.handleMouseEnter:void 0,tabIndex:$.getTabIndex(),"aria-label":$.getAriaLabel(),role:"option",title:$.getTitle(),"aria-disabled":$.isDisabled(),"aria-current":$.isCurrentDay()?"date":void 0,"aria-selected":$.isSelected()||$.isInRange()},$.renderDayContents(),$.getTitle()!==""&&React.createElement("span",{className:"overlay"},$.getTitle()))}),$}return _inherits(_,o),_createClass(_,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(j){this.handleFocusDay(j)}}])}(React.Component),WeekNumber=function(o){function _(){var $;_classCallCheck(this,_);for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];return $=_callSuper(this,_,[].concat(_e)),_defineProperty($,"weekNumberEl",React.createRef()),_defineProperty($,"handleClick",function(tt){$.props.onClick&&$.props.onClick(tt)}),_defineProperty($,"handleOnKeyDown",function(tt){var nt=tt.key;nt===" "&&(tt.preventDefault(),tt.key="Enter"),$.props.handleOnKeyDown(tt)}),_defineProperty($,"isKeyboardSelected",function(){return!$.props.disabledKeyboardNavigation&&!isSameDay($.props.date,$.props.selected)&&isSameDay($.props.date,$.props.preSelection)}),_defineProperty($,"getTabIndex",function(){return $.props.showWeekPicker&&$.props.showWeekNumber&&($.isKeyboardSelected()||isSameDay($.props.date,$.props.selected)&&isSameDay($.props.preSelection,$.props.selected))?0:-1}),_defineProperty($,"handleFocusWeekNumber",function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},nt=!1;$.getTabIndex()===0&&!tt.isInputFocused&&isSameDay($.props.date,$.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(nt=!0),$.props.inline&&!$.props.shouldFocusDayInline&&(nt=!1),$.props.containerRef&&$.props.containerRef.current&&$.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(nt=!0)),nt&&$.weekNumberEl.current&&$.weekNumberEl.current.focus({preventScroll:!0})}),$}return _inherits(_,o),_createClass(_,[{key:"componentDidMount",value:function(){this.handleFocusWeekNumber()}},{key:"componentDidUpdate",value:function(j){this.handleFocusWeekNumber(j)}},{key:"render",value:function(){var j=this.props,_e=j.weekNumber,et=j.ariaLabelPrefix,tt=et===void 0?"week ":et,nt=j.onClick,it={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!nt,"react-datepicker__week-number--selected":!!nt&&isSameDay(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return React.createElement("div",{ref:this.weekNumberEl,className:clsx$1(it),"aria-label":"".concat(tt," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},_e)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}])}(React.Component),Week=function(o){function _(){var $;_classCallCheck(this,_);for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];return $=_callSuper(this,_,[].concat(_e)),_defineProperty($,"handleDayClick",function(tt,nt){$.props.onDayClick&&$.props.onDayClick(tt,nt)}),_defineProperty($,"handleDayMouseEnter",function(tt){$.props.onDayMouseEnter&&$.props.onDayMouseEnter(tt)}),_defineProperty($,"handleWeekClick",function(tt,nt,it){typeof $.props.onWeekSelect=="function"&&$.props.onWeekSelect(tt,nt,it),$.props.showWeekPicker&&$.handleDayClick(tt,it),$.props.shouldCloseOnSelect&&$.props.setOpen(!1)}),_defineProperty($,"formatWeekNumber",function(tt){return $.props.formatWeekNumber?$.props.formatWeekNumber(tt):getWeek(tt)}),_defineProperty($,"renderDays",function(){var tt=$.startOfWeek(),nt=[],it=$.formatWeekNumber(tt);if($.props.showWeekNumber){var lt=$.props.onWeekSelect||$.props.showWeekPicker?$.handleWeekClick.bind($,tt,it):void 0;nt.push(React.createElement(WeekNumber,{key:"W",weekNumber:it,date:tt,onClick:lt,selected:$.props.selected,preSelection:$.props.preSelection,ariaLabelPrefix:$.props.ariaLabelPrefix,showWeekPicker:$.props.showWeekPicker,showWeekNumber:$.props.showWeekNumber,disabledKeyboardNavigation:$.props.disabledKeyboardNavigation,handleOnKeyDown:$.props.handleOnKeyDown,isInputFocused:$.props.isInputFocused,containerRef:$.props.containerRef}))}return nt.concat([0,1,2,3,4,5,6].map(function(dt){var bt=addDays(tt,dt);return React.createElement(Day,{ariaLabelPrefixWhenEnabled:$.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:$.props.disabledDayAriaLabelPrefix,key:bt.valueOf(),day:bt,month:$.props.month,onClick:$.handleDayClick.bind($,bt),usePointerEvent:$.props.usePointerEvent,onMouseEnter:$.handleDayMouseEnter.bind($,bt),minDate:$.props.minDate,maxDate:$.props.maxDate,calendarStartDay:$.props.calendarStartDay,excludeDates:$.props.excludeDates,excludeDateIntervals:$.props.excludeDateIntervals,includeDates:$.props.includeDates,includeDateIntervals:$.props.includeDateIntervals,highlightDates:$.props.highlightDates,holidays:$.props.holidays,selectingDate:$.props.selectingDate,filterDate:$.props.filterDate,preSelection:$.props.preSelection,selected:$.props.selected,selectsStart:$.props.selectsStart,selectsEnd:$.props.selectsEnd,selectsRange:$.props.selectsRange,showWeekPicker:$.props.showWeekPicker,showWeekNumber:$.props.showWeekNumber,selectsDisabledDaysInRange:$.props.selectsDisabledDaysInRange,selectsMultiple:$.props.selectsMultiple,selectedDates:$.props.selectedDates,startDate:$.props.startDate,endDate:$.props.endDate,dayClassName:$.props.dayClassName,renderDayContents:$.props.renderDayContents,disabledKeyboardNavigation:$.props.disabledKeyboardNavigation,handleOnKeyDown:$.props.handleOnKeyDown,isInputFocused:$.props.isInputFocused,containerRef:$.props.containerRef,inline:$.props.inline,shouldFocusDayInline:$.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:$.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:$.props.monthShowsDuplicateDaysStart,locale:$.props.locale})}))}),_defineProperty($,"startOfWeek",function(){return getStartOfWeek($.props.day,$.props.locale,$.props.calendarStartDay)}),_defineProperty($,"isKeyboardSelected",function(){return!$.props.disabledKeyboardNavigation&&!isSameDay($.startOfWeek(),$.props.selected)&&isSameDay($.startOfWeek(),$.props.preSelection)}),$}return _inherits(_,o),_createClass(_,[{key:"render",value:function(){var j={"react-datepicker__week":!0,"react-datepicker__week--selected":isSameDay(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return React.createElement("div",{className:clsx$1(j)},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}])}(React.Component),FIXED_HEIGHT_STANDARD_WEEK_COUNT=6,MONTH_COLUMNS_LAYOUT={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},MONTH_COLUMNS=_defineProperty(_defineProperty(_defineProperty({},MONTH_COLUMNS_LAYOUT.TWO_COLUMNS,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),MONTH_COLUMNS_LAYOUT.THREE_COLUMNS,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),MONTH_COLUMNS_LAYOUT.FOUR_COLUMNS,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4}),MONTH_NAVIGATION_HORIZONTAL_OFFSET=1;function getMonthColumnsLayout(o,_){return o?MONTH_COLUMNS_LAYOUT.FOUR_COLUMNS:_?MONTH_COLUMNS_LAYOUT.TWO_COLUMNS:MONTH_COLUMNS_LAYOUT.THREE_COLUMNS}var Month=function(o){function _(){var $;_classCallCheck(this,_);for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];return $=_callSuper(this,_,[].concat(_e)),_defineProperty($,"MONTH_REFS",_toConsumableArray(Array(12)).map(function(){return React.createRef()})),_defineProperty($,"QUARTER_REFS",_toConsumableArray(Array(4)).map(function(){return React.createRef()})),_defineProperty($,"isDisabled",function(tt){return isDayDisabled(tt,$.props)}),_defineProperty($,"isExcluded",function(tt){return isDayExcluded(tt,$.props)}),_defineProperty($,"handleDayClick",function(tt,nt){$.props.onDayClick&&$.props.onDayClick(tt,nt,$.props.orderInDisplay)}),_defineProperty($,"handleDayMouseEnter",function(tt){$.props.onDayMouseEnter&&$.props.onDayMouseEnter(tt)}),_defineProperty($,"handleMouseLeave",function(){$.props.onMouseLeave&&$.props.onMouseLeave()}),_defineProperty($,"isRangeStartMonth",function(tt){var nt=$.props,it=nt.day,lt=nt.startDate,dt=nt.endDate;return!lt||!dt?!1:isSameMonth(setMonth(it,tt),lt)}),_defineProperty($,"isRangeStartQuarter",function(tt){var nt=$.props,it=nt.day,lt=nt.startDate,dt=nt.endDate;return!lt||!dt?!1:isSameQuarter(setQuarter(it,tt),lt)}),_defineProperty($,"isRangeEndMonth",function(tt){var nt=$.props,it=nt.day,lt=nt.startDate,dt=nt.endDate;return!lt||!dt?!1:isSameMonth(setMonth(it,tt),dt)}),_defineProperty($,"isRangeEndQuarter",function(tt){var nt=$.props,it=nt.day,lt=nt.startDate,dt=nt.endDate;return!lt||!dt?!1:isSameQuarter(setQuarter(it,tt),dt)}),_defineProperty($,"isInSelectingRangeMonth",function(tt){var nt,it=$.props,lt=it.day,dt=it.selectsStart,bt=it.selectsEnd,Ht=it.selectsRange,pr=it.startDate,_n=it.endDate,ft=(nt=$.props.selectingDate)!==null&&nt!==void 0?nt:$.props.preSelection;return!(dt||bt||Ht)||!ft?!1:dt&&_n?isMonthInRange(ft,_n,tt,lt):bt&&pr||Ht&&pr&&!_n?isMonthInRange(pr,ft,tt,lt):!1}),_defineProperty($,"isSelectingMonthRangeStart",function(tt){var nt;if(!$.isInSelectingRangeMonth(tt))return!1;var it=$.props,lt=it.day,dt=it.startDate,bt=it.selectsStart,Ht=setMonth(lt,tt),pr=(nt=$.props.selectingDate)!==null&&nt!==void 0?nt:$.props.preSelection;return bt?isSameMonth(Ht,pr):isSameMonth(Ht,dt)}),_defineProperty($,"isSelectingMonthRangeEnd",function(tt){var nt;if(!$.isInSelectingRangeMonth(tt))return!1;var it=$.props,lt=it.day,dt=it.endDate,bt=it.selectsEnd,Ht=it.selectsRange,pr=setMonth(lt,tt),_n=(nt=$.props.selectingDate)!==null&&nt!==void 0?nt:$.props.preSelection;return bt||Ht?isSameMonth(pr,_n):isSameMonth(pr,dt)}),_defineProperty($,"isInSelectingRangeQuarter",function(tt){var nt,it=$.props,lt=it.day,dt=it.selectsStart,bt=it.selectsEnd,Ht=it.selectsRange,pr=it.startDate,_n=it.endDate,ft=(nt=$.props.selectingDate)!==null&&nt!==void 0?nt:$.props.preSelection;return!(dt||bt||Ht)||!ft?!1:dt&&_n?isQuarterInRange(ft,_n,tt,lt):bt&&pr||Ht&&pr&&!_n?isQuarterInRange(pr,ft,tt,lt):!1}),_defineProperty($,"isWeekInMonth",function(tt){var nt=$.props.day,it=addDays(tt,6);return isSameMonth(tt,nt)||isSameMonth(it,nt)}),_defineProperty($,"isCurrentMonth",function(tt,nt){return getYear(tt)===getYear(newDate())&&nt===getMonth(newDate())}),_defineProperty($,"isCurrentQuarter",function(tt,nt){return getYear(tt)===getYear(newDate())&&nt===getQuarter(newDate())}),_defineProperty($,"isSelectedMonth",function(tt,nt,it){return getMonth(it)===nt&&getYear(tt)===getYear(it)}),_defineProperty($,"isSelectedQuarter",function(tt,nt,it){return getQuarter(tt)===nt&&getYear(tt)===getYear(it)}),_defineProperty($,"renderWeeks",function(){for(var tt=[],nt=$.props.fixedHeight,it=0,lt=!1,dt=getStartOfWeek(getStartOfMonth($.props.day),$.props.locale,$.props.calendarStartDay),bt=$.props.showWeekPicker?getStartOfWeek($.props.selected,$.props.locale,$.props.calendarStartDay):$.props.selected,Ht=$.props.showWeekPicker?getStartOfWeek($.props.preSelection,$.props.locale,$.props.calendarStartDay):$.props.preSelection;tt.push(React.createElement(Week,{ariaLabelPrefix:$.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:$.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:$.props.disabledDayAriaLabelPrefix,key:it,day:dt,month:getMonth($.props.day),onDayClick:$.handleDayClick,usePointerEvent:$.props.usePointerEvent,onDayMouseEnter:$.handleDayMouseEnter,onWeekSelect:$.props.onWeekSelect,formatWeekNumber:$.props.formatWeekNumber,locale:$.props.locale,minDate:$.props.minDate,maxDate:$.props.maxDate,excludeDates:$.props.excludeDates,excludeDateIntervals:$.props.excludeDateIntervals,includeDates:$.props.includeDates,includeDateIntervals:$.props.includeDateIntervals,inline:$.props.inline,shouldFocusDayInline:$.props.shouldFocusDayInline,highlightDates:$.props.highlightDates,holidays:$.props.holidays,selectingDate:$.props.selectingDate,filterDate:$.props.filterDate,preSelection:Ht,selected:bt,selectsStart:$.props.selectsStart,selectsEnd:$.props.selectsEnd,selectsRange:$.props.selectsRange,selectsDisabledDaysInRange:$.props.selectsDisabledDaysInRange,selectsMultiple:$.props.selectsMultiple,selectedDates:$.props.selectedDates,showWeekNumber:$.props.showWeekNumbers,showWeekPicker:$.props.showWeekPicker,startDate:$.props.startDate,endDate:$.props.endDate,dayClassName:$.props.dayClassName,setOpen:$.props.setOpen,shouldCloseOnSelect:$.props.shouldCloseOnSelect,disabledKeyboardNavigation:$.props.disabledKeyboardNavigation,renderDayContents:$.props.renderDayContents,handleOnKeyDown:$.props.handleOnKeyDown,isInputFocused:$.props.isInputFocused,containerRef:$.props.containerRef,calendarStartDay:$.props.calendarStartDay,monthShowsDuplicateDaysEnd:$.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:$.props.monthShowsDuplicateDaysStart})),!lt;){it++,dt=addWeeks(dt,1);var pr=nt&&it>=FIXED_HEIGHT_STANDARD_WEEK_COUNT,_n=!nt&&!$.isWeekInMonth(dt);if(pr||_n)if($.props.peekNextMonth)lt=!0;else break}return tt}),_defineProperty($,"onMonthClick",function(tt,nt){var it=setMonth($.props.day,nt);isMonthDisabled(it,$.props)||$.handleDayClick(getStartOfMonth(it),tt)}),_defineProperty($,"onMonthMouseEnter",function(tt){var nt=setMonth($.props.day,tt);isMonthDisabled(nt,$.props)||$.handleDayMouseEnter(getStartOfMonth(nt))}),_defineProperty($,"handleMonthNavigation",function(tt,nt){$.isDisabled(nt)||$.isExcluded(nt)||($.props.setPreSelection(nt),$.MONTH_REFS[tt].current&&$.MONTH_REFS[tt].current.focus())}),_defineProperty($,"onMonthKeyDown",function(tt,nt){var it=$.props,lt=it.selected,dt=it.preSelection,bt=it.disabledKeyboardNavigation,Ht=it.showTwoColumnMonthYearPicker,pr=it.showFourColumnMonthYearPicker,_n=it.setPreSelection,ft=it.handleOnMonthKeyDown,Ct=tt.key;if(Ct!=="Tab"&&tt.preventDefault(),!bt){var mr=getMonthColumnsLayout(pr,Ht),_r=MONTH_COLUMNS[mr].verticalNavigationOffset,mn=MONTH_COLUMNS[mr].grid;switch(Ct){case"Enter":$.onMonthClick(tt,nt),_n(lt);break;case"ArrowRight":$.handleMonthNavigation(nt===11?0:nt+MONTH_NAVIGATION_HORIZONTAL_OFFSET,addMonths(dt,MONTH_NAVIGATION_HORIZONTAL_OFFSET));break;case"ArrowLeft":$.handleMonthNavigation(nt===0?11:nt-MONTH_NAVIGATION_HORIZONTAL_OFFSET,subMonths(dt,MONTH_NAVIGATION_HORIZONTAL_OFFSET));break;case"ArrowUp":$.handleMonthNavigation(mn[0].includes(nt)?nt+12-_r:nt-_r,subMonths(dt,_r));break;case"ArrowDown":$.handleMonthNavigation(mn[mn.length-1].includes(nt)?nt-12+_r:nt+_r,addMonths(dt,_r));break}}ft&&ft(tt)}),_defineProperty($,"onQuarterClick",function(tt,nt){var it=setQuarter($.props.day,nt);isQuarterDisabled(it,$.props)||$.handleDayClick(getStartOfQuarter(it),tt)}),_defineProperty($,"onQuarterMouseEnter",function(tt){var nt=setQuarter($.props.day,tt);isQuarterDisabled(nt,$.props)||$.handleDayMouseEnter(getStartOfQuarter(nt))}),_defineProperty($,"handleQuarterNavigation",function(tt,nt){$.isDisabled(nt)||$.isExcluded(nt)||($.props.setPreSelection(nt),$.QUARTER_REFS[tt-1].current&&$.QUARTER_REFS[tt-1].current.focus())}),_defineProperty($,"onQuarterKeyDown",function(tt,nt){var it=tt.key;if(!$.props.disabledKeyboardNavigation)switch(it){case"Enter":$.onQuarterClick(tt,nt),$.props.setPreSelection($.props.selected);break;case"ArrowRight":$.handleQuarterNavigation(nt===4?1:nt+1,addQuarters($.props.preSelection,1));break;case"ArrowLeft":$.handleQuarterNavigation(nt===1?4:nt-1,subQuarters($.props.preSelection,1));break}}),_defineProperty($,"isMonthDisabled",function(tt){var nt=$.props,it=nt.day,lt=nt.minDate,dt=nt.maxDate,bt=nt.excludeDates,Ht=nt.includeDates,pr=setMonth(it,tt);return(lt||dt||bt||Ht)&&isMonthDisabled(pr,$.props)}),_defineProperty($,"getMonthClassNames",function(tt){var nt=$.props,it=nt.day,lt=nt.startDate,dt=nt.endDate,bt=nt.selected,Ht=nt.preSelection,pr=nt.monthClassName,_n=pr?pr(setMonth(it,tt)):void 0;return clsx$1("react-datepicker__month-text","react-datepicker__month-".concat(tt),_n,{"react-datepicker__month-text--disabled":$.isMonthDisabled(tt),"react-datepicker__month-text--selected":$.isSelectedMonth(it,tt,bt),"react-datepicker__month-text--keyboard-selected":!$.props.disabledKeyboardNavigation&&$.isSelectedMonth(it,tt,Ht),"react-datepicker__month-text--in-selecting-range":$.isInSelectingRangeMonth(tt),"react-datepicker__month-text--in-range":isMonthInRange(lt,dt,tt,it),"react-datepicker__month-text--range-start":$.isRangeStartMonth(tt),"react-datepicker__month-text--range-end":$.isRangeEndMonth(tt),"react-datepicker__month-text--selecting-range-start":$.isSelectingMonthRangeStart(tt),"react-datepicker__month-text--selecting-range-end":$.isSelectingMonthRangeEnd(tt),"react-datepicker__month-text--today":$.isCurrentMonth(it,tt)})}),_defineProperty($,"getTabIndex",function(tt){var nt=getMonth($.props.preSelection),it=!$.props.disabledKeyboardNavigation&&tt===nt?"0":"-1";return it}),_defineProperty($,"getQuarterTabIndex",function(tt){var nt=getQuarter($.props.preSelection),it=!$.props.disabledKeyboardNavigation&&tt===nt?"0":"-1";return it}),_defineProperty($,"getAriaLabel",function(tt){var nt=$.props,it=nt.chooseDayAriaLabelPrefix,lt=it===void 0?"Choose":it,dt=nt.disabledDayAriaLabelPrefix,bt=dt===void 0?"Not available":dt,Ht=nt.day,pr=nt.locale,_n=setMonth(Ht,tt),ft=$.isDisabled(_n)||$.isExcluded(_n)?bt:lt;return"".concat(ft," ").concat(formatDate(_n,"MMMM yyyy",pr))}),_defineProperty($,"getQuarterClassNames",function(tt){var nt=$.props,it=nt.day,lt=nt.startDate,dt=nt.endDate,bt=nt.selected,Ht=nt.minDate,pr=nt.maxDate,_n=nt.preSelection,ft=nt.disabledKeyboardNavigation;return clsx$1("react-datepicker__quarter-text","react-datepicker__quarter-".concat(tt),{"react-datepicker__quarter-text--disabled":(Ht||pr)&&isQuarterDisabled(setQuarter(it,tt),$.props),"react-datepicker__quarter-text--selected":$.isSelectedQuarter(it,tt,bt),"react-datepicker__quarter-text--keyboard-selected":!ft&&$.isSelectedQuarter(it,tt,_n),"react-datepicker__quarter-text--in-selecting-range":$.isInSelectingRangeQuarter(tt),"react-datepicker__quarter-text--in-range":isQuarterInRange(lt,dt,tt,it),"react-datepicker__quarter-text--range-start":$.isRangeStartQuarter(tt),"react-datepicker__quarter-text--range-end":$.isRangeEndQuarter(tt)})}),_defineProperty($,"getMonthContent",function(tt){var nt=$.props,it=nt.showFullMonthYearPicker,lt=nt.renderMonthContent,dt=nt.locale,bt=nt.day,Ht=getMonthShortInLocale(tt,dt),pr=getMonthInLocale(tt,dt);return lt?lt(tt,Ht,pr,bt):it?pr:Ht}),_defineProperty($,"getQuarterContent",function(tt){var nt=$.props,it=nt.renderQuarterContent,lt=nt.locale,dt=getQuarterShortInLocale(tt,lt);return it?it(tt,dt):dt}),_defineProperty($,"renderMonths",function(){var tt=$.props,nt=tt.showTwoColumnMonthYearPicker,it=tt.showFourColumnMonthYearPicker,lt=tt.day,dt=tt.selected,bt=MONTH_COLUMNS[getMonthColumnsLayout(it,nt)].grid;return bt.map(function(Ht,pr){return React.createElement("div",{className:"react-datepicker__month-wrapper",key:pr},Ht.map(function(_n,ft){return React.createElement("div",{ref:$.MONTH_REFS[_n],key:ft,onClick:function(mr){$.onMonthClick(mr,_n)},onKeyDown:function(mr){isSpaceKeyDown(mr)&&(mr.preventDefault(),mr.key="Enter"),$.onMonthKeyDown(mr,_n)},onMouseEnter:$.props.usePointerEvent?void 0:function(){return $.onMonthMouseEnter(_n)},onPointerEnter:$.props.usePointerEvent?function(){return $.onMonthMouseEnter(_n)}:void 0,tabIndex:$.getTabIndex(_n),className:$.getMonthClassNames(_n),"aria-disabled":$.isMonthDisabled(_n),role:"option","aria-label":$.getAriaLabel(_n),"aria-current":$.isCurrentMonth(lt,_n)?"date":void 0,"aria-selected":$.isSelectedMonth(lt,_n,dt)},$.getMonthContent(_n))}))})}),_defineProperty($,"renderQuarters",function(){var tt=$.props,nt=tt.day,it=tt.selected,lt=[1,2,3,4];return React.createElement("div",{className:"react-datepicker__quarter-wrapper"},lt.map(function(dt,bt){return React.createElement("div",{key:bt,ref:$.QUARTER_REFS[bt],role:"option",onClick:function(pr){$.onQuarterClick(pr,dt)},onKeyDown:function(pr){$.onQuarterKeyDown(pr,dt)},onMouseEnter:$.props.usePointerEvent?void 0:function(){return $.onQuarterMouseEnter(dt)},onPointerEnter:$.props.usePointerEvent?function(){return $.onQuarterMouseEnter(dt)}:void 0,className:$.getQuarterClassNames(dt),"aria-selected":$.isSelectedQuarter(nt,dt,it),tabIndex:$.getQuarterTabIndex(dt),"aria-current":$.isCurrentQuarter(nt,dt)?"date":void 0},$.getQuarterContent(dt))}))}),_defineProperty($,"getClassNames",function(){var tt=$.props,nt=tt.selectingDate,it=tt.selectsStart,lt=tt.selectsEnd,dt=tt.showMonthYearPicker,bt=tt.showQuarterYearPicker,Ht=tt.showWeekPicker;return clsx$1("react-datepicker__month",{"react-datepicker__month--selecting-range":nt&&(it||lt)},{"react-datepicker__monthPicker":dt},{"react-datepicker__quarterPicker":bt},{"react-datepicker__weekPicker":Ht})}),$}return _inherits(_,o),_createClass(_,[{key:"render",value:function(){var j=this.props,_e=j.showMonthYearPicker,et=j.showQuarterYearPicker,tt=j.day,nt=j.ariaLabelPrefix,it=nt===void 0?"Month ":nt,lt=it?it.trim()+" ":"";return React.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(lt).concat(formatDate(tt,"MMMM, yyyy",this.props.locale)),role:"listbox"},_e?this.renderMonths():et?this.renderQuarters():this.renderWeeks())}}])}(React.Component),Time=function(o){function _(){var $;_classCallCheck(this,_);for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];return $=_callSuper(this,_,[].concat(_e)),_defineProperty($,"state",{height:null}),_defineProperty($,"scrollToTheSelectedTime",function(){requestAnimationFrame(function(){$.list&&($.list.scrollTop=$.centerLi&&_.calcCenterPosition($.props.monthRef?$.props.monthRef.clientHeight-$.header.clientHeight:$.list.clientHeight,$.centerLi))})}),_defineProperty($,"handleClick",function(tt){($.props.minTime||$.props.maxTime)&&isTimeInDisabledRange(tt,$.props)||($.props.excludeTimes||$.props.includeTimes||$.props.filterTime)&&isTimeDisabled(tt,$.props)||$.props.onChange(tt)}),_defineProperty($,"isSelectedTime",function(tt){return $.props.selected&&isSameMinute($.props.selected,tt)}),_defineProperty($,"isDisabledTime",function(tt){return($.props.minTime||$.props.maxTime)&&isTimeInDisabledRange(tt,$.props)||($.props.excludeTimes||$.props.includeTimes||$.props.filterTime)&&isTimeDisabled(tt,$.props)}),_defineProperty($,"liClasses",function(tt){var nt=["react-datepicker__time-list-item",$.props.timeClassName?$.props.timeClassName(tt):void 0];return $.isSelectedTime(tt)&&nt.push("react-datepicker__time-list-item--selected"),$.isDisabledTime(tt)&&nt.push("react-datepicker__time-list-item--disabled"),$.props.injectTimes&&(getHours(tt)*3600+getMinutes(tt)*60+getSeconds(tt))%($.props.intervals*60)!==0&&nt.push("react-datepicker__time-list-item--injected"),nt.join(" ")}),_defineProperty($,"handleOnKeyDown",function(tt,nt){tt.key===" "&&(tt.preventDefault(),tt.key="Enter"),(tt.key==="ArrowUp"||tt.key==="ArrowLeft")&&tt.target.previousSibling&&(tt.preventDefault(),tt.target.previousSibling.focus()),(tt.key==="ArrowDown"||tt.key==="ArrowRight")&&tt.target.nextSibling&&(tt.preventDefault(),tt.target.nextSibling.focus()),tt.key==="Enter"&&$.handleClick(nt),$.props.handleOnKeyDown(tt)}),_defineProperty($,"renderTimes",function(){for(var tt=[],nt=$.props.format?$.props.format:"p",it=$.props.intervals,lt=$.props.selected||$.props.openToDate||newDate(),dt=getStartOfDay(lt),bt=$.props.injectTimes&&$.props.injectTimes.sort(function(_r,mn){return _r-mn}),Ht=60*getHoursInDay(lt),pr=Ht/it,_n=0;_n<pr;_n++){var ft=addMinutes(dt,_n*it);if(tt.push(ft),bt){var Ct=timesToInjectAfter(dt,ft,_n,it,bt);tt=tt.concat(Ct)}}var mr=tt.reduce(function(_r,mn){return mn.getTime()<=lt.getTime()?mn:_r},tt[0]);return tt.map(function(_r,mn){return React.createElement("li",{key:mn,onClick:$.handleClick.bind($,_r),className:$.liClasses(_r),ref:function(pn){_r===mr&&($.centerLi=pn)},onKeyDown:function(pn){$.handleOnKeyDown(pn,_r)},tabIndex:_r===mr?0:-1,role:"option","aria-selected":$.isSelectedTime(_r)?"true":void 0,"aria-disabled":$.isDisabledTime(_r)?"true":void 0},formatDate(_r,nt,$.props.locale))})}),$}return _inherits(_,o),_createClass(_,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var j=this,_e=this.state.height;return React.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},React.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(tt){j.header=tt}},React.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),React.createElement("div",{className:"react-datepicker__time"},React.createElement("div",{className:"react-datepicker__time-box"},React.createElement("ul",{className:"react-datepicker__time-list",ref:function(tt){j.list=tt},style:_e?{height:_e}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}])}(React.Component);_defineProperty(Time,"calcCenterPosition",function(o,_){return _.offsetTop-(o/2-_.clientHeight/2)});var VERTICAL_NAVIGATION_OFFSET=3,Year=function(o){function _($){var j;return _classCallCheck(this,_),j=_callSuper(this,_,[$]),_defineProperty(j,"YEAR_REFS",_toConsumableArray(Array(j.props.yearItemNumber)).map(function(){return React.createRef()})),_defineProperty(j,"isDisabled",function(_e){return isDayDisabled(_e,j.props)}),_defineProperty(j,"isExcluded",function(_e){return isDayExcluded(_e,j.props)}),_defineProperty(j,"selectingDate",function(){var _e;return(_e=j.props.selectingDate)!==null&&_e!==void 0?_e:j.props.preSelection}),_defineProperty(j,"updateFocusOnPaginate",function(_e){var et=(function(){this.YEAR_REFS[_e].current.focus()}).bind(j);window.requestAnimationFrame(et)}),_defineProperty(j,"handleYearClick",function(_e,et){j.props.onDayClick&&j.props.onDayClick(_e,et)}),_defineProperty(j,"handleYearNavigation",function(_e,et){var tt=j.props,nt=tt.date,it=tt.yearItemNumber,lt=getYearsPeriod(nt,it),dt=lt.startPeriod;j.isDisabled(et)||j.isExcluded(et)||(j.props.setPreSelection(et),_e-dt<0?j.updateFocusOnPaginate(it-(dt-_e)):_e-dt>=it?j.updateFocusOnPaginate(Math.abs(it-(_e-dt))):j.YEAR_REFS[_e-dt].current.focus())}),_defineProperty(j,"isSameDay",function(_e,et){return isSameDay(_e,et)}),_defineProperty(j,"isCurrentYear",function(_e){return _e===getYear(newDate())}),_defineProperty(j,"isRangeStart",function(_e){return j.props.startDate&&j.props.endDate&&isSameYear(setYear(newDate(),_e),j.props.startDate)}),_defineProperty(j,"isRangeEnd",function(_e){return j.props.startDate&&j.props.endDate&&isSameYear(setYear(newDate(),_e),j.props.endDate)}),_defineProperty(j,"isInRange",function(_e){return isYearInRange(_e,j.props.startDate,j.props.endDate)}),_defineProperty(j,"isInSelectingRange",function(_e){var et=j.props,tt=et.selectsStart,nt=et.selectsEnd,it=et.selectsRange,lt=et.startDate,dt=et.endDate;return!(tt||nt||it)||!j.selectingDate()?!1:tt&&dt?isYearInRange(_e,j.selectingDate(),dt):nt&&lt||it&&lt&&!dt?isYearInRange(_e,lt,j.selectingDate()):!1}),_defineProperty(j,"isSelectingRangeStart",function(_e){if(!j.isInSelectingRange(_e))return!1;var et=j.props,tt=et.startDate,nt=et.selectsStart,it=setYear(newDate(),_e);return nt?isSameYear(it,j.selectingDate()):isSameYear(it,tt)}),_defineProperty(j,"isSelectingRangeEnd",function(_e){if(!j.isInSelectingRange(_e))return!1;var et=j.props,tt=et.endDate,nt=et.selectsEnd,it=et.selectsRange,lt=setYear(newDate(),_e);return nt||it?isSameYear(lt,j.selectingDate()):isSameYear(lt,tt)}),_defineProperty(j,"isKeyboardSelected",function(_e){var et=getStartOfYear(setYear(j.props.date,_e));return!j.props.disabledKeyboardNavigation&&!j.props.inline&&!isSameDay(et,getStartOfYear(j.props.selected))&&isSameDay(et,getStartOfYear(j.props.preSelection))}),_defineProperty(j,"onYearClick",function(_e,et){var tt=j.props.date;j.handleYearClick(getStartOfYear(setYear(tt,et)),_e)}),_defineProperty(j,"onYearKeyDown",function(_e,et){var tt=_e.key,nt=j.props,it=nt.date,lt=nt.yearItemNumber,dt=nt.handleOnKeyDown;if(tt!=="Tab"&&_e.preventDefault(),!j.props.disabledKeyboardNavigation)switch(tt){case"Enter":j.onYearClick(_e,et),j.props.setPreSelection(j.props.selected);break;case"ArrowRight":j.handleYearNavigation(et+1,addYears(j.props.preSelection,1));break;case"ArrowLeft":j.handleYearNavigation(et-1,subYears(j.props.preSelection,1));break;case"ArrowUp":{var bt=getYearsPeriod(it,lt),Ht=bt.startPeriod,pr=VERTICAL_NAVIGATION_OFFSET,_n=et-pr;if(_n<Ht){var ft=lt%pr;et>=Ht&&et<Ht+ft?pr=ft:pr+=ft,_n=et-pr}j.handleYearNavigation(_n,subYears(j.props.preSelection,pr));break}case"ArrowDown":{var Ct=getYearsPeriod(it,lt),mr=Ct.endPeriod,_r=VERTICAL_NAVIGATION_OFFSET,mn=et+_r;if(mn>mr){var dr=lt%_r;et<=mr&&et>mr-dr?_r=dr:_r+=dr,mn=et+_r}j.handleYearNavigation(mn,addYears(j.props.preSelection,_r));break}}dt&&dt(_e)}),_defineProperty(j,"getYearClassNames",function(_e){var et=j.props,tt=et.date,nt=et.minDate,it=et.maxDate,lt=et.selected,dt=et.excludeDates,bt=et.includeDates,Ht=et.filterDate,pr=et.yearClassName;return clsx$1("react-datepicker__year-text","react-datepicker__year-".concat(_e),pr?pr(setYear(tt,_e)):void 0,{"react-datepicker__year-text--selected":_e===getYear(lt),"react-datepicker__year-text--disabled":(nt||it||dt||bt||Ht)&&isYearDisabled(_e,j.props),"react-datepicker__year-text--keyboard-selected":j.isKeyboardSelected(_e),"react-datepicker__year-text--range-start":j.isRangeStart(_e),"react-datepicker__year-text--range-end":j.isRangeEnd(_e),"react-datepicker__year-text--in-range":j.isInRange(_e),"react-datepicker__year-text--in-selecting-range":j.isInSelectingRange(_e),"react-datepicker__year-text--selecting-range-start":j.isSelectingRangeStart(_e),"react-datepicker__year-text--selecting-range-end":j.isSelectingRangeEnd(_e),"react-datepicker__year-text--today":j.isCurrentYear(_e)})}),_defineProperty(j,"getYearTabIndex",function(_e){if(j.props.disabledKeyboardNavigation)return"-1";var et=getYear(j.props.preSelection);return _e===et?"0":"-1"}),_defineProperty(j,"getYearContainerClassNames",function(){var _e=j.props,et=_e.selectingDate,tt=_e.selectsStart,nt=_e.selectsEnd,it=_e.selectsRange;return clsx$1("react-datepicker__year",{"react-datepicker__year--selecting-range":et&&(tt||nt||it)})}),_defineProperty(j,"getYearContent",function(_e){return j.props.renderYearContent?j.props.renderYearContent(_e):_e}),j}return _inherits(_,o),_createClass(_,[{key:"render",value:function(){for(var j=this,_e=[],et=this.props,tt=et.date,nt=et.yearItemNumber,it=et.onYearMouseEnter,lt=et.onYearMouseLeave,dt=getYearsPeriod(tt,nt),bt=dt.startPeriod,Ht=dt.endPeriod,pr=function(Ct){_e.push(React.createElement("div",{ref:j.YEAR_REFS[Ct-bt],onClick:function(_r){j.onYearClick(_r,Ct)},onKeyDown:function(_r){isSpaceKeyDown(_r)&&(_r.preventDefault(),_r.key="Enter"),j.onYearKeyDown(_r,Ct)},tabIndex:j.getYearTabIndex(Ct),className:j.getYearClassNames(Ct),onMouseEnter:j.props.usePointerEvent?void 0:function(mr){return it(mr,Ct)},onPointerEnter:j.props.usePointerEvent?function(mr){return it(mr,Ct)}:void 0,onMouseLeave:j.props.usePointerEvent?void 0:function(mr){return lt(mr,Ct)},onPointerLeave:j.props.usePointerEvent?function(mr){return lt(mr,Ct)}:void 0,key:Ct,"aria-current":j.isCurrentYear(Ct)?"date":void 0},j.getYearContent(Ct)))},_n=bt;_n<=Ht;_n++)pr(_n);return React.createElement("div",{className:this.getYearContainerClassNames()},React.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},_e))}}])}(React.Component),inputTime=function(o){function _($){var j;return _classCallCheck(this,_),j=_callSuper(this,_,[$]),_defineProperty(j,"onTimeChange",function(_e){j.setState({time:_e});var et=j.props.date,tt=et instanceof Date&&!isNaN(et),nt=tt?et:new Date;nt.setHours(_e.split(":")[0]),nt.setMinutes(_e.split(":")[1]),j.props.onChange(nt)}),_defineProperty(j,"renderTimeInput",function(){var _e=j.state.time,et=j.props,tt=et.date,nt=et.timeString,it=et.customTimeInput;return it?React.cloneElement(it,{date:tt,value:_e,onChange:j.onTimeChange}):React.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:_e,onChange:function(dt){j.onTimeChange(dt.target.value||nt)}})}),j.state={time:j.props.timeString},j}return _inherits(_,o),_createClass(_,[{key:"render",value:function(){return React.createElement("div",{className:"react-datepicker__input-time-container"},React.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),React.createElement("div",{className:"react-datepicker-time__input-container"},React.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(j,_e){return j.timeString!==_e.time?{time:j.timeString}:null}}])}(React.Component);function CalendarContainer(o){var _=o.showTimeSelectOnly,$=_===void 0?!1:_,j=o.showTime,_e=j===void 0?!1:j,et=o.className,tt=o.children,nt=$?"Choose Time":"Choose Date".concat(_e?" and Time":"");return React.createElement("div",{className:et,role:"dialog","aria-label":nt,"aria-modal":"true"},tt)}var DROPDOWN_FOCUS_CLASSNAMES=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],isDropdownSelect=function o(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=(_.className||"").split(/\s+/);return DROPDOWN_FOCUS_CLASSNAMES.some(function(j){return $.indexOf(j)>=0})},Calendar=function(o){function _($){var j;return _classCallCheck(this,_),j=_callSuper(this,_,[$]),_defineProperty(j,"handleClickOutside",function(_e){j.props.onClickOutside(_e)}),_defineProperty(j,"setClickOutsideRef",function(){return j.containerRef.current}),_defineProperty(j,"handleDropdownFocus",function(_e){isDropdownSelect(_e.target)&&j.props.onDropdownFocus()}),_defineProperty(j,"getDateInView",function(){var _e=j.props,et=_e.preSelection,tt=_e.selected,nt=_e.openToDate,it=getEffectiveMinDate(j.props),lt=getEffectiveMaxDate(j.props),dt=newDate(),bt=nt||tt||et;return bt||(it&&isBefore(dt,it)?it:lt&&isAfter(dt,lt)?lt:dt)}),_defineProperty(j,"increaseMonth",function(){j.setState(function(_e){var et=_e.date;return{date:addMonths(et,1)}},function(){return j.handleMonthChange(j.state.date)})}),_defineProperty(j,"decreaseMonth",function(){j.setState(function(_e){var et=_e.date;return{date:subMonths(et,1)}},function(){return j.handleMonthChange(j.state.date)})}),_defineProperty(j,"handleDayClick",function(_e,et,tt){j.props.onSelect(_e,et,tt),j.props.setPreSelection&&j.props.setPreSelection(_e)}),_defineProperty(j,"handleDayMouseEnter",function(_e){j.setState({selectingDate:_e}),j.props.onDayMouseEnter&&j.props.onDayMouseEnter(_e)}),_defineProperty(j,"handleMonthMouseLeave",function(){j.setState({selectingDate:null}),j.props.onMonthMouseLeave&&j.props.onMonthMouseLeave()}),_defineProperty(j,"handleYearMouseEnter",function(_e,et){j.setState({selectingDate:setYear(newDate(),et)}),j.props.onYearMouseEnter&&j.props.onYearMouseEnter(_e,et)}),_defineProperty(j,"handleYearMouseLeave",function(_e,et){j.props.onYearMouseLeave&&j.props.onYearMouseLeave(_e,et)}),_defineProperty(j,"handleYearChange",function(_e){j.props.onYearChange&&(j.props.onYearChange(_e),j.setState({isRenderAriaLiveMessage:!0})),j.props.adjustDateOnChange&&(j.props.onSelect&&j.props.onSelect(_e),j.props.setOpen&&j.props.setOpen(!0)),j.props.setPreSelection&&j.props.setPreSelection(_e)}),_defineProperty(j,"handleMonthChange",function(_e){j.handleCustomMonthChange(_e),j.props.adjustDateOnChange&&(j.props.onSelect&&j.props.onSelect(_e),j.props.setOpen&&j.props.setOpen(!0)),j.props.setPreSelection&&j.props.setPreSelection(_e)}),_defineProperty(j,"handleCustomMonthChange",function(_e){j.props.onMonthChange&&(j.props.onMonthChange(_e),j.setState({isRenderAriaLiveMessage:!0}))}),_defineProperty(j,"handleMonthYearChange",function(_e){j.handleYearChange(_e),j.handleMonthChange(_e)}),_defineProperty(j,"changeYear",function(_e){j.setState(function(et){var tt=et.date;return{date:setYear(tt,_e)}},function(){return j.handleYearChange(j.state.date)})}),_defineProperty(j,"changeMonth",function(_e){j.setState(function(et){var tt=et.date;return{date:setMonth(tt,_e)}},function(){return j.handleMonthChange(j.state.date)})}),_defineProperty(j,"changeMonthYear",function(_e){j.setState(function(et){var tt=et.date;return{date:setYear(setMonth(tt,getMonth(_e)),getYear(_e))}},function(){return j.handleMonthYearChange(j.state.date)})}),_defineProperty(j,"header",function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j.state.date,et=getStartOfWeek(_e,j.props.locale,j.props.calendarStartDay),tt=[];return j.props.showWeekNumbers&&tt.push(React.createElement("div",{key:"W",className:"react-datepicker__day-name"},j.props.weekLabel||"#")),tt.concat([0,1,2,3,4,5,6].map(function(nt){var it=addDays(et,nt),lt=j.formatWeekday(it,j.props.locale),dt=j.props.weekDayClassName?j.props.weekDayClassName(it):void 0;return React.createElement("div",{key:nt,"aria-label":formatDate(it,"EEEE",j.props.locale),className:clsx$1("react-datepicker__day-name",dt)},lt)}))}),_defineProperty(j,"formatWeekday",function(_e,et){return j.props.formatWeekDay?getFormattedWeekdayInLocale(_e,j.props.formatWeekDay,et):j.props.useWeekdaysShort?getWeekdayShortInLocale(_e,et):getWeekdayMinInLocale(_e,et)}),_defineProperty(j,"decreaseYear",function(){j.setState(function(_e){var et=_e.date;return{date:subYears(et,j.props.showYearPicker?j.props.yearItemNumber:1)}},function(){return j.handleYearChange(j.state.date)})}),_defineProperty(j,"clearSelectingDate",function(){j.setState({selectingDate:null})}),_defineProperty(j,"renderPreviousButton",function(){if(!j.props.renderCustomHeader){var _e;switch(!0){case j.props.showMonthYearPicker:_e=yearDisabledBefore(j.state.date,j.props);break;case j.props.showYearPicker:_e=yearsDisabledBefore(j.state.date,j.props);break;case j.props.showQuarterYearPicker:_e=quarterDisabledBefore(j.state.date,j.props);break;default:_e=monthDisabledBefore(j.state.date,j.props);break}if(!(!j.props.forceShowMonthNavigation&&!j.props.showDisabledMonthNavigation&&_e||j.props.showTimeSelectOnly)){var et=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],tt=["react-datepicker__navigation","react-datepicker__navigation--previous"],nt=j.decreaseMonth;(j.props.showMonthYearPicker||j.props.showQuarterYearPicker||j.props.showYearPicker)&&(nt=j.decreaseYear),_e&&j.props.showDisabledMonthNavigation&&(tt.push("react-datepicker__navigation--previous--disabled"),nt=null);var it=j.props.showMonthYearPicker||j.props.showQuarterYearPicker||j.props.showYearPicker,lt=j.props,dt=lt.previousMonthButtonLabel,bt=lt.previousYearButtonLabel,Ht=j.props,pr=Ht.previousMonthAriaLabel,_n=pr===void 0?typeof dt=="string"?dt:"Previous Month":pr,ft=Ht.previousYearAriaLabel,Ct=ft===void 0?typeof bt=="string"?bt:"Previous Year":ft;return React.createElement("button",{type:"button",className:tt.join(" "),onClick:nt,onKeyDown:j.props.handleOnKeyDown,"aria-label":it?Ct:_n},React.createElement("span",{className:et.join(" ")},it?j.props.previousYearButtonLabel:j.props.previousMonthButtonLabel))}}}),_defineProperty(j,"increaseYear",function(){j.setState(function(_e){var et=_e.date;return{date:addYears(et,j.props.showYearPicker?j.props.yearItemNumber:1)}},function(){return j.handleYearChange(j.state.date)})}),_defineProperty(j,"renderNextButton",function(){if(!j.props.renderCustomHeader){var _e;switch(!0){case j.props.showMonthYearPicker:_e=yearDisabledAfter(j.state.date,j.props);break;case j.props.showYearPicker:_e=yearsDisabledAfter(j.state.date,j.props);break;case j.props.showQuarterYearPicker:_e=quarterDisabledAfter(j.state.date,j.props);break;default:_e=monthDisabledAfter(j.state.date,j.props);break}if(!(!j.props.forceShowMonthNavigation&&!j.props.showDisabledMonthNavigation&&_e||j.props.showTimeSelectOnly)){var et=["react-datepicker__navigation","react-datepicker__navigation--next"],tt=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];j.props.showTimeSelect&&et.push("react-datepicker__navigation--next--with-time"),j.props.todayButton&&et.push("react-datepicker__navigation--next--with-today-button");var nt=j.increaseMonth;(j.props.showMonthYearPicker||j.props.showQuarterYearPicker||j.props.showYearPicker)&&(nt=j.increaseYear),_e&&j.props.showDisabledMonthNavigation&&(et.push("react-datepicker__navigation--next--disabled"),nt=null);var it=j.props.showMonthYearPicker||j.props.showQuarterYearPicker||j.props.showYearPicker,lt=j.props,dt=lt.nextMonthButtonLabel,bt=lt.nextYearButtonLabel,Ht=j.props,pr=Ht.nextMonthAriaLabel,_n=pr===void 0?typeof dt=="string"?dt:"Next Month":pr,ft=Ht.nextYearAriaLabel,Ct=ft===void 0?typeof bt=="string"?bt:"Next Year":ft;return React.createElement("button",{type:"button",className:et.join(" "),onClick:nt,onKeyDown:j.props.handleOnKeyDown,"aria-label":it?Ct:_n},React.createElement("span",{className:tt.join(" ")},it?j.props.nextYearButtonLabel:j.props.nextMonthButtonLabel))}}}),_defineProperty(j,"renderCurrentMonth",function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j.state.date,et=["react-datepicker__current-month"];return j.props.showYearDropdown&&et.push("react-datepicker__current-month--hasYearDropdown"),j.props.showMonthDropdown&&et.push("react-datepicker__current-month--hasMonthDropdown"),j.props.showMonthYearDropdown&&et.push("react-datepicker__current-month--hasMonthYearDropdown"),React.createElement("div",{className:et.join(" ")},formatDate(_e,j.props.dateFormat,j.props.locale))}),_defineProperty(j,"renderYearDropdown",function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!j.props.showYearDropdown||_e))return React.createElement(YearDropdown,{adjustDateOnChange:j.props.adjustDateOnChange,date:j.state.date,onSelect:j.props.onSelect,setOpen:j.props.setOpen,dropdownMode:j.props.dropdownMode,onChange:j.changeYear,minDate:j.props.minDate,maxDate:j.props.maxDate,year:getYear(j.state.date),scrollableYearDropdown:j.props.scrollableYearDropdown,yearDropdownItemNumber:j.props.yearDropdownItemNumber})}),_defineProperty(j,"renderMonthDropdown",function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!j.props.showMonthDropdown||_e))return React.createElement(MonthDropdown,{dropdownMode:j.props.dropdownMode,locale:j.props.locale,onChange:j.changeMonth,month:getMonth(j.state.date),useShortMonthInDropdown:j.props.useShortMonthInDropdown})}),_defineProperty(j,"renderMonthYearDropdown",function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!j.props.showMonthYearDropdown||_e))return React.createElement(MonthYearDropdown,{dropdownMode:j.props.dropdownMode,locale:j.props.locale,dateFormat:j.props.dateFormat,onChange:j.changeMonthYear,minDate:j.props.minDate,maxDate:j.props.maxDate,date:j.state.date,scrollableMonthYearDropdown:j.props.scrollableMonthYearDropdown})}),_defineProperty(j,"handleTodayButtonClick",function(_e){j.props.onSelect(getStartOfToday(),_e),j.props.setPreSelection&&j.props.setPreSelection(getStartOfToday())}),_defineProperty(j,"renderTodayButton",function(){if(!(!j.props.todayButton||j.props.showTimeSelectOnly))return React.createElement("div",{className:"react-datepicker__today-button",onClick:function(et){return j.handleTodayButtonClick(et)}},j.props.todayButton)}),_defineProperty(j,"renderDefaultHeader",function(_e){var et=_e.monthDate,tt=_e.i;return React.createElement("div",{className:"react-datepicker__header ".concat(j.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},j.renderCurrentMonth(et),React.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(j.props.dropdownMode),onFocus:j.handleDropdownFocus},j.renderMonthDropdown(tt!==0),j.renderMonthYearDropdown(tt!==0),j.renderYearDropdown(tt!==0)),React.createElement("div",{className:"react-datepicker__day-names"},j.header(et)))}),_defineProperty(j,"renderCustomHeader",function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=_e.monthDate,tt=_e.i;if(j.props.showTimeSelect&&!j.state.monthContainer||j.props.showTimeSelectOnly)return null;var nt=monthDisabledBefore(j.state.date,j.props),it=monthDisabledAfter(j.state.date,j.props),lt=yearDisabledBefore(j.state.date,j.props),dt=yearDisabledAfter(j.state.date,j.props),bt=!j.props.showMonthYearPicker&&!j.props.showQuarterYearPicker&&!j.props.showYearPicker;return React.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:j.props.onDropdownFocus},j.props.renderCustomHeader(_objectSpread2(_objectSpread2({},j.state),{},{customHeaderCount:tt,monthDate:et,changeMonth:j.changeMonth,changeYear:j.changeYear,decreaseMonth:j.decreaseMonth,increaseMonth:j.increaseMonth,decreaseYear:j.decreaseYear,increaseYear:j.increaseYear,prevMonthButtonDisabled:nt,nextMonthButtonDisabled:it,prevYearButtonDisabled:lt,nextYearButtonDisabled:dt})),bt&&React.createElement("div",{className:"react-datepicker__day-names"},j.header(et)))}),_defineProperty(j,"renderYearHeader",function(_e){var et=_e.monthDate,tt=j.props,nt=tt.showYearPicker,it=tt.yearItemNumber,lt=getYearsPeriod(et,it),dt=lt.startPeriod,bt=lt.endPeriod;return React.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},nt?"".concat(dt," - ").concat(bt):getYear(et))}),_defineProperty(j,"renderHeader",function(_e){switch(!0){case j.props.renderCustomHeader!==void 0:return j.renderCustomHeader(_e);case(j.props.showMonthYearPicker||j.props.showQuarterYearPicker||j.props.showYearPicker):return j.renderYearHeader(_e);default:return j.renderDefaultHeader(_e)}}),_defineProperty(j,"renderMonths",function(){var _e;if(!(j.props.showTimeSelectOnly||j.props.showYearPicker)){for(var et=[],tt=j.props.showPreviousMonths?j.props.monthsShown-1:0,nt=j.props.showMonthYearPicker||j.props.showQuarterYearPicker?addYears(j.state.date,tt):subMonths(j.state.date,tt),it=(_e=j.props.monthSelectedIn)!==null&&_e!==void 0?_e:tt,lt=0;lt<j.props.monthsShown;++lt){var dt=lt-it+tt,bt=j.props.showMonthYearPicker||j.props.showQuarterYearPicker?addYears(nt,dt):addMonths(nt,dt),Ht="month-".concat(lt),pr=lt<j.props.monthsShown-1,_n=lt>0;et.push(React.createElement("div",{key:Ht,ref:function(Ct){j.monthContainer=Ct},className:"react-datepicker__month-container"},j.renderHeader({monthDate:bt,i:lt}),React.createElement(Month,{chooseDayAriaLabelPrefix:j.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:j.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:j.props.weekAriaLabelPrefix,ariaLabelPrefix:j.props.monthAriaLabelPrefix,onChange:j.changeMonthYear,day:bt,dayClassName:j.props.dayClassName,calendarStartDay:j.props.calendarStartDay,monthClassName:j.props.monthClassName,onDayClick:j.handleDayClick,handleOnKeyDown:j.props.handleOnDayKeyDown,handleOnMonthKeyDown:j.props.handleOnKeyDown,usePointerEvent:j.props.usePointerEvent,onDayMouseEnter:j.handleDayMouseEnter,onMouseLeave:j.handleMonthMouseLeave,onWeekSelect:j.props.onWeekSelect,orderInDisplay:lt,formatWeekNumber:j.props.formatWeekNumber,locale:j.props.locale,minDate:j.props.minDate,maxDate:j.props.maxDate,excludeDates:j.props.excludeDates,excludeDateIntervals:j.props.excludeDateIntervals,highlightDates:j.props.highlightDates,holidays:j.props.holidays,selectingDate:j.state.selectingDate,includeDates:j.props.includeDates,includeDateIntervals:j.props.includeDateIntervals,inline:j.props.inline,shouldFocusDayInline:j.props.shouldFocusDayInline,fixedHeight:j.props.fixedHeight,filterDate:j.props.filterDate,preSelection:j.props.preSelection,setPreSelection:j.props.setPreSelection,selected:j.props.selected,selectsStart:j.props.selectsStart,selectsEnd:j.props.selectsEnd,selectsRange:j.props.selectsRange,selectsDisabledDaysInRange:j.props.selectsDisabledDaysInRange,selectsMultiple:j.props.selectsMultiple,selectedDates:j.props.selectedDates,showWeekNumbers:j.props.showWeekNumbers,startDate:j.props.startDate,endDate:j.props.endDate,peekNextMonth:j.props.peekNextMonth,setOpen:j.props.setOpen,shouldCloseOnSelect:j.props.shouldCloseOnSelect,renderDayContents:j.props.renderDayContents,renderMonthContent:j.props.renderMonthContent,renderQuarterContent:j.props.renderQuarterContent,renderYearContent:j.props.renderYearContent,disabledKeyboardNavigation:j.props.disabledKeyboardNavigation,showMonthYearPicker:j.props.showMonthYearPicker,showFullMonthYearPicker:j.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:j.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:j.props.showFourColumnMonthYearPicker,showYearPicker:j.props.showYearPicker,showQuarterYearPicker:j.props.showQuarterYearPicker,showWeekPicker:j.props.showWeekPicker,isInputFocused:j.props.isInputFocused,containerRef:j.containerRef,monthShowsDuplicateDaysEnd:pr,monthShowsDuplicateDaysStart:_n})))}return et}}),_defineProperty(j,"renderYears",function(){if(!j.props.showTimeSelectOnly&&j.props.showYearPicker)return React.createElement("div",{className:"react-datepicker__year--container"},j.renderHeader({monthDate:j.state.date}),React.createElement(Year,_extends({onDayClick:j.handleDayClick,selectingDate:j.state.selectingDate,clearSelectingDate:j.clearSelectingDate,date:j.state.date},j.props,{onYearMouseEnter:j.handleYearMouseEnter,onYearMouseLeave:j.handleYearMouseLeave})))}),_defineProperty(j,"renderTimeSection",function(){if(j.props.showTimeSelect&&(j.state.monthContainer||j.props.showTimeSelectOnly))return React.createElement(Time,{selected:j.props.selected,openToDate:j.props.openToDate,onChange:j.props.onTimeChange,timeClassName:j.props.timeClassName,format:j.props.timeFormat,includeTimes:j.props.includeTimes,intervals:j.props.timeIntervals,minTime:j.props.minTime,maxTime:j.props.maxTime,excludeTimes:j.props.excludeTimes,filterTime:j.props.filterTime,timeCaption:j.props.timeCaption,todayButton:j.props.todayButton,showMonthDropdown:j.props.showMonthDropdown,showMonthYearDropdown:j.props.showMonthYearDropdown,showYearDropdown:j.props.showYearDropdown,withPortal:j.props.withPortal,monthRef:j.state.monthContainer,injectTimes:j.props.injectTimes,locale:j.props.locale,handleOnKeyDown:j.props.handleOnKeyDown,showTimeSelectOnly:j.props.showTimeSelectOnly})}),_defineProperty(j,"renderInputTimeSection",function(){var _e=new Date(j.props.selected),et=isValid(_e)&&!!j.props.selected,tt=et?"".concat(addZero(_e.getHours()),":").concat(addZero(_e.getMinutes())):"";if(j.props.showTimeInput)return React.createElement(inputTime,{date:_e,timeString:tt,timeInputLabel:j.props.timeInputLabel,onChange:j.props.onTimeChange,customTimeInput:j.props.customTimeInput})}),_defineProperty(j,"renderAriaLiveRegion",function(){var _e=getYearsPeriod(j.state.date,j.props.yearItemNumber),et=_e.startPeriod,tt=_e.endPeriod,nt;return j.props.showYearPicker?nt="".concat(et," - ").concat(tt):j.props.showMonthYearPicker||j.props.showQuarterYearPicker?nt=getYear(j.state.date):nt="".concat(getMonthInLocale(getMonth(j.state.date),j.props.locale)," ").concat(getYear(j.state.date)),React.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},j.state.isRenderAriaLiveMessage&&nt)}),_defineProperty(j,"renderChildren",function(){if(j.props.children)return React.createElement("div",{className:"react-datepicker__children-container"},j.props.children)}),j.containerRef=React.createRef(),j.state={date:j.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},j}return _inherits(_,o),_createClass(_,[{key:"componentDidMount",value:function(){var j=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){j.setState({monthContainer:j.monthContainer})}())}},{key:"componentDidUpdate",value:function(j){var _e=this;if(this.props.preSelection&&(!isSameDay(this.props.preSelection,j.preSelection)||this.props.monthSelectedIn!==j.monthSelectedIn)){var et=!isSameMonth(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return et&&_e.handleCustomMonthChange(_e.state.date)})}else this.props.openToDate&&!isSameDay(this.props.openToDate,j.openToDate)&&this.setState({date:this.props.openToDate})}},{key:"render",value:function(){var j=this.props.container||CalendarContainer;return React.createElement("div",{style:{display:"contents"},ref:this.containerRef},React.createElement(j,{className:clsx$1("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:DEFAULT_YEAR_ITEM_NUMBER}}}])}(React.Component),CalendarIcon=function o(_){var $=_.icon,j=_.className,_e=j===void 0?"":j,et=_.onClick,tt="react-datepicker__calendar-icon";return React.isValidElement($)?React.cloneElement($,{className:"".concat($.props.className||""," ").concat(tt," ").concat(_e),onClick:function(it){typeof $.props.onClick=="function"&&$.props.onClick(it),typeof et=="function"&&et(it)}}):typeof $=="string"?React.createElement("i",{className:"".concat(tt," ").concat($," ").concat(_e),"aria-hidden":"true",onClick:et}):React.createElement("svg",{className:"".concat(tt," ").concat(_e),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:et},React.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},CalendarIcon$1=CalendarIcon,Portal=function(o){function _($){var j;return _classCallCheck(this,_),j=_callSuper(this,_,[$]),j.el=document.createElement("div"),j}return _inherits(_,o),_createClass(_,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return ReactDOM.createPortal(this.props.children,this.el)}}])}(React.Component),focusableElementsSelector="[tabindex], a, button, input, select, textarea",focusableFilter=function o(_){return!_.disabled&&_.tabIndex!==-1},TabLoop=function(o){function _($){var j;return _classCallCheck(this,_),j=_callSuper(this,_,[$]),_defineProperty(j,"getTabChildren",function(){return Array.prototype.slice.call(j.tabLoopRef.current.querySelectorAll(focusableElementsSelector),1,-1).filter(focusableFilter)}),_defineProperty(j,"handleFocusStart",function(){var _e=j.getTabChildren();_e&&_e.length>1&&_e[_e.length-1].focus()}),_defineProperty(j,"handleFocusEnd",function(){var _e=j.getTabChildren();_e&&_e.length>1&&_e[0].focus()}),j.tabLoopRef=React.createRef(),j}return _inherits(_,o),_createClass(_,[{key:"render",value:function(){return this.props.enableTabLoop?React.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},React.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,React.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}])}(React.Component);function withFloating(o){var _=function(j){var _e=_objectSpread2(_objectSpread2({},j),{},{popperModifiers:j.popperModifiers||[],popperProps:j.popperProps||{},hidePopper:typeof j.hidePopper=="boolean"?j.hidePopper:!0}),et=React.useRef(),tt=useFloating(_objectSpread2({open:!_e.hidePopper,whileElementsMounted:autoUpdate,placement:_e.popperPlacement,middleware:[flip({padding:15}),offset(10),arrow({element:et})].concat(_toConsumableArray(_e.popperModifiers))},_e.popperProps));return React.createElement(o,_extends({},_e,{popperProps:_objectSpread2(_objectSpread2({},tt),{},{arrowRef:et})}))};return _}var PopperComponent=function(o){function _(){return _classCallCheck(this,_),_callSuper(this,_,arguments)}return _inherits(_,o),_createClass(_,[{key:"render",value:function(){var j=this.props,_e=j.className,et=j.wrapperClassName,tt=j.hidePopper,nt=j.popperComponent,it=j.targetComponent,lt=j.enableTabLoop,dt=j.popperOnKeyDown,bt=j.portalId,Ht=j.portalHost,pr=j.popperProps,_n=j.showArrow,ft;if(!tt){var Ct=clsx$1("react-datepicker-popper",_e);ft=React.createElement(TabLoop,{enableTabLoop:lt},React.createElement("div",{ref:pr.refs.setFloating,style:pr.floatingStyles,className:Ct,"data-placement":pr.placement,onKeyDown:dt},nt,_n&&React.createElement(FloatingArrow,{ref:pr.arrowRef,context:pr.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(ft=React.createElement(this.props.popperContainer,{},ft)),bt&&!tt&&(ft=React.createElement(Portal,{portalId:bt,portalHost:Ht},ft));var mr=clsx$1("react-datepicker-wrapper",et);return React.createElement(React.Fragment,null,React.createElement("div",{ref:pr.refs.setReference,className:mr},it),ft)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0}}}])}(React.Component),PopperComponent$1=withFloating(PopperComponent),outsideClickIgnoreClass="react-datepicker-ignore-onclickoutside",WrappedCalendar=onClickOutsideHOC(Calendar);function hasPreSelectionChanged(o,_){return o&&_?getMonth(o)!==getMonth(_)||getYear(o)!==getYear(_):o!==_}var INPUT_ERR_1="Date input not valid.",DatePicker=function(o){function _($){var j;return _classCallCheck(this,_),j=_callSuper(this,_,[$]),_defineProperty(j,"getPreSelection",function(){return j.props.openToDate?j.props.openToDate:j.props.selectsEnd&&j.props.startDate?j.props.startDate:j.props.selectsStart&&j.props.endDate?j.props.endDate:newDate()}),_defineProperty(j,"modifyHolidays",function(){var _e;return(_e=j.props.holidays)===null||_e===void 0?void 0:_e.reduce(function(et,tt){var nt=new Date(tt.date);return isValid$1(nt)?[].concat(_toConsumableArray(et),[_objectSpread2(_objectSpread2({},tt),{},{date:nt})]):et},[])}),_defineProperty(j,"calcInitialState",function(){var _e,et=j.getPreSelection(),tt=getEffectiveMinDate(j.props),nt=getEffectiveMaxDate(j.props),it=tt&&isBefore(et,startOfDay(tt))?tt:nt&&isAfter(et,endOfDay(nt))?nt:et;return{open:j.props.startOpen||!1,preventFocus:!1,preSelection:(_e=j.props.selectsRange?j.props.startDate:j.props.selected)!==null&&_e!==void 0?_e:it,highlightDates:getHightLightDaysMap(j.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}}),_defineProperty(j,"clearPreventFocusTimeout",function(){j.preventFocusTimeout&&clearTimeout(j.preventFocusTimeout)}),_defineProperty(j,"setFocus",function(){j.input&&j.input.focus&&j.input.focus({preventScroll:!0})}),_defineProperty(j,"setBlur",function(){j.input&&j.input.blur&&j.input.blur(),j.cancelFocusInput()}),_defineProperty(j,"setOpen",function(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;j.setState({open:_e,preSelection:_e&&j.state.open?j.state.preSelection:j.calcInitialState().preSelection,lastPreSelectChange:PRESELECT_CHANGE_VIA_NAVIGATE},function(){_e||j.setState(function(tt){return{focused:et?tt.focused:!1}},function(){!et&&j.setBlur(),j.setState({inputValue:null})})})}),_defineProperty(j,"inputOk",function(){return isDate(j.state.preSelection)}),_defineProperty(j,"isCalendarOpen",function(){return j.props.open===void 0?j.state.open&&!j.props.disabled&&!j.props.readOnly:j.props.open}),_defineProperty(j,"handleFocus",function(_e){j.state.preventFocus||(j.props.onFocus(_e),!j.props.preventOpenOnFocus&&!j.props.readOnly&&j.setOpen(!0)),j.setState({focused:!0})}),_defineProperty(j,"sendFocusBackToInput",function(){j.preventFocusTimeout&&j.clearPreventFocusTimeout(),j.setState({preventFocus:!0},function(){j.preventFocusTimeout=setTimeout(function(){j.setFocus(),j.setState({preventFocus:!1})})})}),_defineProperty(j,"cancelFocusInput",function(){clearTimeout(j.inputFocusTimeout),j.inputFocusTimeout=null}),_defineProperty(j,"deferFocusInput",function(){j.cancelFocusInput(),j.inputFocusTimeout=setTimeout(function(){return j.setFocus()},1)}),_defineProperty(j,"handleDropdownFocus",function(){j.cancelFocusInput()}),_defineProperty(j,"handleBlur",function(_e){(!j.state.open||j.props.withPortal||j.props.showTimeInput)&&j.props.onBlur(_e),j.setState({focused:!1})}),_defineProperty(j,"handleCalendarClickOutside",function(_e){j.props.inline||j.setOpen(!1),j.props.onClickOutside(_e),j.props.withPortal&&_e.preventDefault()}),_defineProperty(j,"handleChange",function(){for(var _e=arguments.length,et=new Array(_e),tt=0;tt<_e;tt++)et[tt]=arguments[tt];var nt=et[0];if(!(j.props.onChangeRaw&&(j.props.onChangeRaw.apply(j,et),typeof nt.isDefaultPrevented!="function"||nt.isDefaultPrevented()))){j.setState({inputValue:nt.target.value,lastPreSelectChange:PRESELECT_CHANGE_VIA_INPUT});var it=parseDate(nt.target.value,j.props.dateFormat,j.props.locale,j.props.strictParsing,j.props.minDate);j.props.showTimeSelectOnly&&j.props.selected&&it&&!isSameDay(it,j.props.selected)&&(it=set(j.props.selected,{hours:getHours(it),minutes:getMinutes(it),seconds:getSeconds(it)})),(it||!nt.target.value)&&j.setSelected(it,nt,!0)}}),_defineProperty(j,"handleSelect",function(_e,et,tt){if(j.props.shouldCloseOnSelect&&!j.props.showTimeSelect&&j.sendFocusBackToInput(),j.props.onChangeRaw&&j.props.onChangeRaw(et),j.setSelected(_e,et,!1,tt),j.props.showDateSelect&&j.setState({isRenderAriaLiveMessage:!0}),!j.props.shouldCloseOnSelect||j.props.showTimeSelect)j.setPreSelection(_e);else if(!j.props.inline){j.props.selectsRange||j.setOpen(!1);var nt=j.props,it=nt.startDate,lt=nt.endDate;it&&!lt&&(j.props.swapRange||!isDateBefore(_e,it))&&j.setOpen(!1)}}),_defineProperty(j,"setSelected",function(_e,et,tt,nt){var it=_e;if(j.props.showYearPicker){if(it!==null&&isYearDisabled(getYear(it),j.props))return}else if(j.props.showMonthYearPicker){if(it!==null&&isMonthDisabled(it,j.props))return}else if(it!==null&&isDayDisabled(it,j.props))return;var lt=j.props,dt=lt.onChange,bt=lt.selectsRange,Ht=lt.startDate,pr=lt.endDate,_n=lt.selectsMultiple,ft=lt.selectedDates,Ct=lt.minTime,mr=lt.swapRange;if(!isEqual(j.props.selected,it)||j.props.allowSameDay||bt||_n)if(it!==null&&(j.props.selected&&(!tt||!j.props.showTimeSelect&&!j.props.showTimeSelectOnly&&!j.props.showTimeInput)&&(it=setTime(it,{hour:getHours(j.props.selected),minute:getMinutes(j.props.selected),second:getSeconds(j.props.selected)})),!tt&&(j.props.showTimeSelect||j.props.showTimeSelectOnly)&&Ct&&(it=setTime(it,{hour:Ct.getHours(),minute:Ct.getMinutes(),second:Ct.getSeconds()})),j.props.inline||j.setState({preSelection:it}),j.props.focusSelectedMonth||j.setState({monthSelectedIn:nt})),bt){var _r=!Ht&&!pr,mn=Ht&&!pr,dr=Ht&&pr;_r?dt([it,null],et):mn&&(it===null?dt([null,null],et):isDateBefore(it,Ht)?dt(mr?[it,Ht]:[it,null],et):dt([Ht,it],et)),dr&&dt([it,null],et)}else if(_n)if(!(ft!=null&&ft.length))dt([it],et);else{var pn=ft.some(function(Io){return isSameDay(Io,it)});if(pn){var Do=ft.filter(function(Io){return!isSameDay(Io,it)});dt(Do,et)}else dt([].concat(_toConsumableArray(ft),[it]),et)}else dt(it,et);tt||(j.props.onSelect(it,et),j.setState({inputValue:null}))}),_defineProperty(j,"setPreSelection",function(_e){var et=typeof j.props.minDate<"u",tt=typeof j.props.maxDate<"u",nt=!0;if(_e){var it=startOfDay(_e);if(et&&tt)nt=isDayInRange(_e,j.props.minDate,j.props.maxDate);else if(et){var lt=startOfDay(j.props.minDate);nt=isAfter(_e,lt)||isEqual(it,lt)}else if(tt){var dt=endOfDay(j.props.maxDate);nt=isBefore(_e,dt)||isEqual(it,dt)}}nt&&j.setState({preSelection:_e})}),_defineProperty(j,"toggleCalendar",function(){j.setOpen(!j.state.open)}),_defineProperty(j,"handleTimeChange",function(_e){var et=j.props.selected?j.props.selected:j.getPreSelection(),tt=j.props.selected?_e:setTime(et,{hour:getHours(_e),minute:getMinutes(_e)});j.setState({preSelection:tt}),j.props.onChange(tt),j.props.shouldCloseOnSelect&&(j.sendFocusBackToInput(),j.setOpen(!1)),j.props.showTimeInput&&j.setOpen(!0),(j.props.showTimeSelectOnly||j.props.showTimeSelect)&&j.setState({isRenderAriaLiveMessage:!0}),j.setState({inputValue:null})}),_defineProperty(j,"onInputClick",function(){!j.props.disabled&&!j.props.readOnly&&j.setOpen(!0),j.props.onInputClick()}),_defineProperty(j,"onInputKeyDown",function(_e){j.props.onKeyDown(_e);var et=_e.key;if(!j.state.open&&!j.props.inline&&!j.props.preventOpenOnFocus){(et==="ArrowDown"||et==="ArrowUp"||et==="Enter")&&j.onInputClick();return}if(j.state.open){if(et==="ArrowDown"||et==="ArrowUp"){_e.preventDefault();var tt=j.props.showWeekPicker&&j.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':j.props.showFullMonthYearPicker||j.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',nt=j.calendar.componentNode&&j.calendar.componentNode.querySelector(tt);nt&&nt.focus({preventScroll:!0});return}var it=newDate(j.state.preSelection);et==="Enter"?(_e.preventDefault(),j.inputOk()&&j.state.lastPreSelectChange===PRESELECT_CHANGE_VIA_NAVIGATE?(j.handleSelect(it,_e),!j.props.shouldCloseOnSelect&&j.setPreSelection(it)):j.setOpen(!1)):et==="Escape"?(_e.preventDefault(),j.sendFocusBackToInput(),j.setOpen(!1)):et==="Tab"&&j.setOpen(!1),j.inputOk()||j.props.onInputError({code:1,msg:INPUT_ERR_1})}}),_defineProperty(j,"onPortalKeyDown",function(_e){var et=_e.key;et==="Escape"&&(_e.preventDefault(),j.setState({preventFocus:!0},function(){j.setOpen(!1),setTimeout(function(){j.setFocus(),j.setState({preventFocus:!1})})}))}),_defineProperty(j,"onDayKeyDown",function(_e){j.props.onKeyDown(_e);var et=_e.key,tt=_e.shiftKey,nt=newDate(j.state.preSelection);if(et==="Enter")_e.preventDefault(),j.handleSelect(nt,_e),!j.props.shouldCloseOnSelect&&j.setPreSelection(nt);else if(et==="Escape")_e.preventDefault(),j.setOpen(!1),j.inputOk()||j.props.onInputError({code:1,msg:INPUT_ERR_1});else if(!j.props.disabledKeyboardNavigation){var it;switch(et){case"ArrowLeft":j.props.showWeekPicker?it=subWeeks(nt,1):it=subDays(nt,1);break;case"ArrowRight":j.props.showWeekPicker?it=addWeeks(nt,1):it=addDays(nt,1);break;case"ArrowUp":it=subWeeks(nt,1);break;case"ArrowDown":it=addWeeks(nt,1);break;case"PageUp":it=tt?subYears(nt,1):subMonths(nt,1);break;case"PageDown":it=tt?addYears(nt,1):addMonths(nt,1);break;case"Home":it=getStartOfWeek(nt,j.props.locale,j.props.calendarStartDay);break;case"End":it=getEndOfWeek(nt);break;default:it=null;break}if(!it){j.props.onInputError&&j.props.onInputError({code:1,msg:INPUT_ERR_1});return}if(_e.preventDefault(),j.setState({lastPreSelectChange:PRESELECT_CHANGE_VIA_NAVIGATE}),j.props.adjustDateOnChange&&j.setSelected(it),j.setPreSelection(it),j.props.inline){var lt=getMonth(nt),dt=getMonth(it),bt=getYear(nt),Ht=getYear(it);lt!==dt||bt!==Ht?j.setState({shouldFocusDayInline:!0}):j.setState({shouldFocusDayInline:!1})}}}),_defineProperty(j,"onPopperKeyDown",function(_e){var et=_e.key;et==="Escape"&&(_e.preventDefault(),j.sendFocusBackToInput())}),_defineProperty(j,"onClearClick",function(_e){_e&&_e.preventDefault&&_e.preventDefault(),j.sendFocusBackToInput(),j.props.selectsRange?j.props.onChange([null,null],_e):j.props.onChange(null,_e),j.setState({inputValue:null})}),_defineProperty(j,"clear",function(){j.onClearClick()}),_defineProperty(j,"onScroll",function(_e){typeof j.props.closeOnScroll=="boolean"&&j.props.closeOnScroll?(_e.target===document||_e.target===document.documentElement||_e.target===document.body)&&j.setOpen(!1):typeof j.props.closeOnScroll=="function"&&j.props.closeOnScroll(_e)&&j.setOpen(!1)}),_defineProperty(j,"renderCalendar",function(){return!j.props.inline&&!j.isCalendarOpen()?null:React.createElement(WrappedCalendar,{ref:function(et){j.calendar=et},locale:j.props.locale,calendarStartDay:j.props.calendarStartDay,chooseDayAriaLabelPrefix:j.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:j.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:j.props.weekAriaLabelPrefix,monthAriaLabelPrefix:j.props.monthAriaLabelPrefix,adjustDateOnChange:j.props.adjustDateOnChange,setOpen:j.setOpen,shouldCloseOnSelect:j.props.shouldCloseOnSelect,dateFormat:j.props.dateFormatCalendar,useWeekdaysShort:j.props.useWeekdaysShort,formatWeekDay:j.props.formatWeekDay,dropdownMode:j.props.dropdownMode,selected:j.props.selected,preSelection:j.state.preSelection,onSelect:j.handleSelect,onWeekSelect:j.props.onWeekSelect,openToDate:j.props.openToDate,minDate:j.props.minDate,maxDate:j.props.maxDate,selectsStart:j.props.selectsStart,selectsEnd:j.props.selectsEnd,selectsRange:j.props.selectsRange,selectsMultiple:j.props.selectsMultiple,selectedDates:j.props.selectedDates,startDate:j.props.startDate,endDate:j.props.endDate,excludeDates:j.props.excludeDates,excludeDateIntervals:j.props.excludeDateIntervals,filterDate:j.props.filterDate,onClickOutside:j.handleCalendarClickOutside,formatWeekNumber:j.props.formatWeekNumber,highlightDates:j.state.highlightDates,holidays:getHolidaysMap(j.modifyHolidays()),includeDates:j.props.includeDates,includeDateIntervals:j.props.includeDateIntervals,includeTimes:j.props.includeTimes,injectTimes:j.props.injectTimes,inline:j.props.inline,shouldFocusDayInline:j.state.shouldFocusDayInline,peekNextMonth:j.props.peekNextMonth,showMonthDropdown:j.props.showMonthDropdown,showPreviousMonths:j.props.showPreviousMonths,useShortMonthInDropdown:j.props.useShortMonthInDropdown,showMonthYearDropdown:j.props.showMonthYearDropdown,showWeekNumbers:j.props.showWeekNumbers,showYearDropdown:j.props.showYearDropdown,withPortal:j.props.withPortal,forceShowMonthNavigation:j.props.forceShowMonthNavigation,showDisabledMonthNavigation:j.props.showDisabledMonthNavigation,scrollableYearDropdown:j.props.scrollableYearDropdown,scrollableMonthYearDropdown:j.props.scrollableMonthYearDropdown,todayButton:j.props.todayButton,weekLabel:j.props.weekLabel,outsideClickIgnoreClass,fixedHeight:j.props.fixedHeight,monthsShown:j.props.monthsShown,monthSelectedIn:j.state.monthSelectedIn,onDropdownFocus:j.handleDropdownFocus,onMonthChange:j.props.onMonthChange,onYearChange:j.props.onYearChange,dayClassName:j.props.dayClassName,weekDayClassName:j.props.weekDayClassName,monthClassName:j.props.monthClassName,timeClassName:j.props.timeClassName,showDateSelect:j.props.showDateSelect,showTimeSelect:j.props.showTimeSelect,showTimeSelectOnly:j.props.showTimeSelectOnly,onTimeChange:j.handleTimeChange,timeFormat:j.props.timeFormat,timeIntervals:j.props.timeIntervals,minTime:j.props.minTime,maxTime:j.props.maxTime,excludeTimes:j.props.excludeTimes,filterTime:j.props.filterTime,timeCaption:j.props.timeCaption,className:j.props.calendarClassName,container:j.props.calendarContainer,yearItemNumber:j.props.yearItemNumber,yearDropdownItemNumber:j.props.yearDropdownItemNumber,previousMonthAriaLabel:j.props.previousMonthAriaLabel,previousMonthButtonLabel:j.props.previousMonthButtonLabel,nextMonthAriaLabel:j.props.nextMonthAriaLabel,nextMonthButtonLabel:j.props.nextMonthButtonLabel,previousYearAriaLabel:j.props.previousYearAriaLabel,previousYearButtonLabel:j.props.previousYearButtonLabel,nextYearAriaLabel:j.props.nextYearAriaLabel,nextYearButtonLabel:j.props.nextYearButtonLabel,timeInputLabel:j.props.timeInputLabel,disabledKeyboardNavigation:j.props.disabledKeyboardNavigation,renderCustomHeader:j.props.renderCustomHeader,popperProps:j.props.popperProps,renderDayContents:j.props.renderDayContents,renderMonthContent:j.props.renderMonthContent,renderQuarterContent:j.props.renderQuarterContent,renderYearContent:j.props.renderYearContent,onDayMouseEnter:j.props.onDayMouseEnter,onMonthMouseLeave:j.props.onMonthMouseLeave,onYearMouseEnter:j.props.onYearMouseEnter,onYearMouseLeave:j.props.onYearMouseLeave,selectsDisabledDaysInRange:j.props.selectsDisabledDaysInRange,showTimeInput:j.props.showTimeInput,showMonthYearPicker:j.props.showMonthYearPicker,showFullMonthYearPicker:j.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:j.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:j.props.showFourColumnMonthYearPicker,showYearPicker:j.props.showYearPicker,showQuarterYearPicker:j.props.showQuarterYearPicker,showWeekPicker:j.props.showWeekPicker,excludeScrollbar:j.props.excludeScrollbar,handleOnKeyDown:j.props.onKeyDown,handleOnDayKeyDown:j.onDayKeyDown,isInputFocused:j.state.focused,customTimeInput:j.props.customTimeInput,setPreSelection:j.setPreSelection,usePointerEvent:j.props.usePointerEvent,yearClassName:j.props.yearClassName},j.props.children)}),_defineProperty(j,"renderAriaLiveRegion",function(){var _e=j.props,et=_e.dateFormat,tt=_e.locale,nt=j.props.showTimeInput||j.props.showTimeSelect,it=nt?"PPPPp":"PPPP",lt;return j.props.selectsRange?lt="Selected start date: ".concat(safeDateFormat(j.props.startDate,{dateFormat:it,locale:tt}),". ").concat(j.props.endDate?"End date: "+safeDateFormat(j.props.endDate,{dateFormat:it,locale:tt}):""):j.props.showTimeSelectOnly?lt="Selected time: ".concat(safeDateFormat(j.props.selected,{dateFormat:et,locale:tt})):j.props.showYearPicker?lt="Selected year: ".concat(safeDateFormat(j.props.selected,{dateFormat:"yyyy",locale:tt})):j.props.showMonthYearPicker?lt="Selected month: ".concat(safeDateFormat(j.props.selected,{dateFormat:"MMMM yyyy",locale:tt})):j.props.showQuarterYearPicker?lt="Selected quarter: ".concat(safeDateFormat(j.props.selected,{dateFormat:"yyyy, QQQ",locale:tt})):lt="Selected date: ".concat(safeDateFormat(j.props.selected,{dateFormat:it,locale:tt})),React.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},lt)}),_defineProperty(j,"renderDateInput",function(){var _e,et=clsx$1(j.props.className,_defineProperty({},outsideClickIgnoreClass,j.state.open)),tt=j.props.customInput||React.createElement("input",{type:"text"}),nt=j.props.customInputRef||"ref",it=typeof j.props.value=="string"?j.props.value:typeof j.state.inputValue=="string"?j.state.inputValue:j.props.selectsRange?safeDateRangeFormat(j.props.startDate,j.props.endDate,j.props):j.props.selectsMultiple?safeMultipleDatesFormat(j.props.selectedDates,j.props):safeDateFormat(j.props.selected,j.props);return React.cloneElement(tt,(_e={},_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_e,nt,function(lt){j.input=lt}),"value",it),"onBlur",j.handleBlur),"onChange",j.handleChange),"onClick",j.onInputClick),"onFocus",j.handleFocus),"onKeyDown",j.onInputKeyDown),"id",j.props.id),"name",j.props.name),"form",j.props.form),_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_e,"autoFocus",j.props.autoFocus),"placeholder",j.props.placeholderText),"disabled",j.props.disabled),"autoComplete",j.props.autoComplete),"className",clsx$1(tt.props.className,et)),"title",j.props.title),"readOnly",j.props.readOnly),"required",j.props.required),"tabIndex",j.props.tabIndex),"aria-describedby",j.props.ariaDescribedBy),_defineProperty(_defineProperty(_defineProperty(_e,"aria-invalid",j.props.ariaInvalid),"aria-labelledby",j.props.ariaLabelledBy),"aria-required",j.props.ariaRequired)))}),_defineProperty(j,"renderClearButton",function(){var _e=j.props,et=_e.isClearable,tt=_e.disabled,nt=_e.selected,it=_e.startDate,lt=_e.endDate,dt=_e.clearButtonTitle,bt=_e.clearButtonClassName,Ht=bt===void 0?"":bt,pr=_e.ariaLabelClose,_n=pr===void 0?"Close":pr,ft=_e.selectedDates;return et&&(nt!=null||it!=null||lt!=null||ft!=null&&ft.length)?React.createElement("button",{type:"button",className:clsx$1("react-datepicker__close-icon",Ht,{"react-datepicker__close-icon--disabled":tt}),disabled:tt,"aria-label":_n,onClick:j.onClearClick,title:dt,tabIndex:-1}):null}),j.state=j.calcInitialState(),j.preventFocusTimeout=null,j}return _inherits(_,o),_createClass(_,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(j,_e){j.inline&&hasPreSelectionChanged(j.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&j.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),j.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:getHightLightDaysMap(this.props.highlightDates)}),!_e.focused&&!isEqual(j.selected,this.props.selected)&&this.setState({inputValue:null}),_e.open!==this.state.open&&(_e.open===!1&&this.state.open===!0&&this.props.onCalendarOpen(),_e.open===!0&&this.state.open===!1&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var j=this.props,_e=j.showIcon,et=j.icon,tt=j.calendarIconClassname,nt=j.toggleCalendarOnIconClick,it=this.state.open;return React.createElement("div",{className:"react-datepicker__input-container".concat(_e?" react-datepicker__view-calendar-icon":"")},_e&&React.createElement(CalendarIcon$1,_extends({icon:et,className:"".concat(tt," ").concat(it&&"react-datepicker-ignore-onclickoutside")},nt?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var j=this.renderCalendar();if(this.props.inline)return j;if(this.props.withPortal){var _e=this.state.open?React.createElement(TabLoop,{enableTabLoop:this.props.enableTabLoop},React.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},j)):null;return this.state.open&&this.props.portalId&&(_e=React.createElement(Portal,{portalId:this.props.portalId,portalHost:this.props.portalHost},_e)),React.createElement("div",null,this.renderInputContainer(),_e)}return React.createElement(PopperComponent$1,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:j,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop,showArrow:this.props.showPopperArrow})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:DEFAULT_YEAR_ITEM_NUMBER,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}}}])}(React.Component),PRESELECT_CHANGE_VIA_INPUT="input",PRESELECT_CHANGE_VIA_NAVIGATE="navigate";const COLORS=["#8FBC8F","#90EE90","#3CB371","#2E8B57","#006400","#87CEFA","#1E90FF","#0000CD","#00008B","#191970","#FFA07A","#FF7F50","#FF6347","#FF4500","#FF8C00"],extractLabel=o=>{if(!o)return"";const _=o.split(".");return _[_.length-2]},renderActiveShape=o=>{const _=Math.PI/180,{cx:$,cy:j,midAngle:_e,innerRadius:et,outerRadius:tt,startAngle:nt,endAngle:it,fill:lt,payload:dt,percent:bt,value:Ht}=o,pr=Math.sin(-_*_e),_n=Math.cos(-_*_e),ft=$+(tt+10)*_n,Ct=j+(tt+10)*pr,mr=$+(tt+30)*_n,_r=j+(tt+30)*pr,mn=mr+(_n>=0?1:-1)*22,dr=_r,pn=_n>=0?"start":"end";return jsxRuntimeExports$1.jsxs("g",{children:[jsxRuntimeExports$1.jsx(Sector,{cx:$,cy:j,innerRadius:et,outerRadius:tt,startAngle:nt,endAngle:it,fill:lt}),jsxRuntimeExports$1.jsx(Sector,{cx:$,cy:j,startAngle:nt,endAngle:it,innerRadius:tt+6,outerRadius:tt+10,fill:lt}),jsxRuntimeExports$1.jsx("path",{d:`M${ft},${Ct}L${mr},${_r}L${mn},${dr}`,stroke:lt,fill:"none"}),jsxRuntimeExports$1.jsx("circle",{cx:mn,cy:dr,r:2,fill:lt,stroke:"none"}),jsxRuntimeExports$1.jsx("text",{x:mn+(_n>=0?1:-1)*12,y:dr,textAnchor:pn,fill:"#333",fontSize:"12",fontWeight:"bold",children:`${extractLabel(dt.type)} ${(bt*100).toFixed(1)}%`}),jsxRuntimeExports$1.jsx("text",{x:mn+(_n>=0?1:-1)*12,y:dr,dy:18,textAnchor:pn,fill:"#999",fontSize:"10",children:`(${Ht} entries)`})]})},UserProcessNodesPieChart=({selectedUser:o,apiUrl:_})=>{const[$,j]=reactExports.useState([]),[_e,et]=reactExports.useState(0),[tt,nt]=reactExports.useState(!0),it=(dt,bt)=>{et(bt)},lt=async dt=>{try{const bt=dt?`${_}/nodes/full_types_count?user=${dt}`:`${_}/nodes/full_types_count`,pr=(await axios.get(bt)).data,_n=[],ft=Ct=>{Ct.full_type.startsWith("process")&&_n.push({full_type:Ct.full_type,counter:Ct.counter}),Ct.subspaces&&Ct.subspaces.length>0&&Ct.subspaces.forEach(mr=>{ft(mr)})};return ft(pr.data),_n}catch(bt){return console.error("Error fetching the data",bt),[]}};return reactExports.useEffect(()=>{(async()=>{nt(!0);const bt=await lt(o==="everybody"?null:o);j(bt),nt(!1)})()},[o,_]),tt?jsxRuntimeExports$1.jsx("div",{children:"Loading..."}):jsxRuntimeExports$1.jsx(ResponsiveContainer,{width:"100%",height:400,children:jsxRuntimeExports$1.jsx(PieChart,{children:jsxRuntimeExports$1.jsx(Pie,{activeIndex:_e,activeShape:renderActiveShape,data:$,innerRadius:80,outerRadius:120,fill:"#8884d8",dataKey:"counter",onMouseEnter:it,children:$.map((dt,bt)=>jsxRuntimeExports$1.jsx(Cell,{fill:COLORS[bt%COLORS.length]},`cell-${bt}`))})})})},Statistics=({apiUrl:o})=>{const[_,$]=reactExports.useState([]),[j,_e]=reactExports.useState([]),[et,tt]=reactExports.useState(!0),[nt,it]=reactExports.useState(new Date("2019-06-28")),[lt,dt]=reactExports.useState(new Date("2019-12-10")),[bt,Ht]=reactExports.useState(null),[pr,_n]=reactExports.useState(0),[ft,Ct]=reactExports.useState("everybody"),[mr,_r]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{try{const pn=await fetch(`${o}/users`);if(!pn.ok)throw new Error("Failed to fetch users");const Do=await pn.json();_r([{id:"everybody",name:"Everybody"},...Do.data.users.map(Io=>({id:Io.id,name:`${Io.first_name} ${Io.last_name}`.trim()}))])}catch(pn){console.error("Error fetching users:",pn),Ht("Failed to load users. Please try again later.")}})()},[o]),reactExports.useEffect(()=>{(async()=>{tt(!0),Ht(null);try{const pn=ft==="everybody"?`${o}/nodes/statistics`:`${o}/nodes/statistics?user=${ft}`,Do=await fetch(pn);if(!Do.ok)throw new Error("Network response was not ok");const Io=await Do.json();if(Io&&Io.data){const Lo=Object.entries(Io.data.ctime_by_day||{}).map(([ms,Uo])=>({date:ms,nodes:Uo}));if($(Lo),Io.data.types){const ms=Object.entries(Io.data.types).map(([Uo,_s])=>({type:Uo,count:_s}));_e(ms)}else _e([])}else $([]),_e([])}catch(pn){console.error("Error fetching statistics:",pn),Ht(pn.message),$([]),_e([])}finally{tt(!1)}})()},[o,ft]);const mn=(dr,pn)=>{_n(pn)};return jsxRuntimeExports$1.jsxs("div",{className:"mt-2 p-4 border-2 border-gray-300 rounded-lg shadow-lg",children:[jsxRuntimeExports$1.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Statistics"}),jsxRuntimeExports$1.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Select User"}),jsxRuntimeExports$1.jsx("select",{value:ft,onChange:dr=>Ct(dr.target.value),className:"border rounded p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:mr.map(dr=>jsxRuntimeExports$1.jsx("option",{value:dr.id,children:dr.name},dr.id))})]}),jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Start Date"}),jsxRuntimeExports$1.jsx(DatePicker,{selected:nt,onChange:dr=>it(dr),className:"border rounded p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"End Date"}),jsxRuntimeExports$1.jsx(DatePicker,{selected:lt,onChange:dr=>dt(dr),className:"border rounded p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),jsxRuntimeExports$1.jsxs("div",{className:"mb-6",children:[bt&&jsxRuntimeExports$1.jsx("div",{className:"text-red-500",children:bt}),et?jsxRuntimeExports$1.jsx(ClipLoader,{}):jsxRuntimeExports$1.jsx(ResponsiveContainer,{width:"100%",height:400,children:jsxRuntimeExports$1.jsxs(BarChart,{data:_,children:[jsxRuntimeExports$1.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports$1.jsx(XAxis,{dataKey:"date"}),jsxRuntimeExports$1.jsx(YAxis,{}),jsxRuntimeExports$1.jsx(Tooltip,{}),jsxRuntimeExports$1.jsx(Legend,{}),jsxRuntimeExports$1.jsx(Brush,{dataKey:"date",height:30,stroke:"#8884d8"}),jsxRuntimeExports$1.jsx(Bar,{dataKey:"nodes",fill:"#8884d8"})]})})]}),jsxRuntimeExports$1.jsxs("div",{className:"flex flex-row justify-between",children:[jsxRuntimeExports$1.jsxs("div",{className:"mb-6 w-1/2 border-r-2 border-gray-300",children:[jsxRuntimeExports$1.jsx("h3",{className:"text-xl font-semibold mb-4 text-center",children:"Number of Nodes by Type"}),et?jsxRuntimeExports$1.jsx(ClipLoader,{}):jsxRuntimeExports$1.jsx(ResponsiveContainer,{width:"100%",height:400,children:jsxRuntimeExports$1.jsx(PieChart,{children:jsxRuntimeExports$1.jsx(Pie,{activeIndex:pr,activeShape:renderActiveShape,data:j,innerRadius:80,outerRadius:120,fill:"#8884d8",dataKey:"count",onMouseEnter:mn,children:j.map((dr,pn)=>jsxRuntimeExports$1.jsx(Cell,{fill:COLORS[pn%COLORS.length]},`cell-${pn}`))})})})]}),jsxRuntimeExports$1.jsxs("div",{className:"w-1/2",children:[jsxRuntimeExports$1.jsx("h3",{className:"text-xl font-semibold mb-4 text-center",children:"User Process Nodes"}),jsxRuntimeExports$1.jsx(UserProcessNodesPieChart,{selectedUser:ft,apiUrl:o})]})]})]})},Tabs=()=>{const o=useNavigate(),_=useLocation(),[$,j]=reactExports.useState("");reactExports.useEffect(()=>{_.pathname.includes("details")?j("details"):_.pathname.includes("statistics")?j("statistics"):j("grid")},[_]);const _e=tt=>{const it=`${_.pathname.split("/").slice(0,2).join("/")}${tt}`;o(it)},et=(tt,nt,it)=>{const lt=$===it;return jsxRuntimeExports$1.jsx("button",{onClick:()=>_e(tt),className:`px-4 py-2 text-sm font-medium w-1/3 space-x-2 last:border-r-0 ${lt?"text-white bg-gray-400":"text-gray-700 bg-white"}`,children:nt})};return jsxRuntimeExports$1.jsxs("div",{className:"border-2 text-center w-full border-gray-300 flex justify-between p-1",children:[et("/","Node Grid","grid"),et("/details/","Node Details","details"),et("/statistics","Node Statistics","statistics")]})},ComputersGrid=({apiUrl:o})=>{const[_,$]=reactExports.useState([]),[j,_e]=reactExports.useState(1),[et,tt]=reactExports.useState(null),[nt,it]=reactExports.useState(!0),[lt,dt]=reactExports.useState(null),bt=useNavigate(),Ht=useLocation(),pr=`${o}`,[_n,ft]=reactExports.useState(null),Ct=async Io=>{it(!0),dt(null);try{const Lo=await axios.get(`${pr}/computers/page/${Io}?perpage=10`);$(Lo.data.data.computers),console.log("Fetched computers:",Lo.data.data.computers)}catch(Lo){console.error("Error fetching computers:",Lo),dt("Failed to fetch computers data")}finally{it(!1)}},mr=async Io=>{try{const Lo=await axios.get(`${Io}/nodes/full_types_count/`);return console.log("Full type counts fetched:",Lo.data.data),tt(Lo.data.data),Lo.data.data}catch(Lo){return console.error("Error fetching full type counts:",Lo),dt("Failed to fetch full type counts"),null}};reactExports.useEffect(()=>{(async()=>{await Ct(j);const Lo=await mr(pr);Lo&&tt(Lo)})()},[j,pr]);const _r=Io=>{console.log("Computers data received in parent:",Io),Io&&Io.computers&&$(Io.computers)};reactExports.useEffect(()=>{console.log("fullTypeCounts updated:",et)},[et]);const mn=Io=>{const ms=Ht.pathname.replace(/computers$/,`details/${Io}`);bt(`${ms}?source=computersGrid`)},dr=createColumnHelper(),pn=[dr.accessor("uuid",{header:"UUID",cell:Io=>Io.getValue()}),dr.accessor("label",{header:"Label",cell:Io=>Io.getValue()}),dr.accessor("hostname",{header:"Host",cell:Io=>Io.getValue()}),dr.accessor("scheduler_type",{header:"Scheduler",cell:Io=>Io.getValue()}),dr.accessor("uuid",{header:"Details",cell:Io=>jsxRuntimeExports$1.jsx("button",{onClick:()=>mn(Io.getValue()),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Details"})})],Do=useReactTable({data:_,columns:pn,getCoreRowModel:getCoreRowModel(),getPaginationRowModel:getPaginationRowModel(),getSortedRowModel:getSortedRowModel(),getFilteredRowModel:getFilteredRowModel(),state:{pagination:{pageIndex:j-1,pageSize:10}},onPaginationChange:Io=>{if(typeof Io=="function"){const Lo=Io({pageIndex:j-1}).pageIndex;_e(Lo+1)}else _e(Io.pageIndex+1)}});return console.log(et),jsxRuntimeExports$1.jsxs("div",{className:"flex w-full mx-auto py-2 px-0 text-sm",children:[jsxRuntimeExports$1.jsx("div",{className:"w-1/5",children:jsxRuntimeExports$1.jsx(FilterSidebar,{fullTypeCounts:et,onSelectNode:_r,currentPage:j,setCurrentPage:_e,setSelectedNode:ft,onDataFetched:_r,selectedNode:_n})}),jsxRuntimeExports$1.jsxs("div",{className:"w-4/5 ml-2",children:[nt?jsxRuntimeExports$1.jsx("p",{children:jsxRuntimeExports$1.jsx("div",{className:"loading-animation m-auto flex justify-center text-center",children:jsxRuntimeExports$1.jsx(ClipLoader,{size:30,color:"#007bff"})})}):lt?jsxRuntimeExports$1.jsxs("p",{children:["Error: ",lt]}):jsxRuntimeExports$1.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports$1.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[jsxRuntimeExports$1.jsx("thead",{children:Do.getHeaderGroups().map(Io=>jsxRuntimeExports$1.jsx("tr",{children:Io.headers.map(Lo=>jsxRuntimeExports$1.jsx("th",{className:"p-2 border-b text-left bg-blue-50",children:Lo.isPlaceholder?null:jsxRuntimeExports$1.jsx("div",{children:flexRender(Lo.column.columnDef.header,Lo.getContext())})},Lo.id))},Io.id))}),jsxRuntimeExports$1.jsx("tbody",{children:Do.getRowModel().rows.map(Io=>jsxRuntimeExports$1.jsx("tr",{className:"hover:bg-gray-50",children:Io.getVisibleCells().map(Lo=>jsxRuntimeExports$1.jsx("td",{className:"p-2 border-b",children:flexRender(Lo.column.columnDef.cell,Lo.getContext())},Lo.id))},Io.id))})]})}),jsxRuntimeExports$1.jsxs("div",{className:"mt-4 flex justify-between",children:[jsxRuntimeExports$1.jsx("button",{onClick:()=>Do.previousPage(),disabled:!Do.getCanPreviousPage(),className:"px-4 py-2 bg-blue-500 text-white rounded disabled:bg-gray-300",children:"Previous"}),jsxRuntimeExports$1.jsxs("span",{children:["Page ",Do.getState().pagination.pageIndex+1," of"," ",Do.getPageCount()]}),jsxRuntimeExports$1.jsx("button",{onClick:()=>Do.nextPage(),disabled:!Do.getCanNextPage(),className:"px-4 py-2 bg-blue-500 text-white rounded disabled:bg-gray-300",children:"Next"})]})]})]})};class ErrorBoundary extends reactExports.Component{constructor(_){super(_),this.state={hasError:!1}}static getDerivedStateFromError(_){return{hasError:!0}}componentDidCatch(_,$){console.error("ErrorBoundary caught an error",_,$)}render(){return this.state.hasError?jsxRuntimeExports$1.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:jsxRuntimeExports$1.jsx("h1",{className:"text-2xl text-red-500",children:"Something went wrong."})}):this.props.children}}const AiidaExplorer=({apiUrl:o})=>jsxRuntimeExports$1.jsxs("div",{className:"p-1",children:[jsxRuntimeExports$1.jsx(Tabs,{apiUrl:o}),jsxRuntimeExports$1.jsx(ErrorBoundary,{children:jsxRuntimeExports$1.jsxs(Routes,{children:[jsxRuntimeExports$1.jsx(Route,{path:"/",element:jsxRuntimeExports$1.jsx(NodeGrid,{apiUrl:o})}),jsxRuntimeExports$1.jsx(Route,{path:"/details/:uuid",element:jsxRuntimeExports$1.jsx(DetailsPage,{apiUrl:o})}),jsxRuntimeExports$1.jsx(Route,{path:"/details/",element:jsxRuntimeExports$1.jsx(Search,{apiUrl:o})}),jsxRuntimeExports$1.jsx(Route,{path:"/statistics/",element:jsxRuntimeExports$1.jsx(Statistics,{apiUrl:o})}),jsxRuntimeExports$1.jsx(Route,{path:"/computers/",element:jsxRuntimeExports$1.jsx(ComputersGrid,{apiUrl:o})})]})})]}),Home=({setCustomApiUrl:o})=>{const[_,$]=reactExports.useState(""),j=useNavigate(),_e=et=>{et.preventDefault(),_&&(o(_),j("custom"))};return jsxRuntimeExports$1.jsx("div",{className:"flex justify-center items-center h-[90vh]",children:jsxRuntimeExports$1.jsxs("div",{className:"flex-col m-auto justify-center items-center",children:[jsxRuntimeExports$1.jsxs("ul",{className:"m-auto flex justify-center",children:[jsxRuntimeExports$1.jsx("li",{className:"bg-transparent text-blue-500 hover:text-blue-700 font-semibold py-2 px-4 rounded",children:jsxRuntimeExports$1.jsx(Link,{to:"/mc3d",children:"Explore MC3D"})}),jsxRuntimeExports$1.jsx("li",{className:"bg-transparent text-blue-500 hover:text-blue-700 font-semibold py-2 px-4 rounded",children:jsxRuntimeExports$1.jsx(Link,{to:"/mc2d",children:"Explore MC2D"})})]}),jsxRuntimeExports$1.jsx("br",{}),jsxRuntimeExports$1.jsxs("form",{onSubmit:_e,className:"flex",children:[jsxRuntimeExports$1.jsx("input",{type:"text",value:_,onChange:et=>$(et.target.value),placeholder:"Enter custom API URL",className:"px-6 py-2 border border-gray-300"}),jsxRuntimeExports$1.jsx("button",{type:"submit",className:"flex items-center justify-center border border-blue-400 py-3 px-4 bg-blue-400 text-white",children:jsxRuntimeExports$1.jsx(IconContext.Provider,{value:{className:"text-white"},children:jsxRuntimeExports$1.jsx(FaArrowRight,{})})})]})]})})},App=()=>{const[o,_]=reactExports.useState("");return jsxRuntimeExports$1.jsx("div",{className:"p-1",children:jsxRuntimeExports$1.jsx(BrowserRouter,{children:jsxRuntimeExports$1.jsxs(Routes,{children:[jsxRuntimeExports$1.jsx(Route,{path:"/*",element:jsxRuntimeExports$1.jsx(Home,{setCustomApiUrl:_})}),jsxRuntimeExports$1.jsx(Route,{path:"/custom/*",element:jsxRuntimeExports$1.jsx(AiidaExplorer,{apiUrl:o})}),jsxRuntimeExports$1.jsx(Route,{path:"/mc3d/*",element:jsxRuntimeExports$1.jsx(AiidaExplorer,{apiUrl:"https://aiida.materialscloud.org/mc3d/api/v4"})}),jsxRuntimeExports$1.jsx(Route,{path:"/mc2d/*",element:jsxRuntimeExports$1.jsx(AiidaExplorer,{apiUrl:"https://aiida.materialscloud.org/mc2d/api/v4"})})]})})})};client.createRoot(document.getElementById("root")).render(jsxRuntimeExports$1.jsx(React.StrictMode,{children:jsxRuntimeExports$1.jsx(App,{})}));
